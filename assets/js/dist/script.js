(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

require('./src/resize');

require('./components/nav');

require('./components/editor');

require('./components/tabs');

require('./components/contextMenu');

require('./components/search');

// CodeMirror dependencies
require('codemirror/addon/comment/comment');
require('codemirror/addon/search/search');
require('codemirror/addon/search/searchcursor');
require('codemirror/addon/dialog/dialog');
require('codemirror/addon/edit/matchbrackets');
require('codemirror/addon/edit/closebrackets');
require('codemirror/addon/edit/matchtags');
require('codemirror/keymap/sublime');
require('codemirror/mode/css/css');
require('codemirror/mode/htmlmixed/htmlmixed');
require('codemirror/mode/javascript/javascript');
require('codemirror/mode/xml/xml');
window.CodeMirror = require('codemirror');

// First-party modules

},{"./components/contextMenu":2,"./components/editor":3,"./components/nav":4,"./components/search":5,"./components/tabs":6,"./src/resize":11,"codemirror":22,"codemirror/addon/comment/comment":13,"codemirror/addon/dialog/dialog":14,"codemirror/addon/edit/closebrackets":15,"codemirror/addon/edit/matchbrackets":16,"codemirror/addon/edit/matchtags":17,"codemirror/addon/search/search":19,"codemirror/addon/search/searchcursor":20,"codemirror/keymap/sublime":21,"codemirror/mode/css/css":23,"codemirror/mode/htmlmixed/htmlmixed":24,"codemirror/mode/javascript/javascript":25,"codemirror/mode/xml/xml":26}],2:[function(require,module,exports){
'use strict';

var _client = require('mnla/client');

var _client2 = _interopRequireDefault(_client);

var _ajax = require('../src/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _fileManager = require('../src/fileManager');

var _fileManager2 = _interopRequireDefault(_fileManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var current = void 0;

_client2.default.component('contextMenu', function (vm) {

	vm.file = true;

	function open(item, e) {

		e.preventDefault();

		current = item;

		vm.left = e.clientX;

		vm.top = e.clientY;

		vm.visible = true;
	}

	document.addEventListener('click', function () {

		if (vm.visible) {

			vm.visible = false;

			vm.render();
		}
	});

	vm.rename = function () {

		vm.visible = false;

		vm.render();

		var name = prompt('New name:');

		if (name) {

			_ajax2.default.post('/rename?path=' + current.path, {
				name: name
			}, function (result) {

				if (result.error) {

					alert(result.error);

					console.error(result.error);
				} else {

					vm.render();

					_fileManager2.default.close(current);

					current.name = name;

					current.path = result.data;

					_fileManager2.default.open(current);
				}
			});
		}
	};

	vm.deletePath = function () {

		vm.visible = false;

		vm.render();

		if (confirm('Permanently delete ' + current.path + '?')) {

			_ajax2.default.post('/delete?path=' + current.path, function (result) {

				if (result.error) {

					alert(result.error);

					console.error(result.error);
				} else {

					current.deleted = true;

					_client2.default.components.nav.render();

					if (vm.file) {

						_fileManager2.default.close(current);
					}
				}
			});
		}
	};

	vm.newFile = function () {

		vm.visible = false;

		vm.render();

		var name = prompt('File name:');

		_ajax2.default.post('/new-file?path=' + current.path, {
			name: name
		}, function (result) {

			if (result.error) {

				alert(result.error);

				console.error(result.error);
			} else {

				var newFile = {
					name: name,
					path: result.data
				};

				current.children = current.children || { files: [] };

				current.children.files.push(newFile);

				_fileManager2.default.open(newFile);
			}
		});
	};

	vm.newDir = function () {

		vm.visible = false;

		vm.render();

		var name = prompt('Folder name:');

		_ajax2.default.post('/new-dir?path=' + current.path, {
			name: name
		}, function (result) {

			if (result.error) {

				alert(result.error);

				console.error(result.error);
			} else {

				current.children = current.children || { dirs: [] };

				current.children.dirs.push({
					name: name,
					path: result.data
				});

				_client2.default.components.nav.render();
			}
		});
	};

	vm.refresh = function () {

		vm.visible = false;

		vm.render();

		_ajax2.default.get('/nav?path=' + current.path, function (result) {

			if (result.error) {

				alert(result.error);

				console.error(result.error);
			} else {

				current.children = result.dir;

				_client2.default.components.nav.render();
			}
		});
	};

	return {

		rightClickDir: function rightClickDir(dir, e) {

			vm.file = false;

			vm.parent = dir.parent;

			open(dir, e);
		},

		rightClickFile: function rightClickFile(file, e) {

			vm.file = true;

			vm.parent = false;

			open(file, e);
		}

	};
});

},{"../src/ajax":7,"../src/fileManager":9,"mnla/client":27}],3:[function(require,module,exports){
'use strict';

var _ajax = require('../src/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _client = require('mnla/client');

var _client2 = _interopRequireDefault(_client);

var _loadMode = require('../src/loadMode');

var _save = require('../src/save');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_client2.default.component('editor', function (vm) {

	var openFiles = {},
	    editor = void 0,
	    currentPath = void 0;

	vm.loading = false;

	function showText(text, extension) {

		vm.loading = false;

		vm.render();

		(0, _loadMode.loadMode)(extension).then(function (mode) {

			if (editor) {

				editor.setOption('mode', mode);

				editor.setValue(text);
			} else {

				editor = CodeMirror.fromTextArea(document.querySelector('.text'), {
					theme: 'monokai',
					lineNumbers: true,
					mode: mode,
					keyMap: 'sublime',
					matchBrackets: true,
					autoCloseBrackets: true,
					matchTags: true,
					extraKeys: {
						'Cmd-S': _save.save,
						'Ctrl-S': _save.save
					}
				});

				editor.setValue(text);
			}
		});
	}

	return {

		update: function update(path, opening) {

			if (!opening) {

				if (openFiles[path].clean || confirm('Discard usaved changes to ' + path + '?')) {

					showText('');

					delete openFiles[path];

					// return true to pass confirmation to other components via fileManager
					return true;
				}
			} else {
				(function () {

					var extension = path.split('.');

					extension = extension[extension.length - 1];

					if (currentPath) {

						openFiles[currentPath] = {
							value: editor.getValue(),
							clean: editor.isClean()
						};
					}

					currentPath = path;

					if (openFiles[path]) {

						showText(openFiles[path].value, extension);
					} else {

						showText('');

						vm.loading = true;

						_ajax2.default.get('/open?file=' + path, function (data) {

							showText(data.data, extension);

							openFiles[currentPath] = {
								value: data.data,
								clean: true
							};
						});
					}
				})();
			}
		}

	};
});

},{"../src/ajax":7,"../src/loadMode":10,"../src/save":12,"mnla/client":27}],4:[function(require,module,exports){
'use strict';

var _fileManager = require('../src/fileManager');

var _fileManager2 = _interopRequireDefault(_fileManager);

var _ajax = require('../src/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _client = require('mnla/client');

var _client2 = _interopRequireDefault(_client);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_client2.default.component('nav', function (vm) {

	var cache = vm.dir;

	vm.open = {};

	vm.clickDir = function (dir, e) {

		dir.open = !dir.open;

		if (!dir.children) {

			vm.loading = true;

			_ajax2.default.get('/nav?path=' + dir.path, function (data) {

				dir.children = data.dir;

				delete vm.loading;

				vm.render();
			});
		}
	};

	vm.clickFile = function (file) {

		_fileManager2.default.open(file);
	};

	vm.rightClickDir = function (dir, e) {

		_client2.default.components.contextMenu.rightClickDir(dir, e);
	};

	vm.rightClickFile = function (file, e) {

		_client2.default.components.contextMenu.rightClickFile(file, e);
	};

	return {

		update: function update(path, open) {

			if (open) {

				vm.open[path] = path;

				vm.active = path;
			} else {

				delete vm.open[path];

				delete vm.active;
			}
		},

		getActiveFile: function getActiveFile() {

			return vm.active;
		},

		render: function render() {

			vm.render();
		},

		showSearchResults: function showSearchResults(results) {

			vm.dir = results;
		},

		hideSearchResults: function hideSearchResults() {

			vm.dir = cache;
		}

	};
});

},{"../src/ajax":7,"../src/fileManager":9,"mnla/client":27}],5:[function(require,module,exports){
'use strict';

var _ajax = require('../src/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _client = require('mnla/client');

var _client2 = _interopRequireDefault(_client);

var _debounce = require('../src/debounce');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_client2.default.component('search', function (vm) {

	var req = void 0;

	function search(e) {

		document.querySelector('.search-loader').classList.add('visible');

		if (req) {

			req.abort();
		}

		if (e.target.value !== '') {

			req = _ajax2.default.get('/search?term=' + e.target.value, function (results) {

				_client2.default.components.nav.showSearchResults(results);

				document.querySelector('.search-loader').classList.remove('visible');
			});
		} else {

			vm.close(e);

			document.querySelector('.search-loader').classList.remove('visible');
		}
	}

	vm.search = (0, _debounce.debounce)(search, 250);

	vm.close = function (e) {

		e.target.value = '';

		_client2.default.components.nav.hideSearchResults();
	};
});

},{"../src/ajax":7,"../src/debounce":8,"mnla/client":27}],6:[function(require,module,exports){
'use strict';

var _fileManager = require('../src/fileManager');

var _fileManager2 = _interopRequireDefault(_fileManager);

var _client = require('mnla/client');

var _client2 = _interopRequireDefault(_client);

var _save = require('../src/save');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_client2.default.component('tabs', function (vm) {

	vm.tabs = {};

	vm.close = function (path) {

		_fileManager2.default.close({
			path: path,
			name: vm.tabs[path]
		});
	};

	vm.open = function (path) {

		_fileManager2.default.open({
			path: path,
			name: vm.tabs[path]
		});
	};

	vm.save = _save.save;

	return {

		update: function update(file, open) {

			if (open) {

				vm.active = file.path;

				vm.tabs[file.path] = file.name;
			} else {

				delete vm.tabs[file.path];
			}
		}

	};
});

},{"../src/fileManager":9,"../src/save":12,"mnla/client":27}],7:[function(require,module,exports){
'use strict';

function serialize(data) {

  var parts = [];

  for (var key in data) {

    parts.push(encodeURIComponent(key) + "=" + encodeURIComponent(data[key]));
  }

  return parts.join('&');
}

function error(text) {

  alert('An error occurred. ' + text);
}

function get(path, data, callback) {

  if (typeof data === 'function') {

    callback = data;
  }

  var req = new XMLHttpRequest();

  if (typeof data === 'function') {

    callback = data;

    data = {};
  }

  req.onreadystatechange = function () {

    if (req.readyState === 4) {

      if (req.status === 200) {

        var result = void 0;

        try {

          result = JSON.parse(req.responseText);
        } catch (err) {

          result = req.responseText;
        }

        callback(result);
      } else if (req.status >= 400) {

        error(req.statusText);
      }
    }
  };

  req.onerror = function () {

    error(path);
  };

  req.open('GET', path);

  req.send(serialize(data));

  return req;
}

function post(path, data, callback) {

  if (typeof data === 'function') {

    callback = data;
  }

  var req = new XMLHttpRequest();

  req.onreadystatechange = function () {

    if (req.readyState === 4) {

      if (req.status === 200) {

        var json = JSON.parse(req.responseText);

        if (json) {

          callback(json);
        } else {

          callback(req.responseText);
        }
      } else if (req.status >= 400) {

        alert(req.statusText);
      }
    }
  };

  req.onerror = function () {

    error(path);
  };

  req.open('POST', path);

  req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

  req.send(serialize(data));

  return req;
}

module.exports = {

  get: get,
  post: post

};

},{}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.debounce = debounce;
function debounce(func, wait) {

    var timeout = void 0,
        args = void 0,
        timestamp = void 0;

    return function () {

        args = [].slice.call(arguments, 0);

        timestamp = new Date();

        var later = function later() {

            var last = new Date() - timestamp;

            if (last < wait) {
                timeout = setTimeout(later, wait - last);
            } else {

                timeout = null;

                func.apply(undefined, args);
            }
        };

        if (!timeout) {
            timeout = setTimeout(later, wait);
        }
    };
};

},{}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _client = require('mnla/client');

var _client2 = _interopRequireDefault(_client);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var openFiles = {};

function open(file) {

	_client2.default.components.editor.update(file.path, true);

	_client2.default.components.nav.update(file.path, true);

	_client2.default.components.tabs.update(file, true);

	openFiles[file.path] = file;
}

function close(file) {

	var openList = void 0;

	if (_client2.default.components.editor.update(file.path, false)) {

		_client2.default.components.nav.update(file.path, false);

		_client2.default.components.tabs.update(file, false);

		delete openFiles[file.path];

		openList = Object.keys(openFiles);

		if (openList.length) {

			open(openFiles[openList[openList.length - 1]]);
		}
	}
}

exports.default = {

	open: open,
	close: close

};

},{"mnla/client":27}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.loadMode = loadMode;
var body = document.querySelector('body'),
    loadedModes = {
	xml: true,
	css: true,
	javascript: true,
	htmlmixed: true
};

function loadMode(extension) {

	return new Promise(function (resolve) {

		var mode = modes[extension] ? modes[extension].name || modes[extension] : 'shell';

		if (!loadedModes[mode]) {

			loadedModes[mode] = true;

			var script = document.createElement('script');

			script.type = 'text/javascript';

			script.src = '/assets/js/dist/' + mode + '.js';

			script.onload = function () {

				resolve(mode);
			};

			body.appendChild(script);
		} else {

			resolve(mode);
		}
	});
};

},{}],11:[function(require,module,exports){
'use strict';

var dragging = void 0;

document.querySelector('.resize').addEventListener('mousedown', function (e) {

	dragging = true;

	document.querySelector('body').classList.add('dragging');
});

window.addEventListener('mouseup', function (e) {

	dragging = false;

	document.querySelector('body').classList.remove('dragging');
});

window.addEventListener('mousemove', function (e) {

	if (dragging) {

		var width = 'calc(100% - ' + e.clientX + 'px)';

		document.querySelector('.background').style.left = e.clientX + 'px';
		document.querySelector('.search-component').style.width = e.clientX - 5 + 'px';
		document.querySelector('.background').style.width = width;
		document.querySelector('.tabs-component').style.width = width;
	}
});

},{}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.save = save;

var _client = require('mnla/client');

var _client2 = _interopRequireDefault(_client);

var _ajax = require('../src/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bg = document.querySelector('.background');

function save() {

	var file = _client2.default.components.nav.getActiveFile();

	if (file) {
		(function () {

			var cm = document.querySelector('.CodeMirror').CodeMirror;

			bg.classList.add('blur');

			_ajax2.default.post('/save?file=' + file, {
				data: cm.getValue()
			}, function (result) {

				if (result.error) {

					alert(result.error);

					console.error(result.error);
				} else {

					bg.classList.remove('blur');

					cm.markClean();
				}
			});
		})();
	}
};

},{"../src/ajax":7,"mnla/client":27}],13:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  var noOptions = {};
  var nonWS = /[^\s\u00a0]/;
  var Pos = CodeMirror.Pos;

  function firstNonWS(str) {
    var found = str.search(nonWS);
    return found == -1 ? 0 : found;
  }

  CodeMirror.commands.toggleComment = function (cm) {
    cm.toggleComment();
  };

  CodeMirror.defineExtension("toggleComment", function (options) {
    if (!options) options = noOptions;
    var cm = this;
    var minLine = Infinity,
        ranges = this.listSelections(),
        mode = null;
    for (var i = ranges.length - 1; i >= 0; i--) {
      var from = ranges[i].from(),
          to = ranges[i].to();
      if (from.line >= minLine) continue;
      if (to.line >= minLine) to = Pos(minLine, 0);
      minLine = from.line;
      if (mode == null) {
        if (cm.uncomment(from, to, options)) mode = "un";else {
          cm.lineComment(from, to, options);mode = "line";
        }
      } else if (mode == "un") {
        cm.uncomment(from, to, options);
      } else {
        cm.lineComment(from, to, options);
      }
    }
  });

  // Rough heuristic to try and detect lines that are part of multi-line string
  function probablyInsideString(cm, pos, line) {
    return (/\bstring\b/.test(cm.getTokenTypeAt(Pos(pos.line, 0))) && !/^[\'\"`]/.test(line)
    );
  }

  CodeMirror.defineExtension("lineComment", function (from, to, options) {
    if (!options) options = noOptions;
    var self = this,
        mode = self.getModeAt(from);
    var firstLine = self.getLine(from.line);
    if (firstLine == null || probablyInsideString(self, from, firstLine)) return;

    var commentString = options.lineComment || mode.lineComment;
    if (!commentString) {
      if (options.blockCommentStart || mode.blockCommentStart) {
        options.fullLines = true;
        self.blockComment(from, to, options);
      }
      return;
    }

    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line + 1 : to.line, self.lastLine() + 1);
    var pad = options.padding == null ? " " : options.padding;
    var blankLines = options.commentBlankLines || from.line == to.line;

    self.operation(function () {
      if (options.indent) {
        var baseString = null;
        for (var i = from.line; i < end; ++i) {
          var line = self.getLine(i);
          var whitespace = line.slice(0, firstNonWS(line));
          if (baseString == null || baseString.length > whitespace.length) {
            baseString = whitespace;
          }
        }
        for (var i = from.line; i < end; ++i) {
          var line = self.getLine(i),
              cut = baseString.length;
          if (!blankLines && !nonWS.test(line)) continue;
          if (line.slice(0, cut) != baseString) cut = firstNonWS(line);
          self.replaceRange(baseString + commentString + pad, Pos(i, 0), Pos(i, cut));
        }
      } else {
        for (var i = from.line; i < end; ++i) {
          if (blankLines || nonWS.test(self.getLine(i))) self.replaceRange(commentString + pad, Pos(i, 0));
        }
      }
    });
  });

  CodeMirror.defineExtension("blockComment", function (from, to, options) {
    if (!options) options = noOptions;
    var self = this,
        mode = self.getModeAt(from);
    var startString = options.blockCommentStart || mode.blockCommentStart;
    var endString = options.blockCommentEnd || mode.blockCommentEnd;
    if (!startString || !endString) {
      if ((options.lineComment || mode.lineComment) && options.fullLines != false) self.lineComment(from, to, options);
      return;
    }

    var end = Math.min(to.line, self.lastLine());
    if (end != from.line && to.ch == 0 && nonWS.test(self.getLine(end))) --end;

    var pad = options.padding == null ? " " : options.padding;
    if (from.line > end) return;

    self.operation(function () {
      if (options.fullLines != false) {
        var lastLineHasText = nonWS.test(self.getLine(end));
        self.replaceRange(pad + endString, Pos(end));
        self.replaceRange(startString + pad, Pos(from.line, 0));
        var lead = options.blockCommentLead || mode.blockCommentLead;
        if (lead != null) for (var i = from.line + 1; i <= end; ++i) {
          if (i != end || lastLineHasText) self.replaceRange(lead + pad, Pos(i, 0));
        }
      } else {
        self.replaceRange(endString, to);
        self.replaceRange(startString, from);
      }
    });
  });

  CodeMirror.defineExtension("uncomment", function (from, to, options) {
    if (!options) options = noOptions;
    var self = this,
        mode = self.getModeAt(from);
    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line : to.line - 1, self.lastLine()),
        start = Math.min(from.line, end);

    // Try finding line comments
    var lineString = options.lineComment || mode.lineComment,
        lines = [];
    var pad = options.padding == null ? " " : options.padding,
        didSomething;
    lineComment: {
      if (!lineString) break lineComment;
      for (var i = start; i <= end; ++i) {
        var line = self.getLine(i);
        var found = line.indexOf(lineString);
        if (found > -1 && !/comment/.test(self.getTokenTypeAt(Pos(i, found + 1)))) found = -1;
        if (found == -1 && (i != end || i == start) && nonWS.test(line)) break lineComment;
        if (found > -1 && nonWS.test(line.slice(0, found))) break lineComment;
        lines.push(line);
      }
      self.operation(function () {
        for (var i = start; i <= end; ++i) {
          var line = lines[i - start];
          var pos = line.indexOf(lineString),
              endPos = pos + lineString.length;
          if (pos < 0) continue;
          if (line.slice(endPos, endPos + pad.length) == pad) endPos += pad.length;
          didSomething = true;
          self.replaceRange("", Pos(i, pos), Pos(i, endPos));
        }
      });
      if (didSomething) return true;
    }

    // Try block comments
    var startString = options.blockCommentStart || mode.blockCommentStart;
    var endString = options.blockCommentEnd || mode.blockCommentEnd;
    if (!startString || !endString) return false;
    var lead = options.blockCommentLead || mode.blockCommentLead;
    var startLine = self.getLine(start),
        endLine = end == start ? startLine : self.getLine(end);
    var open = startLine.indexOf(startString),
        close = endLine.lastIndexOf(endString);
    if (close == -1 && start != end) {
      endLine = self.getLine(--end);
      close = endLine.lastIndexOf(endString);
    }
    if (open == -1 || close == -1 || !/comment/.test(self.getTokenTypeAt(Pos(start, open + 1))) || !/comment/.test(self.getTokenTypeAt(Pos(end, close + 1)))) return false;

    // Avoid killing block comments completely outside the selection.
    // Positions of the last startString before the start of the selection, and the first endString after it.
    var lastStart = startLine.lastIndexOf(startString, from.ch);
    var firstEnd = lastStart == -1 ? -1 : startLine.slice(0, from.ch).indexOf(endString, lastStart + startString.length);
    if (lastStart != -1 && firstEnd != -1 && firstEnd + endString.length != from.ch) return false;
    // Positions of the first endString after the end of the selection, and the last startString before it.
    firstEnd = endLine.indexOf(endString, to.ch);
    var almostLastStart = endLine.slice(to.ch).lastIndexOf(startString, firstEnd - to.ch);
    lastStart = firstEnd == -1 || almostLastStart == -1 ? -1 : to.ch + almostLastStart;
    if (firstEnd != -1 && lastStart != -1 && lastStart != to.ch) return false;

    self.operation(function () {
      self.replaceRange("", Pos(end, close - (pad && endLine.slice(close - pad.length, close) == pad ? pad.length : 0)), Pos(end, close + endString.length));
      var openEnd = open + startString.length;
      if (pad && startLine.slice(openEnd, openEnd + pad.length) == pad) openEnd += pad.length;
      self.replaceRange("", Pos(start, open), Pos(start, openEnd));
      if (lead) for (var i = start + 1; i <= end; ++i) {
        var line = self.getLine(i),
            found = line.indexOf(lead);
        if (found == -1 || nonWS.test(line.slice(0, found))) continue;
        var foundEnd = found + lead.length;
        if (pad && line.slice(foundEnd, foundEnd + pad.length) == pad) foundEnd += pad.length;
        self.replaceRange("", Pos(i, found), Pos(i, foundEnd));
      }
    });
    return true;
  });
});

},{"../../lib/codemirror":22}],14:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// Open simple dialogs on top of an editor. Relies on dialog.css.

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  function dialogDiv(cm, template, bottom) {
    var wrap = cm.getWrapperElement();
    var dialog;
    dialog = wrap.appendChild(document.createElement("div"));
    if (bottom) dialog.className = "CodeMirror-dialog CodeMirror-dialog-bottom";else dialog.className = "CodeMirror-dialog CodeMirror-dialog-top";

    if (typeof template == "string") {
      dialog.innerHTML = template;
    } else {
      // Assuming it's a detached DOM element.
      dialog.appendChild(template);
    }
    return dialog;
  }

  function closeNotification(cm, newVal) {
    if (cm.state.currentNotificationClose) cm.state.currentNotificationClose();
    cm.state.currentNotificationClose = newVal;
  }

  CodeMirror.defineExtension("openDialog", function (template, callback, options) {
    if (!options) options = {};

    closeNotification(this, null);

    var dialog = dialogDiv(this, template, options.bottom);
    var closed = false,
        me = this;
    function close(newVal) {
      if (typeof newVal == 'string') {
        inp.value = newVal;
      } else {
        if (closed) return;
        closed = true;
        dialog.parentNode.removeChild(dialog);
        me.focus();

        if (options.onClose) options.onClose(dialog);
      }
    }

    var inp = dialog.getElementsByTagName("input")[0],
        button;
    if (inp) {
      inp.focus();

      if (options.value) {
        inp.value = options.value;
        if (options.selectValueOnOpen !== false) {
          inp.select();
        }
      }

      if (options.onInput) CodeMirror.on(inp, "input", function (e) {
        options.onInput(e, inp.value, close);
      });
      if (options.onKeyUp) CodeMirror.on(inp, "keyup", function (e) {
        options.onKeyUp(e, inp.value, close);
      });

      CodeMirror.on(inp, "keydown", function (e) {
        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) {
          return;
        }
        if (e.keyCode == 27 || options.closeOnEnter !== false && e.keyCode == 13) {
          inp.blur();
          CodeMirror.e_stop(e);
          close();
        }
        if (e.keyCode == 13) callback(inp.value, e);
      });

      if (options.closeOnBlur !== false) CodeMirror.on(inp, "blur", close);
    } else if (button = dialog.getElementsByTagName("button")[0]) {
      CodeMirror.on(button, "click", function () {
        close();
        me.focus();
      });

      if (options.closeOnBlur !== false) CodeMirror.on(button, "blur", close);

      button.focus();
    }
    return close;
  });

  CodeMirror.defineExtension("openConfirm", function (template, callbacks, options) {
    closeNotification(this, null);
    var dialog = dialogDiv(this, template, options && options.bottom);
    var buttons = dialog.getElementsByTagName("button");
    var closed = false,
        me = this,
        blurring = 1;
    function close() {
      if (closed) return;
      closed = true;
      dialog.parentNode.removeChild(dialog);
      me.focus();
    }
    buttons[0].focus();
    for (var i = 0; i < buttons.length; ++i) {
      var b = buttons[i];
      (function (callback) {
        CodeMirror.on(b, "click", function (e) {
          CodeMirror.e_preventDefault(e);
          close();
          if (callback) callback(me);
        });
      })(callbacks[i]);
      CodeMirror.on(b, "blur", function () {
        --blurring;
        setTimeout(function () {
          if (blurring <= 0) close();
        }, 200);
      });
      CodeMirror.on(b, "focus", function () {
        ++blurring;
      });
    }
  });

  /*
   * openNotification
   * Opens a notification, that can be closed with an optional timer
   * (default 5000ms timer) and always closes on click.
   *
   * If a notification is opened while another is opened, it will close the
   * currently opened one and open the new one immediately.
   */
  CodeMirror.defineExtension("openNotification", function (template, options) {
    closeNotification(this, close);
    var dialog = dialogDiv(this, template, options && options.bottom);
    var closed = false,
        doneTimer;
    var duration = options && typeof options.duration !== "undefined" ? options.duration : 5000;

    function close() {
      if (closed) return;
      closed = true;
      clearTimeout(doneTimer);
      dialog.parentNode.removeChild(dialog);
    }

    CodeMirror.on(dialog, 'click', function (e) {
      CodeMirror.e_preventDefault(e);
      close();
    });

    if (duration) doneTimer = setTimeout(close, duration);

    return close;
  });
});

},{"../../lib/codemirror":22}],15:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  var defaults = {
    pairs: "()[]{}''\"\"",
    triples: "",
    explode: "[]{}"
  };

  var Pos = CodeMirror.Pos;

  CodeMirror.defineOption("autoCloseBrackets", false, function (cm, val, old) {
    if (old && old != CodeMirror.Init) {
      cm.removeKeyMap(keyMap);
      cm.state.closeBrackets = null;
    }
    if (val) {
      cm.state.closeBrackets = val;
      cm.addKeyMap(keyMap);
    }
  });

  function getOption(conf, name) {
    if (name == "pairs" && typeof conf == "string") return conf;
    if ((typeof conf === "undefined" ? "undefined" : _typeof(conf)) == "object" && conf[name] != null) return conf[name];
    return defaults[name];
  }

  var bind = defaults.pairs + "`";
  var keyMap = { Backspace: handleBackspace, Enter: handleEnter };
  for (var i = 0; i < bind.length; i++) {
    keyMap["'" + bind.charAt(i) + "'"] = handler(bind.charAt(i));
  }function handler(ch) {
    return function (cm) {
      return handleChar(cm, ch);
    };
  }

  function getConfig(cm) {
    var deflt = cm.state.closeBrackets;
    if (!deflt) return null;
    var mode = cm.getModeAt(cm.getCursor());
    return mode.closeBrackets || deflt;
  }

  function handleBackspace(cm) {
    var conf = getConfig(cm);
    if (!conf || cm.getOption("disableInput")) return CodeMirror.Pass;

    var pairs = getOption(conf, "pairs");
    var ranges = cm.listSelections();
    for (var i = 0; i < ranges.length; i++) {
      if (!ranges[i].empty()) return CodeMirror.Pass;
      var around = charsAround(cm, ranges[i].head);
      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;
    }
    for (var i = ranges.length - 1; i >= 0; i--) {
      var cur = ranges[i].head;
      cm.replaceRange("", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), "+delete");
    }
  }

  function handleEnter(cm) {
    var conf = getConfig(cm);
    var explode = conf && getOption(conf, "explode");
    if (!explode || cm.getOption("disableInput")) return CodeMirror.Pass;

    var ranges = cm.listSelections();
    for (var i = 0; i < ranges.length; i++) {
      if (!ranges[i].empty()) return CodeMirror.Pass;
      var around = charsAround(cm, ranges[i].head);
      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;
    }
    cm.operation(function () {
      cm.replaceSelection("\n\n", null);
      cm.execCommand("goCharLeft");
      ranges = cm.listSelections();
      for (var i = 0; i < ranges.length; i++) {
        var line = ranges[i].head.line;
        cm.indentLine(line, null, true);
        cm.indentLine(line + 1, null, true);
      }
    });
  }

  function contractSelection(sel) {
    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;
    return { anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),
      head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1)) };
  }

  function handleChar(cm, ch) {
    var conf = getConfig(cm);
    if (!conf || cm.getOption("disableInput")) return CodeMirror.Pass;

    var pairs = getOption(conf, "pairs");
    var pos = pairs.indexOf(ch);
    if (pos == -1) return CodeMirror.Pass;
    var triples = getOption(conf, "triples");

    var identical = pairs.charAt(pos + 1) == ch;
    var ranges = cm.listSelections();
    var opening = pos % 2 == 0;

    var type;
    for (var i = 0; i < ranges.length; i++) {
      var range = ranges[i],
          cur = range.head,
          curType;
      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));
      if (opening && !range.empty()) {
        curType = "surround";
      } else if ((identical || !opening) && next == ch) {
        if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch) curType = "skipThree";else curType = "skip";
      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 && cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch && (cur.ch <= 2 || cm.getRange(Pos(cur.line, cur.ch - 3), Pos(cur.line, cur.ch - 2)) != ch)) {
        curType = "addFour";
      } else if (identical) {
        if (!CodeMirror.isWordChar(next) && enteringString(cm, cur, ch)) curType = "both";else return CodeMirror.Pass;
      } else if (opening && (cm.getLine(cur.line).length == cur.ch || isClosingBracket(next, pairs) || /\s/.test(next))) {
        curType = "both";
      } else {
        return CodeMirror.Pass;
      }
      if (!type) type = curType;else if (type != curType) return CodeMirror.Pass;
    }

    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;
    var right = pos % 2 ? ch : pairs.charAt(pos + 1);
    cm.operation(function () {
      if (type == "skip") {
        cm.execCommand("goCharRight");
      } else if (type == "skipThree") {
        for (var i = 0; i < 3; i++) {
          cm.execCommand("goCharRight");
        }
      } else if (type == "surround") {
        var sels = cm.getSelections();
        for (var i = 0; i < sels.length; i++) {
          sels[i] = left + sels[i] + right;
        }cm.replaceSelections(sels, "around");
        sels = cm.listSelections().slice();
        for (var i = 0; i < sels.length; i++) {
          sels[i] = contractSelection(sels[i]);
        }cm.setSelections(sels);
      } else if (type == "both") {
        cm.replaceSelection(left + right, null);
        cm.triggerElectric(left + right);
        cm.execCommand("goCharLeft");
      } else if (type == "addFour") {
        cm.replaceSelection(left + left + left + left, "before");
        cm.execCommand("goCharRight");
      }
    });
  }

  function isClosingBracket(ch, pairs) {
    var pos = pairs.lastIndexOf(ch);
    return pos > -1 && pos % 2 == 1;
  }

  function charsAround(cm, pos) {
    var str = cm.getRange(Pos(pos.line, pos.ch - 1), Pos(pos.line, pos.ch + 1));
    return str.length == 2 ? str : null;
  }

  // Project the token type that will exists after the given char is
  // typed, and use it to determine whether it would cause the start
  // of a string token.
  function enteringString(cm, pos, ch) {
    var line = cm.getLine(pos.line);
    var token = cm.getTokenAt(pos);
    if (/\bstring2?\b/.test(token.type)) return false;
    var stream = new CodeMirror.StringStream(line.slice(0, pos.ch) + ch + line.slice(pos.ch), 4);
    stream.pos = stream.start = token.start;
    for (;;) {
      var type1 = cm.getMode().token(stream, token.state);
      if (stream.pos >= pos.ch + 1) return (/\bstring2?\b/.test(type1)
      );
      stream.start = stream.pos;
    }
  }
});

},{"../../lib/codemirror":22}],16:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  var ie_lt8 = /MSIE \d/.test(navigator.userAgent) && (document.documentMode == null || document.documentMode < 8);

  var Pos = CodeMirror.Pos;

  var matching = { "(": ")>", ")": "(<", "[": "]>", "]": "[<", "{": "}>", "}": "{<" };

  function findMatchingBracket(cm, where, strict, config) {
    var line = cm.getLineHandle(where.line),
        pos = where.ch - 1;
    var match = pos >= 0 && matching[line.text.charAt(pos)] || matching[line.text.charAt(++pos)];
    if (!match) return null;
    var dir = match.charAt(1) == ">" ? 1 : -1;
    if (strict && dir > 0 != (pos == where.ch)) return null;
    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));

    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);
    if (found == null) return null;
    return { from: Pos(where.line, pos), to: found && found.pos,
      match: found && found.ch == match.charAt(0), forward: dir > 0 };
  }

  // bracketRegex is used to specify which type of bracket to scan
  // should be a regexp, e.g. /[[\]]/
  //
  // Note: If "where" is on an open bracket, then this bracket is ignored.
  //
  // Returns false when no bracket was found, null when it reached
  // maxScanLines and gave up
  function scanForBracket(cm, where, dir, style, config) {
    var maxScanLen = config && config.maxScanLineLength || 10000;
    var maxScanLines = config && config.maxScanLines || 1000;

    var stack = [];
    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\]]/;
    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1) : Math.max(cm.firstLine() - 1, where.line - maxScanLines);
    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {
      var line = cm.getLine(lineNo);
      if (!line) continue;
      var pos = dir > 0 ? 0 : line.length - 1,
          end = dir > 0 ? line.length : -1;
      if (line.length > maxScanLen) continue;
      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);
      for (; pos != end; pos += dir) {
        var ch = line.charAt(pos);
        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {
          var match = matching[ch];
          if (match.charAt(1) == ">" == dir > 0) stack.push(ch);else if (!stack.length) return { pos: Pos(lineNo, pos), ch: ch };else stack.pop();
        }
      }
    }
    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;
  }

  function matchBrackets(cm, autoclear, config) {
    // Disable brace matching in long lines, since it'll cause hugely slow updates
    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;
    var marks = [],
        ranges = cm.listSelections();
    for (var i = 0; i < ranges.length; i++) {
      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);
      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {
        var style = match.match ? "CodeMirror-matchingbracket" : "CodeMirror-nonmatchingbracket";
        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), { className: style }));
        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen) marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), { className: style }));
      }
    }

    if (marks.length) {
      // Kludge to work around the IE bug from issue #1193, where text
      // input stops going to the textare whever this fires.
      if (ie_lt8 && cm.state.focused) cm.focus();

      var clear = function clear() {
        cm.operation(function () {
          for (var i = 0; i < marks.length; i++) {
            marks[i].clear();
          }
        });
      };
      if (autoclear) setTimeout(clear, 800);else return clear;
    }
  }

  var currentlyHighlighted = null;
  function doMatchBrackets(cm) {
    cm.operation(function () {
      if (currentlyHighlighted) {
        currentlyHighlighted();currentlyHighlighted = null;
      }
      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);
    });
  }

  CodeMirror.defineOption("matchBrackets", false, function (cm, val, old) {
    if (old && old != CodeMirror.Init) cm.off("cursorActivity", doMatchBrackets);
    if (val) {
      cm.state.matchBrackets = (typeof val === "undefined" ? "undefined" : _typeof(val)) == "object" ? val : {};
      cm.on("cursorActivity", doMatchBrackets);
    }
  });

  CodeMirror.defineExtension("matchBrackets", function () {
    matchBrackets(this, true);
  });
  CodeMirror.defineExtension("findMatchingBracket", function (pos, strict, config) {
    return findMatchingBracket(this, pos, strict, config);
  });
  CodeMirror.defineExtension("scanForBracket", function (pos, dir, style, config) {
    return scanForBracket(this, pos, dir, style, config);
  });
});

},{"../../lib/codemirror":22}],17:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"), require("../fold/xml-fold"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror", "../fold/xml-fold"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  CodeMirror.defineOption("matchTags", false, function (cm, val, old) {
    if (old && old != CodeMirror.Init) {
      cm.off("cursorActivity", doMatchTags);
      cm.off("viewportChange", maybeUpdateMatch);
      clear(cm);
    }
    if (val) {
      cm.state.matchBothTags = (typeof val === "undefined" ? "undefined" : _typeof(val)) == "object" && val.bothTags;
      cm.on("cursorActivity", doMatchTags);
      cm.on("viewportChange", maybeUpdateMatch);
      doMatchTags(cm);
    }
  });

  function clear(cm) {
    if (cm.state.tagHit) cm.state.tagHit.clear();
    if (cm.state.tagOther) cm.state.tagOther.clear();
    cm.state.tagHit = cm.state.tagOther = null;
  }

  function doMatchTags(cm) {
    cm.state.failedTagMatch = false;
    cm.operation(function () {
      clear(cm);
      if (cm.somethingSelected()) return;
      var cur = cm.getCursor(),
          range = cm.getViewport();
      range.from = Math.min(range.from, cur.line);range.to = Math.max(cur.line + 1, range.to);
      var match = CodeMirror.findMatchingTag(cm, cur, range);
      if (!match) return;
      if (cm.state.matchBothTags) {
        var hit = match.at == "open" ? match.open : match.close;
        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, { className: "CodeMirror-matchingtag" });
      }
      var other = match.at == "close" ? match.open : match.close;
      if (other) cm.state.tagOther = cm.markText(other.from, other.to, { className: "CodeMirror-matchingtag" });else cm.state.failedTagMatch = true;
    });
  }

  function maybeUpdateMatch(cm) {
    if (cm.state.failedTagMatch) doMatchTags(cm);
  }

  CodeMirror.commands.toMatchingTag = function (cm) {
    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());
    if (found) {
      var other = found.at == "close" ? found.open : found.close;
      if (other) cm.extendSelection(other.to, other.from);
    }
  };
});

},{"../../lib/codemirror":22,"../fold/xml-fold":18}],18:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  var Pos = CodeMirror.Pos;
  function cmp(a, b) {
    return a.line - b.line || a.ch - b.ch;
  }

  var nameStartChar = "A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";
  var nameChar = nameStartChar + "-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";
  var xmlTagStart = new RegExp("<(/?)([" + nameStartChar + "][" + nameChar + "]*)", "g");

  function Iter(cm, line, ch, range) {
    this.line = line;this.ch = ch;
    this.cm = cm;this.text = cm.getLine(line);
    this.min = range ? range.from : cm.firstLine();
    this.max = range ? range.to - 1 : cm.lastLine();
  }

  function tagAt(iter, ch) {
    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));
    return type && /\btag\b/.test(type);
  }

  function nextLine(iter) {
    if (iter.line >= iter.max) return;
    iter.ch = 0;
    iter.text = iter.cm.getLine(++iter.line);
    return true;
  }
  function prevLine(iter) {
    if (iter.line <= iter.min) return;
    iter.text = iter.cm.getLine(--iter.line);
    iter.ch = iter.text.length;
    return true;
  }

  function toTagEnd(iter) {
    for (;;) {
      var gt = iter.text.indexOf(">", iter.ch);
      if (gt == -1) {
        if (nextLine(iter)) continue;else return;
      }
      if (!tagAt(iter, gt + 1)) {
        iter.ch = gt + 1;continue;
      }
      var lastSlash = iter.text.lastIndexOf("/", gt);
      var selfClose = lastSlash > -1 && !/\S/.test(iter.text.slice(lastSlash + 1, gt));
      iter.ch = gt + 1;
      return selfClose ? "selfClose" : "regular";
    }
  }
  function toTagStart(iter) {
    for (;;) {
      var lt = iter.ch ? iter.text.lastIndexOf("<", iter.ch - 1) : -1;
      if (lt == -1) {
        if (prevLine(iter)) continue;else return;
      }
      if (!tagAt(iter, lt + 1)) {
        iter.ch = lt;continue;
      }
      xmlTagStart.lastIndex = lt;
      iter.ch = lt;
      var match = xmlTagStart.exec(iter.text);
      if (match && match.index == lt) return match;
    }
  }

  function toNextTag(iter) {
    for (;;) {
      xmlTagStart.lastIndex = iter.ch;
      var found = xmlTagStart.exec(iter.text);
      if (!found) {
        if (nextLine(iter)) continue;else return;
      }
      if (!tagAt(iter, found.index + 1)) {
        iter.ch = found.index + 1;continue;
      }
      iter.ch = found.index + found[0].length;
      return found;
    }
  }
  function toPrevTag(iter) {
    for (;;) {
      var gt = iter.ch ? iter.text.lastIndexOf(">", iter.ch - 1) : -1;
      if (gt == -1) {
        if (prevLine(iter)) continue;else return;
      }
      if (!tagAt(iter, gt + 1)) {
        iter.ch = gt;continue;
      }
      var lastSlash = iter.text.lastIndexOf("/", gt);
      var selfClose = lastSlash > -1 && !/\S/.test(iter.text.slice(lastSlash + 1, gt));
      iter.ch = gt + 1;
      return selfClose ? "selfClose" : "regular";
    }
  }

  function findMatchingClose(iter, tag) {
    var stack = [];
    for (;;) {
      var next = toNextTag(iter),
          end,
          startLine = iter.line,
          startCh = iter.ch - (next ? next[0].length : 0);
      if (!next || !(end = toTagEnd(iter))) return;
      if (end == "selfClose") continue;
      if (next[1]) {
        // closing tag
        for (var i = stack.length - 1; i >= 0; --i) {
          if (stack[i] == next[2]) {
            stack.length = i;
            break;
          }
        }if (i < 0 && (!tag || tag == next[2])) return {
          tag: next[2],
          from: Pos(startLine, startCh),
          to: Pos(iter.line, iter.ch)
        };
      } else {
        // opening tag
        stack.push(next[2]);
      }
    }
  }
  function findMatchingOpen(iter, tag) {
    var stack = [];
    for (;;) {
      var prev = toPrevTag(iter);
      if (!prev) return;
      if (prev == "selfClose") {
        toTagStart(iter);continue;
      }
      var endLine = iter.line,
          endCh = iter.ch;
      var start = toTagStart(iter);
      if (!start) return;
      if (start[1]) {
        // closing tag
        stack.push(start[2]);
      } else {
        // opening tag
        for (var i = stack.length - 1; i >= 0; --i) {
          if (stack[i] == start[2]) {
            stack.length = i;
            break;
          }
        }if (i < 0 && (!tag || tag == start[2])) return {
          tag: start[2],
          from: Pos(iter.line, iter.ch),
          to: Pos(endLine, endCh)
        };
      }
    }
  }

  CodeMirror.registerHelper("fold", "xml", function (cm, start) {
    var iter = new Iter(cm, start.line, 0);
    for (;;) {
      var openTag = toNextTag(iter),
          end;
      if (!openTag || iter.line != start.line || !(end = toTagEnd(iter))) return;
      if (!openTag[1] && end != "selfClose") {
        var startPos = Pos(iter.line, iter.ch);
        var endPos = findMatchingClose(iter, openTag[2]);
        return endPos && { from: startPos, to: endPos.from };
      }
    }
  });
  CodeMirror.findMatchingTag = function (cm, pos, range) {
    var iter = new Iter(cm, pos.line, pos.ch, range);
    if (iter.text.indexOf(">") == -1 && iter.text.indexOf("<") == -1) return;
    var end = toTagEnd(iter),
        to = end && Pos(iter.line, iter.ch);
    var start = end && toTagStart(iter);
    if (!end || !start || cmp(iter, pos) > 0) return;
    var here = { from: Pos(iter.line, iter.ch), to: to, tag: start[2] };
    if (end == "selfClose") return { open: here, close: null, at: "open" };

    if (start[1]) {
      // closing tag
      return { open: findMatchingOpen(iter, start[2]), close: here, at: "close" };
    } else {
      // opening tag
      iter = new Iter(cm, to.line, to.ch, range);
      return { open: here, close: findMatchingClose(iter, start[2]), at: "open" };
    }
  };

  CodeMirror.findEnclosingTag = function (cm, pos, range) {
    var iter = new Iter(cm, pos.line, pos.ch, range);
    for (;;) {
      var open = findMatchingOpen(iter);
      if (!open) break;
      var forward = new Iter(cm, pos.line, pos.ch, range);
      var close = findMatchingClose(forward, open.tag);
      if (close) return { open: open, close: close };
    }
  };

  // Used by addon/edit/closetag.js
  CodeMirror.scanForClosingTag = function (cm, pos, name, end) {
    var iter = new Iter(cm, pos.line, pos.ch, end ? { from: 0, to: end } : null);
    return findMatchingClose(iter, name);
  };
});

},{"../../lib/codemirror":22}],19:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// Define search commands. Depends on dialog.js or another
// implementation of the openDialog method.

// Replace works a little oddly -- it will do the replace on the next
// Ctrl-G (or whatever is bound to findNext) press. You prevent a
// replace by making sure the match is no longer selected when hitting
// Ctrl-G.

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"), require("./searchcursor"), require("../dialog/dialog"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror", "./searchcursor", "../dialog/dialog"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  function searchOverlay(query, caseInsensitive) {
    if (typeof query == "string") query = new RegExp(query.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&"), caseInsensitive ? "gi" : "g");else if (!query.global) query = new RegExp(query.source, query.ignoreCase ? "gi" : "g");

    return { token: function token(stream) {
        query.lastIndex = stream.pos;
        var match = query.exec(stream.string);
        if (match && match.index == stream.pos) {
          stream.pos += match[0].length || 1;
          return "searching";
        } else if (match) {
          stream.pos = match.index;
        } else {
          stream.skipToEnd();
        }
      } };
  }

  function SearchState() {
    this.posFrom = this.posTo = this.lastQuery = this.query = null;
    this.overlay = null;
  }

  function getSearchState(cm) {
    return cm.state.search || (cm.state.search = new SearchState());
  }

  function queryCaseInsensitive(query) {
    return typeof query == "string" && query == query.toLowerCase();
  }

  function getSearchCursor(cm, query, pos) {
    // Heuristic: if the query string is all lowercase, do a case insensitive search.
    return cm.getSearchCursor(query, pos, queryCaseInsensitive(query));
  }

  function persistentDialog(cm, text, deflt, f) {
    cm.openDialog(text, f, {
      value: deflt,
      selectValueOnOpen: true,
      closeOnEnter: false,
      onClose: function onClose() {
        clearSearch(cm);
      }
    });
  }

  function dialog(cm, text, shortText, deflt, f) {
    if (cm.openDialog) cm.openDialog(text, f, { value: deflt, selectValueOnOpen: true });else f(prompt(shortText, deflt));
  }

  function confirmDialog(cm, text, shortText, fs) {
    if (cm.openConfirm) cm.openConfirm(text, fs);else if (confirm(shortText)) fs[0]();
  }

  function parseString(string) {
    return string.replace(/\\(.)/g, function (_, ch) {
      if (ch == "n") return "\n";
      if (ch == "r") return "\r";
      return ch;
    });
  }

  function parseQuery(query) {
    var isRE = query.match(/^\/(.*)\/([a-z]*)$/);
    if (isRE) {
      try {
        query = new RegExp(isRE[1], isRE[2].indexOf("i") == -1 ? "" : "i");
      } catch (e) {} // Not a regular expression after all, do a string search
    } else {
        query = parseString(query);
      }
    if (typeof query == "string" ? query == "" : query.test("")) query = /x^/;
    return query;
  }

  var queryDialog = 'Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>';

  function startSearch(cm, state, query) {
    state.queryText = query;
    state.query = parseQuery(query);
    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));
    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));
    cm.addOverlay(state.overlay);
    if (cm.showMatchesOnScrollbar) {
      if (state.annotate) {
        state.annotate.clear();state.annotate = null;
      }
      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));
    }
  }

  function doSearch(cm, rev, persistent) {
    var state = getSearchState(cm);
    if (state.query) return findNext(cm, rev);
    var q = cm.getSelection() || state.lastQuery;
    if (persistent && cm.openDialog) {
      var hiding = null;
      persistentDialog(cm, queryDialog, q, function (query, event) {
        CodeMirror.e_stop(event);
        if (!query) return;
        if (query != state.queryText) {
          startSearch(cm, state, query);
          state.posFrom = state.posTo = cm.getCursor();
        }
        if (hiding) hiding.style.opacity = 1;
        findNext(cm, event.shiftKey, function (_, to) {
          var dialog;
          if (to.line < 3 && document.querySelector && (dialog = cm.display.wrapper.querySelector(".CodeMirror-dialog")) && dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, "window").top) (hiding = dialog).style.opacity = .4;
        });
      });
    } else {
      dialog(cm, queryDialog, "Search for:", q, function (query) {
        if (query && !state.query) cm.operation(function () {
          startSearch(cm, state, query);
          state.posFrom = state.posTo = cm.getCursor();
          findNext(cm, rev);
        });
      });
    }
  }

  function findNext(cm, rev, callback) {
    cm.operation(function () {
      var state = getSearchState(cm);
      var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);
      if (!cursor.find(rev)) {
        cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));
        if (!cursor.find(rev)) return;
      }
      cm.setSelection(cursor.from(), cursor.to());
      cm.scrollIntoView({ from: cursor.from(), to: cursor.to() }, 20);
      state.posFrom = cursor.from();state.posTo = cursor.to();
      if (callback) callback(cursor.from(), cursor.to());
    });
  }

  function clearSearch(cm) {
    cm.operation(function () {
      var state = getSearchState(cm);
      state.lastQuery = state.query;
      if (!state.query) return;
      state.query = state.queryText = null;
      cm.removeOverlay(state.overlay);
      if (state.annotate) {
        state.annotate.clear();state.annotate = null;
      }
    });
  }

  var replaceQueryDialog = ' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>';
  var replacementQueryDialog = 'With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>';
  var doReplaceConfirm = "Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>";

  function replaceAll(cm, query, text) {
    cm.operation(function () {
      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {
        if (typeof query != "string") {
          var match = cm.getRange(cursor.from(), cursor.to()).match(query);
          cursor.replace(text.replace(/\$(\d)/g, function (_, i) {
            return match[i];
          }));
        } else cursor.replace(text);
      }
    });
  }

  function replace(cm, all) {
    if (cm.getOption("readOnly")) return;
    var query = cm.getSelection() || getSearchState(cm).lastQuery;
    var dialogText = all ? "Replace all:" : "Replace:";
    dialog(cm, dialogText + replaceQueryDialog, dialogText, query, function (query) {
      if (!query) return;
      query = parseQuery(query);
      dialog(cm, replacementQueryDialog, "Replace with:", "", function (text) {
        text = parseString(text);
        if (all) {
          replaceAll(cm, query, text);
        } else {
          clearSearch(cm);
          var cursor = getSearchCursor(cm, query, cm.getCursor("from"));
          var advance = function advance() {
            var start = cursor.from(),
                match;
            if (!(match = cursor.findNext())) {
              cursor = getSearchCursor(cm, query);
              if (!(match = cursor.findNext()) || start && cursor.from().line == start.line && cursor.from().ch == start.ch) return;
            }
            cm.setSelection(cursor.from(), cursor.to());
            cm.scrollIntoView({ from: cursor.from(), to: cursor.to() });
            confirmDialog(cm, doReplaceConfirm, "Replace?", [function () {
              doReplace(match);
            }, advance, function () {
              replaceAll(cm, query, text);
            }]);
          };
          var doReplace = function doReplace(match) {
            cursor.replace(typeof query == "string" ? text : text.replace(/\$(\d)/g, function (_, i) {
              return match[i];
            }));
            advance();
          };
          advance();
        }
      });
    });
  }

  CodeMirror.commands.find = function (cm) {
    clearSearch(cm);doSearch(cm);
  };
  CodeMirror.commands.findPersistent = function (cm) {
    clearSearch(cm);doSearch(cm, false, true);
  };
  CodeMirror.commands.findNext = doSearch;
  CodeMirror.commands.findPrev = function (cm) {
    doSearch(cm, true);
  };
  CodeMirror.commands.clearSearch = clearSearch;
  CodeMirror.commands.replace = replace;
  CodeMirror.commands.replaceAll = function (cm) {
    replace(cm, true);
  };
});

},{"../../lib/codemirror":22,"../dialog/dialog":14,"./searchcursor":20}],20:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  var Pos = CodeMirror.Pos;

  function SearchCursor(doc, query, pos, caseFold) {
    this.atOccurrence = false;this.doc = doc;
    if (caseFold == null && typeof query == "string") caseFold = false;

    pos = pos ? doc.clipPos(pos) : Pos(0, 0);
    this.pos = { from: pos, to: pos };

    // The matches method is filled in based on the type of query.
    // It takes a position and a direction, and returns an object
    // describing the next occurrence of the query, or null if no
    // more matches were found.
    if (typeof query != "string") {
      // Regexp match
      if (!query.global) query = new RegExp(query.source, query.ignoreCase ? "ig" : "g");
      this.matches = function (reverse, pos) {
        if (reverse) {
          query.lastIndex = 0;
          var line = doc.getLine(pos.line).slice(0, pos.ch),
              cutOff = 0,
              match,
              start;
          for (;;) {
            query.lastIndex = cutOff;
            var newMatch = query.exec(line);
            if (!newMatch) break;
            match = newMatch;
            start = match.index;
            cutOff = match.index + (match[0].length || 1);
            if (cutOff == line.length) break;
          }
          var matchLen = match && match[0].length || 0;
          if (!matchLen) {
            if (start == 0 && line.length == 0) {
              match = undefined;
            } else if (start != doc.getLine(pos.line).length) {
              matchLen++;
            }
          }
        } else {
          query.lastIndex = pos.ch;
          var line = doc.getLine(pos.line),
              match = query.exec(line);
          var matchLen = match && match[0].length || 0;
          var start = match && match.index;
          if (start + matchLen != line.length && !matchLen) matchLen = 1;
        }
        if (match && matchLen) return { from: Pos(pos.line, start),
          to: Pos(pos.line, start + matchLen),
          match: match };
      };
    } else {
      // String query
      var origQuery = query;
      if (caseFold) query = query.toLowerCase();
      var fold = caseFold ? function (str) {
        return str.toLowerCase();
      } : function (str) {
        return str;
      };
      var target = query.split("\n");
      // Different methods for single-line and multi-line queries
      if (target.length == 1) {
        if (!query.length) {
          // Empty string would match anything and never progress, so
          // we define it to match nothing instead.
          this.matches = function () {};
        } else {
          this.matches = function (reverse, pos) {
            if (reverse) {
              var orig = doc.getLine(pos.line).slice(0, pos.ch),
                  line = fold(orig);
              var match = line.lastIndexOf(query);
              if (match > -1) {
                match = adjustPos(orig, line, match);
                return { from: Pos(pos.line, match), to: Pos(pos.line, match + origQuery.length) };
              }
            } else {
              var orig = doc.getLine(pos.line).slice(pos.ch),
                  line = fold(orig);
              var match = line.indexOf(query);
              if (match > -1) {
                match = adjustPos(orig, line, match) + pos.ch;
                return { from: Pos(pos.line, match), to: Pos(pos.line, match + origQuery.length) };
              }
            }
          };
        }
      } else {
        var origTarget = origQuery.split("\n");
        this.matches = function (reverse, pos) {
          var last = target.length - 1;
          if (reverse) {
            if (pos.line - (target.length - 1) < doc.firstLine()) return;
            if (fold(doc.getLine(pos.line).slice(0, origTarget[last].length)) != target[target.length - 1]) return;
            var to = Pos(pos.line, origTarget[last].length);
            for (var ln = pos.line - 1, i = last - 1; i >= 1; --i, --ln) {
              if (target[i] != fold(doc.getLine(ln))) return;
            }var line = doc.getLine(ln),
                cut = line.length - origTarget[0].length;
            if (fold(line.slice(cut)) != target[0]) return;
            return { from: Pos(ln, cut), to: to };
          } else {
            if (pos.line + (target.length - 1) > doc.lastLine()) return;
            var line = doc.getLine(pos.line),
                cut = line.length - origTarget[0].length;
            if (fold(line.slice(cut)) != target[0]) return;
            var from = Pos(pos.line, cut);
            for (var ln = pos.line + 1, i = 1; i < last; ++i, ++ln) {
              if (target[i] != fold(doc.getLine(ln))) return;
            }if (fold(doc.getLine(ln).slice(0, origTarget[last].length)) != target[last]) return;
            return { from: from, to: Pos(ln, origTarget[last].length) };
          }
        };
      }
    }
  }

  SearchCursor.prototype = {
    findNext: function findNext() {
      return this.find(false);
    },
    findPrevious: function findPrevious() {
      return this.find(true);
    },

    find: function find(reverse) {
      var self = this,
          pos = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);
      function savePosAndFail(line) {
        var pos = Pos(line, 0);
        self.pos = { from: pos, to: pos };
        self.atOccurrence = false;
        return false;
      }

      for (;;) {
        if (this.pos = this.matches(reverse, pos)) {
          this.atOccurrence = true;
          return this.pos.match || true;
        }
        if (reverse) {
          if (!pos.line) return savePosAndFail(0);
          pos = Pos(pos.line - 1, this.doc.getLine(pos.line - 1).length);
        } else {
          var maxLine = this.doc.lineCount();
          if (pos.line == maxLine - 1) return savePosAndFail(maxLine);
          pos = Pos(pos.line + 1, 0);
        }
      }
    },

    from: function from() {
      if (this.atOccurrence) return this.pos.from;
    },
    to: function to() {
      if (this.atOccurrence) return this.pos.to;
    },

    replace: function replace(newText, origin) {
      if (!this.atOccurrence) return;
      var lines = CodeMirror.splitLines(newText);
      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin);
      this.pos.to = Pos(this.pos.from.line + lines.length - 1, lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0));
    }
  };

  // Maps a position in a case-folded line back to a position in the original line
  // (compensating for codepoints increasing in number during folding)
  function adjustPos(orig, folded, pos) {
    if (orig.length == folded.length) return pos;
    for (var pos1 = Math.min(pos, orig.length);;) {
      var len1 = orig.slice(0, pos1).toLowerCase().length;
      if (len1 < pos) ++pos1;else if (len1 > pos) --pos1;else return pos1;
    }
  }

  CodeMirror.defineExtension("getSearchCursor", function (query, pos, caseFold) {
    return new SearchCursor(this.doc, query, pos, caseFold);
  });
  CodeMirror.defineDocExtension("getSearchCursor", function (query, pos, caseFold) {
    return new SearchCursor(this, query, pos, caseFold);
  });

  CodeMirror.defineExtension("selectMatches", function (query, caseFold) {
    var ranges = [];
    var cur = this.getSearchCursor(query, this.getCursor("from"), caseFold);
    while (cur.findNext()) {
      if (CodeMirror.cmpPos(cur.to(), this.getCursor("to")) > 0) break;
      ranges.push({ anchor: cur.from(), head: cur.to() });
    }
    if (ranges.length) this.setSelections(ranges, 0);
  });
});

},{"../../lib/codemirror":22}],21:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// A rough approximation of Sublime Text's keybindings
// Depends on addon/search/searchcursor.js and optionally addon/dialog/dialogs.js

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../lib/codemirror"), require("../addon/search/searchcursor"), require("../addon/edit/matchbrackets"));else if (typeof define == "function" && define.amd) // AMD
    define(["../lib/codemirror", "../addon/search/searchcursor", "../addon/edit/matchbrackets"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  var map = CodeMirror.keyMap.sublime = { fallthrough: "default" };
  var cmds = CodeMirror.commands;
  var Pos = CodeMirror.Pos;
  var mac = CodeMirror.keyMap["default"] == CodeMirror.keyMap.macDefault;
  var ctrl = mac ? "Cmd-" : "Ctrl-";

  // This is not exactly Sublime's algorithm. I couldn't make heads or tails of that.
  function findPosSubword(doc, start, dir) {
    if (dir < 0 && start.ch == 0) return doc.clipPos(Pos(start.line - 1));
    var line = doc.getLine(start.line);
    if (dir > 0 && start.ch >= line.length) return doc.clipPos(Pos(start.line + 1, 0));
    var state = "start",
        type;
    for (var pos = start.ch, e = dir < 0 ? 0 : line.length, i = 0; pos != e; pos += dir, i++) {
      var next = line.charAt(dir < 0 ? pos - 1 : pos);
      var cat = next != "_" && CodeMirror.isWordChar(next) ? "w" : "o";
      if (cat == "w" && next.toUpperCase() == next) cat = "W";
      if (state == "start") {
        if (cat != "o") {
          state = "in";type = cat;
        }
      } else if (state == "in") {
        if (type != cat) {
          if (type == "w" && cat == "W" && dir < 0) pos--;
          if (type == "W" && cat == "w" && dir > 0) {
            type = "w";continue;
          }
          break;
        }
      }
    }
    return Pos(start.line, pos);
  }

  function moveSubword(cm, dir) {
    cm.extendSelectionsBy(function (range) {
      if (cm.display.shift || cm.doc.extend || range.empty()) return findPosSubword(cm.doc, range.head, dir);else return dir < 0 ? range.from() : range.to();
    });
  }

  cmds[map["Alt-Left"] = "goSubwordLeft"] = function (cm) {
    moveSubword(cm, -1);
  };
  cmds[map["Alt-Right"] = "goSubwordRight"] = function (cm) {
    moveSubword(cm, 1);
  };

  if (mac) map["Cmd-Left"] = "goLineStartSmart";

  var scrollLineCombo = mac ? "Ctrl-Alt-" : "Ctrl-";

  cmds[map[scrollLineCombo + "Up"] = "scrollLineUp"] = function (cm) {
    var info = cm.getScrollInfo();
    if (!cm.somethingSelected()) {
      var visibleBottomLine = cm.lineAtHeight(info.top + info.clientHeight, "local");
      if (cm.getCursor().line >= visibleBottomLine) cm.execCommand("goLineUp");
    }
    cm.scrollTo(null, info.top - cm.defaultTextHeight());
  };
  cmds[map[scrollLineCombo + "Down"] = "scrollLineDown"] = function (cm) {
    var info = cm.getScrollInfo();
    if (!cm.somethingSelected()) {
      var visibleTopLine = cm.lineAtHeight(info.top, "local") + 1;
      if (cm.getCursor().line <= visibleTopLine) cm.execCommand("goLineDown");
    }
    cm.scrollTo(null, info.top + cm.defaultTextHeight());
  };

  cmds[map["Shift-" + ctrl + "L"] = "splitSelectionByLine"] = function (cm) {
    var ranges = cm.listSelections(),
        lineRanges = [];
    for (var i = 0; i < ranges.length; i++) {
      var from = ranges[i].from(),
          to = ranges[i].to();
      for (var line = from.line; line <= to.line; ++line) {
        if (!(to.line > from.line && line == to.line && to.ch == 0)) lineRanges.push({ anchor: line == from.line ? from : Pos(line, 0),
          head: line == to.line ? to : Pos(line) });
      }
    }
    cm.setSelections(lineRanges, 0);
  };

  map["Shift-Tab"] = "indentLess";

  cmds[map["Esc"] = "singleSelectionTop"] = function (cm) {
    var range = cm.listSelections()[0];
    cm.setSelection(range.anchor, range.head, { scroll: false });
  };

  cmds[map[ctrl + "L"] = "selectLine"] = function (cm) {
    var ranges = cm.listSelections(),
        extended = [];
    for (var i = 0; i < ranges.length; i++) {
      var range = ranges[i];
      extended.push({ anchor: Pos(range.from().line, 0),
        head: Pos(range.to().line + 1, 0) });
    }
    cm.setSelections(extended);
  };

  map["Shift-Ctrl-K"] = "deleteLine";

  function insertLine(cm, above) {
    if (cm.isReadOnly()) return CodeMirror.Pass;
    cm.operation(function () {
      var len = cm.listSelections().length,
          newSelection = [],
          last = -1;
      for (var i = 0; i < len; i++) {
        var head = cm.listSelections()[i].head;
        if (head.line <= last) continue;
        var at = Pos(head.line + (above ? 0 : 1), 0);
        cm.replaceRange("\n", at, null, "+insertLine");
        cm.indentLine(at.line, null, true);
        newSelection.push({ head: at, anchor: at });
        last = head.line + 1;
      }
      cm.setSelections(newSelection);
    });
    cm.execCommand("indentAuto");
  }

  cmds[map[ctrl + "Enter"] = "insertLineAfter"] = function (cm) {
    return insertLine(cm, false);
  };

  cmds[map["Shift-" + ctrl + "Enter"] = "insertLineBefore"] = function (cm) {
    return insertLine(cm, true);
  };

  function wordAt(cm, pos) {
    var start = pos.ch,
        end = start,
        line = cm.getLine(pos.line);
    while (start && CodeMirror.isWordChar(line.charAt(start - 1))) {
      --start;
    }while (end < line.length && CodeMirror.isWordChar(line.charAt(end))) {
      ++end;
    }return { from: Pos(pos.line, start), to: Pos(pos.line, end), word: line.slice(start, end) };
  }

  cmds[map[ctrl + "D"] = "selectNextOccurrence"] = function (cm) {
    var from = cm.getCursor("from"),
        to = cm.getCursor("to");
    var fullWord = cm.state.sublimeFindFullWord == cm.doc.sel;
    if (CodeMirror.cmpPos(from, to) == 0) {
      var word = wordAt(cm, from);
      if (!word.word) return;
      cm.setSelection(word.from, word.to);
      fullWord = true;
    } else {
      var text = cm.getRange(from, to);
      var query = fullWord ? new RegExp("\\b" + text + "\\b") : text;
      var cur = cm.getSearchCursor(query, to);
      if (cur.findNext()) {
        cm.addSelection(cur.from(), cur.to());
      } else {
        cur = cm.getSearchCursor(query, Pos(cm.firstLine(), 0));
        if (cur.findNext()) cm.addSelection(cur.from(), cur.to());
      }
    }
    if (fullWord) cm.state.sublimeFindFullWord = cm.doc.sel;
  };

  var mirror = "(){}[]";
  function selectBetweenBrackets(cm) {
    var pos = cm.getCursor(),
        opening = cm.scanForBracket(pos, -1);
    if (!opening) return;
    for (;;) {
      var closing = cm.scanForBracket(pos, 1);
      if (!closing) return;
      if (closing.ch == mirror.charAt(mirror.indexOf(opening.ch) + 1)) {
        cm.setSelection(Pos(opening.pos.line, opening.pos.ch + 1), closing.pos, false);
        return true;
      }
      pos = Pos(closing.pos.line, closing.pos.ch + 1);
    }
  }

  cmds[map["Shift-" + ctrl + "Space"] = "selectScope"] = function (cm) {
    selectBetweenBrackets(cm) || cm.execCommand("selectAll");
  };
  cmds[map["Shift-" + ctrl + "M"] = "selectBetweenBrackets"] = function (cm) {
    if (!selectBetweenBrackets(cm)) return CodeMirror.Pass;
  };

  cmds[map[ctrl + "M"] = "goToBracket"] = function (cm) {
    cm.extendSelectionsBy(function (range) {
      var next = cm.scanForBracket(range.head, 1);
      if (next && CodeMirror.cmpPos(next.pos, range.head) != 0) return next.pos;
      var prev = cm.scanForBracket(range.head, -1);
      return prev && Pos(prev.pos.line, prev.pos.ch + 1) || range.head;
    });
  };

  var swapLineCombo = mac ? "Cmd-Ctrl-" : "Shift-Ctrl-";

  cmds[map[swapLineCombo + "Up"] = "swapLineUp"] = function (cm) {
    if (cm.isReadOnly()) return CodeMirror.Pass;
    var ranges = cm.listSelections(),
        linesToMove = [],
        at = cm.firstLine() - 1,
        newSels = [];
    for (var i = 0; i < ranges.length; i++) {
      var range = ranges[i],
          from = range.from().line - 1,
          to = range.to().line;
      newSels.push({ anchor: Pos(range.anchor.line - 1, range.anchor.ch),
        head: Pos(range.head.line - 1, range.head.ch) });
      if (range.to().ch == 0 && !range.empty()) --to;
      if (from > at) linesToMove.push(from, to);else if (linesToMove.length) linesToMove[linesToMove.length - 1] = to;
      at = to;
    }
    cm.operation(function () {
      for (var i = 0; i < linesToMove.length; i += 2) {
        var from = linesToMove[i],
            to = linesToMove[i + 1];
        var line = cm.getLine(from);
        cm.replaceRange("", Pos(from, 0), Pos(from + 1, 0), "+swapLine");
        if (to > cm.lastLine()) cm.replaceRange("\n" + line, Pos(cm.lastLine()), null, "+swapLine");else cm.replaceRange(line + "\n", Pos(to, 0), null, "+swapLine");
      }
      cm.setSelections(newSels);
      cm.scrollIntoView();
    });
  };

  cmds[map[swapLineCombo + "Down"] = "swapLineDown"] = function (cm) {
    if (cm.isReadOnly()) return CodeMirror.Pass;
    var ranges = cm.listSelections(),
        linesToMove = [],
        at = cm.lastLine() + 1;
    for (var i = ranges.length - 1; i >= 0; i--) {
      var range = ranges[i],
          from = range.to().line + 1,
          to = range.from().line;
      if (range.to().ch == 0 && !range.empty()) from--;
      if (from < at) linesToMove.push(from, to);else if (linesToMove.length) linesToMove[linesToMove.length - 1] = to;
      at = to;
    }
    cm.operation(function () {
      for (var i = linesToMove.length - 2; i >= 0; i -= 2) {
        var from = linesToMove[i],
            to = linesToMove[i + 1];
        var line = cm.getLine(from);
        if (from == cm.lastLine()) cm.replaceRange("", Pos(from - 1), Pos(from), "+swapLine");else cm.replaceRange("", Pos(from, 0), Pos(from + 1, 0), "+swapLine");
        cm.replaceRange(line + "\n", Pos(to, 0), null, "+swapLine");
      }
      cm.scrollIntoView();
    });
  };

  cmds[map[ctrl + "/"] = "toggleCommentIndented"] = function (cm) {
    cm.toggleComment({ indent: true });
  };

  cmds[map[ctrl + "J"] = "joinLines"] = function (cm) {
    var ranges = cm.listSelections(),
        joined = [];
    for (var i = 0; i < ranges.length; i++) {
      var range = ranges[i],
          from = range.from();
      var start = from.line,
          end = range.to().line;
      while (i < ranges.length - 1 && ranges[i + 1].from().line == end) {
        end = ranges[++i].to().line;
      }joined.push({ start: start, end: end, anchor: !range.empty() && from });
    }
    cm.operation(function () {
      var offset = 0,
          ranges = [];
      for (var i = 0; i < joined.length; i++) {
        var obj = joined[i];
        var anchor = obj.anchor && Pos(obj.anchor.line - offset, obj.anchor.ch),
            head;
        for (var line = obj.start; line <= obj.end; line++) {
          var actual = line - offset;
          if (line == obj.end) head = Pos(actual, cm.getLine(actual).length + 1);
          if (actual < cm.lastLine()) {
            cm.replaceRange(" ", Pos(actual), Pos(actual + 1, /^\s*/.exec(cm.getLine(actual + 1))[0].length));
            ++offset;
          }
        }
        ranges.push({ anchor: anchor || head, head: head });
      }
      cm.setSelections(ranges, 0);
    });
  };

  cmds[map["Shift-" + ctrl + "D"] = "duplicateLine"] = function (cm) {
    cm.operation(function () {
      var rangeCount = cm.listSelections().length;
      for (var i = 0; i < rangeCount; i++) {
        var range = cm.listSelections()[i];
        if (range.empty()) cm.replaceRange(cm.getLine(range.head.line) + "\n", Pos(range.head.line, 0));else cm.replaceRange(cm.getRange(range.from(), range.to()), range.from());
      }
      cm.scrollIntoView();
    });
  };

  map[ctrl + "T"] = "transposeChars";

  function sortLines(cm, caseSensitive) {
    if (cm.isReadOnly()) return CodeMirror.Pass;
    var ranges = cm.listSelections(),
        toSort = [],
        selected;
    for (var i = 0; i < ranges.length; i++) {
      var range = ranges[i];
      if (range.empty()) continue;
      var from = range.from().line,
          to = range.to().line;
      while (i < ranges.length - 1 && ranges[i + 1].from().line == to) {
        to = range[++i].to().line;
      }toSort.push(from, to);
    }
    if (toSort.length) selected = true;else toSort.push(cm.firstLine(), cm.lastLine());

    cm.operation(function () {
      var ranges = [];
      for (var i = 0; i < toSort.length; i += 2) {
        var from = toSort[i],
            to = toSort[i + 1];
        var start = Pos(from, 0),
            end = Pos(to);
        var lines = cm.getRange(start, end, false);
        if (caseSensitive) lines.sort();else lines.sort(function (a, b) {
          var au = a.toUpperCase(),
              bu = b.toUpperCase();
          if (au != bu) {
            a = au;b = bu;
          }
          return a < b ? -1 : a == b ? 0 : 1;
        });
        cm.replaceRange(lines, start, end);
        if (selected) ranges.push({ anchor: start, head: end });
      }
      if (selected) cm.setSelections(ranges, 0);
    });
  }

  cmds[map["F9"] = "sortLines"] = function (cm) {
    sortLines(cm, true);
  };
  cmds[map[ctrl + "F9"] = "sortLinesInsensitive"] = function (cm) {
    sortLines(cm, false);
  };

  cmds[map["F2"] = "nextBookmark"] = function (cm) {
    var marks = cm.state.sublimeBookmarks;
    if (marks) while (marks.length) {
      var current = marks.shift();
      var found = current.find();
      if (found) {
        marks.push(current);
        return cm.setSelection(found.from, found.to);
      }
    }
  };

  cmds[map["Shift-F2"] = "prevBookmark"] = function (cm) {
    var marks = cm.state.sublimeBookmarks;
    if (marks) while (marks.length) {
      marks.unshift(marks.pop());
      var found = marks[marks.length - 1].find();
      if (!found) marks.pop();else return cm.setSelection(found.from, found.to);
    }
  };

  cmds[map[ctrl + "F2"] = "toggleBookmark"] = function (cm) {
    var ranges = cm.listSelections();
    var marks = cm.state.sublimeBookmarks || (cm.state.sublimeBookmarks = []);
    for (var i = 0; i < ranges.length; i++) {
      var from = ranges[i].from(),
          to = ranges[i].to();
      var found = cm.findMarks(from, to);
      for (var j = 0; j < found.length; j++) {
        if (found[j].sublimeBookmark) {
          found[j].clear();
          for (var k = 0; k < marks.length; k++) {
            if (marks[k] == found[j]) marks.splice(k--, 1);
          }break;
        }
      }
      if (j == found.length) marks.push(cm.markText(from, to, { sublimeBookmark: true, clearWhenEmpty: false }));
    }
  };

  cmds[map["Shift-" + ctrl + "F2"] = "clearBookmarks"] = function (cm) {
    var marks = cm.state.sublimeBookmarks;
    if (marks) for (var i = 0; i < marks.length; i++) {
      marks[i].clear();
    }marks.length = 0;
  };

  cmds[map["Alt-F2"] = "selectBookmarks"] = function (cm) {
    var marks = cm.state.sublimeBookmarks,
        ranges = [];
    if (marks) for (var i = 0; i < marks.length; i++) {
      var found = marks[i].find();
      if (!found) marks.splice(i--, 0);else ranges.push({ anchor: found.from, head: found.to });
    }
    if (ranges.length) cm.setSelections(ranges, 0);
  };

  map["Alt-Q"] = "wrapLines";

  var cK = ctrl + "K ";

  function modifyWordOrSelection(cm, mod) {
    cm.operation(function () {
      var ranges = cm.listSelections(),
          indices = [],
          replacements = [];
      for (var i = 0; i < ranges.length; i++) {
        var range = ranges[i];
        if (range.empty()) {
          indices.push(i);replacements.push("");
        } else replacements.push(mod(cm.getRange(range.from(), range.to())));
      }
      cm.replaceSelections(replacements, "around", "case");
      for (var i = indices.length - 1, at; i >= 0; i--) {
        var range = ranges[indices[i]];
        if (at && CodeMirror.cmpPos(range.head, at) > 0) continue;
        var word = wordAt(cm, range.head);
        at = word.from;
        cm.replaceRange(mod(word.word), word.from, word.to);
      }
    });
  }

  map[cK + ctrl + "Backspace"] = "delLineLeft";

  cmds[map[cK + ctrl + "K"] = "delLineRight"] = function (cm) {
    cm.operation(function () {
      var ranges = cm.listSelections();
      for (var i = ranges.length - 1; i >= 0; i--) {
        cm.replaceRange("", ranges[i].anchor, Pos(ranges[i].to().line), "+delete");
      }cm.scrollIntoView();
    });
  };

  cmds[map[cK + ctrl + "U"] = "upcaseAtCursor"] = function (cm) {
    modifyWordOrSelection(cm, function (str) {
      return str.toUpperCase();
    });
  };
  cmds[map[cK + ctrl + "L"] = "downcaseAtCursor"] = function (cm) {
    modifyWordOrSelection(cm, function (str) {
      return str.toLowerCase();
    });
  };

  cmds[map[cK + ctrl + "Space"] = "setSublimeMark"] = function (cm) {
    if (cm.state.sublimeMark) cm.state.sublimeMark.clear();
    cm.state.sublimeMark = cm.setBookmark(cm.getCursor());
  };
  cmds[map[cK + ctrl + "A"] = "selectToSublimeMark"] = function (cm) {
    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();
    if (found) cm.setSelection(cm.getCursor(), found);
  };
  cmds[map[cK + ctrl + "W"] = "deleteToSublimeMark"] = function (cm) {
    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();
    if (found) {
      var from = cm.getCursor(),
          to = found;
      if (CodeMirror.cmpPos(from, to) > 0) {
        var tmp = to;to = from;from = tmp;
      }
      cm.state.sublimeKilled = cm.getRange(from, to);
      cm.replaceRange("", from, to);
    }
  };
  cmds[map[cK + ctrl + "X"] = "swapWithSublimeMark"] = function (cm) {
    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();
    if (found) {
      cm.state.sublimeMark.clear();
      cm.state.sublimeMark = cm.setBookmark(cm.getCursor());
      cm.setCursor(found);
    }
  };
  cmds[map[cK + ctrl + "Y"] = "sublimeYank"] = function (cm) {
    if (cm.state.sublimeKilled != null) cm.replaceSelection(cm.state.sublimeKilled, null, "paste");
  };

  map[cK + ctrl + "G"] = "clearBookmarks";
  cmds[map[cK + ctrl + "C"] = "showInCenter"] = function (cm) {
    var pos = cm.cursorCoords(null, "local");
    cm.scrollTo(null, (pos.top + pos.bottom) / 2 - cm.getScrollInfo().clientHeight / 2);
  };

  cmds[map["Shift-Alt-Up"] = "selectLinesUpward"] = function (cm) {
    cm.operation(function () {
      var ranges = cm.listSelections();
      for (var i = 0; i < ranges.length; i++) {
        var range = ranges[i];
        if (range.head.line > cm.firstLine()) cm.addSelection(Pos(range.head.line - 1, range.head.ch));
      }
    });
  };
  cmds[map["Shift-Alt-Down"] = "selectLinesDownward"] = function (cm) {
    cm.operation(function () {
      var ranges = cm.listSelections();
      for (var i = 0; i < ranges.length; i++) {
        var range = ranges[i];
        if (range.head.line < cm.lastLine()) cm.addSelection(Pos(range.head.line + 1, range.head.ch));
      }
    });
  };

  function getTarget(cm) {
    var from = cm.getCursor("from"),
        to = cm.getCursor("to");
    if (CodeMirror.cmpPos(from, to) == 0) {
      var word = wordAt(cm, from);
      if (!word.word) return;
      from = word.from;
      to = word.to;
    }
    return { from: from, to: to, query: cm.getRange(from, to), word: word };
  }

  function findAndGoTo(cm, forward) {
    var target = getTarget(cm);
    if (!target) return;
    var query = target.query;
    var cur = cm.getSearchCursor(query, forward ? target.to : target.from);

    if (forward ? cur.findNext() : cur.findPrevious()) {
      cm.setSelection(cur.from(), cur.to());
    } else {
      cur = cm.getSearchCursor(query, forward ? Pos(cm.firstLine(), 0) : cm.clipPos(Pos(cm.lastLine())));
      if (forward ? cur.findNext() : cur.findPrevious()) cm.setSelection(cur.from(), cur.to());else if (target.word) cm.setSelection(target.from, target.to);
    }
  };
  cmds[map[ctrl + "F3"] = "findUnder"] = function (cm) {
    findAndGoTo(cm, true);
  };
  cmds[map["Shift-" + ctrl + "F3"] = "findUnderPrevious"] = function (cm) {
    findAndGoTo(cm, false);
  };
  cmds[map["Alt-F3"] = "findAllUnder"] = function (cm) {
    var target = getTarget(cm);
    if (!target) return;
    var cur = cm.getSearchCursor(target.query);
    var matches = [];
    var primaryIndex = -1;
    while (cur.findNext()) {
      matches.push({ anchor: cur.from(), head: cur.to() });
      if (cur.from().line <= target.from.line && cur.from().ch <= target.from.ch) primaryIndex++;
    }
    cm.setSelections(matches, primaryIndex);
  };

  map["Shift-" + ctrl + "["] = "fold";
  map["Shift-" + ctrl + "]"] = "unfold";
  map[cK + ctrl + "0"] = map[cK + ctrl + "j"] = "unfoldAll";

  map[ctrl + "I"] = "findIncremental";
  map["Shift-" + ctrl + "I"] = "findIncrementalReverse";
  map[ctrl + "H"] = "replace";
  map["F3"] = "findNext";
  map["Shift-F3"] = "findPrev";

  CodeMirror.normalizeKeyMap(map);
});

},{"../addon/edit/matchbrackets":16,"../addon/search/searchcursor":20,"../lib/codemirror":22}],22:[function(require,module,exports){
"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;}; // CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
// This is CodeMirror (http://codemirror.net), a code editor
// implemented in JavaScript on top of the browser's DOM.
//
// You can find some technical background for some of the code below
// at http://marijnhaverbeke.nl/blog/#cm-internals .
(function(mod){if((typeof exports==="undefined"?"undefined":_typeof(exports))=="object"&&(typeof module==="undefined"?"undefined":_typeof(module))=="object") // CommonJS
module.exports=mod();else if(typeof define=="function"&&define.amd) // AMD
return define([],mod);else  // Plain browser env
(this||window).CodeMirror=mod();})(function(){"use strict"; // BROWSER SNIFFING
// Kludges for bugs and behavior differences that can't be feature
// detected are enabled based on userAgent etc sniffing.
var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=/gecko\/\d/i.test(userAgent);var ie_upto10=/MSIE \d/.test(userAgent);var ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up;var ie_version=ie&&(ie_upto10?document.documentMode||6:ie_11up[1]);var webkit=/WebKit\//.test(userAgent);var qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent);var chrome=/Chrome\//.test(userAgent);var presto=/Opera\//.test(userAgent);var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent); // This is woefully incomplete. Suggestions for alternative methods welcome.
var mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var chromeOS=/\bCrOS\b/.test(userAgent);var windows=/win/i.test(platform);var presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version)presto_version=Number(presto_version[1]);if(presto_version&&presto_version>=15){presto=false;webkit=true;} // Some browsers use the wrong event properties to signal cmd/ctrl on OS X
var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||ie&&ie_version>=9; // Optimize some code when these features are not used.
var sawReadOnlySpans=false,sawCollapsedSpans=false; // EDITOR CONSTRUCTOR
// A CodeMirror instance represents an editor. This is the object
// that user code is usually dealing with.
function CodeMirror(place,options){if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{}; // Determine effective options based on given values and defaults.
copyObj(defaults,options,false);setGuttersForLineNumbers(options);var doc=options.value;if(typeof doc=="string")doc=new Doc(doc,options.mode,null,options.lineSeparator);this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this;updateGutters(this);themeChanged(this);if(options.lineWrapping)this.display.wrapper.className+=" CodeMirror-wrap";if(options.autofocus&&!mobile)display.input.focus();initScrollbars(this);this.state={keyMaps:[], // stores maps added by addKeyMap
overlays:[], // highlighting overlays, as added by addOverlay
modeGen:0, // bumped when mode/overlay changes, used to invalidate highlighting info
overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false, // used to disable editing during key handlers when in readOnly mode
pasteIncoming:false,cutIncoming:false, // help recognize paste/cut edits in input.poll
selectingText:false,draggingText:false,highlight:new Delayed(), // stores highlight worker timeout
keySeq:null, // Unfinished key sequence
specialChars:null};var cm=this; // Override magic textarea content restore that IE sometimes does
// on our hidden textarea on reload
if(ie&&ie_version<11)setTimeout(function(){cm.display.input.reset(true);},20);registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if(options.autofocus&&!mobile||cm.hasFocus())setTimeout(bind(onFocus,this),20);else onBlur(this);for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt))optionHandlers[opt](this,options[opt],Init);}maybeUpdateLineNumberWidth(this);if(options.finishInit)options.finishInit(this);for(var i=0;i<initHooks.length;++i){initHooks[i](this);}endOperation(this); // Suppress optimizelegibility in Webkit, since it breaks text
// measuring on line wrapping boundaries.
if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering=="optimizelegibility")display.lineDiv.style.textRendering="auto";} // DISPLAY CONSTRUCTOR
// The display handles the DOM integration, both for input reading
// and content drawing. It holds references to DOM nodes and
// display-related state.
function Display(place,doc,input){var d=this;this.input=input; // Covers bottom-right square when both scrollbars are present.
d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true"); // Covers bottom of gutter when coverGutterNextToScrollbar is on
// and h scrollbar is present.
d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true"); // Will contain the actual code, positioned to cover the viewport.
d.lineDiv=elt("div",null,"CodeMirror-code"); // Elements are added to these to represent selection and cursors.
d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors"); // A visibility: hidden element used to find the size of things.
d.measure=elt("div",null,"CodeMirror-measure"); // When lines outside of the viewport are measured, they are drawn in this.
d.lineMeasure=elt("div",null,"CodeMirror-measure"); // Wraps everything that needs to exist inside the vertically-padded coordinate system
d.lineSpace=elt("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none"); // Moved around its parent to cover visible view.
d.mover=elt("div",[elt("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative"); // Set to the height of the document, allowing scrolling.
d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null; // Behavior of elts with overflow: auto and padding is
// inconsistent across browsers. This is used to ensure the
// scrollable area is big enough.
d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;"); // Will contain the gutters, if any.
d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null; // Actual scrollable element.
d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1"); // The element in which the editor lives.
d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"); // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)
if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0;}if(!webkit&&!(gecko&&mobile))d.scroller.draggable=true;if(place){if(place.appendChild)place.appendChild(d.wrapper);else place(d.wrapper);} // Current rendered range (may be bigger than the view window).
d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first; // Information about the rendered lines.
d.view=[];d.renderedView=null; // Holds info about a single rendered line when it was rendered
// for measurement, while not in view.
d.externalMeasured=null; // Empty space (in pixels) above the view
d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false; // Used to only resize the line number gutter when necessary (when
// the amount of lines crosses a boundary that makes its width change)
d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null; // Set to true when a non-horizontal-scrolling line widget is
// added. As an optimization, line widget aligning is skipped when
// this is false.
d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null; // Tracks the maximum line length so that the horizontal scrollbar
// can be kept static when scrolling.
d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false; // Used for measuring wheel scrolling granularity
d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null; // True when shift is held down.
d.shift=false; // Used to track whether anything happened since the context menu
// was opened.
d.selForContextMenu=null;d.activeTouch=null;input.init(d);} // STATE UPDATES
// Used to get the editor into a consistent state again when options change.
function loadMode(cm){cm.doc.mode=CodeMirror.getMode(cm.options,cm.doc.modeOption);resetModeState(cm);}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null;});cm.doc.frontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp)regChange(cm);}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null;}else {rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm);}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){updateScrollbars(cm);},100);} // Returns a function that estimates the height of a line, to use as
// first approximation until the line becomes visible (and is thus
// properly measurable).
function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height)widgetsHeight+=line.widgets[i].height;}if(wrapping)return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th;else return widgetsHeight+th;};}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height)updateLineHeight(line,estHeight);});}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm);}function guttersChanged(cm){updateGutters(cm);regChange(cm);setTimeout(function(){alignHorizontally(cm);},20);} // Rebuild the gutter elements, ensure the margin to the left of the
// code matches their width.
function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);for(var i=0;i<specs.length;++i){var gutterClass=specs[i];var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));if(gutterClass=="CodeMirror-linenumbers"){cm.display.lineGutter=gElt;gElt.style.width=(cm.display.lineNumWidth||1)+"px";}}gutters.style.display=i?"":"none";updateGutterSpace(cm);}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px";} // Compute the character length of a line, taking into account
// collapsed ranges (see markText) that might hide parts, and join
// other lines onto it.
function lineLength(line){if(line.height==0)return 0;var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch;}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found=merged.find(0,true);len-=cur.text.length-found.from.ch;cur=found.to.line;len+=cur.text.length-found.to.ch;}return len;} // Find the longest line in the document.
function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line;}});} // Make sure the gutters options contains the element
// "CodeMirror-linenumbers" when the lineNumbers option is true.
function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");if(found==-1&&options.lineNumbers){options.gutters=options.gutters.concat(["CodeMirror-linenumbers"]);}else if(found>-1&&!options.lineNumbers){options.gutters=options.gutters.slice(0);options.gutters.splice(found,1);}} // SCROLLBARS
// Prepare DOM reads needed to update the scrollbars. Done in one
// shot to minimize update/measure roundtrips.
function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));return {clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW};}function NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight)scroll(vert.scrollTop,"vertical");});on(horiz,"scroll",function(){if(horiz.clientWidth)scroll(horiz.scrollLeft,"horizontal");});this.checkedZeroWidth=false; // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).
if(ie&&ie_version<8)this.horiz.style.minHeight=this.vert.style.minWidth="18px";}NativeScrollbars.prototype=copyObj({update:function update(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0); // A bug in IE8 can cause this value to be negative, so guard it.
this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px";}else {this.vert.style.display="";this.vert.firstChild.style.height="0";}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=measure.scrollWidth-measure.clientWidth+totalWidth+"px";}else {this.horiz.style.display="";this.horiz.firstChild.style.width="0";}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0)this.zeroWidthHack();this.checkedZeroWidth=true;}return {right:needsV?sWidth:0,bottom:needsH?sWidth:0};},setScrollLeft:function setScrollLeft(pos){if(this.horiz.scrollLeft!=pos)this.horiz.scrollLeft=pos;if(this.disableHoriz)this.enableZeroWidthBar(this.horiz,this.disableHoriz);},setScrollTop:function setScrollTop(pos){if(this.vert.scrollTop!=pos)this.vert.scrollTop=pos;if(this.disableVert)this.enableZeroWidthBar(this.vert,this.disableVert);},zeroWidthHack:function zeroWidthHack(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Delayed();this.disableVert=new Delayed();},enableZeroWidthBar:function enableZeroWidthBar(bar,delay){bar.style.pointerEvents="auto";function maybeDisable(){ // To find out whether the scrollbar is still visible, we
// check whether the element under the pixel in the bottom
// left corner of the scrollbar box is the scrollbar box
// itself (when the bar is still visible) or its filler child
// (when the bar is hidden). If it is still visible, we keep
// it enabled, if it's hidden, we disable pointer events.
var box=bar.getBoundingClientRect();var elt=document.elementFromPoint(box.left+1,box.bottom-1);if(elt!=bar)bar.style.pointerEvents="none";else delay.set(1000,maybeDisable);}delay.set(1000,maybeDisable);},clear:function clear(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert);}},NativeScrollbars.prototype);function NullScrollbars(){}NullScrollbars.prototype=copyObj({update:function update(){return {bottom:0,right:0};},setScrollLeft:function setScrollLeft(){},setScrollTop:function setScrollTop(){},clear:function clear(){}},NullScrollbars.prototype);CodeMirror.scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass)rmClass(cm.display.wrapper,cm.display.scrollbars.addClass);}cm.display.scrollbars=new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller); // Prevent clicks in the scrollbars from killing focus
on(node,"mousedown",function(){if(cm.state.focused)setTimeout(function(){cm.display.input.focus();},0);});node.setAttribute("cm-not-content","true");},function(pos,axis){if(axis=="horizontal")setScrollLeft(cm,pos);else setScrollTop(cm,pos);},cm);if(cm.display.scrollbars.addClass)addClass(cm.display.wrapper,cm.display.scrollbars.addClass);}function updateScrollbars(cm,measure){if(!measure)measure=measureForScrollbars(cm);var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping)updateHeightsInViewport(cm);updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight;}} // Re-synchronize the fake scrollbars with the actual size of the
// content.
function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px";}else d.scrollbarFiller.style.display="";if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px";}else d.gutterFiller.style.display="";} // Compute the lines that are visible in a given viewport (defaults
// the the current scroll position). viewport may contain top,
// height, and ensure (see op.scrollToPos) properties.
function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=_lineAtHeight(doc,top),to=_lineAtHeight(doc,bottom); // Ensure is a {from: {line, ch}, to: {line, ch}} object, and
// forces those lines into the viewport (if possible).
if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=_lineAtHeight(doc,_heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight);}else if(Math.min(ensureTo,doc.lastLine())>=to){from=_lineAtHeight(doc,_heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo;}}return {from:from,to:Math.max(to,from+1)};} // LINE NUMBERS
// Re-align line numbers and gutter marks to compensate for
// horizontal scrolling.
function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter))return;var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+"px";for(var i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter&&view[i].gutter)view[i].gutter.style.left=left;var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++){align[j].style.left=left;}}}if(cm.options.fixedGutter)display.gutters.style.left=comp+gutterW+"px";} // Used to ensure that the line number gutter is still the right
// size for the current document size. Returns true when an update
// is needed.
function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return false;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm);return true;}return false;}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber));} // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,
// but using getBoundingClientRect to get a sub-pixel-accurate
// result.
function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left;} // DISPLAY DRAWING
function DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport; // Store some values that we'll need later (but don't want to force a relayout for)
this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[];}DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type))this.events.push(arguments);};DisplayUpdate.prototype.finish=function(){for(var i=0;i<this.events.length;i++){signal.apply(null,this.events[i]);}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=true;}} // Does the actual updating of the line display. Bails out
// (returning false) when there is nothing to be done and forced is
// false.
function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return false;} // Bail out if the visible area is already rendered and nothing changed.
if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0)return false;if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm);} // Compute a suitable new viewport (from & to)
var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20)from=Math.max(doc.first,display.viewFrom);if(display.viewTo>to&&display.viewTo-to<20)to=Math.min(end,display.viewTo);if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to);}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=_heightAtLine(getLine(cm.doc,display.viewFrom)); // Position the mover div to align with the current scroll position
cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo))return false; // For big changes, we hide the enclosing element during the
// update, since that speeds up the operations on most browsers.
var focused=activeElt();if(toUpdate>4)display.lineDiv.style.display="none";patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4)display.lineDiv.style.display="";display.renderedView=display.view; // There might have been a widget with a focused element that got
// hidden or updated, if so re-focus it.
if(focused&&activeElt()!=focused&&focused.offsetHeight)focused.focus(); // Prevent selection and cursors from interfering with the scroll
// width and height.
removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400);}display.updateLineNumbers=null;return true;}function postUpdateDisplay(cm,update){var viewport=update.viewport;for(var first=true;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){ // Clip forced viewport to actual scrollable area.
if(viewport&&viewport.top!=null)viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}; // Updated line heights might result in the drawn area not
// actually covering the viewport. Keep looping until it does.
update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)break;}if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo;}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish();}}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px";} // Read the actual heights of the rendered lines, and update their
// stored heights to match.
function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;for(var i=0;i<display.view.length;i++){var cur=display.view[i],height;if(cur.hidden)continue;if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot;}else {var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;}var diff=cur.line.height-height;if(height<2)height=textHeight(display);if(diff>.001||diff<-.001){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest)for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j]);}}}} // Read and store the height of line widgets associated with the
// given line.
function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i){line.widgets[i].height=line.widgets[i].node.parentNode.offsetHeight;}} // Do a bulk-read of the DOM positions and sizes needed to draw the
// view, so that we don't interleave reading and writing to the DOM.
function getDimensions(cm){var d=cm.display,left={},width={};var gutterLeft=d.gutters.clientLeft;for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft;width[cm.options.gutters[i]]=n.clientWidth;}return {fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth};} // Sync the actual display DOM structure with display.view, removing
// nodes for lines that are no longer in view, and creating the ones
// that are not there yet, and updating the ones that are out of
// date.
function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling; // Works around a throw-scroll bug in OS X Webkit
if(webkit&&mac&&cm.display.currentWheelTarget==node)node.style.display="none";else node.parentNode.removeChild(node);return next;}var view=display.view,lineN=display.viewFrom; // Loop over the elements in the view, syncing cur (the DOM nodes
// in display.lineDiv) with the view as we go.
for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden){}else if(!lineView.node||lineView.node.parentNode!=container){ // Not drawn yet
var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur);}else { // Already drawn
while(cur!=lineView.node){cur=rm(cur);}var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1)updateNumber=false;updateLineForChanges(cm,lineView,lineN,dims);}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)));}cur=lineView.node.nextSibling;}lineN+=lineView.size;}while(cur){cur=rm(cur);}} // When an aspect of a line changes, a string is added to
// lineView.changes. This updates the relevant part of the line's
// DOM structure.
function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];if(type=="text")updateLineText(cm,lineView);else if(type=="gutter")updateLineGutter(cm,lineView,lineN,dims);else if(type=="class")updateLineClasses(lineView);else if(type=="widget")updateLineWidgets(cm,lineView,dims);}lineView.changes=null;} // Lines with gutter elements, widgets or a background class need to
// be wrapped, and have the extra elements added to the wrapper div
function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode)lineView.text.parentNode.replaceChild(lineView.node,lineView.text);lineView.node.appendChild(lineView.text);if(ie&&ie_version<8)lineView.node.style.zIndex=2;}return lineView.node;}function updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls)cls+=" CodeMirror-linebackground";if(lineView.background){if(cls)lineView.background.className=cls;else {lineView.background.parentNode.removeChild(lineView.background);lineView.background=null;}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild);}} // Wrapper around buildLineContent which will reuse the structure
// in display.externalMeasured when possible.
function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built;}return buildLineContent(cm,lineView);} // Redraw the line's text. Interacts with the background and text
// classes because the mode may output tokens that influence these
// classes.
function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node)lineView.node=built.pre;lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(lineView);}else if(cls){lineView.text.className=cls;}}function updateLineClasses(lineView){updateLineBackground(lineView);if(lineView.line.wrapClass)ensureLineWrapped(lineView).className=lineView.line.wrapClass;else if(lineView.node!=lineView.text)lineView.node.className="";var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||"";}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null;}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null;}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");wrap.insertBefore(lineView.gutterBackground,lineView.text);}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");cm.display.input.setUneditable(gutterWrap);wrap.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass)gutterWrap.className+=" "+lineView.line.gutterClass;if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"]))lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"));if(markers)for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];if(found)gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"));}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable)lineView.alignable=null;for(var node=lineView.node.firstChild,next;node;node=next){var next=node.nextSibling;if(node.className=="CodeMirror-linewidget")lineView.node.removeChild(node);}insertLineWidgets(cm,lineView,dims);} // Build a line's DOM representation from scratch
function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass)lineView.bgClass=built.bgClass;if(built.textClass)lineView.textClass=built.textClass;updateLineClasses(lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node;} // A lineView may contain multiple logical lines (when merged by
// collapsed spans). The widgets for all of them need to be drawn.
function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest)for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false);}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets)return;var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents)node.setAttribute("cm-ignore-events","true");positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above)wrap.insertBefore(node,lineView.gutter||lineView.text);else wrap.appendChild(node);signalLater(widget,"redraw");}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px";}node.style.width=width+"px";}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll)node.style.marginLeft=-dims.gutterTotalWidth+"px";}} // POSITION OBJECT
// A Pos instance represents a position within the text.
var Pos=CodeMirror.Pos=function(line,ch){if(!(this instanceof Pos))return new Pos(line,ch);this.line=line;this.ch=ch;}; // Compare two positions, return 0 if they are the same, a negative
// number when a is less, and a positive number otherwise.
var cmp=CodeMirror.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch;};function copyPos(x){return Pos(x.line,x.ch);}function maxPos(a,b){return cmp(a,b)<0?b:a;}function minPos(a,b){return cmp(a,b)<0?a:b;} // INPUT HANDLING
function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm);}} // This will be set to a {lineWise: bool, text: [string]} object, so
// that, when pasting, we know what kind of selections the copied
// text was made out of.
var lastCopied=null;function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=false;if(!sel)sel=doc.sel;var paste=cm.state.pasteIncoming||origin=="paste";var textLines=doc.splitLines(inserted),multiPaste=null; // When pasing N lines into N selections, insert one line per selection
if(paste&&sel.ranges.length>1){if(lastCopied&&lastCopied.text.join("\n")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++){multiPaste.push(doc.splitLines(lastCopied.text[i]));}}}else if(textLines.length==sel.ranges.length){multiPaste=map(textLines,function(l){return [l];});}} // Normal behavior is to insert the new text into every selection
for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];var from=range.from(),to=range.to();if(range.empty()){if(deleted&&deleted>0) // Handle deletion
from=Pos(from.line,from.ch-deleted);else if(cm.state.overwrite&&!paste) // Handle overwrite
to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));else if(lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted)from=to=Pos(from.line,0);}var updateInput=cm.curOp.updateInput;var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent);}if(inserted&&!paste)triggerElectric(cm,inserted);ensureCursorVisible(cm);cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=false;}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("text/plain");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput)runInOp(cm,function(){applyTextInput(cm,pasted,0,null,"paste");});return true;}}function triggerElectric(cm,inserted){ // When an 'electric' character is inserted, immediately trigger a reindent
if(!cm.options.electricChars||!cm.options.smartIndent)return;var sel=cm.doc.sel;for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];if(range.head.ch>100||i&&sel.ranges[i-1].head.line==range.head.line)continue;var mode=cm.getModeAt(range.head);var indented=false;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++){if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range.head.line,"smart");break;}}}else if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range.head.line).text.slice(0,range.head.ch)))indented=indentLine(cm,range.head.line,"smart");}if(indented)signalLater(cm,"electricInput",cm,range.head.line);}}function copyableRanges(cm){var text=[],ranges=[];for(var i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head));}return {text:text,ranges:ranges};}function disableBrowserMagic(field){field.setAttribute("autocorrect","off");field.setAttribute("autocapitalize","off");field.setAttribute("spellcheck","false");} // TEXTAREA INPUT STYLE
function TextareaInput(cm){this.cm=cm; // See input.poll and input.reset
this.prevInput=""; // Flag that indicates whether we expect input to appear real soon
// now (after some event like 'keypress' or 'input') and are
// polling intensively.
this.pollingFast=false; // Self-resetting timeout for the poller
this.polling=new Delayed(); // Tracks when input.reset has punted to just putting a short
// string into the textarea instead of the full selection.
this.inaccurateSelection=false; // Used to work around IE issue with selection being forgotten when focus moves away from textarea
this.hasSelection=false;this.composing=null;};function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");var div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"); // The textarea is kept positioned near the cursor to prevent the
// fact that it'll be scrolled into view on input from scrolling
// our fake cursor out of view. On webkit, when wrap=off, paste is
// very slow. So make the area wide instead.
if(webkit)te.style.width="1000px";else te.setAttribute("wrap","off"); // If border: 0; -- iOS fails to open keyboard (issue #1287)
if(ios)te.style.border="1px solid black";disableBrowserMagic(te);return div;}TextareaInput.prototype=copyObj({init:function init(display){var input=this,cm=this.cm; // Wraps and hides input textarea
var div=this.wrapper=hiddenTextarea(); // The semihidden textarea that is focused when the editor is
// focused, and receives input.
var te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild); // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)
if(ios)te.style.width="0px";on(te,"input",function(){if(ie&&ie_version>=9&&input.hasSelection)input.hasSelection=null;input.poll();});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm))return;cm.state.pasteIncoming=true;input.fastPoll();});function prepareCopyCut(e){if(signalDOMEvent(cm,e))return;if(cm.somethingSelected()){lastCopied={lineWise:false,text:cm.getSelections()};if(input.inaccurateSelection){input.prevInput="";input.inaccurateSelection=false;te.value=lastCopied.text.join("\n");selectInput(te);}}else if(!cm.options.lineWiseCopyCut){return;}else {var ranges=copyableRanges(cm);lastCopied={lineWise:true,text:ranges.text};if(e.type=="cut"){cm.setSelections(ranges.ranges,null,sel_dontScroll);}else {input.prevInput="";te.value=ranges.text.join("\n");selectInput(te);}}if(e.type=="cut")cm.state.cutIncoming=true;}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e))return;cm.state.pasteIncoming=true;input.focus();}); // Prevent normal selection in the editor (we handle our own)
on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e))e_preventDefault(e);});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing)input.composing.range.clear();input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})};});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null;}});},prepareSelection:function prepareSelection(){ // Redraw the selection and/or cursor
var cm=this.cm,display=cm.display,doc=cm.doc;var result=_prepareSelection(cm); // Move the hidden textarea near the cursor to prevent scrolling artifacts
if(cm.options.moveInputWithCursor){var headPos=_cursorCoords(cm,doc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left));}return result;},showSelection:function showSelection(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px";}}, // Reset the input to correspond to the selection (or to be empty,
// when not typing and nothing is selected)
reset:function reset(typing){if(this.contextMenuPending)return;var minimal,selected,cm=this.cm,doc=cm.doc;if(cm.somethingSelected()){this.prevInput="";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1000);var content=minimal?"-":selected||cm.getSelection();this.textarea.value=content;if(cm.state.focused)selectInput(this.textarea);if(ie&&ie_version>=9)this.hasSelection=content;}else if(!typing){this.prevInput=this.textarea.value="";if(ie&&ie_version>=9)this.hasSelection=null;}this.inaccurateSelection=minimal;},getField:function getField(){return this.textarea;},supportsTouch:function supportsTouch(){return false;},focus:function focus(){if(this.cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus();}catch(e){} // IE8 will throw if the textarea is display: none or not in DOM
}},blur:function blur(){this.textarea.blur();},resetPosition:function resetPosition(){this.wrapper.style.top=this.wrapper.style.left=0;},receivedFocus:function receivedFocus(){this.slowPoll();}, // Poll for input changes, using the normal rate of polling. This
// runs as long as the editor is focused.
slowPoll:function slowPoll(){var input=this;if(input.pollingFast)return;input.polling.set(this.cm.options.pollInterval,function(){input.poll();if(input.cm.state.focused)input.slowPoll();});}, // When an event has just come in that is likely to add or change
// something in the input textarea, we poll faster, to ensure that
// the change appears on the screen quickly.
fastPoll:function fastPoll(){var missed=false,input=this;input.pollingFast=true;function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p);}else {input.pollingFast=false;input.slowPoll();}}input.polling.set(20,p);}, // Read input from the textarea, and update the document to match.
// When something is selected, it is present in the textarea, and
// selected (unless it is huge, in which case a placeholder is
// used). When nothing is selected, the cursor sits after previously
// seen text (can be empty), which is stored in prevInput (we must
// not reset the textarea when typing, because that breaks IME).
poll:function poll(){var cm=this.cm,input=this.textarea,prevInput=this.prevInput; // Since this is called a *lot*, try to bail out as cheaply as
// possible when it is clear that nothing happened. hasSelection
// will be the case when there is a lot of text in the textarea,
// in which case reading its value would be expensive.
if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq)return false;var text=input.value; // If nothing changed, bail.
if(text==prevInput&&!cm.somethingSelected())return false; // Work around nonsensical selection resetting in IE9/10, and
// inexplicable appearance of private area unicode characters on
// some key combos in Mac (#2689).
if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();return false;}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(first==0x200b&&!prevInput)prevInput="";if(first==0x21da){this.reset();return this.cm.execCommand("undo");}} // Find the part of the input that is actually new
var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same;}var self=this;runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,self.composing?"*compose":null); // Don't leave long text in the textarea, since it makes further polling slow
if(text.length>1000||text.indexOf("\n")>-1)input.value=self.prevInput="";else self.prevInput=text;if(self.composing){self.composing.range.clear();self.composing.range=cm.markText(self.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"});}});return true;},ensurePolled:function ensurePolled(){if(this.pollingFast&&this.poll())this.pollingFast=false;},onKeyPress:function onKeyPress(){if(ie&&ie_version>=9)this.hasSelection=null;this.fastPoll();},onContextMenu:function onContextMenu(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto)return; // Opera is difficult.
// Reset the current text selection only if the click is done outside of the selection
// and 'resetSelectionOnContextMenu' option is true.
var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1)operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText;input.wrapper.style.cssText="position: absolute";var wrapperBox=input.wrapper.getBoundingClientRect();te.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px; z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(webkit)var oldScrollY=window.scrollY; // Work around Chrome issue (#2712)
display.input.focus();if(webkit)window.scrollTo(null,oldScrollY);display.input.reset(); // Adds "Select all" to context menu in FF
if(!cm.somethingSelected())te.value=input.prevInput=" ";input.contextMenuPending=true;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll); // Select-all will be greyed out if there's nothing to select, so
// this adds a zero-width space so that we can later check whether
// it got selected.
function prepareSelectAllHack(){if(te.selectionStart!=null){var selected=cm.somethingSelected();var extval=""+(selected?te.value:"");te.value=""; // Used to catch context-menu undo
te.value=extval;input.prevInput=selected?"":"";te.selectionStart=1;te.selectionEnd=extval.length; // Re-set this, in case some other handler touched the
// selection in the meantime.
display.selForContextMenu=cm.doc.sel;}}function rehide(){input.contextMenuPending=false;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&ie_version<9)display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos); // Try to detect the user choosing select-all
if(te.selectionStart!=null){if(!ie||ie&&ie_version<9)prepareSelectAllHack();var i=0,poll=function poll(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput=="")operation(cm,commands.selectAll)(cm);else if(i++<10)display.detectingSelectAll=setTimeout(poll,500);else display.input.reset();};display.detectingSelectAll=setTimeout(poll,200);}}if(ie&&ie_version>=9)prepareSelectAllHack();if(captureRightClick){e_stop(e);var mouseup=function mouseup(){off(window,"mouseup",mouseup);setTimeout(rehide,20);};on(window,"mouseup",mouseup);}else {setTimeout(rehide,50);}},readOnlyChanged:function readOnlyChanged(val){if(!val)this.reset();},setUneditable:nothing,needsContentAttribute:false},TextareaInput.prototype); // CONTENTEDITABLE INPUT STYLE
function ContentEditableInput(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed();this.gracePeriod=false;}ContentEditableInput.prototype=copyObj({init:function init(display){var input=this,cm=input.cm;var div=input.div=display.lineDiv;disableBrowserMagic(div);on(div,"paste",function(e){if(!signalDOMEvent(cm,e))handlePaste(e,cm);});on(div,"compositionstart",function(e){var data=e.data;input.composing={sel:cm.doc.sel,data:data,startData:data};if(!data)return;var prim=cm.doc.sel.primary();var line=cm.getLine(prim.head.line);var found=line.indexOf(data,Math.max(0,prim.head.ch-data.length));if(found>-1&&found<=prim.head.ch)input.composing.sel=simpleSelection(Pos(prim.head.line,found),Pos(prim.head.line,found+data.length));});on(div,"compositionupdate",function(e){input.composing.data=e.data;});on(div,"compositionend",function(e){var ours=input.composing;if(!ours)return;if(e.data!=ours.startData&&!/\u200b/.test(e.data))ours.data=e.data; // Need a small delay to prevent other code (input event,
// selection polling) from doing damage when fired right after
// compositionend.
setTimeout(function(){if(!ours.handled)input.applyComposition(ours);if(input.composing==ours)input.composing=null;},50);});on(div,"touchstart",function(){input.forceCompositionEnd();});on(div,"input",function(){if(input.composing)return;if(cm.isReadOnly()||!input.pollContent())runInOp(input.cm,function(){regChange(cm);});});function onCopyCut(e){if(signalDOMEvent(cm,e))return;if(cm.somethingSelected()){lastCopied={lineWise:false,text:cm.getSelections()};if(e.type=="cut")cm.replaceSelection("",null,"cut");}else if(!cm.options.lineWiseCopyCut){return;}else {var ranges=copyableRanges(cm);lastCopied={lineWise:true,text:ranges.text};if(e.type=="cut"){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut");});}} // iOS exposes the clipboard API, but seems to discard content inserted into it
if(e.clipboardData&&!ios){e.preventDefault();e.clipboardData.clearData();e.clipboardData.setData("text/plain",lastCopied.text.join("\n"));}else { // Old-fashioned briefly-focus-a-textarea hack
var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();},50);}}on(div,"copy",onCopyCut);on(div,"cut",onCopyCut);},prepareSelection:function prepareSelection(){var result=_prepareSelection(this.cm,false);result.focus=this.cm.state.focused;return result;},showSelection:function showSelection(info,takeFocus){if(!info||!this.cm.display.view.length)return;if(info.focus||takeFocus)this.showPrimarySelection();this.showMultipleSelections(info);},showPrimarySelection:function showPrimarySelection(){var sel=window.getSelection(),prim=this.cm.doc.sel.primary();var curAnchor=domToPos(this.cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(this.cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),prim.from())==0&&cmp(maxPos(curAnchor,curFocus),prim.to())==0)return;var start=posToDOM(this.cm,prim.from());var end=posToDOM(this.cm,prim.to());if(!start&&!end)return;var view=this.cm.display.view;var old=sel.rangeCount&&sel.getRangeAt(0);if(!start){start={node:view[0].measure.map[2],offset:0};}else if(!end){ // FIXME dangerously hacky
var measure=view[view.length-1].measure;var map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]};}try{var rng=range(start.node,start.offset,end.offset,end.node);}catch(e){} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible
if(rng){if(!gecko&&this.cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed)sel.addRange(rng);}else {sel.removeAllRanges();sel.addRange(rng);}if(old&&sel.anchorNode==null)sel.addRange(old);else if(gecko)this.startGracePeriod();}this.rememberSelection();},startGracePeriod:function startGracePeriod(){var input=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){input.gracePeriod=false;if(input.selectionChanged())input.cm.operation(function(){input.cm.curOp.selectionChanged=true;});},20);},showMultipleSelections:function showMultipleSelections(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection);},rememberSelection:function rememberSelection(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset;},selectionInEditor:function selectionInEditor(){var sel=window.getSelection();if(!sel.rangeCount)return false;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node);},focus:function focus(){if(this.cm.options.readOnly!="nocursor")this.div.focus();},blur:function blur(){this.div.blur();},getField:function getField(){return this.div;},supportsTouch:function supportsTouch(){return true;},receivedFocus:function receivedFocus(){var input=this;if(this.selectionInEditor())this.pollSelection();else runInOp(this.cm,function(){input.cm.curOp.selectionChanged=true;});function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll);}}this.polling.set(this.cm.options.pollInterval,poll);},selectionChanged:function selectionChanged(){var sel=window.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset;},pollSelection:function pollSelection(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var sel=window.getSelection(),cm=this.cm;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head)runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad)cm.curOp.selectionChanged=true;});}},pollContent:function pollContent(){var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary();var from=sel.from(),to=sel.to();if(from.line<display.viewFrom||to.line>display.viewTo-1)return false;var fromIndex;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){var fromLine=lineNo(display.view[0].line);var fromNode=display.view[0].node;}else {var fromLine=lineNo(display.view[fromIndex].line);var fromNode=display.view[fromIndex-1].node.nextSibling;}var toIndex=findViewIndex(cm,to.line);if(toIndex==display.view.length-1){var toLine=display.viewTo-1;var toNode=display.lineDiv.lastChild;}else {var toLine=lineNo(display.view[toIndex+1].line)-1;var toNode=display.view[toIndex+1].node.previousSibling;}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(newText.length>1&&oldText.length>1){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--;}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++;}else break;}var cutFront=0,cutEnd=0;var newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront;}var newBot=lst(newText),oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd;}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd);newText[0]=newText[0].slice(cutFront);var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){_replaceRange(cm.doc,newText,chFrom,chTo,"+input");return true;}},ensurePolled:function ensurePolled(){this.forceCompositionEnd();},reset:function reset(){this.forceCompositionEnd();},forceCompositionEnd:function forceCompositionEnd(){if(!this.composing||this.composing.handled)return;this.applyComposition(this.composing);this.composing.handled=true;this.div.blur();this.div.focus();},applyComposition:function applyComposition(composing){if(this.cm.isReadOnly())operation(this.cm,regChange)(this.cm);else if(composing.data&&composing.data!=composing.startData)operation(this.cm,applyTextInput)(this.cm,composing.data,0,composing.sel);},setUneditable:function setUneditable(node){node.contentEditable="false";},onKeyPress:function onKeyPress(e){e.preventDefault();if(!this.cm.isReadOnly())operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0);},readOnlyChanged:function readOnlyChanged(val){this.div.contentEditable=String(val!="nocursor");},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:true},ContentEditableInput.prototype);function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line);var info=mapFromLineView(view,line,pos.line);var order=getOrder(line),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left";}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse=="right"?result.end:result.start;return result;}function badPos(pos,bad){if(bad)pos.bad=true;return pos;}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true);node=null;offset=0;}else {for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break;}}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset);}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=false;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),true);if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad);}}var textNode=node.nodeType==3?node:null,topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset)offset=textNode.nodeValue.length;}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode;}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++){var map=i<0?measure.map:maps[i];for(var j=0;j<map.length;j+=3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map[j]+offset;if(offset<0||curNode!=textNode)ch=map[j+(offset?1:0)];return Pos(line,ch);}}}}var found=find(textNode,topNode,offset);if(found)return badPos(found,bad); // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems
for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found)return badPos(Pos(found.line,found.ch-dist),bad);else dist+=after.textContent.length;}for(var before=topNode.previousSibling,dist=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found)return badPos(Pos(found.line,found.ch+dist),bad);else dist+=after.textContent.length;}}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=false,lineSep=cm.doc.lineSeparator();function recognizeMarker(id){return function(marker){return marker.id==id;};}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute("cm-text");if(cmText!=null){if(cmText=="")cmText=node.textContent.replace(/\u200b/g,"");text+=cmText;return;}var markerID=node.getAttribute("cm-marker"),range;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range=found[0].find()))text+=getBetween(cm.doc,range.from,range.to).join(lineSep);return;}if(node.getAttribute("contenteditable")=="false")return;for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i]);}if(/^(pre|div|p)$/i.test(node.nodeName))closing=true;}else if(node.nodeType==3){var val=node.nodeValue;if(!val)return;if(closing){text+=lineSep;closing=false;}text+=val;}}for(;;){walk(from);if(from==to)break;from=from.nextSibling;}return text;}CodeMirror.inputStyles={"textarea":TextareaInput,"contenteditable":ContentEditableInput}; // SELECTION / CURSOR
// Selection objects are immutable. A new one is created every time
// the selection changes. A selection is one or more non-overlapping
// (and non-touching) ranges, sorted, and an integer that indicates
// which one is the primary selection (the one that's scrolled into
// view, that getCursor returns, etc).
function Selection(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex;}Selection.prototype={primary:function primary(){return this.ranges[this.primIndex];},equals:function equals(other){if(other==this)return true;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return false;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(cmp(here.anchor,there.anchor)!=0||cmp(here.head,there.head)!=0)return false;}return true;},deepCopy:function deepCopy(){for(var out=[],i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));}return new Selection(out,this.primIndex);},somethingSelected:function somethingSelected(){for(var i=0;i<this.ranges.length;i++){if(!this.ranges[i].empty())return true;}return false;},contains:function contains(pos,end){if(!end)end=pos;for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i;}return -1;}};function Range(anchor,head){this.anchor=anchor;this.head=head;}Range.prototype={from:function from(){return minPos(this.anchor,this.head);},to:function to(){return maxPos(this.anchor,this.head);},empty:function empty(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch;}}; // Take an unsorted, potentially overlapping set of ranges, and
// build a selection out of it. 'Consumes' ranges array (modifying
// it).
function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from());});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex)--primIndex;ranges.splice(--i,2,new Range(inv?to:from,inv?from:to));}}return new Selection(ranges,primIndex);}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0);} // Most of the external API clips given positions to make sure they
// actually exist within the document.
function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1));}function _clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;if(pos.line>last)return Pos(last,getLine(doc,last).text.length);return clipToLen(pos,getLine(doc,pos.line).text.length);}function clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen)return Pos(pos.line,linelen);else if(ch<0)return Pos(pos.line,0);else return pos;}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size;}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++){out[i]=_clipPos(doc,array[i]);}return out;} // SELECTION UPDATES
// The 'scroll' parameter given to many of these indicated whether
// the new cursor position should be scrolled into view after
// modifying the selection.
// If shift is held or the extend flag is set, extends a range to
// include a given position (and optionally a second position).
// Otherwise, simply returns the range between the given positions.
// Used for cursor motion and such.
function extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other;}else if(posBefore!=cmp(head,other)<0){head=other;}}return new Range(anchor,head);}else {return new Range(other||head,head);}} // Extend the primary selection range, discard the rest.
function extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options);} // Extend all selections (pos is an array of selections with length
// equal the number of selections)
function extendSelections(doc,heads,options){for(var out=[],i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null);}var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options);} // Updates a single range in the selection.
function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options);} // Reset the selection to a single range.
function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options);} // Give beforeSelectionChange handlers a change to influence a
// selection update.
function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function update(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++){this.ranges[i]=new Range(_clipPos(doc,ranges[i].anchor),_clipPos(doc,ranges[i].head));}},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeSelectionChange",doc.cm,obj);if(obj.ranges!=sel.ranges)return normalizeSelection(obj.ranges,obj.ranges.length-1);else return sel;}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options);}else {setSelection(doc,sel,options);}} // Set a new selection.
function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options);}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))sel=filterSelectionChange(doc,sel,options);var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm)ensureCursorVisible(doc.cm);}function setSelectionInner(doc,sel){if(sel.equals(doc.sel))return;doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm);}signalLater(doc,"cursorActivity",doc);} // Verify that the selection does not partially select any atomic
// marked ranges.
function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false),sel_dontScroll);} // Return a selection that does not partially select any atomic
// ranges.
function skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear);var newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out)out=sel.ranges.slice(0,i);out[i]=new Range(newAnchor,newHead);}}return out?normalizeSelection(out,sel.primIndex):sel;}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((sp.from==null||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(sp.to==null||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans)break;else {--i;continue;}}}if(!m.atomic)continue;if(oldPos){var near=m.find(dir<0?1:-1),diff;if(dir<0?m.inclusiveRight:m.inclusiveLeft)near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null);if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0))return skipAtomicInner(doc,near,pos,dir,mayClear);}var far=m.find(dir<0?-1:1);if(dir<0?m.inclusiveLeft:m.inclusiveRight)far=movePos(doc,far,dir,far.line==pos.line?line:null);return far?skipAtomicInner(doc,far,pos,dir,mayClear):null;}}return pos;} // Ensure a given position is not inside an atomic range.
function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;var found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,true)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,true);if(!found){doc.cantEdit=true;return Pos(doc.first,0);}return found;}function movePos(doc,pos,dir,line){if(dir<0&&pos.ch==0){if(pos.line>doc.first)return _clipPos(doc,Pos(pos.line-1));else return null;}else if(dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length){if(pos.line<doc.first+doc.size-1)return Pos(pos.line+1,0);else return null;}else {return new Pos(pos.line,pos.ch+dir);}} // SELECTION DRAWING
function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection());}function _prepareSelection(cm,primary){var doc=cm.doc,result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();for(var i=0;i<doc.sel.ranges.length;i++){if(primary===false&&i==doc.sel.primIndex)continue;var range=doc.sel.ranges[i];if(range.from().line>=cm.display.viewTo||range.to().line<cm.display.viewFrom)continue;var collapsed=range.empty();if(collapsed||cm.options.showCursorWhenSelecting)drawSelectionCursor(cm,range.head,curFragment);if(!collapsed)drawSelectionRange(cm,range,selFragment);}return result;} // Draws a cursor for the given range
function drawSelectionCursor(cm,head,output){var pos=_cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt("div","","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){ // Secondary cursor, shown when on a 'jump' in bi-directional text
var otherCursor=output.appendChild(elt("div","","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px";}} // Draws the given range as a highlighted selection
function drawSelectionRange(cm,range,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;function add(left,top,width,bottom){if(top<0)top=0;top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px; top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px; height: "+(bottom-top)+"px"));}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return _charCoords(cm,Pos(line,ch),"div",lineObj,bias);}iterateBidiSections(getOrder(lineObj),fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir){var leftPos=coords(from,"left"),rightPos,left,right;if(from==to){rightPos=leftPos;left=right=leftPos.left;}else {rightPos=coords(to-1,"right");if(dir=="rtl"){var tmp=leftPos;leftPos=rightPos;rightPos=tmp;}left=leftPos.left;right=rightPos.right;}if(fromArg==null&&from==0)left=leftSide;if(rightPos.top-leftPos.top>3){ // Different lines, draw top part
add(left,leftPos.top,null,leftPos.bottom);left=leftSide;if(leftPos.bottom<rightPos.top)add(left,leftPos.bottom,null,rightPos.top);}if(toArg==null&&to==lineLen)right=rightSide;if(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left)start=leftPos;if(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right)end=rightPos;if(left<leftSide+1)left=leftSide;add(left,rightPos.top,right-left,rightPos.bottom);});return {start:start,end:end};}var sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch);}else {var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom);}else {add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom);}}if(leftEnd.bottom<rightStart.top)add(leftSide,leftEnd.bottom,null,rightStart.top);}output.appendChild(fragment);} // Cursor-blinking
function restartBlink(cm){if(!cm.state.focused)return;var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0)display.blinker=setInterval(function(){display.cursorDiv.style.visibility=(on=!on)?"":"hidden";},cm.options.cursorBlinkRate);else if(cm.options.cursorBlinkRate<0)display.cursorDiv.style.visibility="hidden";} // HIGHLIGHT WORKER
function startWorker(cm,time){if(cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo)cm.state.highlight.set(time,bind(highlightWorker,cm));}function highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first)doc.frontier=doc.first;if(doc.frontier>=cm.display.viewTo)return;var end=+new Date()+cm.options.workTime;var state=copyState(doc.mode,getStateBefore(cm,doc.frontier));var changedLines=[];doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){ // Visible
var oldStyles=line.styles,tooLong=line.text.length>cm.options.maxHighlightLength;var highlighted=highlightLine(cm,line,tooLong?copyState(doc.mode,state):state,true);line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls)line.styleClasses=newCls;else if(oldCls)line.styleClasses=null;var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);for(var i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i];}if(ischange)changedLines.push(doc.frontier);line.stateAfter=tooLong?state:copyState(doc.mode,state);}else {if(line.text.length<=cm.options.maxHighlightLength)processLine(cm,line.text,state);line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null;}++doc.frontier;if(+new Date()>end){startWorker(cm,cm.options.workDelay);return true;}});if(changedLines.length)runInOp(cm,function(){for(var i=0;i<changedLines.length;i++){regLineChange(cm,changedLines[i],"text");}});} // Finds the line to start with when starting a parse. Tries to
// find a line with a stateAfter, so that it can start with a
// valid state. If that fails, it returns the line with the
// smallest indentation, which tends to need the least context to
// parse correctly.
function findStartLine(cm,n,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1000:100);for(var search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented;}}return minline;}function getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return true;var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;if(!state)state=startState(doc.mode);else state=copyState(doc.mode,state);doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null;++pos;});if(precise)doc.frontier=pos;return state;} // POSITION MEASUREMENT
function paddingTop(display){return display.lineSpace.offsetTop;}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight;}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right))display.cachedPaddingH=data;return data;}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth;}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth;}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight;} // Ensure the lineView.wrapping.heights array is populated. This is
// an array of bottom offsets for the lines that make up a drawn
// line. When lineWrapping is on, there might be more than one
// height.
function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2)heights.push((cur.bottom+next.top)/2-rect.top);}}heights.push(rect.bottom-rect.top);}} // Find a line map (mapping character offsets to text nodes) and a
// measurement cache for the given line number. (A line view might
// contain multiple lines when collapsed ranges are present.)
function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return {map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line)return {map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};}for(var i=0;i<lineView.rest.length;i++){if(lineNo(lineView.rest[i])>lineN)return {map:lineView.measure.maps[i],cache:lineView.measure.caches[i],before:true};}} // Render a line into the hidden node display.externalMeasured. Used
// when measurement is needed for a line that's not in the viewport.
function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view;} // Get a {top, bottom, left, right} box (in line-local coordinates)
// for a given character.
function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias);} // Find a line view that corresponds to the given line number.
function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size)return ext;} // Measurement can be split in two steps, the set-up work that
// applies to the whole line, and the measurement of the actual
// character. Functions like coordsChar, that need to do a lot of
// measurements in a row, can thus ensure that the set-up work is
// only done once.
function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text){view=null;}else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true;}if(!view)view=updateExternalMeasurement(cm,line);var info=mapFromLineView(view,line,lineN);return {line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false};} // Given a prepared measurement object, measures the position of an
// actual character (or fetches it from the cache).
function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before)ch=-1;var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key];}else {if(!prepared.rect)prepared.rect=prepared.view.text.getBoundingClientRect();if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=true;}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus)prepared.cache[key]=found;}return {left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom};}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map,ch,bias){var node,start,end,collapse; // First, search the line map for the text node corresponding to,
// or closest to, the target character.
for(var i=0;i<map.length;i+=3){var mStart=map[i],mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse="left";}else if(ch<mEnd){start=ch-mStart;end=start+1;}else if(i==map.length-3||ch==mEnd&&map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd)collapse="right";}if(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right"))collapse=bias;if(bias=="left"&&start==0)while(i&&map[i-2]==map[i-3]&&map[i-1].insertLeft){node=map[(i-=3)+2];collapse="left";}if(bias=="right"&&start==mEnd-mStart)while(i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft){node=map[(i+=3)+2];collapse="right";}break;}}return {node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd};}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node,start=place.start,end=place.end,collapse=place.collapse;var rect;if(node.nodeType==3){ // If it is a text node, use a range to retrieve the coordinates.
for(var i=0;i<4;i++){ // Retry a maximum of 4 times when nonsense rectangles are returned
while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start;}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end;}if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect();}else if(ie&&cm.options.lineWrapping){var rects=range(node,start,end).getClientRects();if(rects.length)rect=rects[bias=="right"?rects.length-1:0];else rect=nullRect;}else {rect=range(node,start,end).getBoundingClientRect()||nullRect;}if(rect.left||rect.right||start==0)break;end=start;start=start-1;collapse="right";}if(ie&&ie_version<11)rect=maybeUpdateRectForZooming(cm.display.measure,rect);}else { // If it is a widget, simply get the box for the whole widget.
if(start>0)collapse=bias="right";var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1)rect=rects[bias=="right"?rects.length-1:0];else rect=node.getBoundingClientRect();}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan)rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};else rect=nullRect;}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top;var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;for(var i=0;i<heights.length-1;i++){if(mid<heights[i])break;}var top=i?heights[i-1]:0,bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right)result.bogus=true;if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot;}return result;} // Work around problem with bounding client rects on ranges being
// returned incorrectly when zoomed on IE10 and below.
function maybeUpdateRectForZooming(measure,rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return {left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY};}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest)for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={};}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i]);}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping)cm.display.maxLineChanged=true;cm.display.lineNumChars=null;}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft;}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop;} // Converts a {top, bottom, left, right} box from line-local
// coordinates into another coordinate system. Context may be one of
// "line", "div" (display.lineDiv), "local"/null (editor), "window",
// or "page".
function intoCoordSystem(cm,lineObj,rect,context){if(lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size;rect.bottom+=size;}}if(context=="line")return rect;if(!context)context="local";var yOff=_heightAtLine(lineObj);if(context=="local")yOff+=paddingTop(cm.display);else yOff-=cm.display.viewOffset;if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context=="window"?0:pageScrollY());var xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff;}rect.top+=yOff;rect.bottom+=yOff;return rect;} // Coverts a box from "div" coords to another coordinate system.
// Context may be "window", "page", "div", or "local"/null.
function fromCoordSystem(cm,coords,context){if(context=="div")return coords;var left=coords.left,top=coords.top; // First move into "page" coordinate system
if(context=="page"){left-=pageScrollX();top-=pageScrollY();}else if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top;}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return {left:left-lineSpaceBox.left,top:top-lineSpaceBox.top};}function _charCoords(cm,pos,context,lineObj,bias){if(!lineObj)lineObj=getLine(cm.doc,pos.line);return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context);} // Returns a box for a given cursor position, which may have an
// 'other' property containing the position of the secondary cursor
// on a bidi boundary.
function _cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right)m.left=m.right;else m.right=m.left;return intoCoordSystem(cm,lineObj,m,context);}function getBidi(ch,partPos){var part=order[partPos],right=part.level%2;if(ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level){part=order[--partPos];ch=bidiRight(part)-(part.level%2?0:1);right=true;}else if(ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level){part=order[++partPos];ch=bidiLeft(part)-part.level%2;right=false;}if(right&&ch==part.to&&ch>part.from)return get(ch-1);return get(ch,right);}var order=getOrder(lineObj),ch=pos.ch;if(!order)return get(ch);var partPos=getBidiPartAt(order,ch);var val=getBidi(ch,partPos);if(bidiOther!=null)val.other=getBidi(ch,bidiOther);return val;} // Used to cheaply estimate the coordinates for a position. Used for
// intermediate scroll updates.
function estimateCoords(cm,pos){var left=0,pos=_clipPos(cm.doc,pos);if(!cm.options.lineWrapping)left=charWidth(cm.display)*pos.ch;var lineObj=getLine(cm.doc,pos.line);var top=_heightAtLine(lineObj)+paddingTop(cm.display);return {left:left,right:left,top:top,bottom:top+lineObj.height};} // Positions returned by coordsChar contain some extra information.
// xRel is the relative x position of the input coordinates compared
// to the found position (so xRel > 0 means the coordinates are to
// the right of the character position, for example). When outside
// is true, that means the coordinates lie outside the line's
// vertical range.
function PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);pos.xRel=xRel;if(outside)pos.outside=true;return pos;} // Compute the character position closest to the given coordinates.
// Input must be lineSpace-local ("div" coordinate system).
function _coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0)return PosWithInfo(doc.first,0,true,-1);var lineN=_lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,true,1);if(x<0)x=0;var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var merged=collapsedSpanAtEnd(lineObj);var mergedPos=merged&&merged.find(0,true);if(merged&&(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0))lineN=lineNo(lineObj=mergedPos.to.line);else return found;}}function coordsCharInner(cm,lineObj,lineNo,x,y){var innerOff=y-_heightAtLine(lineObj);var wrongLine=false,adjust=2*cm.display.wrapper.clientWidth;var preparedMeasure=prepareMeasureForLine(cm,lineObj);function getX(ch){var sp=_cursorCoords(cm,Pos(lineNo,ch),"line",lineObj,preparedMeasure);wrongLine=true;if(innerOff>sp.bottom)return sp.left-adjust;else if(innerOff<sp.top)return sp.left+adjust;else wrongLine=false;return sp.left;}var bidi=getOrder(lineObj),dist=lineObj.text.length;var from=lineLeft(lineObj),to=lineRight(lineObj);var fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX)return PosWithInfo(lineNo,to,toOutside,1); // Do a binary search between these bounds.
for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from<=1){var ch=x<fromX||x-fromX<=toX-x?from:to;var xDiff=x-(ch==from?fromX:toX);while(isExtendingChar(lineObj.text.charAt(ch))){++ch;}var pos=PosWithInfo(lineNo,ch,ch==from?fromOutside:toOutside,xDiff<-1?-1:xDiff>1?1:0);return pos;}var step=Math.ceil(dist/2),middle=from+step;if(bidi){middle=from;for(var i=0;i<step;++i){middle=moveVisually(lineObj,middle,1);}}var middleX=getX(middle);if(middleX>x){to=middle;toX=middleX;if(toOutside=wrongLine)toX+=1000;dist=step;}else {from=middle;fromX=middleX;fromOutside=wrongLine;dist-=step;}}}var measureText; // Compute the default text height.
function textHeight(display){if(display.cachedTextHeight!=null)return display.cachedTextHeight;if(measureText==null){measureText=elt("pre"); // Measure a bunch of lines, for browsers that compute
// fractional heights.
for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"));}measureText.appendChild(document.createTextNode("x"));}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3)display.cachedTextHeight=height;removeChildren(display.measure);return height||1;} // Compute the default character width.
function charWidth(display){if(display.cachedCharWidth!=null)return display.cachedCharWidth;var anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(width>2)display.cachedCharWidth=width;return width||10;} // OPERATIONS
// Operations are used to wrap a series of changes to the editor
// state in such a way that each change won't have to update the
// cursor and display (which would be awkward, slow, and
// error-prone). Instead, display updates are batched and then all
// combined and executed at once.
var operationGroup=null;var nextOpId=0; // Start a new operation.
function startOperation(cm){cm.curOp={cm:cm,viewChanged:false, // Flag that indicates that lines might need to be redrawn
startHeight:cm.doc.height, // Used to detect need to update scrollbar
forceUpdate:false, // Used to force a redraw
updateInput:null, // Whether to reset the input textarea
typing:false, // Whether this reset should be careful to leave existing text (for compositing)
changeObjs:null, // Accumulated changes, for firing change events
cursorActivityHandlers:null, // Set of handlers to fire cursorActivity on
cursorActivityCalled:0, // Tracks which cursorActivity handlers have been called already
selectionChanged:false, // Whether the selection needs to be redrawn
updateMaxLine:false, // Set when the widest line needs to be determined anew
scrollLeft:null,scrollTop:null, // Intermediate scroll position, not pushed to DOM yet
scrollToPos:null, // Used to scroll to a specific position
focus:false,id:++nextOpId // Unique ID
};if(operationGroup){operationGroup.ops.push(cm.curOp);}else {cm.curOp.ownsGroup=operationGroup={ops:[cm.curOp],delayedCallbacks:[]};}}function fireCallbacksForOps(group){ // Calls delayed callbacks and cursorActivity handlers until no
// new ones appear
var callbacks=group.delayedCallbacks,i=0;do {for(;i<callbacks.length;i++){callbacks[i].call(null);}for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers)while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm);}}}while(i<callbacks.length);} // Finish an operation, updating the display and signalling delayed events
function endOperation(cm){var op=cm.curOp,group=op.ownsGroup;if(!group)return;try{fireCallbacksForOps(group);}finally {operationGroup=null;for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null;}endOperations(group);}} // The DOM updates done when an operation finishes are batched so
// that the minimum number of relayouts are required.
function endOperations(group){var ops=group.ops;for(var i=0;i<ops.length;i++){ // Read DOM
endOperation_R1(ops[i]);}for(var i=0;i<ops.length;i++){ // Write DOM (maybe)
endOperation_W1(ops[i]);}for(var i=0;i<ops.length;i++){ // Read DOM
endOperation_R2(ops[i]);}for(var i=0;i<ops.length;i++){ // Write DOM (maybe)
endOperation_W2(ops[i]);}for(var i=0;i<ops.length;i++){ // Read DOM
endOperation_finish(ops[i]);}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine)findMaxLine(cm);op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate);}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update);}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay)updateHeightsInViewport(cm);op.barMeasure=measureForScrollbars(cm); // If the max line changed since it was last measured, measure it,
// and ensure the document's width matches it.
// updateDisplay_W2 will use these properties to do the actual resizing
if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm));}if(op.updatedDisplay||op.selectionChanged)op.preparedSelection=display.input.prepareSelection(op.focus);}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft)setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true);cm.display.maxLineChanged=false;}var takeFocus=op.focus&&op.focus==activeElt()&&(!document.hasFocus||document.hasFocus());if(op.preparedSelection)cm.display.input.showSelection(op.preparedSelection,takeFocus);if(op.updatedDisplay||op.startHeight!=cm.doc.height)updateScrollbars(cm,op.barMeasure);if(op.updatedDisplay)setDocumentHeight(cm,op.barMeasure);if(op.selectionChanged)restartBlink(cm);if(cm.state.focused&&op.updateInput)cm.display.input.reset(op.typing);if(takeFocus)ensureFocus(op.cm);}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay)postUpdateDisplay(cm,op.update); // Abort mouse wheel delta measurement, when scrolling explicitly
if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos))display.wheelStartX=display.wheelStartY=null; // Propagate the scroll position to the actual DOM scroller
if(op.scrollTop!=null&&(display.scroller.scrollTop!=op.scrollTop||op.forceScroll)){doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop));display.scrollbars.setScrollTop(doc.scrollTop);display.scroller.scrollTop=doc.scrollTop;}if(op.scrollLeft!=null&&(display.scroller.scrollLeft!=op.scrollLeft||op.forceScroll)){doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-display.scroller.clientWidth,op.scrollLeft));display.scrollbars.setScrollLeft(doc.scrollLeft);display.scroller.scrollLeft=doc.scrollLeft;alignHorizontally(cm);} // If we need to scroll a specific position into view, do so.
if(op.scrollToPos){var coords=scrollPosIntoView(cm,_clipPos(doc,op.scrollToPos.from),_clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);if(op.scrollToPos.isCursor&&cm.state.focused)maybeScrollWindow(cm,coords);} // Fire events for markers that are hidden/unidden by editing or
// undoing
var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length)signal(hidden[i],"hide");}if(unhidden)for(var i=0;i<unhidden.length;++i){if(unhidden[i].lines.length)signal(unhidden[i],"unhide");}if(display.wrapper.offsetHeight)doc.scrollTop=cm.display.scroller.scrollTop; // Fire change events, and delayed event handlers
if(op.changeObjs)signal(cm,"changes",cm,op.changeObjs);if(op.update)op.update.finish();} // Run the given function in an operation
function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f();}finally {endOperation(cm);}} // Wraps a function in an operation. Returns the wrapped function.
function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments);}finally {endOperation(cm);}};} // Used to add methods to editor and doc instances, wrapping them in
// operations.
function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments);}finally {endOperation(this);}};}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments);}finally {endOperation(cm);}};} // VIEW TRACKING
// These objects are used to represent the visible (currently drawn)
// part of the document. A LineView may correspond to multiple
// logical lines, if those are connected by collapsed ranges.
function LineView(doc,line,lineN){ // The starting line
this.line=line; // Continuing lines, if any
this.rest=visualLineContinued(line); // Number of logical lines in this visual line
this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line);} // Create a range of LineView objects for the given lines.
function buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view);}return array;} // Updates the display.view data structure for a given change to the
// document. From and to are in pre-change coordinates. Lendiff is
// the amount of lines added or subtracted by the change. This is
// used for changes that span multiple lines, or change the way
// lines are divided into visual lines. regLineChange (below)
// registers single-line changes.
function regChange(cm,from,to,lendiff){if(from==null)from=cm.doc.first;if(to==null)to=cm.doc.first+cm.doc.size;if(!lendiff)lendiff=0;var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from))display.updateLineNumbers=from;cm.curOp.viewChanged=true;if(from>=display.viewTo){ // Change after
if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo)resetView(cm);}else if(to<=display.viewFrom){ // Change before
if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm);}else {display.viewFrom+=lendiff;display.viewTo+=lendiff;}}else if(from<=display.viewFrom&&to>=display.viewTo){ // Full overlap
resetView(cm);}else if(from<=display.viewFrom){ // Top overlap
var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff;}else {resetView(cm);}}else if(to>=display.viewTo){ // Bottom overlap
var cut=viewCuttingPoint(cm,from,from,-1);if(cut){display.view=display.view.slice(0,cut.index);display.viewTo=cut.lineN;}else {resetView(cm);}}else { // Gap in the middle
var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff;}else {resetView(cm);}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN)ext.lineN+=lendiff;else if(from<ext.lineN+ext.size)display.externalMeasured=null;}} // Register a change to a single line. Type must be one of "text",
// "gutter", "class", "widget"
function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size)display.externalMeasured=null;if(line<display.viewFrom||line>=display.viewTo)return;var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null)return;var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1)arr.push(type);} // Clear the view.
function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0;} // Find the view element corresponding to a given line. Return null
// when the line isn't visible.
function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;n-=cm.display.viewFrom;if(n<0)return null;var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0)return i;}}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return {index:index,lineN:newN};for(var i=0,n=cm.display.viewFrom;i<index;i++){n+=view[i].size;}if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN;index++;}else {diff=n-oldN;}oldN+=diff;newN+=diff;}while(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1))return null;newN+=dir*view[index-(dir<0?1:0)].size;index+=dir;}return {index:index,lineN:newN};} // Force the view to cover a given range, adding empty view element
// or clipping off existing ones as needed.
function adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from;}else {if(display.viewFrom>from)display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);else if(display.viewFrom<from)display.view=display.view.slice(findViewIndex(cm,from));display.viewFrom=from;if(display.viewTo<to)display.view=display.view.concat(buildViewArray(cm,display.viewTo,to));else if(display.viewTo>to)display.view=display.view.slice(0,findViewIndex(cm,to));}display.viewTo=to;} // Count the number of lines in the view whose DOM representation is
// out of date (or nonexistent).
function countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes))++dirty;}return dirty;} // EVENT HANDLERS
// Attach the necessary event handlers when initializing the editor
function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown)); // Older IE's will not fire a second mousedown for a double click
if(ie&&ie_version<11)on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e))return;var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head);}));else on(d.scroller,"dblclick",function(e){signalDOMEvent(cm,e)||e_preventDefault(e);}); // Some browsers fire contextmenu *after* opening the menu, at
// which point we can't mess with it anymore. Context menu is
// handled in onMouseDown for these browsers.
if(!captureRightClick)on(d.scroller,"contextmenu",function(e){onContextMenu(cm,e);}); // Used to suppress mouse event handling when a touch happens
var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){d.activeTouch=null;},1000);prevTouch=d.activeTouch;prevTouch.end=+new Date();}};function isMouseLikeTouchEvent(e){if(e.touches.length!=1)return false;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1;}function farAway(touch,other){if(other.left==null)return true;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20;}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)){clearTimeout(touchFinished);var now=+new Date();d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY;}}});on(d.scroller,"touchmove",function(){if(d.activeTouch)d.activeTouch.moved=true;});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date()-touch.start<300){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev)) // Single tap
range=new Range(pos,pos);else if(!touch.prev.prev||farAway(touch,touch.prev.prev)) // Double tap
range=cm.findWordAt(pos);else  // Triple tap
range=new Range(Pos(pos.line,0),_clipPos(cm.doc,Pos(pos.line+1,0)));cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e);}finishTouch();});on(d.scroller,"touchcancel",finishTouch); // Sync scrolling between fake scrollbars and real scrollable
// area, ensure viewport is updated when scrolling.
on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){setScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm);}}); // Listen to wheel events in order to try and update the viewport on time.
on(d.scroller,"mousewheel",function(e){onScrollWheel(cm,e);});on(d.scroller,"DOMMouseScroll",function(e){onScrollWheel(cm,e);}); // Prevent wrapper from ever scrolling
on(d.wrapper,"scroll",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0;});d.dragFunctions={enter:function enter(e){if(!signalDOMEvent(cm,e))e_stop(e);},over:function over(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e);}},start:function start(e){onDragStart(cm,e);},drop:operation(cm,onDrop),leave:function leave(e){if(!signalDOMEvent(cm,e)){clearDragCursor(cm);}}};var inp=d.input.getField();on(inp,"keyup",function(e){onKeyUp.call(cm,e);});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",operation(cm,onKeyPress));on(inp,"focus",bind(onFocus,cm));on(inp,"blur",bind(onBlur,cm));}function dragDropChanged(cm,value,old){var wasOn=old&&old!=CodeMirror.Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop);}} // Called when the window resizes
function onResize(cm){var d=cm.display;if(d.lastWrapHeight==d.wrapper.clientHeight&&d.lastWrapWidth==d.wrapper.clientWidth)return; // Might be a text scaling operation, clear size caches.
d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize();} // MOUSE EVENTS
// Return true when the given mouse event happened in a widget
function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==display.sizer&&n!=display.mover)return true;}} // Given a mouse event, find the corresponding position. If liberal
// is false, it checks whether a gutter or scrollbar was clicked,
// and returns null if it was. forRect is used by rectangular
// selections, and tries to estimate a character position even for
// coordinates beyond the right of the text.
function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute("cm-not-content")=="true")return null;var x,y,space=display.lineSpace.getBoundingClientRect(); // Fails unpredictably on IE[67] when mouse is dragged around quickly.
try{x=e.clientX-space.left;y=e.clientY-space.top;}catch(e){return null;}var coords=_coordsChar(cm,x,y),line;if(forRect&&coords.xRel==1&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff));}return coords;} // A mouse down can be a single click, double click, triple click,
// start of selection drag, start of text drag, new cursor
// (ctrl-click), rectangle drag (alt-drag), or xwin
// middle-click-paste. Or it might be a click on something we should
// not interfere with, such as a scrollbar or widget.
function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch())return;display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){ // Briefly turn off draggability, to allow widgets to do
// normal dragging things.
display.scroller.draggable=false;setTimeout(function(){display.scroller.draggable=true;},100);}return;}if(clickInGutter(cm,e))return;var start=posFromMouse(cm,e);window.focus();switch(e_button(e)){case 1: // #3261: make sure, that we're not starting a second selection
if(cm.state.selectingText)cm.state.selectingText(e);else if(start)leftButtonDown(cm,e,start);else if(e_target(e)==display.scroller)e_preventDefault(e);break;case 2:if(webkit)cm.state.lastMiddleDown=+new Date();if(start)extendSelection(cm.doc,start);setTimeout(function(){display.input.focus();},20);e_preventDefault(e);break;case 3:if(captureRightClick)onContextMenu(cm,e);else delayBlurEvent(cm);break;}}var lastClick,lastDoubleClick;function leftButtonDown(cm,e,start){if(ie)setTimeout(bind(ensureFocus,cm),0);else cm.curOp.focus=activeElt();var now=+new Date(),type;if(lastDoubleClick&&lastDoubleClick.time>now-400&&cmp(lastDoubleClick.pos,start)==0){type="triple";}else if(lastClick&&lastClick.time>now-400&&cmp(lastClick.pos,start)==0){type="double";lastDoubleClick={time:now,pos:start};}else {type="single";lastClick={time:now,pos:start};}var sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&type=="single"&&(contained=sel.contains(start))>-1&&(cmp((contained=sel.ranges[contained]).from(),start)<0||start.xRel>0)&&(cmp(contained.to(),start)>0||start.xRel<0))leftButtonStartDrag(cm,e,start,modifier);else leftButtonSelect(cm,e,start,type,modifier);} // Start a text drag. When it ends, see if any dragging actually
// happen, and treat as a click if it didn't.
function leftButtonStartDrag(cm,e,start,modifier){var display=cm.display,startTime=+new Date();var dragEnd=operation(cm,function(e2){if(webkit)display.scroller.draggable=false;cm.state.draggingText=false;off(document,"mouseup",dragEnd);off(display.scroller,"drop",dragEnd);if(Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10){e_preventDefault(e2);if(!modifier&&+new Date()-200<startTime)extendSelection(cm.doc,start); // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)
if(webkit||ie&&ie_version==9)setTimeout(function(){document.body.focus();display.input.focus();},20);else display.input.focus();}}); // Let the drag handler handle this.
if(webkit)display.scroller.draggable=true;cm.state.draggingText=dragEnd; // IE's approach to draggable
if(display.scroller.dragDrop)display.scroller.dragDrop();on(document,"mouseup",dragEnd);on(display.scroller,"drop",dragEnd);} // Normal selection, as opposed to text dragging.
function leftButtonSelect(cm,e,start,type,addNew){var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(addNew&&!e.shiftKey){ourIndex=doc.sel.contains(start);if(ourIndex>-1)ourRange=ranges[ourIndex];else ourRange=new Range(start,start);}else {ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex;}if(chromeOS?e.shiftKey&&e.metaKey:e.altKey){type="rect";if(!addNew)ourRange=new Range(start,start);start=posFromMouse(cm,e,true,true);ourIndex=-1;}else if(type=="double"){var word=cm.findWordAt(start);if(cm.display.shift||doc.extend)ourRange=extendRange(doc,ourRange,word.anchor,word.head);else ourRange=word;}else if(type=="triple"){var line=new Range(Pos(start.line,0),_clipPos(doc,Pos(start.line+1,0)));if(cm.display.shift||doc.extend)ourRange=extendRange(doc,ourRange,line.anchor,line.head);else ourRange=line;}else {ourRange=extendRange(doc,ourRange,start);}if(!addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel;}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"});}else if(ranges.length>1&&ranges[ourIndex].empty()&&type=="single"&&!e.shiftKey){setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:"*mouse"});startSel=doc.sel;}else {replaceOneSelection(doc,ourIndex,ourRange,sel_mouse);}var lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0)return;lastPos=pos;if(type=="rect"){var ranges=[],tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right)ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));else if(text.length>leftPos)ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))));}if(!ranges.length)ranges.push(new Range(start,start));setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});cm.scrollIntoView(pos);}else {var oldRange=ourRange;var anchor=oldRange.anchor,head=pos;if(type!="single"){if(type=="double")var range=cm.findWordAt(pos);else var range=new Range(Pos(pos.line,0),_clipPos(doc,Pos(pos.line+1,0)));if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor);}else {head=range.anchor;anchor=maxPos(oldRange.to(),range.head);}}var ranges=startSel.ranges.slice(0);ranges[ourIndex]=new Range(_clipPos(doc,anchor),head);setSelection(doc,normalizeSelection(ranges,ourIndex),sel_mouse);}}var editorSize=display.wrapper.getBoundingClientRect(); // Used to ensure timeout re-tries don't fire when another extend
// happened in the meantime (clearTimeout isn't reliable -- at
// least on Chrome, the timeouts still happen even when cleared,
// if the clear happens after their scheduled firing time).
var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,type=="rect");if(!cur)return;if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from)setTimeout(operation(cm,function(){if(counter==curCount)extend(e);}),150);}else {var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside)setTimeout(operation(cm,function(){if(counter!=curCount)return;display.scroller.scrollTop+=outside;extend(e);}),50);}}function done(e){cm.state.selectingText=false;counter=Infinity;e_preventDefault(e);display.input.focus();off(document,"mousemove",move);off(document,"mouseup",up);doc.history.lastSelOrigin=null;}var move=operation(cm,function(e){if(!e_button(e))done(e);else extend(e);});var up=operation(cm,done);cm.state.selectingText=up;on(document,"mousemove",move);on(document,"mouseup",up);} // Determines whether an event happened in the gutter, and fires the
// handlers for the corresponding event.
function gutterEvent(cm,e,type,prevent){try{var mX=e.clientX,mY=e.clientY;}catch(e){return false;}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return false;if(prevent)e_preventDefault(e);var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=_lineAtHeight(cm.doc,mY);var gutter=cm.options.gutters[i];signal(cm,type,cm,line,gutter,e);return e_defaultPrevented(e);}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",true);} // Kludge to work around strange IE behavior where it'll sometimes
// re-fire a series of drag-related events right after the drop (#1551)
var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);if(ie)lastDrop=+new Date();var pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;if(!pos||cm.isReadOnly())return; // Might be a file drop, in which case we simply extract the text
// and insert it.
if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var loadFile=function loadFile(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1)return;var reader=new FileReader();reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content))content="";text[i]=content;if(++read==n){pos=_clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)));}});reader.readAsText(file);};for(var i=0;i<n;++i){loadFile(files[i],i);}}else { // Normal drop
// Don't do a replace if the drop happened inside of the selected text.
if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e); // Ensure the editor is re-focused
setTimeout(function(){cm.display.input.focus();},20);return;}try{var text=e.dataTransfer.getData("Text");if(text){if(cm.state.draggingText&&!(mac?e.altKey:e.ctrlKey))var selected=cm.listSelections();setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected)for(var i=0;i<selected.length;++i){_replaceRange(cm.doc,"",selected[i].anchor,selected[i].head,"drag");}cm.replaceSelection(text,"around","paste");cm.display.input.focus();}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date()-lastDrop<100)){e_stop(e);return;}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove"; // Use dummy image instead of default browsers image.
// Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.
if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img); // Force a relayout, or Opera won't use our image for some obscure reason
img._top=img.offsetTop;}e.dataTransfer.setDragImage(img,0,0);if(presto)img.parentNode.removeChild(img);}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos)return;var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv);}removeChildrenAndAdd(cm.display.dragCursor,frag);}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null;}} // SCROLL EVENTS
// Sync the scrollable area and scrollbars, ensure the viewport
// covers the visible area.
function setScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2)return;cm.doc.scrollTop=val;if(!gecko)updateDisplaySimple(cm,{top:val});if(cm.display.scroller.scrollTop!=val)cm.display.scroller.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(gecko)updateDisplaySimple(cm);startWorker(cm,100);} // Sync scroller and scrollbar, ensure the gutter elements are
// aligned.
function setScrollLeft(cm,val,isScroller){if(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)return;val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val)cm.display.scroller.scrollLeft=val;cm.display.scrollbars.setScrollLeft(val);} // Since the delta values reported on mouse wheel events are
// unstandardized between browsers and even browser versions, and
// generally horribly unpredictable, this code starts by measuring
// the scroll effect that the first few mouse wheel events have,
// and, from that, detects the way it can convert deltas to pixel
// offsets afterwards.
//
// The reason we want to know the amount a wheel event will scroll
// is that it gives us a chance to update the display before the
// actual scrolling happens, reducing flickering.
var wheelSamples=0,wheelPixelsPerUnit=null; // Fill in a browser-detected starting value on browsers where we
// know one. These don't have to be accurate -- the result of them
// being wrong would just be a slight flicker on the first wheel
// scroll (if it is large enough).
if(ie)wheelPixelsPerUnit=-.53;else if(gecko)wheelPixelsPerUnit=15;else if(chrome)wheelPixelsPerUnit=-.7;else if(safari)wheelPixelsPerUnit=-1/3;var wheelEventDelta=function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS)dx=e.detail;if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS)dy=e.detail;else if(dy==null)dy=e.wheelDelta;return {x:dx,y:dy};};CodeMirror.wheelEventPixels=function(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta;};function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;var display=cm.display,scroll=display.scroller; // Quit if there's nothing to scroll here
var canScrollX=scroll.scrollWidth>scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY))return; // Webkit browsers on OS X abort momentum scrolls when the target
// of the scroll event is removed from the scrollable element.
// This hack (see related code in patchDisplay) makes sure the
// element is kept around.
if(dy&&mac&&webkit){outer: for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer;}}}} // On some browsers, horizontal scrolling will cause redraws to
// happen before the gutter has been realigned, causing it to
// wriggle around in a most unseemly way. When we have an
// estimated pixels/delta value, we just handle horizontal
// scrolling entirely here. It'll be slightly off from native, but
// better than glitching out.
if(dx&&!gecko&&!presto&&wheelPixelsPerUnit!=null){if(dy&&canScrollY)setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight)));setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth))); // Only prevent default scrolling if vertical scrolling is
// actually possible. Otherwise, it causes vertical scroll
// jitter on OSX trackpads when deltaX is small and deltaY
// is large (issue #3579)
if(!dy||dy&&canScrollY)e_preventDefault(e);display.wheelStartX=null; // Abort measurement, if in progress
return;} // 'Project' the visible viewport to cover the area that is being
// scrolled into view (if we know enough to estimate it).
if(dy&&wheelPixelsPerUnit!=null){var pixels=dy*wheelPixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(pixels<0)top=Math.max(0,top+pixels-50);else bot=Math.min(cm.doc.height,bot+pixels+50);updateDisplaySimple(cm,{top:top,bottom:bot});}if(wheelSamples<20){if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null)return;var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample)return;wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples;},200);}else {display.wheelDX+=dx;display.wheelDY+=dy;}}} // KEY EVENTS
// Run a handler that was bound to a key.
function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound)return false;} // Ensure previous input has been read, so that the handler sees a
// consistent view of the document
cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=false;try{if(cm.isReadOnly())cm.state.suppressEdits=true;if(dropShift)cm.display.shift=false;done=bound(cm)!=Pass;}finally {cm.display.shift=prevShift;cm.state.suppressEdits=false;}return done;}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result;}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm);}var stopSeq=new Delayed();function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return "handled";stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset();}});name=seq+" "+name;}var result=lookupKeyForEditor(cm,name,handle);if(result=="multi")cm.state.keySeq=name;if(result=="handled")signalLater(cm,"keyHandled",cm,name,e);if(result=="handled"||result=="multi"){e_preventDefault(e);restartBlink(cm);}if(seq&&!result&&/\'$/.test(name)){e_preventDefault(e);return true;}return !!result;} // Handle a key from the keydown event.
function handleKeyBinding(cm,e){var name=keyName(e,true);if(!name)return false;if(e.shiftKey&&!cm.state.keySeq){ // First try to resolve full name (including 'Shift-'). Failing
// that, see if there is a cursor-motion command (starting with
// 'go') bound to the keyname without 'Shift-'.
return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,true);})||dispatchKey(cm,name,e,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b);});}else {return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b);});}} // Handle a key from the keypress event
function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,true);});}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e))return; // IE does strange things with escape.
if(ie&&ie_version<11&&e.keyCode==27)e.returnValue=false;var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null; // Opera has no cut event... we try to at least catch the key combo
if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey))cm.replaceSelection("",null,"cut");} // Turn mouse into crosshair when Alt is held on Mac.
if(code==18&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))showCrossHair(cm);}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up);}}on(document,"keyup",up);on(document,"mouseover",up);}function onKeyUp(e){if(e.keyCode==16)this.doc.sel.shift=false;signalDOMEvent(this,e);}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)return;var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return;}if(presto&&(!e.which||e.which<10)&&handleKeyBinding(cm,e))return;var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(handleCharBinding(cm,e,ch))return;cm.display.input.onKeyPress(e);} // FOCUS/BLUR EVENTS
function delayBlurEvent(cm){cm.state.delayingBlurEvent=true;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;onBlur(cm);}},100);}function onFocus(cm){if(cm.state.delayingBlurEvent)cm.state.delayingBlurEvent=false;if(cm.options.readOnly=="nocursor")return;if(!cm.state.focused){signal(cm,"focus",cm);cm.state.focused=true;addClass(cm.display.wrapper,"CodeMirror-focused"); // This test prevents this from firing when a context
// menu is closed (since the input reset would kill the
// select-all detection hack)
if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit)setTimeout(function(){cm.display.input.reset(true);},20); // Issue #1730
}cm.display.input.receivedFocus();}restartBlink(cm);}function onBlur(cm){if(cm.state.delayingBlurEvent)return;if(cm.state.focused){signal(cm,"blur",cm);cm.state.focused=false;rmClass(cm.display.wrapper,"CodeMirror-focused");}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused)cm.display.shift=false;},150);} // CONTEXT MENU HANDLING
// To make the context menu work, we need to briefly unhide the
// textarea (making it as unobtrusive as possible) to let the
// right-click take effect on it.
function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e))return;if(signalDOMEvent(cm,e,"contextmenu"))return;cm.display.input.onContextMenu(e);}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu"))return false;return gutterEvent(cm,e,"gutterContextMenu",false);} // UPDATING
// Compute the position of the end of a change (its 'to' property
// refers to the pre-change end).
var changeEnd=CodeMirror.changeEnd=function(change){if(!change.text)return change.to;return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0));}; // Adjust a position to refer to the post-change position of the
// same text, or the end of the change if the change covers it.
function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line)ch+=changeEnd(change).ch-change.to.ch;return Pos(line,ch);}function computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)));}return normalizeSelection(out,doc.sel.primIndex);}function offsetPos(pos,old,nw){if(pos.line==old.line)return Pos(nw.line,pos.ch-old.ch+nw.ch);else return Pos(nw.line+(pos.line-old.line),pos.ch);} // Used by replaceSelections to allow moving the selection to the
// start or around the replaced test. Hint may be "start" or "around".
function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to);}else {out[i]=new Range(from,from);}}return new Selection(out,doc.sel.primIndex);} // Allow "beforeChange" event handlers to influence a change
function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function cancel(){this.canceled=true;}};if(update)obj.update=function(from,to,text,origin){if(from)this.from=_clipPos(doc,from);if(to)this.to=_clipPos(doc,to);if(text)this.text=text;if(origin!==undefined)this.origin=origin;};signal(doc,"beforeChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeChange",doc.cm,obj);if(obj.canceled)return null;return {from:obj.from,to:obj.to,text:obj.text,origin:obj.origin};} // Apply a change to a document, and add it to the document's
// history, and propagating it to all linked documents.
function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return;}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,true);if(!change)return;} // Possibly split or suppress the update based on the presence
// of read-only spans in its range.
var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;i>=0;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text});}}else {makeChangeInner(doc,change);}}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0)return;var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history);}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change));});} // Revert a change stored in a document's history.
function makeChangeFromHistory(doc,type,allowSelectionOnly){if(doc.cm&&doc.cm.state.suppressEdits)return;var hist=doc.history,event,selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone,dest=type=="undo"?hist.undone:hist.done; // Verify that there is a useable event (so that ctrl-z won't
// needlessly clear selection events)
for(var i=0;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges)break;}if(i==source.length)return;hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return;}selAfter=event;}else break;} // Build up a reverse change object to add to the opposite history
// stack (redo when undoing, and vice versa).
var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");for(var i=event.changes.length-1;i>=0;--i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return;}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm)doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[]; // Propagate to the linked documents
linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history);}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change));});}} // Sub-views need their line numbers shifted when text is added
// above or below them in the parent document.
function shiftDoc(doc,distance){if(distance==0)return;doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch));}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,"gutter");}}} // More lower-level change function, handling only a single document
// (not linked ones).
function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return;}if(change.from.line>doc.lastLine())return; // Clip the change to the size of this doc
if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin};}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin};}change.removed=getBetween(doc,change.from,change.to);if(!selAfter)selAfter=computeSelAfterChange(doc,change);if(doc.cm)makeChangeSingleDocInEditor(doc.cm,change,spans);else updateDoc(doc,change,spans);setSelectionNoUndo(doc,selAfter,sel_dontScroll);} // Handle the interaction of a change to a document with the editor
// that this document is part of.
function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=false,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true;}});}if(doc.sel.contains(change.from,change.to)>-1)signalCursorActivity(cm);updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false;}});if(recomputeMaxLength)cm.curOp.updateMaxLine=true;} // Adjust frontier, schedule worker
doc.frontier=Math.min(doc.frontier,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1; // Remember that these lines changed, for updating the display
if(change.full)regChange(cm);else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change))regLineChange(cm,from.line,"text");else regChange(cm,from.line,to.line+1,lendiff);var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler)signalLater(cm,"change",cm,obj);if(changesHandler)(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj);}cm.display.selForContextMenu=null;}function _replaceRange(doc,code,from,to,origin){if(!to)to=from;if(cmp(to,from)<0){var tmp=to;to=from;from=tmp;}if(typeof code=="string")code=doc.splitLines(code);makeChange(doc,{from:from,to:to,text:code,origin:origin});} // SCROLLING THINGS INTO VIEW
// If an editor sits on the top or bottom of the window, partially
// scrolled out of view, this ensures that the cursor is visible.
function maybeScrollWindow(cm,coords){if(signalDOMEvent(cm,"scrollCursorIntoView"))return;var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0)doScroll=true;else if(coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight))doScroll=false;if(doScroll!=null&&!phantom){var scrollNode=elt("div","",null,"position: absolute; top: "+(coords.top-display.viewOffset-paddingTop(cm.display))+"px; height: "+(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+"px; left: "+coords.left+"px; width: 2px;");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode);}} // Scroll a given position into view (immediately), verifying that
// it actually became visible (as line heights are accurately
// measured, the position of something may 'drift' during drawing).
function scrollPosIntoView(cm,pos,end,margin){if(margin==null)margin=0;for(var limit=0;limit<5;limit++){var changed=false,coords=_cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:_cursorCoords(cm,end);var scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){setScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1)changed=true;}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1)changed=true;}if(!changed)break;}return coords;} // Scroll a given set of coordinates into view (immediately).
function scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);if(scrollPos.scrollTop!=null)setScrollTop(cm,scrollPos.scrollTop);if(scrollPos.scrollLeft!=null)setScrollLeft(cm,scrollPos.scrollLeft);} // Calculate a new scroll position needed to scroll the given
// rectangle into view. Returns an object with scrollTop and
// scrollLeft properties. When these are undefined, the
// vertical/horizontal position does not need to be adjusted.
function calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);if(y1<0)y1=0;var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm),result={};if(y2-y1>screen)y2=y1+screen;var docBottom=cm.doc.height+paddingVert(display);var atTop=y1<snapMargin,atBottom=y2>docBottom-snapMargin;if(y1<screentop){result.scrollTop=atTop?0:y1;}else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);if(newTop!=screentop)result.scrollTop=newTop;}var screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;var screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0);var tooWide=x2-x1>screenw;if(tooWide)x2=x1+screenw;if(x1<10)result.scrollLeft=0;else if(x1<screenleft)result.scrollLeft=Math.max(0,x1-(tooWide?0:10));else if(x2>screenw+screenleft-3)result.scrollLeft=x2+(tooWide?0:10)-screenw;return result;} // Store a relative adjustment to the scroll position in the current
// operation (to be applied when the operation finishes).
function addToScrollPos(cm,left,top){if(left!=null||top!=null)resolveScrollToPos(cm);if(left!=null)cm.curOp.scrollLeft=(cm.curOp.scrollLeft==null?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left;if(top!=null)cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top;} // Make sure that at the end of the operation the current cursor is
// shown.
function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;if(!cm.options.lineWrapping){from=cur.ch?Pos(cur.line,cur.ch-1):cur;to=Pos(cur.line,cur.ch+1);}cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:true};} // When an operation has its scrollToPos property set, and another
// scroll action is applied before the end of the operation, this
// 'simulates' scrolling that position into view in a cheap way, so
// that the effect of intermediate scroll commands is not ignored.
function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to);var sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop);}} // API UTILITIES
// Indent the given line. The how parameter can be "smart",
// "add"/null, "subtract", or "prev". When aggressive is false
// (typically set to true for forced single-line indents), empty
// lines are not indented, and places where the mode returns Pass
// are left alone.
function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null)how="add";if(how=="smart"){ // Fall back to "prev" when the mode doesn't have an indentation
// method.
if(!doc.mode.indent)how="prev";else state=getStateBefore(cm,n);}var tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter)line.stateAfter=null;var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not";}else if(how=="smart"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive)return;how="prev";}}if(how=="prev"){if(n>doc.first)indentation=countColumn(getLine(doc,n-1).text,null,tabSize);else indentation=0;}else if(how=="add"){indentation=curSpace+cm.options.indentUnit;}else if(how=="subtract"){indentation=curSpace-cm.options.indentUnit;}else if(typeof how=="number"){indentation=curSpace+how;}indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs)for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\t";}if(pos<indentation)indentString+=spaceStr(indentation-pos);if(indentString!=curSpaceString){_replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return true;}else { // Ensure that, if the cursor was in the whitespace at the start
// of the line, it is moved to the end of that space.
for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos=Pos(n,curSpaceString.length);replaceOneSelection(doc,i,new Range(pos,pos));break;}}}} // Utility for applying a change to a line by handle or number,
// returning the number and optionally registering the line as
// changed.
function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if(typeof handle=="number")line=getLine(doc,clipLine(doc,handle));else no=lineNo(handle);if(no==null)return null;if(op(line,no)&&doc.cm)regLineChange(doc.cm,no,changeType);return line;} // Helper for deleting text near the selection(s), used to implement
// backspace, delete, and similar functionality.
function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[]; // Build up a set of ranges to kill first, merging overlapping
// ranges.
for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break;}}kill.push(toKill);} // Next, remove those actual ranges.
runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--){_replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");}ensureCursorVisible(cm);});} // Used for horizontal relative motion. Dir is -1 or 1 (left or
// right), unit can be "char", "column" (like char, but doesn't
// cross line boundaries), "word" (across next word), or "group" (to
// the start of next group of word or non-word-non-whitespace
// chars). The visually param controls whether, in right-to-left
// text, direction 1 means to move towards the next index in the
// string, or towards the character to the right of the current
// position. The resulting position will have a hitSide=true
// property if it reached the end of the document.
function _findPosH(doc,pos,dir,unit,visually){var line=pos.line,ch=pos.ch,origDir=dir;var lineObj=getLine(doc,line);function findNextLine(){var l=line+dir;if(l<doc.first||l>=doc.first+doc.size)return false;line=l;return lineObj=getLine(doc,l);}function moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,true);if(next==null){if(!boundToLine&&findNextLine()){if(visually)ch=(dir<0?lineRight:lineLeft)(lineObj);else ch=dir<0?lineObj.text.length:0;}else return false;}else ch=next;return true;}if(unit=="char"){moveOnce();}else if(unit=="column"){moveOnce(true);}else if(unit=="word"||unit=="group"){var sawType=null,group=unit=="group";var helper=doc.cm&&doc.cm.getHelper(pos,"wordChars");for(var first=true;;first=false){if(dir<0&&!moveOnce(!first))break;var cur=lineObj.text.charAt(ch)||"\n";var type=isWordChar(cur,helper)?"w":group&&cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type)type="s";if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce();}break;}if(type)sawType=type;if(dir>0&&!moveOnce(!first))break;}}var result=skipAtomic(doc,Pos(line,ch),pos,origDir,true);if(!cmp(pos,result))result.hitSide=true;return result;} // For relative vertical movement. Dir may be -1 or 1. Unit can be
// "page" or "line". The resulting position will have a hitSide=true
// property if it reached the end of the document.
function _findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);y=pos.top+dir*(pageSize-(dir<0?1.5:.5)*textHeight(cm.display));}else if(unit=="line"){y=dir>0?pos.bottom+3:pos.top-3;}for(;;){var target=_coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break;}y+=dir*5;}return target;} // EDITOR METHODS
// The publicly visible API. Note that methodOp(f) means
// 'wrap f in an operation, performed on its `this` parameter'.
// This is not the complete set of editor methods. Most of the
// methods defined on the Doc type are also injected into
// CodeMirror.prototype, for backwards compatibility and
// convenience.
CodeMirror.prototype={constructor:CodeMirror,focus:function focus(){window.focus();this.display.input.focus();},setOption:function setOption(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!="mode")return;options[option]=value;if(optionHandlers.hasOwnProperty(option))operation(this,optionHandlers[option])(this,value,old);},getOption:function getOption(option){return this.options[option];},getDoc:function getDoc(){return this.doc;},addKeyMap:function addKeyMap(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map));},removeKeyMap:function removeKeyMap(map){var maps=this.state.keyMaps;for(var i=0;i<maps.length;++i){if(maps[i]==map||maps[i].name==map){maps.splice(i,1);return true;}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:mode,modeSpec:spec,opaque:options&&options.opaque});this.state.modeGen++;regChange(this);}),removeOverlay:methodOp(function(spec){var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec=="string"&&cur.name==spec){overlays.splice(i,1);this.state.modeGen++;regChange(this);return;}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number"){if(dir==null)dir=this.options.smartIndent?"smart":"prev";else dir=dir?"add":"subtract";}if(isLine(this.doc,n))indentLine(this,n,dir,aggressive);}),indentSelection:methodOp(function(how){var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var from=range.from(),to=range.to();var start=Math.max(end,from.line);end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this,j,how);}var newRanges=this.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0)replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll);}else if(range.head.line>end){indentLine(this,range.head.line,how,true);end=range.head.line;if(i==this.doc.sel.primIndex)ensureCursorVisible(this);}}}), // Fetch the parser token for a given character. Useful for hacks
// that want to inspect the mode state (say, for completion).
getTokenAt:function getTokenAt(pos,precise){return takeToken(this,pos,precise);},getLineTokens:function getLineTokens(line,precise){return takeToken(this,Pos(line),precise,true);},getTokenTypeAt:function getTokenTypeAt(pos){pos=_clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/2,ch=pos.ch;var type;if(ch==0)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch)after=mid;else if(styles[mid*2+1]<ch)before=mid+1;else {type=styles[mid*2+2];break;}}var cut=type?type.indexOf("cm-overlay "):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1);},getModeAt:function getModeAt(pos){var mode=this.doc.mode;if(!mode.innerMode)return mode;return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode;},getHelper:function getHelper(pos,type){return this.getHelpers(pos,type)[0];},getHelpers:function getHelpers(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]])found.push(help[mode[type]]);}else if(mode[type]){for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val)found.push(val);}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType]);}else if(help[mode.name]){found.push(help[mode.name]);}for(var i=0;i<help._global.length;i++){var cur=help._global[i];if(cur.pred(mode,this)&&indexOf(found,cur.val)==-1)found.push(cur.val);}return found;},getStateAfter:function getStateAfter(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getStateBefore(this,line+1,precise);},cursorCoords:function cursorCoords(start,mode){var pos,range=this.doc.sel.primary();if(start==null)pos=range.head;else if((typeof start==="undefined"?"undefined":_typeof(start))=="object")pos=_clipPos(this.doc,start);else pos=start?range.from():range.to();return _cursorCoords(this,pos,mode||"page");},charCoords:function charCoords(pos,mode){return _charCoords(this,_clipPos(this.doc,pos),mode||"page");},coordsChar:function coordsChar(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return _coordsChar(this,coords.left,coords.top);},lineAtHeight:function lineAtHeight(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return _lineAtHeight(this.doc,height+this.display.viewOffset);},heightAtLine:function heightAtLine(line,mode){var end=false,lineObj;if(typeof line=="number"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first)line=this.doc.first;else if(line>last){line=last;end=true;}lineObj=getLine(this.doc,line);}else {lineObj=line;}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page").top+(end?this.doc.height-_heightAtLine(lineObj):0);},defaultTextHeight:function defaultTextHeight(){return textHeight(this.display);},defaultCharWidth:function defaultCharWidth(){return charWidth(this.display);},setGutterMarker:methodOp(function(line,gutterID,value){return changeLine(this.doc,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers))line.gutterMarkers=null;return true;});}),clearGutter:methodOp(function(gutterID){var cm=this,doc=cm.doc,i=doc.first;doc.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){line.gutterMarkers[gutterID]=null;regLineChange(cm,i,"gutter");if(isEmpty(line.gutterMarkers))line.gutterMarkers=null;}++i;});}),lineInfo:function lineInfo(line){if(typeof line=="number"){if(!isLine(this.doc,line))return null;var n=line;line=getLine(this.doc,line);if(!line)return null;}else {var n=lineNo(line);if(n==null)return null;}return {line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets};},getViewport:function getViewport(){return {from:this.display.viewFrom,to:this.display.viewTo};},addWidget:function addWidget(pos,node,scroll,vert,horiz){var display=this.display;pos=_cursorCoords(this,_clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);if(vert=="over"){top=pos.top;}else if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth); // Default to positioning above (if specified and possible); otherwise default to positioning below
if((vert=='above'||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight)top=pos.top-node.offsetHeight;else if(pos.bottom+node.offsetHeight<=vspace)top=pos.bottom;if(left+node.offsetWidth>hspace)left=hspace-node.offsetWidth;}node.style.top=top+"px";node.style.left=node.style.right="";if(horiz=="right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px";}else {if(horiz=="left")left=0;else if(horiz=="middle")left=(display.sizer.clientWidth-node.offsetWidth)/2;node.style.left=left+"px";}if(scroll)scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight);},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function execCommand(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd].call(null,this);},triggerElectric:methodOp(function(text){triggerElectric(this,text);}),findPosH:function findPosH(from,amount,unit,visually){var dir=1;if(amount<0){dir=-1;amount=-amount;}for(var i=0,cur=_clipPos(this.doc,from);i<amount;++i){cur=_findPosH(this.doc,cur,dir,unit,visually);if(cur.hitSide)break;}return cur;},moveH:methodOp(function(dir,unit){var cm=this;cm.extendSelectionsBy(function(range){if(cm.display.shift||cm.doc.extend||range.empty())return _findPosH(cm.doc,range.head,dir,unit,cm.options.rtlMoveVisually);else return dir<0?range.from():range.to();},sel_move);}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected())doc.replaceSelection("",null,"+delete");else deleteNearSelection(this,function(range){var other=_findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other};});}),findPosV:function findPosV(from,amount,unit,goalColumn){var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount;}for(var i=0,cur=_clipPos(this.doc,from);i<amount;++i){var coords=_cursorCoords(this,cur,"div");if(x==null)x=coords.left;else coords.left=x;cur=_findPosV(this,coords,dir,unit);if(cur.hitSide)break;}return cur;},moveV:methodOp(function(dir,unit){var cm=this,doc=this.doc,goals=[];var collapse=!cm.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse)return dir<0?range.from():range.to();var headPos=_cursorCoords(cm,range.head,"div");if(range.goalColumn!=null)headPos.left=range.goalColumn;goals.push(headPos.left);var pos=_findPosV(cm,headPos,dir,unit);if(unit=="page"&&range==doc.sel.primary())addToScrollPos(cm,null,_charCoords(cm,pos,"div").top-headPos.top);return pos;},sel_move);if(goals.length)for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i];}}), // Find the word at the given position (as returned by coordsChar).
findWordAt:function findWordAt(pos){var doc=this.doc,line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if((pos.xRel<0||end==line.length)&&start)--start;else ++end;var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper);}:/\s/.test(startChar)?function(ch){return (/\s/.test(ch));}:function(ch){return !/\s/.test(ch)&&!isWordChar(ch);};while(start>0&&check(line.charAt(start-1))){--start;}while(end<line.length&&check(line.charAt(end))){++end;}}return new Range(Pos(pos.line,start),Pos(pos.line,end));},toggleOverwrite:function toggleOverwrite(value){if(value!=null&&value==this.state.overwrite)return;if(this.state.overwrite=!this.state.overwrite)addClass(this.display.cursorDiv,"CodeMirror-overwrite");else rmClass(this.display.cursorDiv,"CodeMirror-overwrite");signal(this,"overwriteToggle",this,this.state.overwrite);},hasFocus:function hasFocus(){return this.display.input.getField()==activeElt();},isReadOnly:function isReadOnly(){return !!(this.options.readOnly||this.doc.cantEdit);},scrollTo:methodOp(function(x,y){if(x!=null||y!=null)resolveScrollToPos(this);if(x!=null)this.curOp.scrollLeft=x;if(y!=null)this.curOp.scrollTop=y;}),getScrollInfo:function getScrollInfo(){var scroller=this.display.scroller;return {left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)};},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null)margin=this.options.cursorScrollMargin;}else if(typeof range=="number"){range={from:Pos(range,0),to:null};}else if(range.from==null){range={from:range,to:null};}if(!range.to)range.to=range.from;range.margin=margin||0;if(range.from.line!=null){resolveScrollToPos(this);this.curOp.scrollToPos=range;}else {var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop);}}),setSize:methodOp(function(width,height){var cm=this;function interpret(val){return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val;}if(width!=null)cm.display.wrapper.style.width=interpret(width);if(height!=null)cm.display.wrapper.style.height=interpret(height);if(cm.options.lineWrapping)clearLineMeasurementCache(this);var lineNo=cm.display.viewFrom;cm.doc.iter(lineNo,cm.display.viewTo,function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(cm,lineNo,"widget");break;}}++lineNo;});cm.curOp.forceUpdate=true;signal(cm,"refresh",this);}),operation:function operation(f){return runInOp(this,f);},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=true;clearCaches(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5)estimateLineHeights(this);signal(this,"refresh",this);}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;attachDoc(this,doc);clearCaches(this);this.display.input.reset();this.scrollTo(doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,"swapDoc",this,old);return old;}),getInputField:function getInputField(){return this.display.input.getField();},getWrapperElement:function getWrapperElement(){return this.display.wrapper;},getScrollerElement:function getScrollerElement(){return this.display.scroller;},getGutterElement:function getGutterElement(){return this.display.gutters;}};eventMixin(CodeMirror); // OPTION DEFAULTS
// The default configuration options.
var defaults=CodeMirror.defaults={}; // Functions to run when options are changed.
var optionHandlers=CodeMirror.optionHandlers={};function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle)optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init)handle(cm,val,old);}:handle;} // Passed to option handlers when there is no old value.
var Init=CodeMirror.Init={toString:function toString(){return "CodeMirror.Init";}}; // These two are, on init, called from the constructor because they
// have to be initialized before the editor can start at all.
option("value","",function(cm,val){cm.setValue(val);},true);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm);},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm);},true);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val)return;var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(found==-1)break;pos=found+val.length;newBreaks.push(Pos(lineNo,found));}lineNo++;});for(var i=newBreaks.length-1;i>=0;i--){_replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length));}});option("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=CodeMirror.Init)cm.refresh();});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){cm.refresh();},true);option("electricChars",true);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor"); // FIXME
},true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",true);option("theme","default",function(cm){themeChanged(cm);guttersChanged(cm);},true);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val);var prev=old!=CodeMirror.Init&&getKeyMap(old);if(prev&&prev.detach)prev.detach(cm,next);if(next.attach)next.attach(cm,prev||null);});option("extraKeys",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm);},true);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh();},true);option("coverGutterNextToScrollbar",false,function(cm){updateScrollbars(cm);},true);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);},true);option("lineNumbers",false,function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm);},true);option("firstLineNumber",1,guttersChanged,true);option("lineNumberFormatter",function(integer){return integer;},guttersChanged,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("lineWiseCopyCut",true);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);cm.display.input.blur();cm.display.disabled=true;}else {cm.display.disabled=false;}cm.display.input.readOnlyChanged(val);});option("disableInput",false,function(cm,val){if(!val)cm.display.input.reset();},true);option("dragDrop",true,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,true);option("singleCursorHeightPerLine",true,updateSelection,true);option("workTime",100);option("workDelay",100);option("flattenSpans",true,resetModeState,true);option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){cm.doc.history.undoDepth=val;});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){cm.refresh();},true);option("maxHighlightLength",10000,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val)cm.display.input.resetPosition();});option("tabindex",null,function(cm,val){cm.display.input.getField().tabIndex=val||"";});option("autofocus",null); // MODE DEFINITION AND QUERYING
// Known modes, by name and by MIME
var modes=CodeMirror.modes={},mimeModes=CodeMirror.mimeModes={}; // Extra arguments are stored as the mode's dependencies, which is
// used by (legacy) mechanisms like loadmode.js to automatically
// load a mode. (Preferred mechanism is the require/define calls.)
CodeMirror.defineMode=function(name,mode){if(!CodeMirror.defaults.mode&&name!="null")CodeMirror.defaults.mode=name;if(arguments.length>2)mode.dependencies=Array.prototype.slice.call(arguments,2);modes[name]=mode;};CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec;}; // Given a MIME type, a {name, ...options} config object, or a name
// string, return a mode config object.
CodeMirror.resolveMode=function(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec];}else if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string")found={name:found};spec=createObj(found,spec);spec.name=found.name;}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return CodeMirror.resolveMode("application/xml");}if(typeof spec=="string")return {name:spec};else return spec||{name:"null"};}; // Given a mode spec (anything that resolveMode accepts), find and
// initialize an actual mode object.
CodeMirror.getMode=function(options,spec){var spec=CodeMirror.resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return CodeMirror.getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop))continue;if(modeObj.hasOwnProperty(prop))modeObj["_"+prop]=modeObj[prop];modeObj[prop]=exts[prop];}}modeObj.name=spec.name;if(spec.helperType)modeObj.helperType=spec.helperType;if(spec.modeProps)for(var prop in spec.modeProps){modeObj[prop]=spec.modeProps[prop];}return modeObj;}; // Minimal default mode.
CodeMirror.defineMode("null",function(){return {token:function token(stream){stream.skipToEnd();}};});CodeMirror.defineMIME("text/plain","null"); // This can be used to attach properties to mode objects from
// outside the actual mode definition.
var modeExtensions=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts);}; // EXTENSIONS
CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func;};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func;};CodeMirror.defineOption=option;var initHooks=[];CodeMirror.defineInitHook=function(f){initHooks.push(f);};var helpers=CodeMirror.helpers={};CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type))helpers[type]=CodeMirror[type]={_global:[]};helpers[type][name]=value;};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value});}; // MODE STATE HANDLING
// Utility functions for working with state. Exported because nested
// modes need to do this for their inner modes.
var copyState=CodeMirror.copyState=function(mode,state){if(state===true)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];if(val instanceof Array)val=val.concat([]);nstate[n]=val;}return nstate;};var startState=CodeMirror.startState=function(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true;}; // Given a mode and a state (for that mode), find the inner mode and
// state at the position that the state refers to.
CodeMirror.innerMode=function(mode,state){while(mode.innerMode){var info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state;mode=info.mode;}return info||{mode:mode,state:state};}; // STANDARD COMMANDS
// Commands are parameter-less actions that can be performed on an
// editor, mostly used for keybindings.
var commands=CodeMirror.commands={selectAll:function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll);},singleSelection:function singleSelection(cm){cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll);},killLine:function killLine(cm){deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine())return {from:range.head,to:Pos(range.head.line+1,0)};else return {from:range.head,to:Pos(range.head.line,len)};}else {return {from:range.from(),to:range.to()};}});},deleteLine:function deleteLine(cm){deleteNearSelection(cm,function(range){return {from:Pos(range.from().line,0),to:_clipPos(cm.doc,Pos(range.to().line+1,0))};});},delLineLeft:function delLineLeft(cm){deleteNearSelection(cm,function(range){return {from:Pos(range.from().line,0),to:range.from()};});},delWrappedLineLeft:function delWrappedLineLeft(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var leftPos=cm.coordsChar({left:0,top:top},"div");return {from:leftPos,to:range.from()};});},delWrappedLineRight:function delWrappedLineRight(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return {from:range.from(),to:rightPos};});},undo:function undo(cm){cm.undo();},redo:function redo(cm){cm.redo();},undoSelection:function undoSelection(cm){cm.undoSelection();},redoSelection:function redoSelection(cm){cm.redoSelection();},goDocStart:function goDocStart(cm){cm.extendSelection(Pos(cm.firstLine(),0));},goDocEnd:function goDocEnd(cm){cm.extendSelection(Pos(cm.lastLine()));},goLineStart:function goLineStart(cm){cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line);},{origin:"+move",bias:1});},goLineStartSmart:function goLineStartSmart(cm){cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head);},{origin:"+move",bias:1});},goLineEnd:function goLineEnd(cm){cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line);},{origin:"+move",bias:-1});},goLineRight:function goLineRight(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");},sel_move);},goLineLeft:function goLineLeft(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div");},sel_move);},goLineLeftSmart:function goLineLeftSmart(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;var pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/))return lineStartSmart(cm,range.head);return pos;},sel_move);},goLineUp:function goLineUp(cm){cm.moveV(-1,"line");},goLineDown:function goLineDown(cm){cm.moveV(1,"line");},goPageUp:function goPageUp(cm){cm.moveV(-1,"page");},goPageDown:function goPageDown(cm){cm.moveV(1,"page");},goCharLeft:function goCharLeft(cm){cm.moveH(-1,"char");},goCharRight:function goCharRight(cm){cm.moveH(1,"char");},goColumnLeft:function goColumnLeft(cm){cm.moveH(-1,"column");},goColumnRight:function goColumnRight(cm){cm.moveH(1,"column");},goWordLeft:function goWordLeft(cm){cm.moveH(-1,"word");},goGroupRight:function goGroupRight(cm){cm.moveH(1,"group");},goGroupLeft:function goGroupLeft(cm){cm.moveH(-1,"group");},goWordRight:function goWordRight(cm){cm.moveH(1,"word");},delCharBefore:function delCharBefore(cm){cm.deleteH(-1,"char");},delCharAfter:function delCharAfter(cm){cm.deleteH(1,"char");},delWordBefore:function delWordBefore(cm){cm.deleteH(-1,"word");},delWordAfter:function delWordAfter(cm){cm.deleteH(1,"word");},delGroupBefore:function delGroupBefore(cm){cm.deleteH(-1,"group");},delGroupAfter:function delGroupAfter(cm){cm.deleteH(1,"group");},indentAuto:function indentAuto(cm){cm.indentSelection("smart");},indentMore:function indentMore(cm){cm.indentSelection("add");},indentLess:function indentLess(cm){cm.indentSelection("subtract");},insertTab:function insertTab(cm){cm.replaceSelection("\t");},insertSoftTab:function insertSoftTab(cm){var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;for(var i=0;i<ranges.length;i++){var pos=ranges[i].from();var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize));}cm.replaceSelections(spaces);},defaultTab:function defaultTab(cm){if(cm.somethingSelected())cm.indentSelection("add");else cm.execCommand("insertTab");},transposeChars:function transposeChars(cm){runInOp(cm,function(){var ranges=cm.listSelections(),newSel=[];for(var i=0;i<ranges.length;i++){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length)cur=new Pos(cur.line,cur.ch-1);if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose");}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev)cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),Pos(cur.line,1),"+transpose");}}newSel.push(new Range(cur,cur));}cm.setSelections(newSel);});},newlineAndIndent:function newlineAndIndent(cm){runInOp(cm,function(){var len=cm.listSelections().length;for(var i=0;i<len;i++){var range=cm.listSelections()[i];cm.replaceRange(cm.doc.lineSeparator(),range.anchor,range.head,"+input");cm.indentLine(range.from().line+1,null,true);}ensureCursorVisible(cm);});},openLine:function openLine(cm){cm.replaceSelection("\n","start");},toggleOverwrite:function toggleOverwrite(cm){cm.toggleOverwrite();}}; // STANDARD KEYMAPS
var keyMap=CodeMirror.keyMap={};keyMap.basic={"Left":"goCharLeft","Right":"goCharRight","Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharAfter","Backspace":"delCharBefore","Shift-Backspace":"delCharBefore","Tab":"defaultTab","Shift-Tab":"indentAuto","Enter":"newlineAndIndent","Insert":"toggleOverwrite","Esc":"singleSelection"}; // Note that the save and find-related commands aren't defined by
// default. User code or addons can define them. Unknown commands
// are simply ignored.
keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"}; // Very basic readline/emacs-style bindings, which are standard on Mac.
keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault; // KEYMAP DISPATCH
function normalizeKeyName(name){var parts=name.split(/-(?!$)/),name=parts[parts.length-1];var alt,ctrl,shift,cmd;for(var i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=true;else if(/^a(lt)?$/i.test(mod))alt=true;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=true;else if(/^s(hift)$/i.test(mod))shift=true;else throw new Error("Unrecognized modifier name: "+mod);}if(alt)name="Alt-"+name;if(ctrl)name="Ctrl-"+name;if(cmd)name="Cmd-"+name;if(shift)name="Shift-"+name;return name;} // This is a kludge to keep keymaps mostly working as raw objects
// (backwards compatibility) while at the same time support features
// like normalization and multi-stroke key bindings. It compiles a
// new normalized keymap, and then updates the old object to reflect
// this.
CodeMirror.normalizeKeyMap=function(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if(value=="..."){delete keymap[keyname];continue;}var keys=map(keyname.split(" "),normalizeKeyName);for(var i=0;i<keys.length;i++){var val,name;if(i==keys.length-1){name=keys.join(" ");val=value;}else {name=keys.slice(0,i+1).join(" ");val="...";}var prev=copy[name];if(!prev)copy[name]=val;else if(prev!=val)throw new Error("Inconsistent bindings for "+name);}delete keymap[keyname];}}for(var prop in copy){keymap[prop]=copy[prop];}return keymap;};var lookupKey=CodeMirror.lookupKey=function(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===false)return "nothing";if(found==="...")return "multi";if(found!=null&&handle(found))return "handled";if(map.fallthrough){if(Object.prototype.toString.call(map.fallthrough)!="[object Array]")return lookupKey(key,map.fallthrough,handle,context);for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result)return result;}}}; // Modifier key presses don't count as 'real' key presses for the
// purpose of keymap fallthrough.
var isModifierKey=CodeMirror.isModifierKey=function(value){var name=typeof value=="string"?value:keyNames[value.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod";}; // Look up the name of a key as indicated by an event object.
var keyName=CodeMirror.keyName=function(event,noShift){if(presto&&event.keyCode==34&&event["char"])return false;var base=keyNames[event.keyCode],name=base;if(name==null||event.altGraphKey)return false;if(event.altKey&&base!="Alt")name="Alt-"+name;if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!="Ctrl")name="Ctrl-"+name;if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!="Cmd")name="Cmd-"+name;if(!noShift&&event.shiftKey&&base!="Shift")name="Shift-"+name;return name;};function getKeyMap(val){return typeof val=="string"?keyMap[val]:val;} // FROMTEXTAREA
CodeMirror.fromTextArea=function(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex)options.tabindex=textarea.tabIndex;if(!options.placeholder&&textarea.placeholder)options.placeholder=textarea.placeholder; // Set autofocus to true if this textarea is focused, or if it has
// autofocus and no other element is focused.
if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body;}function save(){textarea.value=cm.getValue();}if(textarea.form){on(textarea.form,"submit",save); // Deplorable hack to make the submit method do the right thing.
if(!options.leaveSubmitMethodAlone){var form=textarea.form,realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit;};}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea;};cm.toTextArea=function(){cm.toTextArea=isNaN; // Prevent this from being ran twice
save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(typeof textarea.form.submit=="function")textarea.form.submit=realSubmit;}};};textarea.style.display="none";var cm=CodeMirror(function(node){textarea.parentNode.insertBefore(node,textarea.nextSibling);},options);return cm;}; // STRING STREAM
// Fed to the mode parsers, provides helper functions to make
// parsers more succinct.
var StringStream=CodeMirror.StringStream=function(string,tabSize){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;};StringStream.prototype={eol:function eol(){return this.pos>=this.string.length;},sol:function sol(){return this.pos==this.lineStart;},peek:function peek(){return this.string.charAt(this.pos)||undefined;},next:function next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++);},eat:function eat(match){var ch=this.string.charAt(this.pos);if(typeof match=="string")var ok=ch==match;else var ok=ch&&(match.test?match.test(ch):match(ch));if(ok){++this.pos;return ch;}},eatWhile:function eatWhile(match){var start=this.pos;while(this.eat(match)){}return this.pos>start;},eatSpace:function eatSpace(){var start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos;}return this.pos>start;},skipToEnd:function skipToEnd(){this.pos=this.string.length;},skipTo:function skipTo(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true;}},backUp:function backUp(n){this.pos-=n;},column:function column(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start;}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);},indentation:function indentation(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);},match:function match(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function cased(str){return caseInsensitive?str.toLowerCase():str;};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false)this.pos+=pattern.length;return true;}}else {var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0)return null;if(match&&consume!==false)this.pos+=match[0].length;return match;}},current:function current(){return this.string.slice(this.start,this.pos);},hideFirstChars:function hideFirstChars(n,inner){this.lineStart+=n;try{return inner();}finally {this.lineStart-=n;}}}; // TEXTMARKERS
// Created with markText and setBookmark methods. A TextMarker is a
// handle that can be used to clear or find a marked position in the
// document. Line objects hold arrays (markedSpans) containing
// {from, to, marker} object pointing to such marker objects, and
// indicating that such a marker is present on that line. Multiple
// lines may point to the same marker when it spans across lines.
// The spans will have null for their from/to properties when the
// marker continues beyond the start/end of the line. Markers have
// links back to the lines they currently touch.
var nextMarkerId=0;var TextMarker=CodeMirror.TextMarker=function(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId;};eventMixin(TextMarker); // Clear the marker.
TextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp)startOperation(cm);if(hasHandler(this,"clear")){var found=this.find();if(found)signalLater(this,"clear",found.from,found.to);}var min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(cm&&!this.collapsed)regLineChange(cm,lineNo(line),"text");else if(cm){if(span.to!=null)max=lineNo(line);if(span.from!=null)min=lineNo(line);}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm)updateLineHeight(line,textHeight(cm.display));}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var visual=visualLine(this.lines[i]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=true;}}if(min!=null&&cm&&this.collapsed)regChange(cm,min,max+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm)reCheckSelection(cm.doc);}if(cm)signalLater(cm,"markerCleared",cm,this);if(withOp)endOperation(cm);if(this.parent)this.parent.clear();}; // Find the position of the marker in the document. Returns a {from,
// to} object by default. Side can be passed to get a specific side
// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the
// Pos objects returned contain a line object, rather than a line
// number (used to prevent looking up the same line twice).
TextMarker.prototype.find=function(side,lineObj){if(side==null&&this.type=="bookmark")side=1;var from,to;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1)return from;}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1)return to;}}return from&&{from:from,to:to};}; // Signals that the marker's widget changed, and surrounding layout
// should be recomputed.
TextMarker.prototype.changed=function(){var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm)return;runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true;}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight)updateLineHeight(line,line.height+dHeight);}});};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1)(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this);}this.lines.push(line);};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this);}}; // Collapsed markers have unique ids, in order to be able to order
// them, which is needed for uniquely determining an outer marker
// when they overlap (they may nest, but not partially overlap).
var nextMarkerId=0; // Create a marker, wire it up to the right lines, and
function _markText(doc,from,to,options,type){ // Shared markers (across linked documents) are handled separately
// (markTextShared will call out to this again, once per
// document).
if(options&&options.shared)return markTextShared(doc,from,to,options,type); // Ensure we are in an operation.
if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,_markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options)copyObj(options,marker,false); // Don't connect empty markers unless clearWhenEmpty is false
if(diff>0||diff==0&&marker.clearWhenEmpty!==false)return marker;if(marker.replacedWith){ // Showing up as a widget implies collapsed (widget replaces text)
marker.collapsed=true;marker.widgetNode=elt("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents)marker.widgetNode.setAttribute("cm-ignore-events","true");if(options.insertLeft)marker.widgetNode.insertLeft=true;}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");sawCollapsedSpans=true;}if(marker.addToHistory)addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine)updateMaxLine=true;if(marker.collapsed&&curLine!=from.line)updateLineHeight(line,0);addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine;}); // lineIsHidden depends on the presence of the spans, so needs a second pass
if(marker.collapsed)doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line))updateLineHeight(line,0);});if(marker.clearOnEnter)on(marker,"beforeCursorEnter",function(){marker.clear();});if(marker.readOnly){sawReadOnlySpans=true;if(doc.history.done.length||doc.history.undone.length)doc.clearHistory();}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true;}if(cm){ // Sync editor state
if(updateMaxLine)cm.curOp.updateMaxLine=true;if(marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css)for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,"text");}if(marker.atomic)reCheckSelection(cm.doc);signalLater(cm,"markerAdded",cm,marker);}return marker;} // SHARED TEXTMARKERS
// A shared marker spans multiple linked documents. It is
// implemented as a meta-marker-object controlling multiple normal
// markers.
var SharedTextMarker=CodeMirror.SharedTextMarker=function(markers,primary){this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this;}};eventMixin(SharedTextMarker);SharedTextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i){this.markers[i].clear();}signalLater(this,"clear");};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj);};function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[_markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget)options.widgetNode=widget.cloneNode(true);markers.push(_markText(doc,_clipPos(doc,from),_clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent)return;}primary=lst(markers);});return new SharedTextMarker(markers,primary);}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent;});}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find();var mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=_markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker;}}}function detachSharedMarkers(markers){for(var i=0;i<markers.length;i++){var marker=markers[i],linked=[marker.primary.doc];;linkedDocs(marker.primary.doc,function(d){linked.push(d);});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1);}}}} // TEXTMARKER SPANS
function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to;} // Search an array of spans for a span matching the given marker.
function getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span;}} // Remove a span from an array, returning undefined if no spans are
// left (we don't store arrays for lines without spans).
function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i){if(spans[i]!=span)(r||(r=[])).push(spans[i]);}return r;} // Add a span to a line.
function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line);} // Used for the algorithm that adjusts markers for a change in the
// document. These functions cut an array of spans at a given
// character position, returning an array of remaining chunks (or
// undefined if nothing remains).
function markedSpansBefore(old,startCh,isInsert){if(old)for(var i=0,nw;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to));}}return nw;}function markedSpansAfter(old,endCh,isInsert){if(old)for(var i=0,nw;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh));}}return nw;} // Given a change object, compute the new set of marker spans that
// cover the line in which the change took place. Removes spans
// entirely within the change, reconnects spans belonging to the
// same marker that appear on both sides of the change, and cuts off
// spans partially within the change. Returns an array of span
// arrays with one element for each line in (after) the change.
function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0; // Get the spans that 'stick out' on both sides
var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert); // Next, merge those two ends
var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first){ // Fix up .to properties of first
for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found)span.to=startCh;else if(sameLine)span.to=found.to==null?null:found.to+offset;}}}if(last){ // Fix up .from in last (or move them into first in case of sameLine)
for(var i=0;i<last.length;++i){var span=last[i];if(span.to!=null)span.to+=offset;if(span.from==null){var found=getMarkedSpanFor(first,span.marker);if(!found){span.from=offset;if(sameLine)(first||(first=[])).push(span);}}else {span.from+=offset;if(sameLine)(first||(first=[])).push(span);}}} // Make sure we didn't create any zero-length spans
if(first)first=clearEmptySpans(first);if(last&&last!=first)last=clearEmptySpans(last);var newMarkers=[first];if(!sameLine){ // Fill gap with whole-line-spans
var gap=change.text.length-2,gapMarkers;if(gap>0&&first)for(var i=0;i<first.length;++i){if(first[i].to==null)(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i].marker,null,null));}for(var i=0;i<gap;++i){newMarkers.push(gapMarkers);}newMarkers.push(last);}return newMarkers;} // Remove spans that are empty and don't have a clearWhenEmpty
// option of false.
function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false)spans.splice(i--,1);}if(!spans.length)return null;return spans;} // Used for un/re-doing changes from the history. Combines the
// result of computing the existing spans with the set of spans that
// existed in the history (so that deleting around a span and then
// undoing brings back the span).
function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans: for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker)continue spans;}oldCur.push(span);}}else if(stretchCur){old[i]=stretchCur;}}return old;} // Used to 'clip' out readOnly ranges when making a change.
function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1))(markers||(markers=[])).push(mark);}});if(!markers)return null;var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)continue;var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom)newParts.push({from:p.from,to:m.from});if(dto>0||!mk.inclusiveRight&&!dto)newParts.push({from:m.to,to:p.to});parts.splice.apply(parts,newParts);j+=newParts.length-1;}}return parts;} // Connect or disconnect spans from a line.
function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans)return;for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line);}line.markedSpans=null;}function attachMarkedSpans(line,spans){if(!spans)return;for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line);}line.markedSpans=spans;} // Helpers used when computing which overlapping collapsed span
// counts as the larger one.
function extraLeft(marker){return marker.inclusiveLeft?-1:0;}function extraRight(marker){return marker.inclusiveRight?1:0;} // Returns a number indicating which of two overlapping collapsed
// spans is larger (and thus includes the other). Falls back to
// comparing ids when the spans cover exactly the same range.
function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0)return lenDiff;var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return -fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp)return toCmp;return b.id-a.id;} // Find out whether a line ends or starts in a collapsed span. If
// so, return the marker for that span.
function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps)for(var sp,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0))found=sp.marker;}return found;}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true);}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false);} // Test whether there exists a collapsed span that partially
// overlaps (covers the start or end, but not both) of a new span.
// Such overlap is not allowed.
function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed)continue;var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)continue;if(fromCmp<=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0))return true;}} // A visual line is a line as drawn on the screen. Folding, for
// example, can cause multiple logical lines to appear on the same
// visual line. This finds the start of the visual line that the
// given line is part of (usually that is the line itself).
function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,true).line;}return line;} // Returns an array of logical lines that continue the visual line
// started by the argument, or undefined if there are no such lines.
function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line);}return lines;} // Get the line number of the start of the visual line that the
// given line number is part of.
function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis)return lineN;return lineNo(vis);} // Get the line number of the start of the next visual line after
// the given line.
function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line))return lineN;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;}return lineNo(line)+1;} // Compute whether a line is hidden. Lines count as hidden when they
// are part of a visual line that starts with another line, or when
// they are entirely covered by collapsed, non-widget span.
function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed)continue;if(sp.from==null)return true;if(sp.marker.widgetNode)continue;if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return true;}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker));}if(span.marker.inclusiveRight&&span.to==line.text.length)return true;for(var sp,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return true;}} // LINE WIDGETS
// Line widgets are block elements displayed above or below a line.
var LineWidget=CodeMirror.LineWidget=function(doc,node,options){if(options)for(var opt in options){if(options.hasOwnProperty(opt))this[opt]=options[opt];}this.doc=doc;this.node=node;};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(_heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop))addToScrollPos(cm,null,diff);}LineWidget.prototype.clear=function(){var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws)return;for(var i=0;i<ws.length;++i){if(ws[i]==this)ws.splice(i--,1);}if(!ws.length)line.widgets=null;var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm)runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget");});};LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff)return;updateLineHeight(line,line.height+diff);if(cm)runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff);});};function widgetHeight(widget){if(widget.height!=null)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter)parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;";if(widget.noHScroll)parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;";removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle));}return widget.height=widget.node.parentNode.offsetHeight;}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll)cm.display.alignWidgets=true;changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null)widgets.push(widget);else widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget);widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=_heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible)addToScrollPos(cm,null,widget.height);cm.curOp.forceUpdate=true;}return true;});return widget;} // LINE DATA STRUCTURE
// Line objects. These hold state related to a line, including
// highlighting info (the styles array).
var Line=CodeMirror.Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1;};eventMixin(Line);Line.prototype.lineNo=function(){return lineNo(this);}; // Change the content (text, markers) of a line. Automatically
// invalidates cached information and tries to re-estimate the
// line's height.
function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null;if(line.order!=null)line.order=null;detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height)updateLineHeight(line,estHeight);} // Detach a line from the document tree and its markers.
function cleanUpLine(line){line.parent=null;detachMarkedSpans(line);}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(output[prop]==null)output[prop]=lineClass[2];else if(!new RegExp("(?:^|\s)"+lineClass[2]+"(?:$|\s)").test(output[prop]))output[prop]+=" "+lineClass[2];}return type;}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(!mode.innerMode)return;var inner=CodeMirror.innerMode(mode,state);if(inner.mode.blankLine)return inner.mode.blankLine(inner.state);}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){if(inner)inner[0]=CodeMirror.innerMode(mode,state).mode;var style=mode.token(stream,state);if(stream.pos>stream.start)return style;}throw new Error("Mode "+mode.name+" failed to advance stream.");} // Utility for getTokenAt and getLineTokens
function takeToken(cm,pos,precise,asArray){function getObj(copy){return {start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state};}var doc=cm.doc,mode=doc.mode,style;pos=_clipPos(doc,pos);var line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize),tokens;if(asArray)tokens=[];while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,state);if(asArray)tokens.push(getObj(true));}return asArray?tokens:getObj();} // Run the given mode's parser over a line, calling f for each token.
function runMode(cm,text,mode,state,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null)flattenSpans=cm.options.flattenSpans;var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize),style;var inner=cm.options.addModeClass&&[null];if(text=="")extractLineClasses(callBlankLine(mode,state),lineClasses);while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd)processLine(cm,text,state,stream.pos);stream.pos=text.length;style=null;}else {style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses);}if(inner){var mName=inner[0].name;if(mName)style="m-"+(style?mName+" "+style:mName);}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+50000);f(curStart,curStyle);}curStyle=style;}stream.start=stream.pos;}while(curStart<stream.pos){ // Webkit seems to refuse to render text nodes longer than 57444 characters
var pos=Math.min(stream.pos,curStart+50000);f(pos,curStyle);curStart=pos;}} // Compute a style array (an array starting with a mode generation
// -- for invalidation -- followed by pairs of end positions and
// style strings), which is used to highlight the tokens on the
// line.
function highlightLine(cm,line,state,forceToEnd){ // A styles array always starts with a number identifying the
// mode/overlays that it is based on (for easy invalidation).
var st=[cm.state.modeGen],lineClasses={}; // Compute the base array of styles
runMode(cm,line.text,cm.doc.mode,state,function(end,style){st.push(end,style);},lineClasses,forceToEnd); // Run overlays, adjust style array.
for(var o=0;o<cm.state.overlays.length;++o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,true,function(end,style){var start=i; // Ensure there's a token end at the current position, and that i points at it
while(at<end){var i_end=st[i];if(i_end>end)st.splice(i,1,end,st[i+1],i_end);i+=2;at=Math.min(end,i_end);}if(!style)return;if(overlay.opaque){st.splice(start,i-start,end,"cm-overlay "+style);i=start+2;}else {for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"cm-overlay "+style;}}},lineClasses);}return {styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null};}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var state=getStateBefore(cm,lineNo(line));var result=highlightLine(cm,line,line.text.length>cm.options.maxHighlightLength?copyState(cm.doc.mode,state):state);line.stateAfter=state;line.styles=result.styles;if(result.classes)line.styleClasses=result.classes;else if(line.styleClasses)line.styleClasses=null;if(updateFrontier===cm.doc.frontier)cm.doc.frontier++;}return line.styles;} // Lightweight form of highlight -- proceed over this line and
// update state, but don't save a style array. Used for lines that
// aren't currently visible.
function processLine(cm,text,state,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize);stream.start=stream.pos=startAt||0;if(text=="")callBlankLine(mode,state);while(!stream.eol()){readToken(mode,stream,state);stream.start=stream.pos;}} // Convert a style as returned by a mode (either null, or a string
// containing one or more styles) to a CSS style. This is cached,
// and also looks for line-wide styles.
var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"));} // Render the DOM representation of the text of a line. Also builds
// up a 'line map', which points at the DOM nodes that represent
// specific stretches of text, and is used by the measuring code.
// The returned object contains the DOM node, this map, and
// information about line-wide styles that were set by the mode.
function buildLineContent(cm,lineView){ // The padding-right forces the element to have a 'border', which
// is needed on Webkit to be able to get line-level bounding
// rectangles for it (in measureChar).
var content=elt("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:elt("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,splitSpaces:(ie||webkit)&&cm.getOption("lineWrapping")};lineView.measure={}; // Iterate over the logical lines that make up this visual line.
for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order;builder.pos=0;builder.addToken=buildToken; // Optionally wire in some hacks into the token-rendering
// algorithm, to deal with browser quirks.
if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line)))builder.addToken=buildTokenBadBidi(builder.addToken,order);builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass)builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"");if(line.styleClasses.textClass)builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"");} // Ensure at least a single node is present, for measuring.
if(builder.map.length==0)builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure))); // Store the map and a cache object for the current logical line
if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={};}else {(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({});}} // See issue #2901
if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab"))builder.content.className="cm-tab-wrap-hack";}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className)builder.textClass=joinClasses(builder.pre.className,builder.textClass||"");return builder;}function defaultSpecialCharPlaceholder(ch){var token=elt("span","","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token;} // Build up the DOM representation for a single token, and add it to
// the line map. Takes care to render special characters separately.
function buildToken(builder,text,style,startStyle,endStyle,title,css){if(!text)return;var displayText=builder.splitSpaces?text.replace(/ {3,}/g,splitSpaces):text;var special=builder.cm.state.specialChars,mustWrap=false;if(!special.test(text)){builder.col+=text.length;var content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9)mustWrap=true;builder.pos+=text.length;}else {var content=document.createDocumentFragment(),pos=0;while(true){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&ie_version<9)content.appendChild(elt("span",[txt]));else content.appendChild(txt);builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped;}if(!m)break;pos+=skipped+1;if(m[0]=="\t"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;var txt=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt.setAttribute("role","presentation");txt.setAttribute("cm-text","\t");builder.col+=tabWidth;}else if(m[0]=="\r"||m[0]=="\n"){var txt=content.appendChild(elt("span",m[0]=="\r"?"":"","cm-invalidchar"));txt.setAttribute("cm-text",m[0]);builder.col+=1;}else {var txt=builder.cm.options.specialCharPlaceholder(m[0]);txt.setAttribute("cm-text",m[0]);if(ie&&ie_version<9)content.appendChild(elt("span",[txt]));else content.appendChild(txt);builder.col+=1;}builder.map.push(builder.pos,builder.pos+1,txt);builder.pos++;}}if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";if(startStyle)fullStyle+=startStyle;if(endStyle)fullStyle+=endStyle;var token=elt("span",[content],fullStyle,css);if(title)token.title=title;return builder.content.appendChild(token);}builder.content.appendChild(content);}function splitSpaces(old){var out=" ";for(var i=0;i<old.length-2;++i){out+=i%2?" ":"";}out+=" ";return out;} // Work around nonsense dimensions being reported for stretches of
// right-to-left text.
function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title,css){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){ // Find the part that overlaps with the start of this text
for(var i=0;i<order.length;i++){var part=order[i];if(part.to>start&&part.from<=start)break;}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,title,css);inner(builder,text.slice(0,part.to-start),style,startStyle,null,title,css);startStyle=null;text=text.slice(part.to-start);start=part.to;}};}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget)builder.map.push(builder.pos,builder.pos+size,widget);if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget)widget=builder.content.appendChild(document.createElement("span"));widget.setAttribute("cm-marker",marker.id);}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget);}builder.pos+=size;} // Outputs a number of spans to make up a line, taking highlighting
// and marked text into account.
function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i=1;i<styles.length;i+=2){builder.addToken(builder,allText.slice(at,at=styles[i]),interpretTokenStyle(styles[i+1],builder.cm.options));}return;}var len=allText.length,pos=0,i=1,text="",style,css;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;for(;;){if(nextChange==pos){ // Update current marker set
spanStyle=spanEndStyle=spanStartStyle=title=css="";collapsed=null;nextChange=Infinity;var foundBookmarks=[],endStyles;for(var j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m);}else if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle="";}if(m.className)spanStyle+=" "+m.className;if(m.css)css=(css?css+";":"")+m.css;if(m.startStyle&&sp.from==pos)spanStartStyle+=" "+m.startStyle;if(m.endStyle&&sp.to==nextChange)(endStyles||(endStyles=[])).push(m.endStyle,sp.to);if(m.title&&!title)title=m.title;if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0))collapsed=sp;}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from;}}if(endStyles)for(var j=0;j<endStyles.length;j+=2){if(endStyles[j+1]==nextChange)spanEndStyle+=" "+endStyles[j];}if(!collapsed||collapsed.from==pos)for(var j=0;j<foundBookmarks.length;++j){buildCollapsedSpan(builder,0,foundBookmarks[j]);}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null)return;if(collapsed.to==pos)collapsed=false;}}if(pos>=len)break;var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css);}if(end>=upto){text=text.slice(upto-pos);pos=upto;break;}pos=end;spanStartStyle="";}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options);}}} // DOCUMENT DATA STRUCTURE
// By default, updates that start and end at the beginning of a line
// are treated specially, in order to make the association of line
// widgets and marker elements with the text behave more intuitive.
function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore);} // Perform a change on the document data structure.
function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null;}function update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,"change",line,change);}function linesFor(start,end){for(var i=start,result=[];i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight));}return result;}var from=change.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line; // Adjust the line structure
if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length);}else if(isWholeLineUpdate(doc,change)){ // This is a whole-line replace. Treated specially to make
// sure line objects move the way they are supposed to.
var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines)doc.remove(from.line,nlines);if(added.length)doc.insert(from.line,added);}else if(firstLine==lastLine){if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);}else {var added=linesFor(1,text.length-1);added.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added);}}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines);}else {update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added=linesFor(1,text.length-1);if(nlines>1)doc.remove(from.line+1,nlines-1);doc.insert(from.line+1,added);}signalLater(doc,"change",doc,change);} // The document is represented as a BTree consisting of leaves, with
// chunk of lines in them, and branches, with up to ten leaves or
// other branch nodes below them. The top node is always a branch
// node, and is the document object itself (meaning it has
// additional methods and properties).
//
// All nodes have parent links. The tree is used both to go from
// line numbers to line objects, and to go from objects to numbers.
// It also indexes by height, and is used to convert between height
// and line object, and to find the total height of the document.
//
// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html
function LeafChunk(lines){this.lines=lines;this.parent=null;for(var i=0,height=0;i<lines.length;++i){lines[i].parent=this;height+=lines[i].height;}this.height=height;}LeafChunk.prototype={chunkSize:function chunkSize(){return this.lines.length;}, // Remove the n lines at offset 'at'.
removeInner:function removeInner(at,n){for(var i=at,e=at+n;i<e;++i){var line=this.lines[i];this.height-=line.height;cleanUpLine(line);signalLater(line,"delete");}this.lines.splice(at,n);}, // Helper used to collapse a small branch into a single leaf.
collapse:function collapse(lines){lines.push.apply(lines,this.lines);}, // Insert the given array of lines at offset 'at', count them as
// having the given height.
insertInner:function insertInner(at,lines,height){this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this;}}, // Used to iterate over a part of the tree.
iterN:function iterN(at,n,op){for(var e=at+n;at<e;++at){if(op(this.lines[at]))return true;}}};function BranchChunk(children){this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this;}this.size=size;this.height=height;this.parent=null;}BranchChunk.prototype={chunkSize:function chunkSize(){return this.size;},removeInner:function removeInner(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this.height-=oldHeight-child.height;if(sz==rm){this.children.splice(i--,1);child.parent=null;}if((n-=rm)==0)break;at=0;}else at-=sz;} // If the result is smaller than 25 lines, ensure that it is a
// single leaf node.
if(this.size-n<25&&(this.children.length>1||!(this.children[0] instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this;}},collapse:function collapse(lines){for(var i=0;i<this.children.length;++i){this.children[i].collapse(lines);}},insertInner:function insertInner(at,lines,height){this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){ // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.
// Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.
var remaining=child.lines.length%25+25;for(var pos=remaining;pos<child.lines.length;){var leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this.children.splice(++i,0,leaf);leaf.parent=this;}child.lines=child.lines.slice(0,remaining);this.maybeSpill();}break;}at-=sz;}}, // When a node has grown, check whether it should be split.
maybeSpill:function maybeSpill(){if(this.children.length<=10)return;var me=this;do {var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){ // Become the parent node
var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy;}else {me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling);}sibling.parent=me.parent;}while(me.children.length>10);me.parent.maybeSpill();},iterN:function iterN(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return true;if((n-=used)==0)break;at=0;}else at-=sz;}}};var nextDocId=0;var Doc=CodeMirror.Doc=function(text,mode,firstLine,lineSep){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep);if(firstLine==null)firstLine=0;BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.extend=false;if(typeof text=="string")text=this.splitLines(text);updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll);};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc, // Iterate over the document. Supports two forms -- with only one
// argument, it calls that for each line in the document. With
// three, it iterates over the range given by the first two (with
// the second being non-inclusive).
iter:function iter(from,to,op){if(op)this.iterN(from-this.first,to-from,op);else this.iterN(this.first,this.first+this.size,from);}, // Non-public interface for adding and removing lines.
insert:function insert(at,lines){var height=0;for(var i=0;i<lines.length;++i){height+=lines[i].height;}this.insertInner(at-this.first,lines,height);},remove:function remove(at,n){this.removeInner(at-this.first,n);}, // From here, the methods are part of the public interface. Most
// are also available from CodeMirror (editor) instances.
getValue:function getValue(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false)return lines;return lines.join(lineSep||this.lineSeparator());},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:true},true);setSelection(this,simpleSelection(top));}),replaceRange:function replaceRange(code,from,to,origin){from=_clipPos(this,from);to=to?_clipPos(this,to):from;_replaceRange(this,code,from,to,origin);},getRange:function getRange(from,to,lineSep){var lines=getBetween(this,_clipPos(this,from),_clipPos(this,to));if(lineSep===false)return lines;return lines.join(lineSep||this.lineSeparator());},getLine:function getLine(line){var l=this.getLineHandle(line);return l&&l.text;},getLineHandle:function getLineHandle(line){if(isLine(this,line))return getLine(this,line);},getLineNumber:function getLineNumber(line){return lineNo(line);},getLineHandleVisualStart:function getLineHandleVisualStart(line){if(typeof line=="number")line=getLine(this,line);return visualLine(line);},lineCount:function lineCount(){return this.size;},firstLine:function firstLine(){return this.first;},lastLine:function lastLine(){return this.first+this.size-1;},clipPos:function clipPos(pos){return _clipPos(this,pos);},getCursor:function getCursor(start){var range=this.sel.primary(),pos;if(start==null||start=="head")pos=range.head;else if(start=="anchor")pos=range.anchor;else if(start=="end"||start=="to"||start===false)pos=range.to();else pos=range.from();return pos;},listSelections:function listSelections(){return this.sel.ranges;},somethingSelected:function somethingSelected(){return this.sel.somethingSelected();},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,_clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options);}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,_clipPos(this,anchor),_clipPos(this,head||anchor),options);}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,_clipPos(this,head),other&&_clipPos(this,other),options);}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options);}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options);}),setSelections:docMethodOp(function(ranges,primary,options){if(!ranges.length)return;for(var i=0,out=[];i<ranges.length;i++){out[i]=new Range(_clipPos(this,ranges[i].anchor),_clipPos(this,ranges[i].head));}if(primary==null)primary=Math.min(ranges.length-1,this.sel.primIndex);setSelection(this,normalizeSelection(out,primary),options);}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(_clipPos(this,anchor),_clipPos(this,head||anchor)));setSelection(this,normalizeSelection(ranges,ranges.length-1),options);}),getSelection:function getSelection(lineSep){var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel;}if(lineSep===false)return lines;else return lines.join(lineSep||this.lineSeparator());},getSelections:function getSelections(lineSep){var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());if(lineSep!==false)sel=sel.join(lineSep||this.lineSeparator());parts[i]=sel;}return parts;},replaceSelection:function replaceSelection(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++){dup[i]=code;}this.replaceSelections(dup,collapse,origin||"+input");},replaceSelections:docMethodOp(function(code,collapse,origin){var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:this.splitLines(code[i]),origin:origin};}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);for(var i=changes.length-1;i>=0;i--){makeChange(this,changes[i]);}if(newSel)setSelectionReplaceHistory(this,newSel);else if(this.cm)ensureCursorVisible(this.cm);}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo");}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo");}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true);}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",true);}),setExtending:function setExtending(val){this.extend=val;},getExtending:function getExtending(){return this.extend;},historySize:function historySize(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++){if(!hist.done[i].ranges)++done;}for(var i=0;i<hist.undone.length;i++){if(!hist.undone[i].ranges)++undone;}return {undo:done,redo:undone};},clearHistory:function clearHistory(){this.history=new History(this.history.maxGeneration);},markClean:function markClean(){this.cleanGeneration=this.changeGeneration(true);},changeGeneration:function changeGeneration(forceSplit){if(forceSplit)this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;return this.history.generation;},isClean:function isClean(gen){return this.history.generation==(gen||this.cleanGeneration);},getHistory:function getHistory(){return {done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)};},setHistory:function setHistory(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true);},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";if(!line[prop])line[prop]=cls;else if(classTest(cls).test(line[prop]))return false;else line[prop]+=" "+cls;return true;});}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";var cur=line[prop];if(!cur)return false;else if(cls==null)line[prop]=null;else {var found=cur.match(classTest(cls));if(!found)return false;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null;}return true;});}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options);}),removeLineWidget:function removeLineWidget(widget){widget.clear();},markText:function markText(from,to,options){return _markText(this,_clipPos(this,from),_clipPos(this,to),options,options&&options.type||"range");},setBookmark:function setBookmark(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=_clipPos(this,pos);return _markText(this,pos,pos,realOpts,"bookmark");},findMarksAt:function findMarksAt(pos){pos=_clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch))markers.push(span.marker.parent||span.marker);}return markers;},findMarks:function findMarks(from,to,filter){from=_clipPos(this,from);to=_clipPos(this,to);var found=[],lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];if(!(span.to!=null&&lineNo==from.line&&from.ch>=span.to||span.from==null&&lineNo!=from.line||span.from!=null&&lineNo==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker)))found.push(span.marker.parent||span.marker);}++lineNo;});return found;},getAllMarks:function getAllMarks(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){if(sps[i].from!=null)markers.push(sps[i].marker);}});return markers;},posFromIndex:function posFromIndex(off){var ch,lineNo=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return true;}off-=sz;++lineNo;});return _clipPos(this,Pos(lineNo,ch));},indexFromPos:function indexFromPos(coords){coords=_clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0)return 0;var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize;});return index;},copy:function copy(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory());}return doc;},linkedDoc:function linkedDoc(options){if(!options)options={};var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from)from=options.from;if(options.to!=null&&options.to<to)to=options.to;var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep);if(options.sharedHist)copy.history=this.history;(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy;},unlinkDoc:function unlinkDoc(other){if(other instanceof CodeMirror)other=other.doc;if(this.linked)for(var i=0;i<this.linked.length;++i){var link=this.linked[i];if(link.doc!=other)continue;this.linked.splice(i,1);other.unlinkDoc(this);detachSharedMarkers(findSharedMarkers(this));break;} // If the histories were shared, split them again
if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){splitIds.push(doc.id);},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds);}},iterLinkedDocs:function iterLinkedDocs(f){linkedDocs(this,f);},getMode:function getMode(){return this.mode;},getEditor:function getEditor(){return this.cm;},splitLines:function splitLines(str){if(this.lineSep)return str.split(this.lineSep);return splitLinesAuto(str);},lineSeparator:function lineSeparator(){return this.lineSep||"\n";}}); // Public alias.
Doc.prototype.eachLine=Doc.prototype.iter; // Set up methods on CodeMirror's prototype to redirect to the editor's document.
var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0)CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments);};}(Doc.prototype[prop]);}eventMixin(Doc); // Call f for all linked documents.
function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip)continue;var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared)continue;f(rel.doc,shared);propagate(rel.doc,doc,shared);}}propagate(doc,null,true);} // Attach a document to an editor.
function attachDoc(cm,doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);if(!cm.options.lineWrapping)findMaxLine(cm);cm.options.mode=doc.modeOption;regChange(cm);} // LINE UTILITIES
// Find the line object corresponding to the given line number.
function getLine(doc,n){n-=doc.first;if(n<0||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");for(var chunk=doc;!chunk.lines;){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break;}n-=sz;}}return chunk.lines[n];} // Get the part of a document between two positions, as an array of
// strings.
function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line)text=text.slice(0,end.ch);if(n==start.line)text=text.slice(start.ch);out.push(text);++n;});return out;} // Get the lines between from and to, as array of strings.
function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text);});return out;} // Update the height of a line, propagating the height change
// upwards to parent nodes.
function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent){n.height+=diff;}} // Given a line object, find its line number by walking up through
// its parent links.
function lineNo(line){if(line.parent==null)return null;var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur)break;no+=chunk.children[i].chunkSize();}}return no+cur.first;} // Find the line at the given vertical position, using the height
// information in the document tree.
function _lineAtHeight(chunk,h){var n=chunk.first;outer: do {for(var i=0;i<chunk.children.length;++i){var child=chunk.children[i],ch=child.height;if(h<ch){chunk=child;continue outer;}h-=ch;n+=child.chunkSize();}return n;}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh)break;h-=lh;}return n+i;} // Find the height above the given line.
function _heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;else h+=line.height;}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i=0;i<p.children.length;++i){var cur=p.children[i];if(cur==chunk)break;else h+=cur.height;}}return h;} // Get the bidi ordering for the given line (and cache it). Returns
// false for lines that are fully left-to-right, and an array of
// BidiSpan objects otherwise.
function getOrder(line){var order=line.order;if(order==null)order=line.order=bidiOrdering(line.text);return order;} // HISTORY
function History(startGen){ // Arrays of change events and selections. Doing something adds an
// event to done and clears undo. Undoing moves events from done
// to undone, redoing moves them in the other direction.
this.done=[];this.undone=[];this.undoDepth=Infinity; // Used to track when changes can be merged into a single undo
// event
this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null; // Used by the isClean() method
this.generation=this.maxGeneration=startGen||1;} // Create a history change event from an updateDoc-style change
// object.
function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);},true);return histChange;} // Pop all selection events off the end of a history array. Stop at
// a change event.
function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges)array.pop();else break;}} // Find the top change event in the history. Pop off selection
// events that are in the way.
function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done);}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done);}else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done);}} // Register a change in the history. Merges changes that are within
// a single operation, ore are close together with an origin that
// allows merging (starting with "+") into a single event.
function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date(),cur;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)=="+"&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){ // Merge this change into the last event
var last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0){ // Optimized case for simple insertion -- don't want to add
// new changesets for every character typed
last.to=changeEnd(change);}else { // Add new sub-event
cur.changes.push(historyChangeFromChange(doc,change));}}else { // Can not be merged, start a new event.
var before=lst(hist.done);if(!before||!before.ranges)pushSelectionToHistory(doc.sel,hist.done);cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges)hist.done.shift();}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last)signal(doc,"historyAdded");}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date()-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500);} // Called whenever the selection changes, sets the new selection as
// the pending selection in the history, and pushes the old pending
// selection into the 'done' array when it was significantly
// different (in number of selected ranges, emptiness, or time).
function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin; // A new event is started when the previous origin does not match
// the current, or the origins don't allow matching. Origins
// starting with * are always merged, those starting with + are
// merged when similar and close together in time.
if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel)))hist.done[hist.done.length-1]=sel;else pushSelectionToHistory(sel,hist.done);hist.lastSelTime=+new Date();hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false)clearSelectionEvents(hist.undone);}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel)))dest.push(sel);} // Used to store marked span information in the history.
function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans)(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans;++n;});} // When un/re-doing restores text containing marked spans, those
// that have been explicitly cleared should not be restored.
function removeClearedSpans(spans){if(!spans)return null;for(var i=0,out;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out)out=spans.slice(0,i);}else if(out)out.push(spans[i]);}return !out?spans:out.length?out:null;} // Retrieve and filter the old marked spans stored in a change event.
function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found)return null;for(var i=0,nw=[];i<change.text.length;++i){nw.push(removeClearedSpans(found[i]));}return nw;} // Used both to provide a JSON-safe object in .getHistory, and, when
// detaching a document, to split the history in two
function copyHistoryArray(events,newGroup,instantiateSel){for(var i=0,copy=[];i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue;}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup)for(var prop in change){if(m=prop.match(/^spans_(\d+)$/)){if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop];}}}}}return copy;} // Rebasing/resetting history to deal with externally-sourced changes
function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff;}else if(from<pos.line){pos.line=from;pos.ch=0;}} // Tries to rebase an array of history events given a change in the
// document. If the change touches the same lines as the event, the
// event, and everything 'behind' it, is discarded. If the change is
// before the event, the event's positions are updated. Uses a
// copy-on-write scheme for the positions, to avoid having to
// reallocate them all on every rebase, but also avoid problems with
// shared position objects being unsafely updated.
function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true;}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff);}continue;}for(var j=0;j<sub.changes.length;++j){var cur=sub.changes[j];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch);}else if(from<=cur.to.line){ok=false;break;}}if(!ok){array.splice(0,i+1);i=0;}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff);} // EVENT UTILITIES
// Due to the fact that we still support jurassic IE versions, some
// compatibility wrappers are needed.
var e_preventDefault=CodeMirror.e_preventDefault=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false;};var e_stopPropagation=CodeMirror.e_stopPropagation=function(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true;};function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false;}var e_stop=CodeMirror.e_stop=function(e){e_preventDefault(e);e_stopPropagation(e);};function e_target(e){return e.target||e.srcElement;}function e_button(e){var b=e.which;if(b==null){if(e.button&1)b=1;else if(e.button&2)b=3;else if(e.button&4)b=2;}if(mac&&e.ctrlKey&&b==1)b=3;return b;} // EVENT HANDLING
// Lightweight event framework. on/off also work on DOM nodes,
// registering native DOM handlers.
var on=CodeMirror.on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,false);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else {var map=emitter._handlers||(emitter._handlers={});var arr=map[type]||(map[type]=[]);arr.push(f);}};var noHandlers=[];function getHandlers(emitter,type,copy){var arr=emitter._handlers&&emitter._handlers[type];if(copy)return arr&&arr.length>0?arr.slice():noHandlers;else return arr||noHandlers;}var off=CodeMirror.off=function(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,false);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else {var handlers=getHandlers(emitter,type,false);for(var i=0;i<handlers.length;++i){if(handlers[i]==f){handlers.splice(i,1);break;}}}};var signal=CodeMirror.signal=function(emitter,type /*, values...*/){var handlers=getHandlers(emitter,type,true);if(!handlers.length)return;var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<handlers.length;++i){handlers[i].apply(null,args);}};var orphanDelayedCallbacks=null; // Often, we want to signal events at a point where we are in the
// middle of some work, but don't want the handler to start calling
// other methods on the editor, which might be in an inconsistent
// state or simply not expect any other events to happen.
// signalLater looks whether there are any handlers, and schedules
// them to be executed when the last operation ends, or, if no
// operation is active, when a timeout fires.
function signalLater(emitter,type /*, values...*/){var arr=getHandlers(emitter,type,false);if(!arr.length)return;var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks;}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks;}else {list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0);}function bnd(f){return function(){f.apply(null,args);};};for(var i=0;i<arr.length;++i){list.push(bnd(arr[i]));}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]();}} // The DOM events that CodeMirror handles can be overridden by
// registering a (non-DOM) handler on the editor for the event name,
// and preventDefault-ing the event in that handler.
function signalDOMEvent(cm,e,override){if(typeof e=="string")e={type:e,preventDefault:function preventDefault(){this.defaultPrevented=true;}};signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore;}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr)return;var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);for(var i=0;i<arr.length;++i){if(indexOf(set,arr[i])==-1)set.push(arr[i]);}}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0;} // Add on and off methods to a constructor's prototype, to make
// registering events on such objects more convenient.
function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f);};ctor.prototype.off=function(type,f){off(this,type,f);};} // MISC UTILITIES
// Number of pixels added to scroller and sizer to hide scrollbar
var scrollerGap=30; // Returned or thrown by various protocols to signal 'I'm not
// handling this'.
var Pass=CodeMirror.Pass={toString:function toString(){return "CodeMirror.Pass";}}; // Reused option objects for setSelection & friends
var sel_dontScroll={scroll:false},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};function Delayed(){this.id=null;}Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms);}; // Counts the column offset in a string, taking tabs into account.
// Used mostly to find indentation.
var countColumn=CodeMirror.countColumn=function(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\s\u00a0]/);if(end==-1)end=string.length;}for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end)return n+(end-i);n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1;}}; // The inverse of countColumn -- find the offset that corresponds to
// a particular column.
var findColumn=CodeMirror.findColumn=function(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("\t",pos);if(nextTab==-1)nextTab=string.length;var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal)return pos;}};var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+" ");}return spaceStrs[n];}function lst(arr){return arr[arr.length-1];}var selectInput=function selectInput(node){node.select();};if(ios) // Mobile Safari apparently has a bug where select() is broken.
selectInput=function selectInput(node){node.selectionStart=0;node.selectionEnd=node.value.length;};else if(ie) // Suppress mysterious IE10 errors
selectInput=function selectInput(node){try{node.select();}catch(_e){}};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt)return i;}return -1;}function map(array,f){var out=[];for(var i=0;i<array.length;i++){out[i]=f(array[i],i);}return out;}function nothing(){}function createObj(base,props){var inst;if(Object.create){inst=Object.create(base);}else {nothing.prototype=base;inst=new nothing();}if(props)copyObj(props,inst);return inst;};function copyObj(obj,target,overwrite){if(!target)target={};for(var prop in obj){if(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop)))target[prop]=obj[prop];}return target;}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args);};}var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var isWordCharBasic=CodeMirror.isWordChar=function(ch){return (/\w/.test(ch)||ch>"\x80"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch)));};function isWordChar(ch,helper){if(!helper)return isWordCharBasic(ch);if(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch))return true;return helper.test(ch);}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n])return false;}return true;} // Extending unicode characters. A series of a non-extending char +
// any number of extending chars is treated as a single unit as far
// as editing and measuring is concerned. This is not fully correct,
// since some scripts/fonts/browsers also treat other configurations
// of code points as a group.
var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch);} // DOM UTILITIES
function elt(tag,content,className,style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content=="string")e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i){e.appendChild(content[i]);}return e;}var range;if(document.createRange)range=function range(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r;};else range=function range(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode);}catch(e){return r;}r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r;};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count){e.removeChild(e.firstChild);}return e;}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e);}var contains=CodeMirror.contains=function(parent,child){if(child.nodeType==3) // Android browser always returns false when child is a textnode
child=child.parentNode;if(parent.contains)return parent.contains(child);do {if(child.nodeType==11)child=child.host;if(child==parent)return true;}while(child=child.parentNode);};function activeElt(){var activeElement=document.activeElement;while(activeElement&&activeElement.root&&activeElement.root.activeElement){activeElement=activeElement.root.activeElement;}return activeElement;} // Older versions of IE throws unspecified error when touching
// document.activeElement in some cases (during loading, in iframe)
if(ie&&ie_version<11)activeElt=function activeElt(){try{return document.activeElement;}catch(e){return document.body;}};function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*");}var rmClass=CodeMirror.rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"");}};var addClass=CodeMirror.addClass=function(node,cls){var current=node.className;if(!classTest(cls).test(current))node.className+=(current?" ":"")+cls;};function joinClasses(a,b){var as=a.split(" ");for(var i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b))b+=" "+as[i];}return b;} // WINDOW-WIDE EVENTS
// These must be handled carefully, because naively registering a
// handler for each editor will cause the editors to never be
// garbage collected.
function forEachCodeMirror(f){if(!document.body.getElementsByClassName)return;var byClass=document.body.getElementsByClassName("CodeMirror");for(var i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm)f(cm);}}var globalsRegistered=false;function ensureGlobalHandlers(){if(globalsRegistered)return;registerGlobalHandlers();globalsRegistered=true;}function registerGlobalHandlers(){ // When the window resizes, we need to refresh active editors.
var resizeTimer;on(window,"resize",function(){if(resizeTimer==null)resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize);},100);}); // When the window loses focus, we want to show the editor as blurred
on(window,"blur",function(){forEachCodeMirror(onBlur);});} // FEATURE DETECTION
// Detect drag-and-drop
var dragAndDrop=function(){ // There is *some* kind of drag-and-drop support in IE6-8, but I
// couldn't get it to work yet.
if(ie&&ie_version<9)return false;var div=elt('div');return "draggable" in div||"dragDrop" in div;}();var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0)zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8);}var node=zwspSupported?elt("span",""):elt("span","",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node;} // Feature-detect IE's crummy client rect reporting for bidi text
var badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("AA"));var r0=range(txt,0,1).getBoundingClientRect();if(!r0||r0.left==r0.right)return false; // Safari returns null in some cases (#2780)
var r1=range(txt,1,2).getBoundingClientRect();return badBidiRects=r1.right-r0.right<3;} // See if "".split is the broken IE version, if so, provide an
// alternative way to split lines.
var splitLinesAuto=CodeMirror.splitLines="\n\nb".split(/\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(nl==-1)nl=string.length;var line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);var rt=line.indexOf("\r");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1;}else {result.push(line);pos=nl+1;}}return result;}:function(string){return string.split(/\r\n?|\n/);};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd;}catch(e){return false;}}:function(te){try{var range=te.ownerDocument.selection.createRange();}catch(e){}if(!range||range.parentElement()!=te)return false;return range.compareEndPoints("StartToEnd",range)!=0;};var hasCopyEvent=function(){var e=elt("div");if("oncopy" in e)return true;e.setAttribute("oncopy","return;");return typeof e.oncopy=="function";}();var badZoomedRects=null;function hasBadZoomedRects(measure){if(badZoomedRects!=null)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt("span","x"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1;} // KEY NAMES
var keyNames=CodeMirror.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};(function(){ // Number keys
for(var i=0;i<10;i++){keyNames[i+48]=keyNames[i+96]=String(i);} // Alphabetic keys
for(var i=65;i<=90;i++){keyNames[i]=String.fromCharCode(i);} // Function keys
for(var i=1;i<=12;i++){keyNames[i+111]=keyNames[i+63235]="F"+i;}})(); // BIDI HELPERS
function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,"ltr");var found=false;for(var i=0;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr");found=true;}}if(!found)f(from,to,"ltr");}function bidiLeft(part){return part.level%2?part.to:part.from;}function bidiRight(part){return part.level%2?part.from:part.to;}function lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0;}function lineRight(line){var order=getOrder(line);if(!order)return line.text.length;return bidiRight(lst(order));}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line)lineN=lineNo(visual);var order=getOrder(visual);var ch=!order?0:order[0].level%2?lineRight(visual):lineLeft(visual);return Pos(lineN,ch);}function lineEnd(cm,lineN){var merged,line=getLine(cm.doc,lineN);while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;lineN=null;}var order=getOrder(line);var ch=!order?line.text.length:order[0].level%2?lineLeft(line):lineRight(line);return Pos(lineN==null?lineNo(line):lineN,ch);}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line);if(!order||order[0].level==0){var firstNonWS=Math.max(0,line.text.search(/\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS);}return start;}function compareBidiLevel(order,a,b){var linedir=order[0].level;if(a==linedir)return true;if(b==linedir)return false;return a<b;}var bidiOther;function getBidiPartAt(order,pos){bidiOther=null;for(var i=0,found;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos)return i;if(cur.from==pos||cur.to==pos){if(found==null){found=i;}else if(compareBidiLevel(order,cur.level,order[found].level)){if(cur.from!=cur.to)bidiOther=found;return i;}else {if(cur.from!=cur.to)bidiOther=i;return found;}}}return found;}function moveInLine(line,pos,dir,byUnit){if(!byUnit)return pos+dir;do {pos+=dir;}while(pos>0&&isExtendingChar(line.text.charAt(pos)));return pos;} // This is needed in order to move 'visually' through bi-directional
// text -- i.e., pressing left should make the cursor go left, even
// when in RTL text. The tricky part is the 'jumps', where RTL and
// LTR text touch each other. This often requires the cursor offset
// to move more than one unit, in order to visually move one unit.
function moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi)return moveLogically(line,start,dir,byUnit);var pos=getBidiPartAt(bidi,start),part=bidi[pos];var target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);for(;;){if(target>part.from&&target<part.to)return target;if(target==part.from||target==part.to){if(getBidiPartAt(bidi,target)==pos)return target;part=bidi[pos+=dir];return dir>0==part.level%2?part.to:part.from;}else {part=bidi[pos+=dir];if(!part)return null;if(dir>0==part.level%2)target=moveInLine(line,part.to,-1,byUnit);else target=moveInLine(line,part.from,1,byUnit);}}}function moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit)while(target>0&&isExtendingChar(line.text.charAt(target))){target+=dir;}return target<0||target>line.text.length?null:target;} // Bidirectional ordering algorithm
// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm
// that this (partially) implements.
// One-char codes used for character types:
// L (L):   Left-to-Right
// R (R):   Right-to-Left
// r (AL):  Right-to-Left Arabic
// 1 (EN):  European Number
// + (ES):  European Number Separator
// % (ET):  European Number Terminator
// n (AN):  Arabic Number
// , (CS):  Common Number Separator
// m (NSM): Non-Spacing Mark
// b (BN):  Boundary Neutral
// s (B):   Paragraph Separator
// t (S):   Segment Separator
// w (WS):  Whitespace
// N (ON):  Other Neutrals
// Returns null if characters are ordered as they appear
// (left-to-right), or an array of sections ({from, to, level}
// objects) in the order in which they occur visually.
var bidiOrdering=function(){ // Character types for codepoints 0 to 0xff
var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN"; // Character types for codepoints 0x600 to 0x6ff
var arabicTypes="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function charType(code){if(code<=0xf7)return lowTypes.charAt(code);else if(0x590<=code&&code<=0x5f4)return "R";else if(0x600<=code&&code<=0x6ed)return arabicTypes.charAt(code-0x600);else if(0x6ee<=code&&code<=0x8ac)return "r";else if(0x2000<=code&&code<=0x200b)return "w";else if(code==0x200c)return "b";else return "L";}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/; // Browsers seem to always treat the boundaries of block elements as being L.
var outerType="L";function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to;}return function(str){if(!bidiRE.test(str))return false;var len=str.length,types=[];for(var i=0,type;i<len;++i){types.push(type=charType(str.charCodeAt(i)));} // W1. Examine each non-spacing mark (NSM) in the level run, and
// change the type of the NSM to the type of the previous
// character. If the NSM is at the start of the level run, it will
// get the type of sor.
for(var i=0,prev=outerType;i<len;++i){var type=types[i];if(type=="m")types[i]=prev;else prev=type;} // W2. Search backwards from each instance of a European number
// until the first strong type (R, L, AL, or sor) is found. If an
// AL is found, change the type of the European number to Arabic
// number.
// W3. Change all ALs to R.
for(var i=0,cur=outerType;i<len;++i){var type=types[i];if(type=="1"&&cur=="r")types[i]="n";else if(isStrong.test(type)){cur=type;if(type=="r")types[i]="R";}} // W4. A single European separator between two European numbers
// changes to a European number. A single common separator between
// two numbers of the same type changes to that type.
for(var i=1,prev=types[0];i<len-1;++i){var type=types[i];if(type=="+"&&prev=="1"&&types[i+1]=="1")types[i]="1";else if(type==","&&prev==types[i+1]&&(prev=="1"||prev=="n"))types[i]=prev;prev=type;} // W5. A sequence of European terminators adjacent to European
// numbers changes to all European numbers.
// W6. Otherwise, separators and terminators change to Other
// Neutral.
for(var i=0;i<len;++i){var type=types[i];if(type==",")types[i]="N";else if(type=="%"){for(var end=i+1;end<len&&types[end]=="%";++end){}var replace=i&&types[i-1]=="!"||end<len&&types[end]=="1"?"1":"N";for(var j=i;j<end;++j){types[j]=replace;}i=end-1;}} // W7. Search backwards from each instance of a European number
// until the first strong type (R, L, or sor) is found. If an L is
// found, then change the type of the European number to L.
for(var i=0,cur=outerType;i<len;++i){var type=types[i];if(cur=="L"&&type=="1")types[i]="L";else if(isStrong.test(type))cur=type;} // N1. A sequence of neutrals takes the direction of the
// surrounding strong text if the text on both sides has the same
// direction. European and Arabic numbers act as if they were R in
// terms of their influence on neutrals. Start-of-level-run (sor)
// and end-of-level-run (eor) are used at level run boundaries.
// N2. Any remaining neutrals take the embedding direction.
for(var i=0;i<len;++i){if(isNeutral.test(types[i])){for(var end=i+1;end<len&&isNeutral.test(types[end]);++end){}var before=(i?types[i-1]:outerType)=="L";var after=(end<len?types[end]:outerType)=="L";var replace=before||after?"L":"R";for(var j=i;j<end;++j){types[j]=replace;}i=end-1;}} // Here we depart from the documented algorithm, in order to avoid
// building up an actual levels array. Since there are only three
// levels (0, 1, 2) in an implementation that doesn't take
// explicit embedding into account, we can build up the order on
// the fly, without following the level-based algorithm.
var order=[],m;for(var i=0;i<len;){if(countsAsLeft.test(types[i])){var start=i;for(++i;i<len&&countsAsLeft.test(types[i]);++i){}order.push(new BidiSpan(0,start,i));}else {var pos=i,at=order.length;for(++i;i<len&&types[i]!="L";++i){}for(var j=pos;j<i;){if(countsAsNum.test(types[j])){if(pos<j)order.splice(at,0,new BidiSpan(1,pos,j));var nstart=j;for(++j;j<i&&countsAsNum.test(types[j]);++j){}order.splice(at,0,new BidiSpan(2,nstart,j));pos=j;}else ++j;}if(pos<i)order.splice(at,0,new BidiSpan(1,pos,i));}}if(order[0].level==1&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length));}if(lst(order).level==1&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len));}if(order[0].level==2)order.unshift(new BidiSpan(1,order[0].to,order[0].to));if(order[0].level!=lst(order).level)order.push(new BidiSpan(order[0].level,len,len));return order;};}(); // THE END
CodeMirror.version="5.15.2";return CodeMirror;});

},{}],23:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  CodeMirror.defineMode("css", function (config, parserConfig) {
    var inline = parserConfig.inline;
    if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode("text/css");

    var indentUnit = config.indentUnit,
        tokenHooks = parserConfig.tokenHooks,
        documentTypes = parserConfig.documentTypes || {},
        mediaTypes = parserConfig.mediaTypes || {},
        mediaFeatures = parserConfig.mediaFeatures || {},
        mediaValueKeywords = parserConfig.mediaValueKeywords || {},
        propertyKeywords = parserConfig.propertyKeywords || {},
        nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},
        fontProperties = parserConfig.fontProperties || {},
        counterDescriptors = parserConfig.counterDescriptors || {},
        colorKeywords = parserConfig.colorKeywords || {},
        valueKeywords = parserConfig.valueKeywords || {},
        allowNested = parserConfig.allowNested,
        supportsAtComponent = parserConfig.supportsAtComponent === true;

    var type, override;
    function ret(style, tp) {
      type = tp;return style;
    }

    // Tokenizers

    function tokenBase(stream, state) {
      var ch = stream.next();
      if (tokenHooks[ch]) {
        var result = tokenHooks[ch](stream, state);
        if (result !== false) return result;
      }
      if (ch == "@") {
        stream.eatWhile(/[\w\\\-]/);
        return ret("def", stream.current());
      } else if (ch == "=" || (ch == "~" || ch == "|") && stream.eat("=")) {
        return ret(null, "compare");
      } else if (ch == "\"" || ch == "'") {
        state.tokenize = tokenString(ch);
        return state.tokenize(stream, state);
      } else if (ch == "#") {
        stream.eatWhile(/[\w\\\-]/);
        return ret("atom", "hash");
      } else if (ch == "!") {
        stream.match(/^\s*\w*/);
        return ret("keyword", "important");
      } else if (/\d/.test(ch) || ch == "." && stream.eat(/\d/)) {
        stream.eatWhile(/[\w.%]/);
        return ret("number", "unit");
      } else if (ch === "-") {
        if (/[\d.]/.test(stream.peek())) {
          stream.eatWhile(/[\w.%]/);
          return ret("number", "unit");
        } else if (stream.match(/^-[\w\\\-]+/)) {
          stream.eatWhile(/[\w\\\-]/);
          if (stream.match(/^\s*:/, false)) return ret("variable-2", "variable-definition");
          return ret("variable-2", "variable");
        } else if (stream.match(/^\w+-/)) {
          return ret("meta", "meta");
        }
      } else if (/[,+>*\/]/.test(ch)) {
        return ret(null, "select-op");
      } else if (ch == "." && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {
        return ret("qualifier", "qualifier");
      } else if (/[:;{}\[\]\(\)]/.test(ch)) {
        return ret(null, ch);
      } else if (ch == "u" && stream.match(/rl(-prefix)?\(/) || ch == "d" && stream.match("omain(") || ch == "r" && stream.match("egexp(")) {
        stream.backUp(1);
        state.tokenize = tokenParenthesized;
        return ret("property", "word");
      } else if (/[\w\\\-]/.test(ch)) {
        stream.eatWhile(/[\w\\\-]/);
        return ret("property", "word");
      } else {
        return ret(null, null);
      }
    }

    function tokenString(quote) {
      return function (stream, state) {
        var escaped = false,
            ch;
        while ((ch = stream.next()) != null) {
          if (ch == quote && !escaped) {
            if (quote == ")") stream.backUp(1);
            break;
          }
          escaped = !escaped && ch == "\\";
        }
        if (ch == quote || !escaped && quote != ")") state.tokenize = null;
        return ret("string", "string");
      };
    }

    function tokenParenthesized(stream, state) {
      stream.next(); // Must be '('
      if (!stream.match(/\s*[\"\')]/, false)) state.tokenize = tokenString(")");else state.tokenize = null;
      return ret(null, "(");
    }

    // Context management

    function Context(type, indent, prev) {
      this.type = type;
      this.indent = indent;
      this.prev = prev;
    }

    function pushContext(state, stream, type, indent) {
      state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);
      return type;
    }

    function popContext(state) {
      if (state.context.prev) state.context = state.context.prev;
      return state.context.type;
    }

    function pass(type, stream, state) {
      return states[state.context.type](type, stream, state);
    }
    function popAndPass(type, stream, state, n) {
      for (var i = n || 1; i > 0; i--) {
        state.context = state.context.prev;
      }return pass(type, stream, state);
    }

    // Parser

    function wordAsValue(stream) {
      var word = stream.current().toLowerCase();
      if (valueKeywords.hasOwnProperty(word)) override = "atom";else if (colorKeywords.hasOwnProperty(word)) override = "keyword";else override = "variable";
    }

    var states = {};

    states.top = function (type, stream, state) {
      if (type == "{") {
        return pushContext(state, stream, "block");
      } else if (type == "}" && state.context.prev) {
        return popContext(state);
      } else if (supportsAtComponent && /@component/.test(type)) {
        return pushContext(state, stream, "atComponentBlock");
      } else if (/^@(-moz-)?document$/.test(type)) {
        return pushContext(state, stream, "documentTypes");
      } else if (/^@(media|supports|(-moz-)?document|import)$/.test(type)) {
        return pushContext(state, stream, "atBlock");
      } else if (/^@(font-face|counter-style)/.test(type)) {
        state.stateArg = type;
        return "restricted_atBlock_before";
      } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(type)) {
        return "keyframes";
      } else if (type && type.charAt(0) == "@") {
        return pushContext(state, stream, "at");
      } else if (type == "hash") {
        override = "builtin";
      } else if (type == "word") {
        override = "tag";
      } else if (type == "variable-definition") {
        return "maybeprop";
      } else if (type == "interpolation") {
        return pushContext(state, stream, "interpolation");
      } else if (type == ":") {
        return "pseudo";
      } else if (allowNested && type == "(") {
        return pushContext(state, stream, "parens");
      }
      return state.context.type;
    };

    states.block = function (type, stream, state) {
      if (type == "word") {
        var word = stream.current().toLowerCase();
        if (propertyKeywords.hasOwnProperty(word)) {
          override = "property";
          return "maybeprop";
        } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {
          override = "string-2";
          return "maybeprop";
        } else if (allowNested) {
          override = stream.match(/^\s*:(?:\s|$)/, false) ? "property" : "tag";
          return "block";
        } else {
          override += " error";
          return "maybeprop";
        }
      } else if (type == "meta") {
        return "block";
      } else if (!allowNested && (type == "hash" || type == "qualifier")) {
        override = "error";
        return "block";
      } else {
        return states.top(type, stream, state);
      }
    };

    states.maybeprop = function (type, stream, state) {
      if (type == ":") return pushContext(state, stream, "prop");
      return pass(type, stream, state);
    };

    states.prop = function (type, stream, state) {
      if (type == ";") return popContext(state);
      if (type == "{" && allowNested) return pushContext(state, stream, "propBlock");
      if (type == "}" || type == "{") return popAndPass(type, stream, state);
      if (type == "(") return pushContext(state, stream, "parens");

      if (type == "hash" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {
        override += " error";
      } else if (type == "word") {
        wordAsValue(stream);
      } else if (type == "interpolation") {
        return pushContext(state, stream, "interpolation");
      }
      return "prop";
    };

    states.propBlock = function (type, _stream, state) {
      if (type == "}") return popContext(state);
      if (type == "word") {
        override = "property";return "maybeprop";
      }
      return state.context.type;
    };

    states.parens = function (type, stream, state) {
      if (type == "{" || type == "}") return popAndPass(type, stream, state);
      if (type == ")") return popContext(state);
      if (type == "(") return pushContext(state, stream, "parens");
      if (type == "interpolation") return pushContext(state, stream, "interpolation");
      if (type == "word") wordAsValue(stream);
      return "parens";
    };

    states.pseudo = function (type, stream, state) {
      if (type == "word") {
        override = "variable-3";
        return state.context.type;
      }
      return pass(type, stream, state);
    };

    states.documentTypes = function (type, stream, state) {
      if (type == "word" && documentTypes.hasOwnProperty(stream.current())) {
        override = "tag";
        return state.context.type;
      } else {
        return states.atBlock(type, stream, state);
      }
    };

    states.atBlock = function (type, stream, state) {
      if (type == "(") return pushContext(state, stream, "atBlock_parens");
      if (type == "}" || type == ";") return popAndPass(type, stream, state);
      if (type == "{") return popContext(state) && pushContext(state, stream, allowNested ? "block" : "top");

      if (type == "interpolation") return pushContext(state, stream, "interpolation");

      if (type == "word") {
        var word = stream.current().toLowerCase();
        if (word == "only" || word == "not" || word == "and" || word == "or") override = "keyword";else if (mediaTypes.hasOwnProperty(word)) override = "attribute";else if (mediaFeatures.hasOwnProperty(word)) override = "property";else if (mediaValueKeywords.hasOwnProperty(word)) override = "keyword";else if (propertyKeywords.hasOwnProperty(word)) override = "property";else if (nonStandardPropertyKeywords.hasOwnProperty(word)) override = "string-2";else if (valueKeywords.hasOwnProperty(word)) override = "atom";else if (colorKeywords.hasOwnProperty(word)) override = "keyword";else override = "error";
      }
      return state.context.type;
    };

    states.atComponentBlock = function (type, stream, state) {
      if (type == "}") return popAndPass(type, stream, state);
      if (type == "{") return popContext(state) && pushContext(state, stream, allowNested ? "block" : "top", false);
      if (type == "word") override = "error";
      return state.context.type;
    };

    states.atBlock_parens = function (type, stream, state) {
      if (type == ")") return popContext(state);
      if (type == "{" || type == "}") return popAndPass(type, stream, state, 2);
      return states.atBlock(type, stream, state);
    };

    states.restricted_atBlock_before = function (type, stream, state) {
      if (type == "{") return pushContext(state, stream, "restricted_atBlock");
      if (type == "word" && state.stateArg == "@counter-style") {
        override = "variable";
        return "restricted_atBlock_before";
      }
      return pass(type, stream, state);
    };

    states.restricted_atBlock = function (type, stream, state) {
      if (type == "}") {
        state.stateArg = null;
        return popContext(state);
      }
      if (type == "word") {
        if (state.stateArg == "@font-face" && !fontProperties.hasOwnProperty(stream.current().toLowerCase()) || state.stateArg == "@counter-style" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())) override = "error";else override = "property";
        return "maybeprop";
      }
      return "restricted_atBlock";
    };

    states.keyframes = function (type, stream, state) {
      if (type == "word") {
        override = "variable";return "keyframes";
      }
      if (type == "{") return pushContext(state, stream, "top");
      return pass(type, stream, state);
    };

    states.at = function (type, stream, state) {
      if (type == ";") return popContext(state);
      if (type == "{" || type == "}") return popAndPass(type, stream, state);
      if (type == "word") override = "tag";else if (type == "hash") override = "builtin";
      return "at";
    };

    states.interpolation = function (type, stream, state) {
      if (type == "}") return popContext(state);
      if (type == "{" || type == ";") return popAndPass(type, stream, state);
      if (type == "word") override = "variable";else if (type != "variable" && type != "(" && type != ")") override = "error";
      return "interpolation";
    };

    return {
      startState: function startState(base) {
        return { tokenize: null,
          state: inline ? "block" : "top",
          stateArg: null,
          context: new Context(inline ? "block" : "top", base || 0, null) };
      },

      token: function token(stream, state) {
        if (!state.tokenize && stream.eatSpace()) return null;
        var style = (state.tokenize || tokenBase)(stream, state);
        if (style && (typeof style === "undefined" ? "undefined" : _typeof(style)) == "object") {
          type = style[1];
          style = style[0];
        }
        override = style;
        state.state = states[state.state](type, stream, state);
        return override;
      },

      indent: function indent(state, textAfter) {
        var cx = state.context,
            ch = textAfter && textAfter.charAt(0);
        var indent = cx.indent;
        if (cx.type == "prop" && (ch == "}" || ch == ")")) cx = cx.prev;
        if (cx.prev) {
          if (ch == "}" && (cx.type == "block" || cx.type == "top" || cx.type == "interpolation" || cx.type == "restricted_atBlock")) {
            // Resume indentation from parent context.
            cx = cx.prev;
            indent = cx.indent;
          } else if (ch == ")" && (cx.type == "parens" || cx.type == "atBlock_parens") || ch == "{" && (cx.type == "at" || cx.type == "atBlock")) {
            // Dedent relative to current context.
            indent = Math.max(0, cx.indent - indentUnit);
            cx = cx.prev;
          }
        }
        return indent;
      },

      electricChars: "}",
      blockCommentStart: "/*",
      blockCommentEnd: "*/",
      fold: "brace"
    };
  });

  function keySet(array) {
    var keys = {};
    for (var i = 0; i < array.length; ++i) {
      keys[array[i]] = true;
    }
    return keys;
  }

  var documentTypes_ = ["domain", "regexp", "url", "url-prefix"],
      documentTypes = keySet(documentTypes_);

  var mediaTypes_ = ["all", "aural", "braille", "handheld", "print", "projection", "screen", "tty", "tv", "embossed"],
      mediaTypes = keySet(mediaTypes_);

  var mediaFeatures_ = ["width", "min-width", "max-width", "height", "min-height", "max-height", "device-width", "min-device-width", "max-device-width", "device-height", "min-device-height", "max-device-height", "aspect-ratio", "min-aspect-ratio", "max-aspect-ratio", "device-aspect-ratio", "min-device-aspect-ratio", "max-device-aspect-ratio", "color", "min-color", "max-color", "color-index", "min-color-index", "max-color-index", "monochrome", "min-monochrome", "max-monochrome", "resolution", "min-resolution", "max-resolution", "scan", "grid", "orientation", "device-pixel-ratio", "min-device-pixel-ratio", "max-device-pixel-ratio", "pointer", "any-pointer", "hover", "any-hover"],
      mediaFeatures = keySet(mediaFeatures_);

  var mediaValueKeywords_ = ["landscape", "portrait", "none", "coarse", "fine", "on-demand", "hover", "interlace", "progressive"],
      mediaValueKeywords = keySet(mediaValueKeywords_);

  var propertyKeywords_ = ["align-content", "align-items", "align-self", "alignment-adjust", "alignment-baseline", "anchor-point", "animation", "animation-delay", "animation-direction", "animation-duration", "animation-fill-mode", "animation-iteration-count", "animation-name", "animation-play-state", "animation-timing-function", "appearance", "azimuth", "backface-visibility", "background", "background-attachment", "background-blend-mode", "background-clip", "background-color", "background-image", "background-origin", "background-position", "background-repeat", "background-size", "baseline-shift", "binding", "bleed", "bookmark-label", "bookmark-level", "bookmark-state", "bookmark-target", "border", "border-bottom", "border-bottom-color", "border-bottom-left-radius", "border-bottom-right-radius", "border-bottom-style", "border-bottom-width", "border-collapse", "border-color", "border-image", "border-image-outset", "border-image-repeat", "border-image-slice", "border-image-source", "border-image-width", "border-left", "border-left-color", "border-left-style", "border-left-width", "border-radius", "border-right", "border-right-color", "border-right-style", "border-right-width", "border-spacing", "border-style", "border-top", "border-top-color", "border-top-left-radius", "border-top-right-radius", "border-top-style", "border-top-width", "border-width", "bottom", "box-decoration-break", "box-shadow", "box-sizing", "break-after", "break-before", "break-inside", "caption-side", "clear", "clip", "color", "color-profile", "column-count", "column-fill", "column-gap", "column-rule", "column-rule-color", "column-rule-style", "column-rule-width", "column-span", "column-width", "columns", "content", "counter-increment", "counter-reset", "crop", "cue", "cue-after", "cue-before", "cursor", "direction", "display", "dominant-baseline", "drop-initial-after-adjust", "drop-initial-after-align", "drop-initial-before-adjust", "drop-initial-before-align", "drop-initial-size", "drop-initial-value", "elevation", "empty-cells", "fit", "fit-position", "flex", "flex-basis", "flex-direction", "flex-flow", "flex-grow", "flex-shrink", "flex-wrap", "float", "float-offset", "flow-from", "flow-into", "font", "font-feature-settings", "font-family", "font-kerning", "font-language-override", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-synthesis", "font-variant", "font-variant-alternates", "font-variant-caps", "font-variant-east-asian", "font-variant-ligatures", "font-variant-numeric", "font-variant-position", "font-weight", "grid", "grid-area", "grid-auto-columns", "grid-auto-flow", "grid-auto-rows", "grid-column", "grid-column-end", "grid-column-gap", "grid-column-start", "grid-gap", "grid-row", "grid-row-end", "grid-row-gap", "grid-row-start", "grid-template", "grid-template-areas", "grid-template-columns", "grid-template-rows", "hanging-punctuation", "height", "hyphens", "icon", "image-orientation", "image-rendering", "image-resolution", "inline-box-align", "justify-content", "left", "letter-spacing", "line-break", "line-height", "line-stacking", "line-stacking-ruby", "line-stacking-shift", "line-stacking-strategy", "list-style", "list-style-image", "list-style-position", "list-style-type", "margin", "margin-bottom", "margin-left", "margin-right", "margin-top", "marker-offset", "marks", "marquee-direction", "marquee-loop", "marquee-play-count", "marquee-speed", "marquee-style", "max-height", "max-width", "min-height", "min-width", "move-to", "nav-down", "nav-index", "nav-left", "nav-right", "nav-up", "object-fit", "object-position", "opacity", "order", "orphans", "outline", "outline-color", "outline-offset", "outline-style", "outline-width", "overflow", "overflow-style", "overflow-wrap", "overflow-x", "overflow-y", "padding", "padding-bottom", "padding-left", "padding-right", "padding-top", "page", "page-break-after", "page-break-before", "page-break-inside", "page-policy", "pause", "pause-after", "pause-before", "perspective", "perspective-origin", "pitch", "pitch-range", "play-during", "position", "presentation-level", "punctuation-trim", "quotes", "region-break-after", "region-break-before", "region-break-inside", "region-fragment", "rendering-intent", "resize", "rest", "rest-after", "rest-before", "richness", "right", "rotation", "rotation-point", "ruby-align", "ruby-overhang", "ruby-position", "ruby-span", "shape-image-threshold", "shape-inside", "shape-margin", "shape-outside", "size", "speak", "speak-as", "speak-header", "speak-numeral", "speak-punctuation", "speech-rate", "stress", "string-set", "tab-size", "table-layout", "target", "target-name", "target-new", "target-position", "text-align", "text-align-last", "text-decoration", "text-decoration-color", "text-decoration-line", "text-decoration-skip", "text-decoration-style", "text-emphasis", "text-emphasis-color", "text-emphasis-position", "text-emphasis-style", "text-height", "text-indent", "text-justify", "text-outline", "text-overflow", "text-shadow", "text-size-adjust", "text-space-collapse", "text-transform", "text-underline-position", "text-wrap", "top", "transform", "transform-origin", "transform-style", "transition", "transition-delay", "transition-duration", "transition-property", "transition-timing-function", "unicode-bidi", "vertical-align", "visibility", "voice-balance", "voice-duration", "voice-family", "voice-pitch", "voice-range", "voice-rate", "voice-stress", "voice-volume", "volume", "white-space", "widows", "width", "word-break", "word-spacing", "word-wrap", "z-index",
  // SVG-specific
  "clip-path", "clip-rule", "mask", "enable-background", "filter", "flood-color", "flood-opacity", "lighting-color", "stop-color", "stop-opacity", "pointer-events", "color-interpolation", "color-interpolation-filters", "color-rendering", "fill", "fill-opacity", "fill-rule", "image-rendering", "marker", "marker-end", "marker-mid", "marker-start", "shape-rendering", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "text-rendering", "baseline-shift", "dominant-baseline", "glyph-orientation-horizontal", "glyph-orientation-vertical", "text-anchor", "writing-mode"],
      propertyKeywords = keySet(propertyKeywords_);

  var nonStandardPropertyKeywords_ = ["scrollbar-arrow-color", "scrollbar-base-color", "scrollbar-dark-shadow-color", "scrollbar-face-color", "scrollbar-highlight-color", "scrollbar-shadow-color", "scrollbar-3d-light-color", "scrollbar-track-color", "shape-inside", "searchfield-cancel-button", "searchfield-decoration", "searchfield-results-button", "searchfield-results-decoration", "zoom"],
      nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);

  var fontProperties_ = ["font-family", "src", "unicode-range", "font-variant", "font-feature-settings", "font-stretch", "font-weight", "font-style"],
      fontProperties = keySet(fontProperties_);

  var counterDescriptors_ = ["additive-symbols", "fallback", "negative", "pad", "prefix", "range", "speak-as", "suffix", "symbols", "system"],
      counterDescriptors = keySet(counterDescriptors_);

  var colorKeywords_ = ["aliceblue", "antiquewhite", "aqua", "aquamarine", "azure", "beige", "bisque", "black", "blanchedalmond", "blue", "blueviolet", "brown", "burlywood", "cadetblue", "chartreuse", "chocolate", "coral", "cornflowerblue", "cornsilk", "crimson", "cyan", "darkblue", "darkcyan", "darkgoldenrod", "darkgray", "darkgreen", "darkkhaki", "darkmagenta", "darkolivegreen", "darkorange", "darkorchid", "darkred", "darksalmon", "darkseagreen", "darkslateblue", "darkslategray", "darkturquoise", "darkviolet", "deeppink", "deepskyblue", "dimgray", "dodgerblue", "firebrick", "floralwhite", "forestgreen", "fuchsia", "gainsboro", "ghostwhite", "gold", "goldenrod", "gray", "grey", "green", "greenyellow", "honeydew", "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender", "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral", "lightcyan", "lightgoldenrodyellow", "lightgray", "lightgreen", "lightpink", "lightsalmon", "lightseagreen", "lightskyblue", "lightslategray", "lightsteelblue", "lightyellow", "lime", "limegreen", "linen", "magenta", "maroon", "mediumaquamarine", "mediumblue", "mediumorchid", "mediumpurple", "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise", "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin", "navajowhite", "navy", "oldlace", "olive", "olivedrab", "orange", "orangered", "orchid", "palegoldenrod", "palegreen", "paleturquoise", "palevioletred", "papayawhip", "peachpuff", "peru", "pink", "plum", "powderblue", "purple", "rebeccapurple", "red", "rosybrown", "royalblue", "saddlebrown", "salmon", "sandybrown", "seagreen", "seashell", "sienna", "silver", "skyblue", "slateblue", "slategray", "snow", "springgreen", "steelblue", "tan", "teal", "thistle", "tomato", "turquoise", "violet", "wheat", "white", "whitesmoke", "yellow", "yellowgreen"],
      colorKeywords = keySet(colorKeywords_);

  var valueKeywords_ = ["above", "absolute", "activeborder", "additive", "activecaption", "afar", "after-white-space", "ahead", "alias", "all", "all-scroll", "alphabetic", "alternate", "always", "amharic", "amharic-abegede", "antialiased", "appworkspace", "arabic-indic", "armenian", "asterisks", "attr", "auto", "avoid", "avoid-column", "avoid-page", "avoid-region", "background", "backwards", "baseline", "below", "bidi-override", "binary", "bengali", "blink", "block", "block-axis", "bold", "bolder", "border", "border-box", "both", "bottom", "break", "break-all", "break-word", "bullets", "button", "button-bevel", "buttonface", "buttonhighlight", "buttonshadow", "buttontext", "calc", "cambodian", "capitalize", "caps-lock-indicator", "caption", "captiontext", "caret", "cell", "center", "checkbox", "circle", "cjk-decimal", "cjk-earthly-branch", "cjk-heavenly-stem", "cjk-ideographic", "clear", "clip", "close-quote", "col-resize", "collapse", "color", "color-burn", "color-dodge", "column", "column-reverse", "compact", "condensed", "contain", "content", "content-box", "context-menu", "continuous", "copy", "counter", "counters", "cover", "crop", "cross", "crosshair", "currentcolor", "cursive", "cyclic", "darken", "dashed", "decimal", "decimal-leading-zero", "default", "default-button", "dense", "destination-atop", "destination-in", "destination-out", "destination-over", "devanagari", "difference", "disc", "discard", "disclosure-closed", "disclosure-open", "document", "dot-dash", "dot-dot-dash", "dotted", "double", "down", "e-resize", "ease", "ease-in", "ease-in-out", "ease-out", "element", "ellipse", "ellipsis", "embed", "end", "ethiopic", "ethiopic-abegede", "ethiopic-abegede-am-et", "ethiopic-abegede-gez", "ethiopic-abegede-ti-er", "ethiopic-abegede-ti-et", "ethiopic-halehame-aa-er", "ethiopic-halehame-aa-et", "ethiopic-halehame-am-et", "ethiopic-halehame-gez", "ethiopic-halehame-om-et", "ethiopic-halehame-sid-et", "ethiopic-halehame-so-et", "ethiopic-halehame-ti-er", "ethiopic-halehame-ti-et", "ethiopic-halehame-tig", "ethiopic-numeric", "ew-resize", "exclusion", "expanded", "extends", "extra-condensed", "extra-expanded", "fantasy", "fast", "fill", "fixed", "flat", "flex", "flex-end", "flex-start", "footnotes", "forwards", "from", "geometricPrecision", "georgian", "graytext", "grid", "groove", "gujarati", "gurmukhi", "hand", "hangul", "hangul-consonant", "hard-light", "hebrew", "help", "hidden", "hide", "higher", "highlight", "highlighttext", "hiragana", "hiragana-iroha", "horizontal", "hsl", "hsla", "hue", "icon", "ignore", "inactiveborder", "inactivecaption", "inactivecaptiontext", "infinite", "infobackground", "infotext", "inherit", "initial", "inline", "inline-axis", "inline-block", "inline-flex", "inline-grid", "inline-table", "inset", "inside", "intrinsic", "invert", "italic", "japanese-formal", "japanese-informal", "justify", "kannada", "katakana", "katakana-iroha", "keep-all", "khmer", "korean-hangul-formal", "korean-hanja-formal", "korean-hanja-informal", "landscape", "lao", "large", "larger", "left", "level", "lighter", "lighten", "line-through", "linear", "linear-gradient", "lines", "list-item", "listbox", "listitem", "local", "logical", "loud", "lower", "lower-alpha", "lower-armenian", "lower-greek", "lower-hexadecimal", "lower-latin", "lower-norwegian", "lower-roman", "lowercase", "ltr", "luminosity", "malayalam", "match", "matrix", "matrix3d", "media-controls-background", "media-current-time-display", "media-fullscreen-button", "media-mute-button", "media-play-button", "media-return-to-realtime-button", "media-rewind-button", "media-seek-back-button", "media-seek-forward-button", "media-slider", "media-sliderthumb", "media-time-remaining-display", "media-volume-slider", "media-volume-slider-container", "media-volume-sliderthumb", "medium", "menu", "menulist", "menulist-button", "menulist-text", "menulist-textfield", "menutext", "message-box", "middle", "min-intrinsic", "mix", "mongolian", "monospace", "move", "multiple", "multiply", "myanmar", "n-resize", "narrower", "ne-resize", "nesw-resize", "no-close-quote", "no-drop", "no-open-quote", "no-repeat", "none", "normal", "not-allowed", "nowrap", "ns-resize", "numbers", "numeric", "nw-resize", "nwse-resize", "oblique", "octal", "open-quote", "optimizeLegibility", "optimizeSpeed", "oriya", "oromo", "outset", "outside", "outside-shape", "overlay", "overline", "padding", "padding-box", "painted", "page", "paused", "persian", "perspective", "plus-darker", "plus-lighter", "pointer", "polygon", "portrait", "pre", "pre-line", "pre-wrap", "preserve-3d", "progress", "push-button", "radial-gradient", "radio", "read-only", "read-write", "read-write-plaintext-only", "rectangle", "region", "relative", "repeat", "repeating-linear-gradient", "repeating-radial-gradient", "repeat-x", "repeat-y", "reset", "reverse", "rgb", "rgba", "ridge", "right", "rotate", "rotate3d", "rotateX", "rotateY", "rotateZ", "round", "row", "row-resize", "row-reverse", "rtl", "run-in", "running", "s-resize", "sans-serif", "saturation", "scale", "scale3d", "scaleX", "scaleY", "scaleZ", "screen", "scroll", "scrollbar", "se-resize", "searchfield", "searchfield-cancel-button", "searchfield-decoration", "searchfield-results-button", "searchfield-results-decoration", "semi-condensed", "semi-expanded", "separate", "serif", "show", "sidama", "simp-chinese-formal", "simp-chinese-informal", "single", "skew", "skewX", "skewY", "skip-white-space", "slide", "slider-horizontal", "slider-vertical", "sliderthumb-horizontal", "sliderthumb-vertical", "slow", "small", "small-caps", "small-caption", "smaller", "soft-light", "solid", "somali", "source-atop", "source-in", "source-out", "source-over", "space", "space-around", "space-between", "spell-out", "square", "square-button", "start", "static", "status-bar", "stretch", "stroke", "sub", "subpixel-antialiased", "super", "sw-resize", "symbolic", "symbols", "table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row", "table-row-group", "tamil", "telugu", "text", "text-bottom", "text-top", "textarea", "textfield", "thai", "thick", "thin", "threeddarkshadow", "threedface", "threedhighlight", "threedlightshadow", "threedshadow", "tibetan", "tigre", "tigrinya-er", "tigrinya-er-abegede", "tigrinya-et", "tigrinya-et-abegede", "to", "top", "trad-chinese-formal", "trad-chinese-informal", "translate", "translate3d", "translateX", "translateY", "translateZ", "transparent", "ultra-condensed", "ultra-expanded", "underline", "up", "upper-alpha", "upper-armenian", "upper-greek", "upper-hexadecimal", "upper-latin", "upper-norwegian", "upper-roman", "uppercase", "urdu", "url", "var", "vertical", "vertical-text", "visible", "visibleFill", "visiblePainted", "visibleStroke", "visual", "w-resize", "wait", "wave", "wider", "window", "windowframe", "windowtext", "words", "wrap", "wrap-reverse", "x-large", "x-small", "xor", "xx-large", "xx-small"],
      valueKeywords = keySet(valueKeywords_);

  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_).concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);
  CodeMirror.registerHelper("hintWords", "css", allWords);

  function tokenCComment(stream, state) {
    var maybeEnd = false,
        ch;
    while ((ch = stream.next()) != null) {
      if (maybeEnd && ch == "/") {
        state.tokenize = null;
        break;
      }
      maybeEnd = ch == "*";
    }
    return ["comment", "comment"];
  }

  CodeMirror.defineMIME("text/css", {
    documentTypes: documentTypes,
    mediaTypes: mediaTypes,
    mediaFeatures: mediaFeatures,
    mediaValueKeywords: mediaValueKeywords,
    propertyKeywords: propertyKeywords,
    nonStandardPropertyKeywords: nonStandardPropertyKeywords,
    fontProperties: fontProperties,
    counterDescriptors: counterDescriptors,
    colorKeywords: colorKeywords,
    valueKeywords: valueKeywords,
    tokenHooks: {
      "/": function _(stream, state) {
        if (!stream.eat("*")) return false;
        state.tokenize = tokenCComment;
        return tokenCComment(stream, state);
      }
    },
    name: "css"
  });

  CodeMirror.defineMIME("text/x-scss", {
    mediaTypes: mediaTypes,
    mediaFeatures: mediaFeatures,
    mediaValueKeywords: mediaValueKeywords,
    propertyKeywords: propertyKeywords,
    nonStandardPropertyKeywords: nonStandardPropertyKeywords,
    colorKeywords: colorKeywords,
    valueKeywords: valueKeywords,
    fontProperties: fontProperties,
    allowNested: true,
    tokenHooks: {
      "/": function _(stream, state) {
        if (stream.eat("/")) {
          stream.skipToEnd();
          return ["comment", "comment"];
        } else if (stream.eat("*")) {
          state.tokenize = tokenCComment;
          return tokenCComment(stream, state);
        } else {
          return ["operator", "operator"];
        }
      },
      ":": function _(stream) {
        if (stream.match(/\s*\{/)) return [null, "{"];
        return false;
      },
      "$": function $(stream) {
        stream.match(/^[\w-]+/);
        if (stream.match(/^\s*:/, false)) return ["variable-2", "variable-definition"];
        return ["variable-2", "variable"];
      },
      "#": function _(stream) {
        if (!stream.eat("{")) return false;
        return [null, "interpolation"];
      }
    },
    name: "css",
    helperType: "scss"
  });

  CodeMirror.defineMIME("text/x-less", {
    mediaTypes: mediaTypes,
    mediaFeatures: mediaFeatures,
    mediaValueKeywords: mediaValueKeywords,
    propertyKeywords: propertyKeywords,
    nonStandardPropertyKeywords: nonStandardPropertyKeywords,
    colorKeywords: colorKeywords,
    valueKeywords: valueKeywords,
    fontProperties: fontProperties,
    allowNested: true,
    tokenHooks: {
      "/": function _(stream, state) {
        if (stream.eat("/")) {
          stream.skipToEnd();
          return ["comment", "comment"];
        } else if (stream.eat("*")) {
          state.tokenize = tokenCComment;
          return tokenCComment(stream, state);
        } else {
          return ["operator", "operator"];
        }
      },
      "@": function _(stream) {
        if (stream.eat("{")) return [null, "interpolation"];
        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/, false)) return false;
        stream.eatWhile(/[\w\\\-]/);
        if (stream.match(/^\s*:/, false)) return ["variable-2", "variable-definition"];
        return ["variable-2", "variable"];
      },
      "&": function _() {
        return ["atom", "atom"];
      }
    },
    name: "css",
    helperType: "less"
  });

  CodeMirror.defineMIME("text/x-gss", {
    documentTypes: documentTypes,
    mediaTypes: mediaTypes,
    mediaFeatures: mediaFeatures,
    propertyKeywords: propertyKeywords,
    nonStandardPropertyKeywords: nonStandardPropertyKeywords,
    fontProperties: fontProperties,
    counterDescriptors: counterDescriptors,
    colorKeywords: colorKeywords,
    valueKeywords: valueKeywords,
    supportsAtComponent: true,
    tokenHooks: {
      "/": function _(stream, state) {
        if (!stream.eat("*")) return false;
        state.tokenize = tokenCComment;
        return tokenCComment(stream, state);
      }
    },
    name: "css",
    helperType: "gss"
  });
});

},{"../../lib/codemirror":22}],24:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"), require("../xml/xml"), require("../javascript/javascript"), require("../css/css"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror", "../xml/xml", "../javascript/javascript", "../css/css"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  var defaultTags = {
    script: [["lang", /(javascript|babel)/i, "javascript"], ["type", /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i, "javascript"], ["type", /./, "text/plain"], [null, null, "javascript"]],
    style: [["lang", /^css$/i, "css"], ["type", /^(text\/)?(x-)?(stylesheet|css)$/i, "css"], ["type", /./, "text/plain"], [null, null, "css"]]
  };

  function maybeBackup(stream, pat, style) {
    var cur = stream.current(),
        close = cur.search(pat);
    if (close > -1) {
      stream.backUp(cur.length - close);
    } else if (cur.match(/<\/?$/)) {
      stream.backUp(cur.length);
      if (!stream.match(pat, false)) stream.match(cur);
    }
    return style;
  }

  var attrRegexpCache = {};
  function getAttrRegexp(attr) {
    var regexp = attrRegexpCache[attr];
    if (regexp) return regexp;
    return attrRegexpCache[attr] = new RegExp("\\s+" + attr + "\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*");
  }

  function getAttrValue(text, attr) {
    var match = text.match(getAttrRegexp(attr));
    return match ? match[2] : "";
  }

  function getTagRegexp(tagName, anchored) {
    return new RegExp((anchored ? "^" : "") + "<\/\s*" + tagName + "\s*>", "i");
  }

  function addTags(from, to) {
    for (var tag in from) {
      var dest = to[tag] || (to[tag] = []);
      var source = from[tag];
      for (var i = source.length - 1; i >= 0; i--) {
        dest.unshift(source[i]);
      }
    }
  }

  function findMatchingMode(tagInfo, tagText) {
    for (var i = 0; i < tagInfo.length; i++) {
      var spec = tagInfo[i];
      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];
    }
  }

  CodeMirror.defineMode("htmlmixed", function (config, parserConfig) {
    var htmlMode = CodeMirror.getMode(config, {
      name: "xml",
      htmlMode: true,
      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,
      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag
    });

    var tags = {};
    var configTags = parserConfig && parserConfig.tags,
        configScript = parserConfig && parserConfig.scriptTypes;
    addTags(defaultTags, tags);
    if (configTags) addTags(configTags, tags);
    if (configScript) for (var i = configScript.length - 1; i >= 0; i--) {
      tags.script.unshift(["type", configScript[i].matches, configScript[i].mode]);
    }function html(stream, state) {
      var style = htmlMode.token(stream, state.htmlState),
          tag = /\btag\b/.test(style),
          tagName;
      if (tag && !/[<>\s\/]/.test(stream.current()) && (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) && tags.hasOwnProperty(tagName)) {
        state.inTag = tagName + " ";
      } else if (state.inTag && tag && />$/.test(stream.current())) {
        var inTag = /^([\S]+) (.*)/.exec(state.inTag);
        state.inTag = null;
        var modeSpec = stream.current() == ">" && findMatchingMode(tags[inTag[1]], inTag[2]);
        var mode = CodeMirror.getMode(config, modeSpec);
        var endTagA = getTagRegexp(inTag[1], true),
            endTag = getTagRegexp(inTag[1], false);
        state.token = function (stream, state) {
          if (stream.match(endTagA, false)) {
            state.token = html;
            state.localState = state.localMode = null;
            return null;
          }
          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));
        };
        state.localMode = mode;
        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, ""));
      } else if (state.inTag) {
        state.inTag += stream.current();
        if (stream.eol()) state.inTag += " ";
      }
      return style;
    };

    return {
      startState: function startState() {
        var state = CodeMirror.startState(htmlMode);
        return { token: html, inTag: null, localMode: null, localState: null, htmlState: state };
      },

      copyState: function copyState(state) {
        var local;
        if (state.localState) {
          local = CodeMirror.copyState(state.localMode, state.localState);
        }
        return { token: state.token, inTag: state.inTag,
          localMode: state.localMode, localState: local,
          htmlState: CodeMirror.copyState(htmlMode, state.htmlState) };
      },

      token: function token(stream, state) {
        return state.token(stream, state);
      },

      indent: function indent(state, textAfter) {
        if (!state.localMode || /^\s*<\//.test(textAfter)) return htmlMode.indent(state.htmlState, textAfter);else if (state.localMode.indent) return state.localMode.indent(state.localState, textAfter);else return CodeMirror.Pass;
      },

      innerMode: function innerMode(state) {
        return { state: state.localState || state.htmlState, mode: state.localMode || htmlMode };
      }
    };
  }, "xml", "javascript", "css");

  CodeMirror.defineMIME("text/html", "htmlmixed");
});

},{"../../lib/codemirror":22,"../css/css":23,"../javascript/javascript":25,"../xml/xml":26}],25:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// TODO actually recognize syntax of TypeScript constructs

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  function expressionAllowed(stream, state, backUp) {
    return (/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(state.lastType) || state.lastType == "quasi" && /\{\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0)))
    );
  }

  CodeMirror.defineMode("javascript", function (config, parserConfig) {
    var indentUnit = config.indentUnit;
    var statementIndent = parserConfig.statementIndent;
    var jsonldMode = parserConfig.jsonld;
    var jsonMode = parserConfig.json || jsonldMode;
    var isTS = parserConfig.typescript;
    var wordRE = parserConfig.wordCharacters || /[\w$\xa1-\uffff]/;

    // Tokenizer

    var keywords = function () {
      function kw(type) {
        return { type: type, style: "keyword" };
      }
      var A = kw("keyword a"),
          B = kw("keyword b"),
          C = kw("keyword c");
      var operator = kw("operator"),
          atom = { type: "atom", style: "atom" };

      var jsKeywords = {
        "if": kw("if"), "while": A, "with": A, "else": B, "do": B, "try": B, "finally": B,
        "return": C, "break": C, "continue": C, "new": kw("new"), "delete": C, "throw": C, "debugger": C,
        "var": kw("var"), "const": kw("var"), "let": kw("var"),
        "function": kw("function"), "catch": kw("catch"),
        "for": kw("for"), "switch": kw("switch"), "case": kw("case"), "default": kw("default"),
        "in": operator, "typeof": operator, "instanceof": operator,
        "true": atom, "false": atom, "null": atom, "undefined": atom, "NaN": atom, "Infinity": atom,
        "this": kw("this"), "class": kw("class"), "super": kw("atom"),
        "yield": C, "export": kw("export"), "import": kw("import"), "extends": C,
        "await": C, "async": kw("async")
      };

      // Extend the 'normal' keywords with the TypeScript language extensions
      if (isTS) {
        var type = { type: "variable", style: "variable-3" };
        var tsKeywords = {
          // object-like things
          "interface": kw("class"),
          "implements": C,
          "namespace": C,
          "module": kw("module"),
          "enum": kw("module"),

          // scope modifiers
          "public": kw("modifier"),
          "private": kw("modifier"),
          "protected": kw("modifier"),
          "abstract": kw("modifier"),

          // operators
          "as": operator,

          // types
          "string": type, "number": type, "boolean": type, "any": type
        };

        for (var attr in tsKeywords) {
          jsKeywords[attr] = tsKeywords[attr];
        }
      }

      return jsKeywords;
    }();

    var isOperatorChar = /[+\-*&%=<>!?|~^]/;
    var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;

    function readRegexp(stream) {
      var escaped = false,
          next,
          inSet = false;
      while ((next = stream.next()) != null) {
        if (!escaped) {
          if (next == "/" && !inSet) return;
          if (next == "[") inSet = true;else if (inSet && next == "]") inSet = false;
        }
        escaped = !escaped && next == "\\";
      }
    }

    // Used as scratch variables to communicate multiple values without
    // consing up tons of objects.
    var type, content;
    function ret(tp, style, cont) {
      type = tp;content = cont;
      return style;
    }
    function tokenBase(stream, state) {
      var ch = stream.next();
      if (ch == '"' || ch == "'") {
        state.tokenize = tokenString(ch);
        return state.tokenize(stream, state);
      } else if (ch == "." && stream.match(/^\d+(?:[eE][+\-]?\d+)?/)) {
        return ret("number", "number");
      } else if (ch == "." && stream.match("..")) {
        return ret("spread", "meta");
      } else if (/[\[\]{}\(\),;\:\.]/.test(ch)) {
        return ret(ch);
      } else if (ch == "=" && stream.eat(">")) {
        return ret("=>", "operator");
      } else if (ch == "0" && stream.eat(/x/i)) {
        stream.eatWhile(/[\da-f]/i);
        return ret("number", "number");
      } else if (ch == "0" && stream.eat(/o/i)) {
        stream.eatWhile(/[0-7]/i);
        return ret("number", "number");
      } else if (ch == "0" && stream.eat(/b/i)) {
        stream.eatWhile(/[01]/i);
        return ret("number", "number");
      } else if (/\d/.test(ch)) {
        stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);
        return ret("number", "number");
      } else if (ch == "/") {
        if (stream.eat("*")) {
          state.tokenize = tokenComment;
          return tokenComment(stream, state);
        } else if (stream.eat("/")) {
          stream.skipToEnd();
          return ret("comment", "comment");
        } else if (expressionAllowed(stream, state, 1)) {
          readRegexp(stream);
          stream.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);
          return ret("regexp", "string-2");
        } else {
          stream.eatWhile(isOperatorChar);
          return ret("operator", "operator", stream.current());
        }
      } else if (ch == "`") {
        state.tokenize = tokenQuasi;
        return tokenQuasi(stream, state);
      } else if (ch == "#") {
        stream.skipToEnd();
        return ret("error", "error");
      } else if (isOperatorChar.test(ch)) {
        stream.eatWhile(isOperatorChar);
        return ret("operator", "operator", stream.current());
      } else if (wordRE.test(ch)) {
        stream.eatWhile(wordRE);
        var word = stream.current(),
            known = keywords.propertyIsEnumerable(word) && keywords[word];
        return known && state.lastType != "." ? ret(known.type, known.style, word) : ret("variable", "variable", word);
      }
    }

    function tokenString(quote) {
      return function (stream, state) {
        var escaped = false,
            next;
        if (jsonldMode && stream.peek() == "@" && stream.match(isJsonldKeyword)) {
          state.tokenize = tokenBase;
          return ret("jsonld-keyword", "meta");
        }
        while ((next = stream.next()) != null) {
          if (next == quote && !escaped) break;
          escaped = !escaped && next == "\\";
        }
        if (!escaped) state.tokenize = tokenBase;
        return ret("string", "string");
      };
    }

    function tokenComment(stream, state) {
      var maybeEnd = false,
          ch;
      while (ch = stream.next()) {
        if (ch == "/" && maybeEnd) {
          state.tokenize = tokenBase;
          break;
        }
        maybeEnd = ch == "*";
      }
      return ret("comment", "comment");
    }

    function tokenQuasi(stream, state) {
      var escaped = false,
          next;
      while ((next = stream.next()) != null) {
        if (!escaped && (next == "`" || next == "$" && stream.eat("{"))) {
          state.tokenize = tokenBase;
          break;
        }
        escaped = !escaped && next == "\\";
      }
      return ret("quasi", "string-2", stream.current());
    }

    var brackets = "([{}])";
    // This is a crude lookahead trick to try and notice that we're
    // parsing the argument patterns for a fat-arrow function before we
    // actually hit the arrow token. It only works if the arrow is on
    // the same line as the arguments and there's no strange noise
    // (comments) in between. Fallback is to only notice when we hit the
    // arrow, and not declare the arguments as locals for the arrow
    // body.
    function findFatArrow(stream, state) {
      if (state.fatArrowAt) state.fatArrowAt = null;
      var arrow = stream.string.indexOf("=>", stream.start);
      if (arrow < 0) return;

      var depth = 0,
          sawSomething = false;
      for (var pos = arrow - 1; pos >= 0; --pos) {
        var ch = stream.string.charAt(pos);
        var bracket = brackets.indexOf(ch);
        if (bracket >= 0 && bracket < 3) {
          if (!depth) {
            ++pos;break;
          }
          if (--depth == 0) break;
        } else if (bracket >= 3 && bracket < 6) {
          ++depth;
        } else if (wordRE.test(ch)) {
          sawSomething = true;
        } else if (/["'\/]/.test(ch)) {
          return;
        } else if (sawSomething && !depth) {
          ++pos;
          break;
        }
      }
      if (sawSomething && !depth) state.fatArrowAt = pos;
    }

    // Parser

    var atomicTypes = { "atom": true, "number": true, "variable": true, "string": true, "regexp": true, "this": true, "jsonld-keyword": true };

    function JSLexical(indented, column, type, align, prev, info) {
      this.indented = indented;
      this.column = column;
      this.type = type;
      this.prev = prev;
      this.info = info;
      if (align != null) this.align = align;
    }

    function inScope(state, varname) {
      for (var v = state.localVars; v; v = v.next) {
        if (v.name == varname) return true;
      }for (var cx = state.context; cx; cx = cx.prev) {
        for (var v = cx.vars; v; v = v.next) {
          if (v.name == varname) return true;
        }
      }
    }

    function parseJS(state, style, type, content, stream) {
      var cc = state.cc;
      // Communicate our context to the combinators.
      // (Less wasteful than consing up a hundred closures on every call.)
      cx.state = state;cx.stream = stream;cx.marked = null, cx.cc = cc;cx.style = style;

      if (!state.lexical.hasOwnProperty("align")) state.lexical.align = true;

      while (true) {
        var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;
        if (combinator(type, content)) {
          while (cc.length && cc[cc.length - 1].lex) {
            cc.pop()();
          }if (cx.marked) return cx.marked;
          if (type == "variable" && inScope(state, content)) return "variable-2";
          return style;
        }
      }
    }

    // Combinator utils

    var cx = { state: null, column: null, marked: null, cc: null };
    function pass() {
      for (var i = arguments.length - 1; i >= 0; i--) {
        cx.cc.push(arguments[i]);
      }
    }
    function cont() {
      pass.apply(null, arguments);
      return true;
    }
    function register(varname) {
      function inList(list) {
        for (var v = list; v; v = v.next) {
          if (v.name == varname) return true;
        }return false;
      }
      var state = cx.state;
      cx.marked = "def";
      if (state.context) {
        if (inList(state.localVars)) return;
        state.localVars = { name: varname, next: state.localVars };
      } else {
        if (inList(state.globalVars)) return;
        if (parserConfig.globalVars) state.globalVars = { name: varname, next: state.globalVars };
      }
    }

    // Combinators

    var defaultVars = { name: "this", next: { name: "arguments" } };
    function pushcontext() {
      cx.state.context = { prev: cx.state.context, vars: cx.state.localVars };
      cx.state.localVars = defaultVars;
    }
    function popcontext() {
      cx.state.localVars = cx.state.context.vars;
      cx.state.context = cx.state.context.prev;
    }
    function pushlex(type, info) {
      var result = function result() {
        var state = cx.state,
            indent = state.indented;
        if (state.lexical.type == "stat") indent = state.lexical.indented;else for (var outer = state.lexical; outer && outer.type == ")" && outer.align; outer = outer.prev) {
          indent = outer.indented;
        }state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);
      };
      result.lex = true;
      return result;
    }
    function poplex() {
      var state = cx.state;
      if (state.lexical.prev) {
        if (state.lexical.type == ")") state.indented = state.lexical.indented;
        state.lexical = state.lexical.prev;
      }
    }
    poplex.lex = true;

    function expect(wanted) {
      function exp(type) {
        if (type == wanted) return cont();else if (wanted == ";") return pass();else return cont(exp);
      };
      return exp;
    }

    function statement(type, value) {
      if (type == "var") return cont(pushlex("vardef", value.length), vardef, expect(";"), poplex);
      if (type == "keyword a") return cont(pushlex("form"), expression, statement, poplex);
      if (type == "keyword b") return cont(pushlex("form"), statement, poplex);
      if (type == "{") return cont(pushlex("}"), block, poplex);
      if (type == ";") return cont();
      if (type == "if") {
        if (cx.state.lexical.info == "else" && cx.state.cc[cx.state.cc.length - 1] == poplex) cx.state.cc.pop()();
        return cont(pushlex("form"), expression, statement, poplex, maybeelse);
      }
      if (type == "function") return cont(functiondef);
      if (type == "for") return cont(pushlex("form"), forspec, statement, poplex);
      if (type == "variable") return cont(pushlex("stat"), maybelabel);
      if (type == "switch") return cont(pushlex("form"), expression, pushlex("}", "switch"), expect("{"), block, poplex, poplex);
      if (type == "case") return cont(expression, expect(":"));
      if (type == "default") return cont(expect(":"));
      if (type == "catch") return cont(pushlex("form"), pushcontext, expect("("), funarg, expect(")"), statement, poplex, popcontext);
      if (type == "class") return cont(pushlex("form"), className, poplex);
      if (type == "export") return cont(pushlex("stat"), afterExport, poplex);
      if (type == "import") return cont(pushlex("stat"), afterImport, poplex);
      if (type == "module") return cont(pushlex("form"), pattern, pushlex("}"), expect("{"), block, poplex, poplex);
      if (type == "async") return cont(statement);
      return pass(pushlex("stat"), expression, expect(";"), poplex);
    }
    function expression(type) {
      return expressionInner(type, false);
    }
    function expressionNoComma(type) {
      return expressionInner(type, true);
    }
    function expressionInner(type, noComma) {
      if (cx.state.fatArrowAt == cx.stream.start) {
        var body = noComma ? arrowBodyNoComma : arrowBody;
        if (type == "(") return cont(pushcontext, pushlex(")"), commasep(pattern, ")"), poplex, expect("=>"), body, popcontext);else if (type == "variable") return pass(pushcontext, pattern, expect("=>"), body, popcontext);
      }

      var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;
      if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);
      if (type == "function") return cont(functiondef, maybeop);
      if (type == "keyword c") return cont(noComma ? maybeexpressionNoComma : maybeexpression);
      if (type == "(") return cont(pushlex(")"), maybeexpression, comprehension, expect(")"), poplex, maybeop);
      if (type == "operator" || type == "spread") return cont(noComma ? expressionNoComma : expression);
      if (type == "[") return cont(pushlex("]"), arrayLiteral, poplex, maybeop);
      if (type == "{") return contCommasep(objprop, "}", null, maybeop);
      if (type == "quasi") return pass(quasi, maybeop);
      if (type == "new") return cont(maybeTarget(noComma));
      return cont();
    }
    function maybeexpression(type) {
      if (type.match(/[;\}\)\],]/)) return pass();
      return pass(expression);
    }
    function maybeexpressionNoComma(type) {
      if (type.match(/[;\}\)\],]/)) return pass();
      return pass(expressionNoComma);
    }

    function maybeoperatorComma(type, value) {
      if (type == ",") return cont(expression);
      return maybeoperatorNoComma(type, value, false);
    }
    function maybeoperatorNoComma(type, value, noComma) {
      var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;
      var expr = noComma == false ? expression : expressionNoComma;
      if (type == "=>") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);
      if (type == "operator") {
        if (/\+\+|--/.test(value)) return cont(me);
        if (value == "?") return cont(expression, expect(":"), expr);
        return cont(expr);
      }
      if (type == "quasi") {
        return pass(quasi, me);
      }
      if (type == ";") return;
      if (type == "(") return contCommasep(expressionNoComma, ")", "call", me);
      if (type == ".") return cont(property, me);
      if (type == "[") return cont(pushlex("]"), maybeexpression, expect("]"), poplex, me);
    }
    function quasi(type, value) {
      if (type != "quasi") return pass();
      if (value.slice(value.length - 2) != "${") return cont(quasi);
      return cont(expression, continueQuasi);
    }
    function continueQuasi(type) {
      if (type == "}") {
        cx.marked = "string-2";
        cx.state.tokenize = tokenQuasi;
        return cont(quasi);
      }
    }
    function arrowBody(type) {
      findFatArrow(cx.stream, cx.state);
      return pass(type == "{" ? statement : expression);
    }
    function arrowBodyNoComma(type) {
      findFatArrow(cx.stream, cx.state);
      return pass(type == "{" ? statement : expressionNoComma);
    }
    function maybeTarget(noComma) {
      return function (type) {
        if (type == ".") return cont(noComma ? targetNoComma : target);else return pass(noComma ? expressionNoComma : expression);
      };
    }
    function target(_, value) {
      if (value == "target") {
        cx.marked = "keyword";return cont(maybeoperatorComma);
      }
    }
    function targetNoComma(_, value) {
      if (value == "target") {
        cx.marked = "keyword";return cont(maybeoperatorNoComma);
      }
    }
    function maybelabel(type) {
      if (type == ":") return cont(poplex, statement);
      return pass(maybeoperatorComma, expect(";"), poplex);
    }
    function property(type) {
      if (type == "variable") {
        cx.marked = "property";return cont();
      }
    }
    function objprop(type, value) {
      if (type == "variable" || cx.style == "keyword") {
        cx.marked = "property";
        if (value == "get" || value == "set") return cont(getterSetter);
        return cont(afterprop);
      } else if (type == "number" || type == "string") {
        cx.marked = jsonldMode ? "property" : cx.style + " property";
        return cont(afterprop);
      } else if (type == "jsonld-keyword") {
        return cont(afterprop);
      } else if (type == "modifier") {
        return cont(objprop);
      } else if (type == "[") {
        return cont(expression, expect("]"), afterprop);
      } else if (type == "spread") {
        return cont(expression);
      }
    }
    function getterSetter(type) {
      if (type != "variable") return pass(afterprop);
      cx.marked = "property";
      return cont(functiondef);
    }
    function afterprop(type) {
      if (type == ":") return cont(expressionNoComma);
      if (type == "(") return pass(functiondef);
    }
    function commasep(what, end) {
      function proceed(type, value) {
        if (type == ",") {
          var lex = cx.state.lexical;
          if (lex.info == "call") lex.pos = (lex.pos || 0) + 1;
          return cont(what, proceed);
        }
        if (type == end || value == end) return cont();
        return cont(expect(end));
      }
      return function (type, value) {
        if (type == end || value == end) return cont();
        return pass(what, proceed);
      };
    }
    function contCommasep(what, end, info) {
      for (var i = 3; i < arguments.length; i++) {
        cx.cc.push(arguments[i]);
      }return cont(pushlex(end, info), commasep(what, end), poplex);
    }
    function block(type) {
      if (type == "}") return cont();
      return pass(statement, block);
    }
    function maybetype(type) {
      if (isTS && type == ":") return cont(typeexpr);
    }
    function maybedefault(_, value) {
      if (value == "=") return cont(expressionNoComma);
    }
    function typeexpr(type) {
      if (type == "variable") {
        cx.marked = "variable-3";return cont(afterType);
      }
    }
    function afterType(type, value) {
      if (value == "<") return cont(commasep(typeexpr, ">"), afterType);
      if (type == "[") return cont(expect("]"), afterType);
    }
    function vardef() {
      return pass(pattern, maybetype, maybeAssign, vardefCont);
    }
    function pattern(type, value) {
      if (type == "modifier") return cont(pattern);
      if (type == "variable") {
        register(value);return cont();
      }
      if (type == "spread") return cont(pattern);
      if (type == "[") return contCommasep(pattern, "]");
      if (type == "{") return contCommasep(proppattern, "}");
    }
    function proppattern(type, value) {
      if (type == "variable" && !cx.stream.match(/^\s*:/, false)) {
        register(value);
        return cont(maybeAssign);
      }
      if (type == "variable") cx.marked = "property";
      if (type == "spread") return cont(pattern);
      if (type == "}") return pass();
      return cont(expect(":"), pattern, maybeAssign);
    }
    function maybeAssign(_type, value) {
      if (value == "=") return cont(expressionNoComma);
    }
    function vardefCont(type) {
      if (type == ",") return cont(vardef);
    }
    function maybeelse(type, value) {
      if (type == "keyword b" && value == "else") return cont(pushlex("form", "else"), statement, poplex);
    }
    function forspec(type) {
      if (type == "(") return cont(pushlex(")"), forspec1, expect(")"), poplex);
    }
    function forspec1(type) {
      if (type == "var") return cont(vardef, expect(";"), forspec2);
      if (type == ";") return cont(forspec2);
      if (type == "variable") return cont(formaybeinof);
      return pass(expression, expect(";"), forspec2);
    }
    function formaybeinof(_type, value) {
      if (value == "in" || value == "of") {
        cx.marked = "keyword";return cont(expression);
      }
      return cont(maybeoperatorComma, forspec2);
    }
    function forspec2(type, value) {
      if (type == ";") return cont(forspec3);
      if (value == "in" || value == "of") {
        cx.marked = "keyword";return cont(expression);
      }
      return pass(expression, expect(";"), forspec3);
    }
    function forspec3(type) {
      if (type != ")") cont(expression);
    }
    function functiondef(type, value) {
      if (value == "*") {
        cx.marked = "keyword";return cont(functiondef);
      }
      if (type == "variable") {
        register(value);return cont(functiondef);
      }
      if (type == "(") return cont(pushcontext, pushlex(")"), commasep(funarg, ")"), poplex, maybetype, statement, popcontext);
    }
    function funarg(type) {
      if (type == "spread") return cont(funarg);
      return pass(pattern, maybetype, maybedefault);
    }
    function className(type, value) {
      if (type == "variable") {
        register(value);return cont(classNameAfter);
      }
    }
    function classNameAfter(type, value) {
      if (value == "extends") return cont(expression, classNameAfter);
      if (type == "{") return cont(pushlex("}"), classBody, poplex);
    }
    function classBody(type, value) {
      if (type == "variable" || cx.style == "keyword") {
        if (value == "static") {
          cx.marked = "keyword";
          return cont(classBody);
        }
        cx.marked = "property";
        if (value == "get" || value == "set") return cont(classGetterSetter, functiondef, classBody);
        return cont(functiondef, classBody);
      }
      if (value == "*") {
        cx.marked = "keyword";
        return cont(classBody);
      }
      if (type == ";") return cont(classBody);
      if (type == "}") return cont();
    }
    function classGetterSetter(type) {
      if (type != "variable") return pass();
      cx.marked = "property";
      return cont();
    }
    function afterExport(_type, value) {
      if (value == "*") {
        cx.marked = "keyword";return cont(maybeFrom, expect(";"));
      }
      if (value == "default") {
        cx.marked = "keyword";return cont(expression, expect(";"));
      }
      return pass(statement);
    }
    function afterImport(type) {
      if (type == "string") return cont();
      return pass(importSpec, maybeFrom);
    }
    function importSpec(type, value) {
      if (type == "{") return contCommasep(importSpec, "}");
      if (type == "variable") register(value);
      if (value == "*") cx.marked = "keyword";
      return cont(maybeAs);
    }
    function maybeAs(_type, value) {
      if (value == "as") {
        cx.marked = "keyword";return cont(importSpec);
      }
    }
    function maybeFrom(_type, value) {
      if (value == "from") {
        cx.marked = "keyword";return cont(expression);
      }
    }
    function arrayLiteral(type) {
      if (type == "]") return cont();
      return pass(expressionNoComma, maybeArrayComprehension);
    }
    function maybeArrayComprehension(type) {
      if (type == "for") return pass(comprehension, expect("]"));
      if (type == ",") return cont(commasep(maybeexpressionNoComma, "]"));
      return pass(commasep(expressionNoComma, "]"));
    }
    function comprehension(type) {
      if (type == "for") return cont(forspec, comprehension);
      if (type == "if") return cont(expression, comprehension);
    }

    function isContinuedStatement(state, textAfter) {
      return state.lastType == "operator" || state.lastType == "," || isOperatorChar.test(textAfter.charAt(0)) || /[,.]/.test(textAfter.charAt(0));
    }

    // Interface

    return {
      startState: function startState(basecolumn) {
        var state = {
          tokenize: tokenBase,
          lastType: "sof",
          cc: [],
          lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, "block", false),
          localVars: parserConfig.localVars,
          context: parserConfig.localVars && { vars: parserConfig.localVars },
          indented: basecolumn || 0
        };
        if (parserConfig.globalVars && _typeof(parserConfig.globalVars) == "object") state.globalVars = parserConfig.globalVars;
        return state;
      },

      token: function token(stream, state) {
        if (stream.sol()) {
          if (!state.lexical.hasOwnProperty("align")) state.lexical.align = false;
          state.indented = stream.indentation();
          findFatArrow(stream, state);
        }
        if (state.tokenize != tokenComment && stream.eatSpace()) return null;
        var style = state.tokenize(stream, state);
        if (type == "comment") return style;
        state.lastType = type == "operator" && (content == "++" || content == "--") ? "incdec" : type;
        return parseJS(state, style, type, content, stream);
      },

      indent: function indent(state, textAfter) {
        if (state.tokenize == tokenComment) return CodeMirror.Pass;
        if (state.tokenize != tokenBase) return 0;
        var firstChar = textAfter && textAfter.charAt(0),
            lexical = state.lexical;
        // Kludge to prevent 'maybelse' from blocking lexical scope pops
        if (!/^\s*else\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {
          var c = state.cc[i];
          if (c == poplex) lexical = lexical.prev;else if (c != maybeelse) break;
        }
        if (lexical.type == "stat" && firstChar == "}") lexical = lexical.prev;
        if (statementIndent && lexical.type == ")" && lexical.prev.type == "stat") lexical = lexical.prev;
        var type = lexical.type,
            closing = firstChar == type;

        if (type == "vardef") return lexical.indented + (state.lastType == "operator" || state.lastType == "," ? lexical.info + 1 : 0);else if (type == "form" && firstChar == "{") return lexical.indented;else if (type == "form") return lexical.indented + indentUnit;else if (type == "stat") return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);else if (lexical.info == "switch" && !closing && parserConfig.doubleIndentSwitch != false) return lexical.indented + (/^(?:case|default)\b/.test(textAfter) ? indentUnit : 2 * indentUnit);else if (lexical.align) return lexical.column + (closing ? 0 : 1);else return lexical.indented + (closing ? 0 : indentUnit);
      },

      electricInput: /^\s*(?:case .*?:|default:|\{|\})$/,
      blockCommentStart: jsonMode ? null : "/*",
      blockCommentEnd: jsonMode ? null : "*/",
      lineComment: jsonMode ? null : "//",
      fold: "brace",
      closeBrackets: "()[]{}''\"\"``",

      helperType: jsonMode ? "json" : "javascript",
      jsonldMode: jsonldMode,
      jsonMode: jsonMode,

      expressionAllowed: expressionAllowed,
      skipExpression: function skipExpression(state) {
        var top = state.cc[state.cc.length - 1];
        if (top == expression || top == expressionNoComma) state.cc.pop();
      }
    };
  });

  CodeMirror.registerHelper("wordChars", "javascript", /[\w$]/);

  CodeMirror.defineMIME("text/javascript", "javascript");
  CodeMirror.defineMIME("text/ecmascript", "javascript");
  CodeMirror.defineMIME("application/javascript", "javascript");
  CodeMirror.defineMIME("application/x-javascript", "javascript");
  CodeMirror.defineMIME("application/ecmascript", "javascript");
  CodeMirror.defineMIME("application/json", { name: "javascript", json: true });
  CodeMirror.defineMIME("application/x-json", { name: "javascript", json: true });
  CodeMirror.defineMIME("application/ld+json", { name: "javascript", jsonld: true });
  CodeMirror.defineMIME("text/typescript", { name: "javascript", typescript: true });
  CodeMirror.defineMIME("application/typescript", { name: "javascript", typescript: true });
});

},{"../../lib/codemirror":22}],26:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function (mod) {
  if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) == "object" && (typeof module === "undefined" ? "undefined" : _typeof(module)) == "object") // CommonJS
    mod(require("../../lib/codemirror"));else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);else // Plain browser env
    mod(CodeMirror);
})(function (CodeMirror) {
  "use strict";

  var htmlConfig = {
    autoSelfClosers: { 'area': true, 'base': true, 'br': true, 'col': true, 'command': true,
      'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,
      'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,
      'track': true, 'wbr': true, 'menuitem': true },
    implicitlyClosed: { 'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,
      'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,
      'th': true, 'tr': true },
    contextGrabbers: {
      'dd': { 'dd': true, 'dt': true },
      'dt': { 'dd': true, 'dt': true },
      'li': { 'li': true },
      'option': { 'option': true, 'optgroup': true },
      'optgroup': { 'optgroup': true },
      'p': { 'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,
        'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,
        'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,
        'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,
        'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true },
      'rp': { 'rp': true, 'rt': true },
      'rt': { 'rp': true, 'rt': true },
      'tbody': { 'tbody': true, 'tfoot': true },
      'td': { 'td': true, 'th': true },
      'tfoot': { 'tbody': true },
      'th': { 'td': true, 'th': true },
      'thead': { 'tbody': true, 'tfoot': true },
      'tr': { 'tr': true }
    },
    doNotIndent: { "pre": true },
    allowUnquoted: true,
    allowMissing: true,
    caseFold: true
  };

  var xmlConfig = {
    autoSelfClosers: {},
    implicitlyClosed: {},
    contextGrabbers: {},
    doNotIndent: {},
    allowUnquoted: false,
    allowMissing: false,
    caseFold: false
  };

  CodeMirror.defineMode("xml", function (editorConf, config_) {
    var indentUnit = editorConf.indentUnit;
    var config = {};
    var defaults = config_.htmlMode ? htmlConfig : xmlConfig;
    for (var prop in defaults) {
      config[prop] = defaults[prop];
    }for (var prop in config_) {
      config[prop] = config_[prop];
    } // Return variables for tokenizers
    var type, setStyle;

    function inText(stream, state) {
      function chain(parser) {
        state.tokenize = parser;
        return parser(stream, state);
      }

      var ch = stream.next();
      if (ch == "<") {
        if (stream.eat("!")) {
          if (stream.eat("[")) {
            if (stream.match("CDATA[")) return chain(inBlock("atom", "]]>"));else return null;
          } else if (stream.match("--")) {
            return chain(inBlock("comment", "-->"));
          } else if (stream.match("DOCTYPE", true, true)) {
            stream.eatWhile(/[\w\._\-]/);
            return chain(doctype(1));
          } else {
            return null;
          }
        } else if (stream.eat("?")) {
          stream.eatWhile(/[\w\._\-]/);
          state.tokenize = inBlock("meta", "?>");
          return "meta";
        } else {
          type = stream.eat("/") ? "closeTag" : "openTag";
          state.tokenize = inTag;
          return "tag bracket";
        }
      } else if (ch == "&") {
        var ok;
        if (stream.eat("#")) {
          if (stream.eat("x")) {
            ok = stream.eatWhile(/[a-fA-F\d]/) && stream.eat(";");
          } else {
            ok = stream.eatWhile(/[\d]/) && stream.eat(";");
          }
        } else {
          ok = stream.eatWhile(/[\w\.\-:]/) && stream.eat(";");
        }
        return ok ? "atom" : "error";
      } else {
        stream.eatWhile(/[^&<]/);
        return null;
      }
    }
    inText.isInText = true;

    function inTag(stream, state) {
      var ch = stream.next();
      if (ch == ">" || ch == "/" && stream.eat(">")) {
        state.tokenize = inText;
        type = ch == ">" ? "endTag" : "selfcloseTag";
        return "tag bracket";
      } else if (ch == "=") {
        type = "equals";
        return null;
      } else if (ch == "<") {
        state.tokenize = inText;
        state.state = baseState;
        state.tagName = state.tagStart = null;
        var next = state.tokenize(stream, state);
        return next ? next + " tag error" : "tag error";
      } else if (/[\'\"]/.test(ch)) {
        state.tokenize = inAttribute(ch);
        state.stringStartCol = stream.column();
        return state.tokenize(stream, state);
      } else {
        stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);
        return "word";
      }
    }

    function inAttribute(quote) {
      var closure = function closure(stream, state) {
        while (!stream.eol()) {
          if (stream.next() == quote) {
            state.tokenize = inTag;
            break;
          }
        }
        return "string";
      };
      closure.isInAttribute = true;
      return closure;
    }

    function inBlock(style, terminator) {
      return function (stream, state) {
        while (!stream.eol()) {
          if (stream.match(terminator)) {
            state.tokenize = inText;
            break;
          }
          stream.next();
        }
        return style;
      };
    }
    function doctype(depth) {
      return function (stream, state) {
        var ch;
        while ((ch = stream.next()) != null) {
          if (ch == "<") {
            state.tokenize = doctype(depth + 1);
            return state.tokenize(stream, state);
          } else if (ch == ">") {
            if (depth == 1) {
              state.tokenize = inText;
              break;
            } else {
              state.tokenize = doctype(depth - 1);
              return state.tokenize(stream, state);
            }
          }
        }
        return "meta";
      };
    }

    function Context(state, tagName, startOfLine) {
      this.prev = state.context;
      this.tagName = tagName;
      this.indent = state.indented;
      this.startOfLine = startOfLine;
      if (config.doNotIndent.hasOwnProperty(tagName) || state.context && state.context.noIndent) this.noIndent = true;
    }
    function popContext(state) {
      if (state.context) state.context = state.context.prev;
    }
    function maybePopContext(state, nextTagName) {
      var parentTagName;
      while (true) {
        if (!state.context) {
          return;
        }
        parentTagName = state.context.tagName;
        if (!config.contextGrabbers.hasOwnProperty(parentTagName) || !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {
          return;
        }
        popContext(state);
      }
    }

    function baseState(type, stream, state) {
      if (type == "openTag") {
        state.tagStart = stream.column();
        return tagNameState;
      } else if (type == "closeTag") {
        return closeTagNameState;
      } else {
        return baseState;
      }
    }
    function tagNameState(type, stream, state) {
      if (type == "word") {
        state.tagName = stream.current();
        setStyle = "tag";
        return attrState;
      } else {
        setStyle = "error";
        return tagNameState;
      }
    }
    function closeTagNameState(type, stream, state) {
      if (type == "word") {
        var tagName = stream.current();
        if (state.context && state.context.tagName != tagName && config.implicitlyClosed.hasOwnProperty(state.context.tagName)) popContext(state);
        if (state.context && state.context.tagName == tagName || config.matchClosing === false) {
          setStyle = "tag";
          return closeState;
        } else {
          setStyle = "tag error";
          return closeStateErr;
        }
      } else {
        setStyle = "error";
        return closeStateErr;
      }
    }

    function closeState(type, _stream, state) {
      if (type != "endTag") {
        setStyle = "error";
        return closeState;
      }
      popContext(state);
      return baseState;
    }
    function closeStateErr(type, stream, state) {
      setStyle = "error";
      return closeState(type, stream, state);
    }

    function attrState(type, _stream, state) {
      if (type == "word") {
        setStyle = "attribute";
        return attrEqState;
      } else if (type == "endTag" || type == "selfcloseTag") {
        var tagName = state.tagName,
            tagStart = state.tagStart;
        state.tagName = state.tagStart = null;
        if (type == "selfcloseTag" || config.autoSelfClosers.hasOwnProperty(tagName)) {
          maybePopContext(state, tagName);
        } else {
          maybePopContext(state, tagName);
          state.context = new Context(state, tagName, tagStart == state.indented);
        }
        return baseState;
      }
      setStyle = "error";
      return attrState;
    }
    function attrEqState(type, stream, state) {
      if (type == "equals") return attrValueState;
      if (!config.allowMissing) setStyle = "error";
      return attrState(type, stream, state);
    }
    function attrValueState(type, stream, state) {
      if (type == "string") return attrContinuedState;
      if (type == "word" && config.allowUnquoted) {
        setStyle = "string";return attrState;
      }
      setStyle = "error";
      return attrState(type, stream, state);
    }
    function attrContinuedState(type, stream, state) {
      if (type == "string") return attrContinuedState;
      return attrState(type, stream, state);
    }

    return {
      startState: function startState(baseIndent) {
        var state = { tokenize: inText,
          state: baseState,
          indented: baseIndent || 0,
          tagName: null, tagStart: null,
          context: null };
        if (baseIndent != null) state.baseIndent = baseIndent;
        return state;
      },

      token: function token(stream, state) {
        if (!state.tagName && stream.sol()) state.indented = stream.indentation();

        if (stream.eatSpace()) return null;
        type = null;
        var style = state.tokenize(stream, state);
        if ((style || type) && style != "comment") {
          setStyle = null;
          state.state = state.state(type || style, stream, state);
          if (setStyle) style = setStyle == "error" ? style + " error" : setStyle;
        }
        return style;
      },

      indent: function indent(state, textAfter, fullLine) {
        var context = state.context;
        // Indent multi-line strings (e.g. css).
        if (state.tokenize.isInAttribute) {
          if (state.tagStart == state.indented) return state.stringStartCol + 1;else return state.indented + indentUnit;
        }
        if (context && context.noIndent) return CodeMirror.Pass;
        if (state.tokenize != inTag && state.tokenize != inText) return fullLine ? fullLine.match(/^(\s*)/)[0].length : 0;
        // Indent the starts of attribute names.
        if (state.tagName) {
          if (config.multilineTagIndentPastTag !== false) return state.tagStart + state.tagName.length + 2;else return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);
        }
        if (config.alignCDATA && /<!\[CDATA\[/.test(textAfter)) return 0;
        var tagAfter = textAfter && /^<(\/)?([\w_:\.-]*)/.exec(textAfter);
        if (tagAfter && tagAfter[1]) {
          // Closing tag spotted
          while (context) {
            if (context.tagName == tagAfter[2]) {
              context = context.prev;
              break;
            } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {
              context = context.prev;
            } else {
              break;
            }
          }
        } else if (tagAfter) {
          // Opening tag spotted
          while (context) {
            var grabbers = config.contextGrabbers[context.tagName];
            if (grabbers && grabbers.hasOwnProperty(tagAfter[2])) context = context.prev;else break;
          }
        }
        while (context && context.prev && !context.startOfLine) {
          context = context.prev;
        }if (context) return context.indent + indentUnit;else return state.baseIndent || 0;
      },

      electricInput: /<\/[\s\w:]+>$/,
      blockCommentStart: "<!--",
      blockCommentEnd: "-->",

      configuration: config.htmlMode ? "html" : "xml",
      helperType: config.htmlMode ? "html" : "xml",

      skipAttribute: function skipAttribute(state) {
        if (state.state == attrValueState) state.state = attrState;
      }
    };
  });

  CodeMirror.defineMIME("text/xml", "xml");
  CodeMirror.defineMIME("application/xml", "xml");
  if (!CodeMirror.mimeModes.hasOwnProperty("text/html")) CodeMirror.defineMIME("text/html", { name: "xml", htmlMode: true });
});

},{"../../lib/codemirror":22}],27:[function(require,module,exports){
'use strict';

var compile = require('./compile');

window.manila = window.manila || {};

window.manila.handlers = {};

var components = {},
    selection = void 0;

function component(componentName, component) {

	var vm = window.manila.data[componentName] || {},
	    el = document.querySelector('[data-component="' + componentName + '"]');

	compile('#' + componentName + '-template').then(function (render) {

		function resolve(data) {

			var index = 0;

			window.manila.handlers[componentName] = [];

			data.on = function (event, handler) {
				for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
					args[_key - 2] = arguments[_key];
				}

				var eventString = void 0;

				window.manila.handlers[componentName][index] = function (e) {

					e.stopPropagation();

					args.push(e);

					handler.apply(data, args);

					if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {

						resolve(data);
					}
				};

				eventString = 'on' + event + '=manila.handlers.' + componentName + '[' + index + '](event)';

				index++;

				return eventString;
			};

			el.innerHTML = render(data);
		}

		vm.render = function () {

			resolve(vm);
		};

		var methods = component(vm);

		if (methods) {

			components[componentName] = {};

			Object.keys(methods).forEach(function (key) {

				components[componentName][key] = function () {
					for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
						args[_key2] = arguments[_key2];
					}

					var result = methods[key].apply(vm, args);

					resolve(vm);

					return result;
				};
			});
		}

		resolve(vm);
	});

	return window.manila;
}

window.manila.component = component;
window.manila.components = components;

module.exports = {
	component: component,
	components: components
};

},{"./compile":28}],28:[function(require,module,exports){
'use strict';

var manila = require('manila/parse');

var cache = {},
    escapeMap = {
	'<': '&lt;',
	'>': '&gt;',
	'"': '&quot;',
	'\'': '&apos;'
};

function htmlEscape(str) {

	return str.replace(/[&<>'"]/g, function (c) {

		return escapeMap[c];
	});
}

window.manila = window.manila || {};

window.manila.e = function (val) {

	return typeof val === 'string' ? htmlEscape(val) : val;
};

module.exports = function compile(selector) {

	return new Promise(function (resolve) {

		if (!selector) {

			resolve(function () {});
		} else {

			if (cache[selector]) {

				resolve(cache[selector]);
			}

			cache[selector] = manila(document.querySelector(selector).innerHTML);

			resolve(cache[selector]);
		}
	});
};

},{"manila/parse":29}],29:[function(require,module,exports){
'use strict';

module.exports = function (template) {

    return new Function('context', "var p=[];with(context){p.push(`" + template.replace(/\\/g, "\\\\").replace(/`/g, "\\`").replace(/<::(?!\s*}.*?::>)(?!.*{\s*::>)(.*?)::>/g, "`);try{p.push($1)}catch(e){}p.push(`").replace(/<::?(?!\s*}.*?::?>)(?!.*{\s*::?>)(.*?)::?>/g, "`);try{p.push(manila.e($1))}catch(e){}p.push(`").replace(/<::?(.*?)::?>/g, "`);$1\np.push(`") + "`);}return p.join('');");
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvYXBwLmpzIiwiYXNzZXRzL2pzL2NvbXBvbmVudHMvY29udGV4dE1lbnUuanMiLCJhc3NldHMvanMvY29tcG9uZW50cy9lZGl0b3IuanMiLCJhc3NldHMvanMvY29tcG9uZW50cy9uYXYuanMiLCJhc3NldHMvanMvY29tcG9uZW50cy9zZWFyY2guanMiLCJhc3NldHMvanMvY29tcG9uZW50cy90YWJzLmpzIiwiYXNzZXRzL2pzL3NyYy9hamF4LmpzIiwiYXNzZXRzL2pzL3NyYy9kZWJvdW5jZS5qcyIsImFzc2V0cy9qcy9zcmMvZmlsZU1hbmFnZXIuanMiLCJhc3NldHMvanMvc3JjL2xvYWRNb2RlLmpzIiwiYXNzZXRzL2pzL3NyYy9yZXNpemUuanMiLCJhc3NldHMvanMvc3JjL3NhdmUuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9hZGRvbi9jb21tZW50L2NvbW1lbnQuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9hZGRvbi9kaWFsb2cvZGlhbG9nLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvYWRkb24vZWRpdC9jbG9zZWJyYWNrZXRzLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvYWRkb24vZWRpdC9tYXRjaGJyYWNrZXRzLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvYWRkb24vZWRpdC9tYXRjaHRhZ3MuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9hZGRvbi9mb2xkL3htbC1mb2xkLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvYWRkb24vc2VhcmNoL3NlYXJjaC5qcyIsIm5vZGVfbW9kdWxlcy9jb2RlbWlycm9yL2FkZG9uL3NlYXJjaC9zZWFyY2hjdXJzb3IuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9rZXltYXAvc3VibGltZS5qcyIsIm5vZGVfbW9kdWxlcy9jb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvbW9kZS9jc3MvY3NzLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvbW9kZS9odG1sbWl4ZWQvaHRtbG1peGVkLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvbW9kZS9qYXZhc2NyaXB0L2phdmFzY3JpcHQuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL3htbC94bWwuanMiLCJub2RlX21vZHVsZXMvbW5sYS9jbGllbnQuanMiLCJub2RlX21vZHVsZXMvbW5sYS9jb21waWxlLmpzIiwibm9kZV9tb2R1bGVzL21ubGEvbm9kZV9tb2R1bGVzL21hbmlsYS9wYXJzZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDZ0JBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7QUFwQkEsUUFBUSxrQ0FBUjtBQUNBLFFBQVEsZ0NBQVI7QUFDQSxRQUFRLHNDQUFSO0FBQ0EsUUFBUSxnQ0FBUjtBQUNBLFFBQVEscUNBQVI7QUFDQSxRQUFRLHFDQUFSO0FBQ0EsUUFBUSxpQ0FBUjtBQUNBLFFBQVEsMkJBQVI7QUFDQSxRQUFRLHlCQUFSO0FBQ0EsUUFBUSxxQ0FBUjtBQUNBLFFBQVEsdUNBQVI7QUFDQSxRQUFRLHlCQUFSO0FBQ0EsT0FBTyxVQUFQLEdBQW9CLFFBQVEsWUFBUixDQUFwQjs7Ozs7OztBQ2JBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBSSxnQkFBSjs7QUFFQSxpQkFBTyxTQUFQLENBQWlCLGFBQWpCLEVBQWdDLGNBQU07O0FBRXJDLElBQUcsSUFBSCxHQUFVLElBQVY7O0FBRUEsVUFBUyxJQUFULENBQWMsSUFBZCxFQUFvQixDQUFwQixFQUF1Qjs7QUFFdEIsSUFBRSxjQUFGOztBQUVBLFlBQVUsSUFBVjs7QUFFQSxLQUFHLElBQUgsR0FBVSxFQUFFLE9BQVo7O0FBRUEsS0FBRyxHQUFILEdBQVMsRUFBRSxPQUFYOztBQUVBLEtBQUcs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T0FBSSxNQUFNLFFBQU4sQ0FBSixFQUFxQjs7QUFFcEIsWUFBUSxNQUFNLFFBQU4sQ0FBUjtBQUVBOztBQUVELFNBQU0sUUFBTixJQUFrQixPQUFPLFNBQVMsYUFBVCxDQUF1QixRQUF2QixFQUFpQyxTQUF4QyxDQUFsQjs7QUFFQSxXQUFRLE1BQU0sUUFBTixDQUFSO0FBRUE7QUFFRCxFQXBCTSxDQUFQO0FBc0JBLENBeEJEOzs7QUM3QkE7O0FBRUEsT0FBTyxPQUFQLEdBQWlCLFVBQVMsUUFBVCxFQUFtQjs7QUFFaEMsV0FBTyxJQUFJLFFBQUosQ0FBYSxTQUFiLEVBRUgsb0NBRUEsU0FDSyxPQURMLENBQ2EsS0FEYixFQUNvQixNQURwQixFQUVLLE9BRkwsQ0FFYSxJQUZiLEVBRW1CLEtBRm5CLEVBR0ssT0FITCxDQUdhLHlDQUhiLEVBR3dELHNDQUh4RCxFQUlLLE9BSkwsQ0FJYSw2Q0FKYixFQUk0RCxnREFKNUQsRUFLSyxPQUxMLENBS2EsZ0JBTGIsRUFLK0IsaUJBTC9CLENBRkEsR0FTQSx3QkFYRyxDQUFQO0FBWUgsQ0FkRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBDb2RlTWlycm9yIGRlcGVuZGVuY2llc1xucmVxdWlyZSgnY29kZW1pcnJvci9hZGRvbi9jb21tZW50L2NvbW1lbnQnKTtcbnJlcXVpcmUoJ2NvZGVtaXJyb3IvYWRkb24vc2VhcmNoL3NlYXJjaCcpO1xucmVxdWlyZSgnY29kZW1pcnJvci9hZGRvbi9zZWFyY2gvc2VhcmNoY3Vyc29yJyk7XG5yZXF1aXJlKCdjb2RlbWlycm9yL2FkZG9uL2RpYWxvZy9kaWFsb2cnKTtcbnJlcXVpcmUoJ2NvZGVtaXJyb3IvYWRkb24vZWRpdC9tYXRjaGJyYWNrZXRzJyk7XG5yZXF1aXJlKCdjb2RlbWlycm9yL2FkZG9uL2VkaXQvY2xvc2VicmFja2V0cycpO1xucmVxdWlyZSgnY29kZW1pcnJvci9hZGRvbi9lZGl0L21hdGNodGFncycpO1xucmVxdWlyZSgnY29kZW1pcnJvci9rZXltYXAvc3VibGltZScpO1xucmVxdWlyZSgnY29kZW1pcnJvci9tb2RlL2Nzcy9jc3MnKTtcbnJlcXVpcmUoJ2NvZGVtaXJyb3IvbW9kZS9odG1sbWl4ZWQvaHRtbG1peGVkJyk7XG5yZXF1aXJlKCdjb2RlbWlycm9yL21vZGUvamF2YXNjcmlwdC9qYXZhc2NyaXB0Jyk7XG5yZXF1aXJlKCdjb2RlbWlycm9yL21vZGUveG1sL3htbCcpO1xud2luZG93LkNvZGVNaXJyb3IgPSByZXF1aXJlKCdjb2RlbWlycm9yJyk7XG5cbi8vIEZpcnN0LXBhcnR5IG1vZHVsZXNcbmltcG9ydCAnLi9zcmMvcmVzaXplJztcbmltcG9ydCAnLi9jb21wb25lbnRzL25hdic7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9lZGl0b3InO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvdGFicyc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9jb250ZXh0TWVudSc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9zZWFyY2gnOyIsImltcG9ydCBtYW5pbGEgZnJvbSAnbW5sYS9jbGllbnQnO1xuaW1wb3J0IGFqYXggZnJvbSAnLi4vc3JjL2FqYXgnO1xuaW1wb3J0IGZpbGVNYW5hZ2VyIGZyb20gJy4uL3NyYy9maWxlTWFuYWdlcic7XG5cbmxldCBjdXJyZW50O1xuXG5tYW5pbGEuY29tcG9uZW50KCdjb250ZXh0TWVudScsIHZtID0+IHtcblxuXHR2bS5maWxlID0gdHJ1ZTtcblxuXHRmdW5jdGlvbiBvcGVuKGl0ZW0sIGUpIHtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGN1cnJlbnQgPSBpdGVtO1xuXG5cdFx0dm0ubGVmdCA9IGUuY2xpZW50WDtcblxuXHRcdHZtLnRvcCA9IGUuY2xpZW50WTtcblxuXHRcdHZtLnZpc2libGUgPSB0cnVlO1xuXG5cdH1cblxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuXHRcdGlmICh2bS52aXNpYmxlKSB7XG5cblx0XHRcdHZtLnZpc2libGUgPSBmYWxzZTtcblxuXHRcdFx0dm0ucmVuZGVyKCk7XG5cblx0XHR9XG5cblx0fSk7XG5cblx0dm0ucmVuYW1lID0gKCkgPT4ge1xuXG5cdFx0dm0udmlzaWJsZSA9IGZhbHNlO1xuXG5cdFx0dm0ucmVuZGVyKCk7XG5cblx0XHRsZXQgbmFtZSA9IHByb21wdCgnTmV3IG5hbWU6Jyk7XG5cblx0XHRpZiAobmFtZSkge1xuXG5cdFx0XHRhamF4LnBvc3QoXG5cblx0XHRcdFx0Jy9yZW5hbWU/cGF0aD0nICsgY3VycmVudC5wYXRoLFxuXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBuYW1lXG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0cmVzdWx0ID0+IHtcblxuXHRcdFx0XHRcdGlmIChyZXN1bHQuZXJyb3IpIHtcblxuXHRcdFx0XHRcdFx0YWxlcnQocmVzdWx0LmVycm9yKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IocmVzdWx0LmVycm9yKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHR2bS5yZW5kZXIoKTtcblxuXHRcdFx0XHRcdFx0ZmlsZU1hbmFnZXIuY2xvc2UoY3VycmVudCk7XG5cblx0XHRcdFx0XHRcdGN1cnJlbnQubmFtZSA9IG5hbWU7XG5cblx0XHRcdFx0XHRcdGN1cnJlbnQucGF0aCA9IHJlc3VsdC5kYXRhO1xuXG5cdFx0XHRcdFx0XHRmaWxlTWFuYWdlci5vcGVuKGN1cnJlbnQpO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHQpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0dm0uZGVsZXRlUGF0aCA9ICgpID0+IHtcblxuXHRcdHZtLnZpc2libGUgPSBmYWxzZTtcblxuXHRcdHZtLnJlbmRlcigpO1xuXG5cdFx0aWYgKGNvbmZpcm0oYFBlcm1hbmVudGx5IGRlbGV0ZSAke2N1cnJlbnQucGF0aH0/YCkpIHtcblxuXHRcdFx0YWpheC5wb3N0KFxuXG5cdFx0XHRcdCcvZGVsZXRlP3BhdGg9JyArIGN1cnJlbnQucGF0aCxcblxuXHRcdFx0XHRyZXN1bHQgPT4ge1xuXG5cdFx0XHRcdFx0aWYgKHJlc3VsdC5lcnJvcikge1xuXG5cdFx0XHRcdFx0XHRhbGVydChyZXN1bHQuZXJyb3IpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihyZXN1bHQuZXJyb3IpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdGN1cnJlbnQuZGVsZXRlZCA9IHRydWU7XG5cblx0XHRcdFx0XHRcdG1hbmlsYS5jb21wb25lbnRzLm5hdi5yZW5kZXIoKTtcblxuXHRcdFx0XHRcdFx0aWYgKHZtLmZpbGUpIHtcblxuXHRcdFx0XHRcdFx0XHRmaWxlTWFuYWdlci5jbG9zZShjdXJyZW50KTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHQpO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0dm0ubmV3RmlsZSA9ICgpID0+IHtcblxuXHRcdHZtLnZpc2libGUgPSBmYWxzZTtcblxuXHRcdHZtLnJlbmRlcigpO1xuXG5cdFx0bGV0IG5hbWUgPSBwcm9tcHQoJ0ZpbGUgbmFtZTonKTtcblxuXHRcdGFqYXgucG9zdChcblxuXHRcdFx0Jy9uZXctZmlsZT9wYXRoPScgKyBjdXJyZW50LnBhdGgsXG5cblx0XHRcdHtcblx0XHRcdFx0bmFtZTogbmFtZVxuXHRcdFx0fSxcblxuXHRcdFx0cmVzdWx0ID0+IHtcblxuXHRcdFx0XHRpZiAocmVzdWx0LmVycm9yKSB7XG5cblx0XHRcdFx0XHRhbGVydChyZXN1bHQuZXJyb3IpO1xuXHRcdFx0XHRcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKHJlc3VsdC5lcnJvcik7XG5cdFx0XHRcdFxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0bGV0IG5ld0ZpbGUgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0XHRcdFx0cGF0aDogcmVzdWx0LmRhdGFcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Y3VycmVudC5jaGlsZHJlbiA9IGN1cnJlbnQuY2hpbGRyZW4gfHwgeyBmaWxlczpbXSB9O1xuXG5cdFx0XHRcdFx0Y3VycmVudC5jaGlsZHJlbi5maWxlcy5wdXNoKG5ld0ZpbGUpO1xuXG5cdFx0XHRcdFx0ZmlsZU1hbmFnZXIub3BlbihuZXdGaWxlKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHRcdFxuXHRcdCk7XG5cblx0fTtcblxuXHR2bS5uZXdEaXIgPSAoKSA9PiB7XG5cblx0XHR2bS52aXNpYmxlID0gZmFsc2U7XG5cblx0XHR2bS5yZW5kZXIoKTtcblxuXHRcdGxldCBuYW1lID0gcHJvbXB0KCdGb2xkZXIgbmFtZTonKTtcblxuXHRcdGFqYXgucG9zdChcblxuXHRcdFx0Jy9uZXctZGlyP3BhdGg9JyArIGN1cnJlbnQucGF0aCxcblxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiBuYW1lXG5cdFx0XHR9LFxuXG5cdFx0XHRyZXN1bHQgPT4ge1xuXG5cdFx0XHRcdGlmIChyZXN1bHQuZXJyb3IpIHtcblxuXHRcdFx0XHRcdGFsZXJ0KHJlc3VsdC5lcnJvcik7XG5cdFx0XHRcdFxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IocmVzdWx0LmVycm9yKTtcblx0XHRcdFx0XG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRjdXJyZW50LmNoaWxkcmVuID0gY3VycmVudC5jaGlsZHJlbiB8fCB7IGRpcnM6W10gfTtcblxuXHRcdFx0XHRcdGN1cnJlbnQuY2hpbGRyZW4uZGlycy5wdXNoKHtcblx0XHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0XHRwYXRoOiByZXN1bHQuZGF0YVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0bWFuaWxhLmNvbXBvbmVudHMubmF2LnJlbmRlcigpO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0KTtcblxuXHR9O1xuXG5cdHZtLnJlZnJlc2ggPSAoKSA9PiB7XG5cblx0XHR2bS52aXNpYmxlID0gZmFsc2U7XG5cblx0XHR2bS5yZW5kZXIoKTtcblxuXHRcdGFqYXguZ2V0KCcvbmF2P3BhdGg9JyArIGN1cnJlbnQucGF0aCwgcmVzdWx0ID0+IHtcblxuXHRcdFx0aWYgKHJlc3VsdC5lcnJvcikge1xuXG5cdFx0XHRcdGFsZXJ0KHJlc3VsdC5lcnJvcik7XG5cblx0XHRcdFx0Y29uc29sZS5lcnJvcihyZXN1bHQuZXJyb3IpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGN1cnJlbnQuY2hpbGRyZW4gPSByZXN1bHQuZGlyO1xuXG5cdFx0XHRcdG1hbmlsYS5jb21wb25lbnRzLm5hdi5yZW5kZXIoKTtcblxuXHRcdFx0fVxuXG5cdFx0fSlcblxuXHR9O1xuXG5cdHJldHVybiB7XG5cblx0XHRyaWdodENsaWNrRGlyOiAoZGlyLCBlKSA9PiB7XG5cblx0XHRcdHZtLmZpbGUgPSBmYWxzZTtcblxuXHRcdFx0dm0ucGFyZW50ID0gZGlyLnBhcmVudDtcblxuXHRcdFx0b3BlbihkaXIsIGUpO1xuXG5cdFx0fSxcblxuXHRcdHJpZ2h0Q2xpY2tGaWxlOiAoZmlsZSwgZSkgPT4ge1xuXG5cdFx0XHR2bS5maWxlID0gdHJ1ZTtcblxuXHRcdFx0dm0ucGFyZW50ID0gZmFsc2U7XG5cblx0XHRcdG9wZW4oZmlsZSwgZSlcblxuXHRcdH1cblxuXHR9XG5cbn0pO1xuIiwiaW1wb3J0IGFqYXggZnJvbSAnLi4vc3JjL2FqYXgnO1xuaW1wb3J0IG1hbmlsYSBmcm9tICdtbmxhL2NsaWVudCc7XG5pbXBvcnQgeyBsb2FkTW9kZSB9IGZyb20gJy4uL3NyYy9sb2FkTW9kZSc7XG5pbXBvcnQgeyBzYXZlIH0gZnJvbSAnLi4vc3JjL3NhdmUnO1xuXG5tYW5pbGEuY29tcG9uZW50KCdlZGl0b3InLCB2bSA9PiB7XG5cblx0bGV0IG9wZW5GaWxlcyA9IHt9LFxuXHRcdGVkaXRvcixcblx0XHRjdXJyZW50UGF0aDtcblxuXHR2bS5sb2FkaW5nID0gZmFsc2U7XG5cblx0ZnVuY3Rpb24gc2hvd1RleHQodGV4dCwgZXh0ZW5zaW9uKSB7XG5cblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XG5cblx0XHR2bS5yZW5kZXIoKTtcblxuXHRcdGxvYWRNb2RlKGV4dGVuc2lvbikudGhlbihtb2RlID0+IHtcblxuXHRcdFx0aWYgKGVkaXRvcikge1xuXG5cdFx0XHRcdGVkaXRvci5zZXRPcHRpb24oJ21vZGUnLCBtb2RlKTtcblxuXHRcdFx0XHRlZGl0b3Iuc2V0VmFsdWUodGV4dCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0ZWRpdG9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRleHQnKSwge1xuXHRcdFx0XHRcdHRoZW1lOiAnbW9ub2thaScsXG5cdFx0XHRcdCBcdGxpbmVOdW1iZXJzOiB0cnVlLFxuXHRcdFx0XHQgXHRtb2RlOiBtb2RlLFxuXHRcdFx0XHQgXHRrZXlNYXA6ICdzdWJsaW1lJyxcblx0XHRcdFx0IFx0bWF0Y2hCcmFja2V0czogdHJ1ZSxcblx0XHRcdFx0IFx0YXV0b0Nsb3NlQnJhY2tldHM6IHRydWUsXG5cdFx0XHRcdCBcdG1hdGNoVGFnczogdHJ1ZSxcblx0XHRcdFx0IFx0ZXh0cmFLZXlzOiB7XG5cdFx0XHRcdCBcdFx0J0NtZC1TJzogc2F2ZSxcblx0XHRcdFx0IFx0XHQnQ3RybC1TJzogc2F2ZVxuXHRcdFx0XHQgXHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGVkaXRvci5zZXRWYWx1ZSh0ZXh0KTtcblxuXHRcdFx0fVxuXG5cdFx0fSk7XG5cblx0fVxuXG5cdHJldHVybiB7XG5cblx0XHR1cGRhdGU6IChwYXRoLCBvcGVuaW5nKSA9PiB7XG5cblx0XHRcdGlmICghb3BlbmluZykge1xuXG5cdFx0XHRcdGlmIChvcGVuRmlsZXNbcGF0aF0uY2xlYW4gfHwgY29uZmlybShgRGlzY2FyZCB1c2F2ZWQgY2hhbmdlcyB0byAke3BhdGh9P2ApKSB7XG5cblx0XHRcdFx0XHRzaG93VGV4dCgnJyk7XG5cblx0XHRcdFx0XHRkZWxldGUgb3BlbkZpbGVzW3BhdGhdO1xuXG5cdFx0XHRcdFx0Ly8gcmV0dXJuIHRydWUgdG8gcGFzcyBjb25maXJtYXRpb24gdG8gb3RoZXIgY29tcG9uZW50cyB2aWEgZmlsZU1hbmFnZXJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0bGV0IGV4dGVuc2lvbiA9IHBhdGguc3BsaXQoJy4nKTtcblxuXHRcdFx0XHRleHRlbnNpb24gPSBleHRlbnNpb25bZXh0ZW5zaW9uLmxlbmd0aCAtIDFdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50UGF0aCkge1xuXG5cdFx0XHRcdFx0b3BlbkZpbGVzW2N1cnJlbnRQYXRoXSA9IHtcblx0XHRcdFx0XHRcdHZhbHVlOiBlZGl0b3IuZ2V0VmFsdWUoKSxcblx0XHRcdFx0XHRcdGNsZWFuOiBlZGl0b3IuaXNDbGVhbigpXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VycmVudFBhdGggPSBwYXRoO1xuXG5cdFx0XHRcdGlmIChvcGVuRmlsZXNbcGF0aF0pIHtcblxuXHRcdFx0XHRcdHNob3dUZXh0KG9wZW5GaWxlc1twYXRoXS52YWx1ZSwgZXh0ZW5zaW9uKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0c2hvd1RleHQoJycpO1xuXG5cdFx0XHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XG5cblx0XHRcdFx0XHRhamF4LmdldCgnL29wZW4/ZmlsZT0nICsgcGF0aCwgZGF0YSA9PiB7XG5cblx0XHRcdFx0XHRcdHNob3dUZXh0KGRhdGEuZGF0YSwgZXh0ZW5zaW9uKTtcblxuXHRcdFx0XHRcdFx0b3BlbkZpbGVzW2N1cnJlbnRQYXRoXSA9IHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGRhdGEuZGF0YSxcblx0XHRcdFx0XHRcdFx0Y2xlYW46IHRydWVcblx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9O1xuXG59KTtcbiIsImltcG9ydCBmaWxlTWFuYWdlciBmcm9tICcuLi9zcmMvZmlsZU1hbmFnZXInO1xuaW1wb3J0IGFqYXggZnJvbSAnLi4vc3JjL2FqYXgnO1xuaW1wb3J0IG1hbmlsYSBmcm9tICdtbmxhL2NsaWVudCc7XG5cbm1hbmlsYS5jb21wb25lbnQoJ25hdicsIHZtID0+IHtcblxuXHRsZXQgY2FjaGUgPSB2bS5kaXI7XG5cblx0dm0ub3BlbiA9IHt9O1xuXG5cdHZtLmNsaWNrRGlyID0gKGRpciwgZSkgPT4ge1xuXG5cdFx0ZGlyLm9wZW4gPSAhZGlyLm9wZW47XG5cblx0XHRpZiAoIWRpci5jaGlsZHJlbikge1xuXG5cdFx0XHR2bS5sb2FkaW5nID0gdHJ1ZTtcblxuXHRcdFx0YWpheC5nZXQoJy9uYXY/cGF0aD0nICsgZGlyLnBhdGgsIGRhdGEgPT4ge1xuXG5cdFx0XHRcdGRpci5jaGlsZHJlbiA9IGRhdGEuZGlyO1xuXG5cdFx0XHRcdGRlbGV0ZSB2bS5sb2FkaW5nO1xuXG5cdFx0XHRcdHZtLnJlbmRlcigpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHR9O1xuXG5cdHZtLmNsaWNrRmlsZSA9IGZpbGUgPT4ge1xuXG5cdFx0ZmlsZU1hbmFnZXIub3BlbihmaWxlKTtcblxuXHR9O1xuXG5cdHZtLnJpZ2h0Q2xpY2tEaXIgPSAoZGlyLCBlKSA9PiB7XG5cdFxuXHRcdG1hbmlsYS5jb21wb25lbnRzLmNvbnRleHRNZW51LnJpZ2h0Q2xpY2tEaXIoZGlyLCBlKTtcblxuXHR9O1xuXG5cdHZtLnJpZ2h0Q2xpY2tGaWxlID0gKGZpbGUsIGUpID0+IHtcblx0XG5cdFx0bWFuaWxhLmNvbXBvbmVudHMuY29udGV4dE1lbnUucmlnaHRDbGlja0ZpbGUoZmlsZSwgZSk7XG5cblx0fTtcblxuXHRyZXR1cm4ge1xuXG5cdFx0dXBkYXRlOiAocGF0aCwgb3BlbikgPT4ge1xuXG5cdFx0XHRpZiAob3Blbikge1xuXG5cdFx0XHRcdHZtLm9wZW5bcGF0aF0gPSBwYXRoO1xuXG5cdFx0XHRcdHZtLmFjdGl2ZSA9IHBhdGg7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0ZGVsZXRlIHZtLm9wZW5bcGF0aF07XG5cblx0XHRcdFx0ZGVsZXRlIHZtLmFjdGl2ZTtcblxuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdGdldEFjdGl2ZUZpbGU6ICgpID0+IHtcblxuXHRcdFx0cmV0dXJuIHZtLmFjdGl2ZTtcblxuXHRcdH0sXG5cblx0XHRyZW5kZXI6ICgpID0+IHtcblxuXHRcdFx0dm0ucmVuZGVyKCk7XG5cblx0XHR9LFxuXG5cdFx0c2hvd1NlYXJjaFJlc3VsdHM6IHJlc3VsdHMgPT4ge1xuXG5cdFx0XHR2bS5kaXIgPSByZXN1bHRzO1xuXG5cdFx0fSxcblxuXHRcdGhpZGVTZWFyY2hSZXN1bHRzOiAoKSA9PiB7XG5cblx0XHRcdHZtLmRpciA9IGNhY2hlO1xuXG5cdFx0fVxuXG5cdH07XG5cbn0pO1xuIiwiaW1wb3J0IGFqYXggZnJvbSAnLi4vc3JjL2FqYXgnO1xuaW1wb3J0IG1hbmlsYSBmcm9tICdtbmxhL2NsaWVudCc7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJy4uL3NyYy9kZWJvdW5jZSc7XG5cbm1hbmlsYS5jb21wb25lbnQoJ3NlYXJjaCcsIHZtID0+IHtcblxuXHRsZXQgcmVxO1xuXG5cdGZ1bmN0aW9uIHNlYXJjaChlKSB7XG5cblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWxvYWRlcicpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuXHRcdGlmIChyZXEpIHtcblxuXHRcdFx0cmVxLmFib3J0KCk7XG5cblx0XHR9XG5cblx0XHRpZiAoZS50YXJnZXQudmFsdWUgIT09ICcnKSB7XG5cblx0XHRcdHJlcSA9IGFqYXguZ2V0KGAvc2VhcmNoP3Rlcm09JHtlLnRhcmdldC52YWx1ZX1gLCByZXN1bHRzID0+IHtcblx0XHRcdFxuXHRcdFx0XHRtYW5pbGEuY29tcG9uZW50cy5uYXYuc2hvd1NlYXJjaFJlc3VsdHMocmVzdWx0cyk7XG5cblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC1sb2FkZXInKS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dm0uY2xvc2UoZSk7XG5cblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtbG9hZGVyJykuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuXG5cdFx0fVxuXHRcdFxuXHR9XG5cblx0dm0uc2VhcmNoID0gZGVib3VuY2Uoc2VhcmNoLCAyNTApO1xuXG5cdHZtLmNsb3NlID0gZSA9PiB7XG5cblx0XHRlLnRhcmdldC52YWx1ZSA9ICcnO1xuXG5cdFx0bWFuaWxhLmNvbXBvbmVudHMubmF2LmhpZGVTZWFyY2hSZXN1bHRzKCk7XG5cblx0fTtcblxufSk7XG4iLCJpbXBvcnQgZmlsZU1hbmFnZXIgZnJvbSAnLi4vc3JjL2ZpbGVNYW5hZ2VyJztcbmltcG9ydCBtYW5pbGEgZnJvbSAnbW5sYS9jbGllbnQnO1xuaW1wb3J0IHsgc2F2ZSB9IGZyb20gJy4uL3NyYy9zYXZlJztcblxubWFuaWxhLmNvbXBvbmVudCgndGFicycsIHZtID0+IHtcblxuXHR2bS50YWJzID0ge307XG5cblx0dm0uY2xvc2UgPSBwYXRoID0+IHtcblxuXHRcdGZpbGVNYW5hZ2VyLmNsb3NlKHtcblx0XHRcdHBhdGg6IHBhdGgsXG5cdFx0XHRuYW1lOiB2bS50YWJzW3BhdGhdXG5cdFx0fSk7XG5cblx0fTtcblxuXHR2bS5vcGVuID0gcGF0aCA9PiB7XG5cblx0XHRmaWxlTWFuYWdlci5vcGVuKHtcblx0XHRcdHBhdGg6IHBhdGgsXG5cdFx0XHRuYW1lOiB2bS50YWJzW3BhdGhdXG5cdFx0fSk7XG5cblx0fTtcblxuXHR2bS5zYXZlID0gc2F2ZTtcblxuXHRyZXR1cm4ge1xuXG5cdFx0dXBkYXRlOiAoZmlsZSwgb3BlbikgPT4ge1xuXG5cdFx0XHRpZiAob3Blbikge1xuXG5cdFx0XHRcdHZtLmFjdGl2ZSA9IGZpbGUucGF0aDtcblxuXHRcdFx0XHR2bS50YWJzW2ZpbGUucGF0aF0gPSBmaWxlLm5hbWU7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0ZGVsZXRlIHZtLnRhYnNbZmlsZS5wYXRoXTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH07XG5cbn0pO1xuIiwiZnVuY3Rpb24gc2VyaWFsaXplKGRhdGEpIHtcbiBcbiBcdGxldCBwYXJ0cyA9IFtdO1xuIFxuIFx0Zm9yIChsZXQga2V5IGluIGRhdGEpIHtcbiBcbiBcdFx0cGFydHMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFba2V5XSkpO1xuXG4gXHR9XG4gXG4gXHRyZXR1cm4gcGFydHMuam9pbignJicpO1xufVxuXG5mdW5jdGlvbiBlcnJvcih0ZXh0KSB7XG5cblx0YWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLiAnICsgdGV4dCk7XG5cbn1cbiBcbmZ1bmN0aW9uIGdldChwYXRoLCBkYXRhLCBjYWxsYmFjaykge1xuXG5cdGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuXG5cdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXG5cdH1cbiBcbiBcdGxldCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcbiBcdGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuIFxuIFx0XHRjYWxsYmFjayA9IGRhdGE7XG4gXG4gXHRcdGRhdGEgPSB7fTtcblxuIFx0fVxuIFxuIFx0cmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiBcbiBcdFx0aWYgKHJlcS5yZWFkeVN0YXRlID09PSA0KSB7XG5cbiBcdFx0XHRpZiAocmVxLnN0YXR1cyA9PT0gMjAwKSB7XG4gXG5cdCBcdFx0XHRsZXQgcmVzdWx0ID0gdm9pZCAwO1xuXHQgXG5cdCBcdFx0XHR0cnkge1xuXHQgXG5cdCBcdFx0XHRcdHJlc3VsdCA9IEpTT04ucGFyc2UocmVxLnJlc3BvbnNlVGV4dCk7XG5cblx0IFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHQgXG5cdCBcdFx0XHRcdHJlc3VsdCA9IHJlcS5yZXNwb25zZVRleHQ7XG5cblx0IFx0XHRcdH1cblx0IFxuXHQgXHRcdFx0Y2FsbGJhY2socmVzdWx0KTtcblxuXHQgXHRcdH0gZWxzZSBpZiAocmVxLnN0YXR1cyA+PSA0MDApIHtcblxuXHQgXHRcdFx0ZXJyb3IocmVxLnN0YXR1c1RleHQpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cbiBcdH07XG5cbiBcdHJlcS5vbmVycm9yID0gKCkgPT4ge1xuXG4gXHRcdGVycm9yKHBhdGgpO1xuXG4gXHR9O1xuIFxuIFx0cmVxLm9wZW4oJ0dFVCcsIHBhdGgpO1xuIFxuIFx0cmVxLnNlbmQoc2VyaWFsaXplKGRhdGEpKTtcblxuIFx0cmV0dXJuIHJlcTtcblxufVxuIFxuZnVuY3Rpb24gcG9zdChwYXRoLCBkYXRhLCBjYWxsYmFjaykge1xuXG5cdGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuXG5cdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXG5cdH1cbiBcbiBcdGxldCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcbiBcdHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gXG4gXHRcdGlmIChyZXEucmVhZHlTdGF0ZSA9PT0gNCkge1xuXG4gXHRcdFx0aWYgKHJlcS5zdGF0dXMgPT09IDIwMCkge1xuIFxuXHQgXHRcdFx0bGV0IGpzb24gPSBKU09OLnBhcnNlKHJlcS5yZXNwb25zZVRleHQpO1xuXHQgXG5cdCBcdFx0XHRpZiAoanNvbikge1xuXHQgXG5cdCBcdFx0XHRcdGNhbGxiYWNrKGpzb24pO1xuXG5cdCBcdFx0XHR9IGVsc2Uge1xuXHQgXG5cdCBcdFx0XHRcdGNhbGxiYWNrKHJlcS5yZXNwb25zZVRleHQpO1xuXG5cdCBcdFx0XHR9XG5cblx0IFx0XHR9IGVsc2UgaWYgKHJlcS5zdGF0dXMgPj0gNDAwKSB7XG5cblx0IFx0XHRcdGFsZXJ0KHJlcS5zdGF0dXNUZXh0KTtcblxuXHQgXHRcdH1cblxuIFx0XHR9XG5cbiBcdH07XG5cbiBcdHJlcS5vbmVycm9yID0gKCkgPT4ge1xuXG4gXHRcdGVycm9yKHBhdGgpO1xuXG4gXHR9O1xuIFxuIFx0cmVxLm9wZW4oJ1BPU1QnLCBwYXRoKTtcbiBcbiBcdHJlcS5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gXG4gXHRyZXEuc2VuZChzZXJpYWxpemUoZGF0YSkpO1xuXG4gXHRyZXR1cm4gcmVxO1xuXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXG4gXHRnZXQ6IGdldCxcbiBcdHBvc3Q6IHBvc3RcbiBcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0KSB7XG4gXG4gICAgbGV0IHRpbWVvdXQsIGFyZ3MsIHRpbWVzdGFtcDtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcblxuICAgICAgICBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgbGV0IGxhdGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGxldCBsYXN0ID0gKG5ldyBEYXRlKCkpIC0gdGltZXN0YW1wO1xuXG4gICAgICAgICAgICBpZiAobGFzdCA8IHdhaXQpIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgICB9XG4gICAgfTtcbn07IiwiaW1wb3J0IG1hbmlsYSBmcm9tICdtbmxhL2NsaWVudCc7XG5cbmxldCBvcGVuRmlsZXMgPSB7fTtcblxuZnVuY3Rpb24gb3BlbihmaWxlKSB7XG5cblx0bWFuaWxhLmNvbXBvbmVudHMuZWRpdG9yLnVwZGF0ZShmaWxlLnBhdGgsIHRydWUpO1xuXG5cdG1hbmlsYS5jb21wb25lbnRzLm5hdi51cGRhdGUoZmlsZS5wYXRoLCB0cnVlKTtcblxuXHRtYW5pbGEuY29tcG9uZW50cy50YWJzLnVwZGF0ZShmaWxlLCB0cnVlKTtcblxuXHRvcGVuRmlsZXNbZmlsZS5wYXRoXSA9IGZpbGU7XG5cbn1cblxuZnVuY3Rpb24gY2xvc2UoZmlsZSkge1xuXG5cdGxldCBvcGVuTGlzdDtcblxuXHRpZiAobWFuaWxhLmNvbXBvbmVudHMuZWRpdG9yLnVwZGF0ZShmaWxlLnBhdGgsIGZhbHNlKSkge1xuXG5cdFx0bWFuaWxhLmNvbXBvbmVudHMubmF2LnVwZGF0ZShmaWxlLnBhdGgsIGZhbHNlKTtcblx0XHRcblx0XHRtYW5pbGEuY29tcG9uZW50cy50YWJzLnVwZGF0ZShmaWxlLCBmYWxzZSk7XG5cblx0XHRkZWxldGUgb3BlbkZpbGVzW2ZpbGUucGF0aF07XG5cblx0XHRvcGVuTGlzdCA9IE9iamVjdC5rZXlzKG9wZW5GaWxlcyk7XG5cblx0XHRpZiAob3Blbkxpc3QubGVuZ3RoKSB7XG5cblx0XHRcdG9wZW4ob3BlbkZpbGVzW29wZW5MaXN0W29wZW5MaXN0Lmxlbmd0aCAtIDFdXSk7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuXHRvcGVuOiBvcGVuLFxuXHRjbG9zZTogY2xvc2VcblxufTsiLCJsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKSxcblxuXHRsb2FkZWRNb2RlcyA9IHtcblx0XHR4bWw6IHRydWUsXG5cdFx0Y3NzOiB0cnVlLFxuXHRcdGphdmFzY3JpcHQ6IHRydWUsXG5cdFx0aHRtbG1peGVkOiB0cnVlXG5cdH07XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTW9kZShleHRlbnNpb24pIHtcblxuXHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cblx0XHRsZXQgbW9kZSA9IG1vZGVzW2V4dGVuc2lvbl0gPyBtb2Rlc1tleHRlbnNpb25dLm5hbWUgfHwgbW9kZXNbZXh0ZW5zaW9uXSA6ICdzaGVsbCc7XG5cblx0XHRpZiAoIWxvYWRlZE1vZGVzW21vZGVdKSB7XG5cblx0XHRcdGxvYWRlZE1vZGVzW21vZGVdID0gdHJ1ZTtcblxuXHRcdFx0bGV0IHNjcmlwdCAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdFx0c2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcblxuXHRcdFx0c2NyaXB0LnNyYyAgPSBgL2Fzc2V0cy9qcy9kaXN0LyR7bW9kZX0uanNgO1xuXG5cdFx0XHRzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuXG5cdFx0XHRcdHJlc29sdmUobW9kZSk7XG5cblx0XHRcdH07XG5cblx0XHRcdGJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJlc29sdmUobW9kZSk7XG5cblx0XHR9XG5cblx0fSk7XG59OyIsImxldCBkcmFnZ2luZztcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc2l6ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4ge1xuXG5cdGRyYWdnaW5nID0gdHJ1ZTtcblxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTtcblxufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZSA9PiB7XG5cblx0ZHJhZ2dpbmcgPSBmYWxzZTtcblxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmcnKTtcblxufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlID0+IHtcblxuXHRpZiAoZHJhZ2dpbmcpIHtcblxuXHRcdGxldCB3aWR0aCA9IGBjYWxjKDEwMCUgLSAke2UuY2xpZW50WH1weClgO1xuXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tncm91bmQnKS5zdHlsZS5sZWZ0ID0gZS5jbGllbnRYICsgJ3B4Jztcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWNvbXBvbmVudCcpLnN0eWxlLndpZHRoID0gZS5jbGllbnRYIC0gNSArICdweCc7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tncm91bmQnKS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJzLWNvbXBvbmVudCcpLnN0eWxlLndpZHRoID0gd2lkdGg7XG5cblx0fVxuXG59KTsiLCJpbXBvcnQgbWFuaWxhIGZyb20gJ21ubGEvY2xpZW50JztcbmltcG9ydCBhamF4IGZyb20gJy4uL3NyYy9hamF4JztcblxubGV0IGJnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tncm91bmQnKVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZSgpIHtcblxuXHRsZXQgZmlsZSA9IG1hbmlsYS5jb21wb25lbnRzLm5hdi5nZXRBY3RpdmVGaWxlKCk7XG5cblx0aWYgKGZpbGUpIHtcblxuXHRcdGxldCBjbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Db2RlTWlycm9yJykuQ29kZU1pcnJvcjtcblxuXHRcdGJnLmNsYXNzTGlzdC5hZGQoJ2JsdXInKTtcblxuXHRcdGFqYXgucG9zdChcblxuXHRcdFx0Jy9zYXZlP2ZpbGU9JyArIGZpbGUsXG5cblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogY20uZ2V0VmFsdWUoKVxuXHRcdFx0fSxcblxuXHRcdFx0cmVzdWx0ID0+IHtcblxuXHRcdFx0XHRpZiAocmVzdWx0LmVycm9yKSB7XG5cblx0XHRcdFx0XHRhbGVydChyZXN1bHQuZXJyb3IpO1xuXHRcdFx0XHRcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKHJlc3VsdC5lcnJvcik7XG5cdFx0XHRcdFxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0YmcuY2xhc3NMaXN0LnJlbW92ZSgnYmx1cicpO1xuXG5cdFx0XHRcdFx0Y20ubWFya0NsZWFuKCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cdFx0XHRcblx0XHQpO1xuXG5cdH1cblxufTsiLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBub09wdGlvbnMgPSB7fTtcbiAgdmFyIG5vbldTID0gL1teXFxzXFx1MDBhMF0vO1xuICB2YXIgUG9zID0gQ29kZU1pcnJvci5Qb3M7XG5cbiAgZnVuY3Rpb24gZmlyc3ROb25XUyhzdHIpIHtcbiAgICB2YXIgZm91bmQgPSBzdHIuc2VhcmNoKG5vbldTKTtcbiAgICByZXR1cm4gZm91bmQgPT0gLTEgPyAwIDogZm91bmQ7XG4gIH1cblxuICBDb2RlTWlycm9yLmNvbW1hbmRzLnRvZ2dsZUNvbW1lbnQgPSBmdW5jdGlvbihjbSkge1xuICAgIGNtLnRvZ2dsZUNvbW1lbnQoKTtcbiAgfTtcblxuICBDb2RlTWlycm9yLmRlZmluZUV4dGVuc2lvbihcInRvZ2dsZUNvbW1lbnRcIiwgZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IG5vT3B0aW9ucztcbiAgICB2YXIgY20gPSB0aGlzO1xuICAgIHZhciBtaW5MaW5lID0gSW5maW5pdHksIHJhbmdlcyA9IHRoaXMubGlzdFNlbGVjdGlvbnMoKSwgbW9kZSA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZyb20gPSByYW5nZXNbaV0uZnJvbSgpLCB0byA9IHJhbmdlc1tpXS50bygpO1xuICAgICAgaWYgKGZyb20ubGluZSA+PSBtaW5MaW5lKSBjb250aW51ZTtcbiAgICAgIGlmICh0by5saW5lID49IG1pbkxpbmUpIHRvID0gUG9zKG1pbkxpbmUsIDApO1xuICAgICAgbWluTGluZSA9IGZyb20ubGluZTtcbiAgICAgIGlmIChtb2RlID09IG51bGwpIHtcbiAgICAgICAgaWYgKGNtLnVuY29tbWVudChmcm9tLCB0bywgb3B0aW9ucykpIG1vZGUgPSBcInVuXCI7XG4gICAgICAgIGVsc2UgeyBjbS5saW5lQ29tbWVudChmcm9tLCB0bywgb3B0aW9ucyk7IG1vZGUgPSBcImxpbmVcIjsgfVxuICAgICAgfSBlbHNlIGlmIChtb2RlID09IFwidW5cIikge1xuICAgICAgICBjbS51bmNvbW1lbnQoZnJvbSwgdG8sIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY20ubGluZUNvbW1lbnQoZnJvbSwgdG8sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gUm91Z2ggaGV1cmlzdGljIHRvIHRyeSBhbmQgZGV0ZWN0IGxpbmVzIHRoYXQgYXJlIHBhcnQgb2YgbXVsdGktbGluZSBzdHJpbmdcbiAgZnVuY3Rpb24gcHJvYmFibHlJbnNpZGVTdHJpbmcoY20sIHBvcywgbGluZSkge1xuICAgIHJldHVybiAvXFxic3RyaW5nXFxiLy50ZXN0KGNtLmdldFRva2VuVHlwZUF0KFBvcyhwb3MubGluZSwgMCkpKSAmJiAhL15bXFwnXFxcImBdLy50ZXN0KGxpbmUpXG4gIH1cblxuICBDb2RlTWlycm9yLmRlZmluZUV4dGVuc2lvbihcImxpbmVDb21tZW50XCIsIGZ1bmN0aW9uKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0gbm9PcHRpb25zO1xuICAgIHZhciBzZWxmID0gdGhpcywgbW9kZSA9IHNlbGYuZ2V0TW9kZUF0KGZyb20pO1xuICAgIHZhciBmaXJzdExpbmUgPSBzZWxmLmdldExpbmUoZnJvbS5saW5lKTtcbiAgICBpZiAoZmlyc3RMaW5lID09IG51bGwgfHwgcHJvYmFibHlJbnNpZGVTdHJpbmcoc2VsZiwgZnJvbSwgZmlyc3RMaW5lKSkgcmV0dXJuO1xuXG4gICAgdmFyIGNvbW1lbnRTdHJpbmcgPSBvcHRpb25zLmxpbmVDb21tZW50IHx8IG1vZGUubGluZUNvbW1lbnQ7XG4gICAgaWYgKCFjb21tZW50U3RyaW5nKSB7XG4gICAgICBpZiAob3B0aW9ucy5ibG9ja0NvbW1lbnRTdGFydCB8fCBtb2RlLmJsb2NrQ29tbWVudFN0YXJ0KSB7XG4gICAgICAgIG9wdGlvbnMuZnVsbExpbmVzID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5ibG9ja0NvbW1lbnQoZnJvbSwgdG8sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBNYXRoLm1pbih0by5jaCAhPSAwIHx8IHRvLmxpbmUgPT0gZnJvbS5saW5lID8gdG8ubGluZSArIDEgOiB0by5saW5lLCBzZWxmLmxhc3RMaW5lKCkgKyAxKTtcbiAgICB2YXIgcGFkID0gb3B0aW9ucy5wYWRkaW5nID09IG51bGwgPyBcIiBcIiA6IG9wdGlvbnMucGFkZGluZztcbiAgICB2YXIgYmxhbmtMaW5lcyA9IG9wdGlvbnMuY29tbWVudEJsYW5rTGluZXMgfHwgZnJvbS5saW5lID09IHRvLmxpbmU7XG5cbiAgICBzZWxmLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIGlmIChvcHRpb25zLmluZGVudCkge1xuICAgICAgICB2YXIgYmFzZVN0cmluZyA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSBmcm9tLmxpbmU7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgICAgIHZhciBsaW5lID0gc2VsZi5nZXRMaW5lKGkpO1xuICAgICAgICAgIHZhciB3aGl0ZXNwYWNlID0gbGluZS5zbGljZSgwLCBmaXJzdE5vbldTKGxpbmUpKTtcbiAgICAgICAgICBpZiAoYmFzZVN0cmluZyA9PSBudWxsIHx8IGJhc2VTdHJpbmcubGVuZ3RoID4gd2hpdGVzcGFjZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGJhc2VTdHJpbmcgPSB3aGl0ZXNwYWNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gZnJvbS5saW5lOyBpIDwgZW5kOyArK2kpIHtcbiAgICAgICAgICB2YXIgbGluZSA9IHNlbGYuZ2V0TGluZShpKSwgY3V0ID0gYmFzZVN0cmluZy5sZW5ndGg7XG4gICAgICAgICAgaWYgKCFibGFua0xpbmVzICYmICFub25XUy50ZXN0KGxpbmUpKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAobGluZS5zbGljZSgwLCBjdXQpICE9IGJhc2VTdHJpbmcpIGN1dCA9IGZpcnN0Tm9uV1MobGluZSk7XG4gICAgICAgICAgc2VsZi5yZXBsYWNlUmFuZ2UoYmFzZVN0cmluZyArIGNvbW1lbnRTdHJpbmcgKyBwYWQsIFBvcyhpLCAwKSwgUG9zKGksIGN1dCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gZnJvbS5saW5lOyBpIDwgZW5kOyArK2kpIHtcbiAgICAgICAgICBpZiAoYmxhbmtMaW5lcyB8fCBub25XUy50ZXN0KHNlbGYuZ2V0TGluZShpKSkpXG4gICAgICAgICAgICBzZWxmLnJlcGxhY2VSYW5nZShjb21tZW50U3RyaW5nICsgcGFkLCBQb3MoaSwgMCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwiYmxvY2tDb21tZW50XCIsIGZ1bmN0aW9uKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0gbm9PcHRpb25zO1xuICAgIHZhciBzZWxmID0gdGhpcywgbW9kZSA9IHNlbGYuZ2V0TW9kZUF0KGZyb20pO1xuICAgIHZhciBzdGFydFN0cmluZyA9IG9wdGlvbnMuYmxvY2tDb21tZW50U3RhcnQgfHwgbW9kZS5ibG9ja0NvbW1lbnRTdGFydDtcbiAgICB2YXIgZW5kU3RyaW5nID0gb3B0aW9ucy5ibG9ja0NvbW1lbnRFbmQgfHwgbW9kZS5ibG9ja0NvbW1lbnRFbmQ7XG4gICAgaWYgKCFzdGFydFN0cmluZyB8fCAhZW5kU3RyaW5nKSB7XG4gICAgICBpZiAoKG9wdGlvbnMubGluZUNvbW1lbnQgfHwgbW9kZS5saW5lQ29tbWVudCkgJiYgb3B0aW9ucy5mdWxsTGluZXMgIT0gZmFsc2UpXG4gICAgICAgIHNlbGYubGluZUNvbW1lbnQoZnJvbSwgdG8sIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBNYXRoLm1pbih0by5saW5lLCBzZWxmLmxhc3RMaW5lKCkpO1xuICAgIGlmIChlbmQgIT0gZnJvbS5saW5lICYmIHRvLmNoID09IDAgJiYgbm9uV1MudGVzdChzZWxmLmdldExpbmUoZW5kKSkpIC0tZW5kO1xuXG4gICAgdmFyIHBhZCA9IG9wdGlvbnMucGFkZGluZyA9PSBudWxsID8gXCIgXCIgOiBvcHRpb25zLnBhZGRpbmc7XG4gICAgaWYgKGZyb20ubGluZSA+IGVuZCkgcmV0dXJuO1xuXG4gICAgc2VsZi5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAob3B0aW9ucy5mdWxsTGluZXMgIT0gZmFsc2UpIHtcbiAgICAgICAgdmFyIGxhc3RMaW5lSGFzVGV4dCA9IG5vbldTLnRlc3Qoc2VsZi5nZXRMaW5lKGVuZCkpO1xuICAgICAgICBzZWxmLnJlcGxhY2VSYW5nZShwYWQgKyBlbmRTdHJpbmcsIFBvcyhlbmQpKTtcbiAgICAgICAgc2VsZi5yZXBsYWNlUmFuZ2Uoc3RhcnRTdHJpbmcgKyBwYWQsIFBvcyhmcm9tLmxpbmUsIDApKTtcbiAgICAgICAgdmFyIGxlYWQgPSBvcHRpb25zLmJsb2NrQ29tbWVudExlYWQgfHwgbW9kZS5ibG9ja0NvbW1lbnRMZWFkO1xuICAgICAgICBpZiAobGVhZCAhPSBudWxsKSBmb3IgKHZhciBpID0gZnJvbS5saW5lICsgMTsgaSA8PSBlbmQ7ICsraSlcbiAgICAgICAgICBpZiAoaSAhPSBlbmQgfHwgbGFzdExpbmVIYXNUZXh0KVxuICAgICAgICAgICAgc2VsZi5yZXBsYWNlUmFuZ2UobGVhZCArIHBhZCwgUG9zKGksIDApKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYucmVwbGFjZVJhbmdlKGVuZFN0cmluZywgdG8pO1xuICAgICAgICBzZWxmLnJlcGxhY2VSYW5nZShzdGFydFN0cmluZywgZnJvbSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwidW5jb21tZW50XCIsIGZ1bmN0aW9uKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0gbm9PcHRpb25zO1xuICAgIHZhciBzZWxmID0gdGhpcywgbW9kZSA9IHNlbGYuZ2V0TW9kZUF0KGZyb20pO1xuICAgIHZhciBlbmQgPSBNYXRoLm1pbih0by5jaCAhPSAwIHx8IHRvLmxpbmUgPT0gZnJvbS5saW5lID8gdG8ubGluZSA6IHRvLmxpbmUgLSAxLCBzZWxmLmxhc3RMaW5lKCkpLCBzdGFydCA9IE1hdGgubWluKGZyb20ubGluZSwgZW5kKTtcblxuICAgIC8vIFRyeSBmaW5kaW5nIGxpbmUgY29tbWVudHNcbiAgICB2YXIgbGluZVN0cmluZyA9IG9wdGlvbnMubGluZUNvbW1lbnQgfHwgbW9kZS5saW5lQ29tbWVudCwgbGluZXMgPSBbXTtcbiAgICB2YXIgcGFkID0gb3B0aW9ucy5wYWRkaW5nID09IG51bGwgPyBcIiBcIiA6IG9wdGlvbnMucGFkZGluZywgZGlkU29tZXRoaW5nO1xuICAgIGxpbmVDb21tZW50OiB7XG4gICAgICBpZiAoIWxpbmVTdHJpbmcpIGJyZWFrIGxpbmVDb21tZW50O1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lID0gc2VsZi5nZXRMaW5lKGkpO1xuICAgICAgICB2YXIgZm91bmQgPSBsaW5lLmluZGV4T2YobGluZVN0cmluZyk7XG4gICAgICAgIGlmIChmb3VuZCA+IC0xICYmICEvY29tbWVudC8udGVzdChzZWxmLmdldFRva2VuVHlwZUF0KFBvcyhpLCBmb3VuZCArIDEpKSkpIGZvdW5kID0gLTE7XG4gICAgICAgIGlmIChmb3VuZCA9PSAtMSAmJiAoaSAhPSBlbmQgfHwgaSA9PSBzdGFydCkgJiYgbm9uV1MudGVzdChsaW5lKSkgYnJlYWsgbGluZUNvbW1lbnQ7XG4gICAgICAgIGlmIChmb3VuZCA+IC0xICYmIG5vbldTLnRlc3QobGluZS5zbGljZSgwLCBmb3VuZCkpKSBicmVhayBsaW5lQ29tbWVudDtcbiAgICAgICAgbGluZXMucHVzaChsaW5lKTtcbiAgICAgIH1cbiAgICAgIHNlbGYub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPD0gZW5kOyArK2kpIHtcbiAgICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2kgLSBzdGFydF07XG4gICAgICAgICAgdmFyIHBvcyA9IGxpbmUuaW5kZXhPZihsaW5lU3RyaW5nKSwgZW5kUG9zID0gcG9zICsgbGluZVN0cmluZy5sZW5ndGg7XG4gICAgICAgICAgaWYgKHBvcyA8IDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChsaW5lLnNsaWNlKGVuZFBvcywgZW5kUG9zICsgcGFkLmxlbmd0aCkgPT0gcGFkKSBlbmRQb3MgKz0gcGFkLmxlbmd0aDtcbiAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgIHNlbGYucmVwbGFjZVJhbmdlKFwiXCIsIFBvcyhpLCBwb3MpLCBQb3MoaSwgZW5kUG9zKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGRpZFNvbWV0aGluZykgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gVHJ5IGJsb2NrIGNvbW1lbnRzXG4gICAgdmFyIHN0YXJ0U3RyaW5nID0gb3B0aW9ucy5ibG9ja0NvbW1lbnRTdGFydCB8fCBtb2RlLmJsb2NrQ29tbWVudFN0YXJ0O1xuICAgIHZhciBlbmRTdHJpbmcgPSBvcHRpb25zLmJsb2NrQ29tbWVudEVuZCB8fCBtb2RlLmJsb2NrQ29tbWVudEVuZDtcbiAgICBpZiAoIXN0YXJ0U3RyaW5nIHx8ICFlbmRTdHJpbmcpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgbGVhZCA9IG9wdGlvbnMuYmxvY2tDb21tZW50TGVhZCB8fCBtb2RlLmJsb2NrQ29tbWVudExlYWQ7XG4gICAgdmFyIHN0YXJ0TGluZSA9IHNlbGYuZ2V0TGluZShzdGFydCksIGVuZExpbmUgPSBlbmQgPT0gc3RhcnQgPyBzdGFydExpbmUgOiBzZWxmLmdldExpbmUoZW5kKTtcbiAgICB2YXIgb3BlbiA9IHN0YXJ0TGluZS5pbmRleE9mKHN0YXJ0U3RyaW5nKSwgY2xvc2UgPSBlbmRMaW5lLmxhc3RJbmRleE9mKGVuZFN0cmluZyk7XG4gICAgaWYgKGNsb3NlID09IC0xICYmIHN0YXJ0ICE9IGVuZCkge1xuICAgICAgZW5kTGluZSA9IHNlbGYuZ2V0TGluZSgtLWVuZCk7XG4gICAgICBjbG9zZSA9IGVuZExpbmUubGFzdEluZGV4T2YoZW5kU3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKG9wZW4gPT0gLTEgfHwgY2xvc2UgPT0gLTEgfHxcbiAgICAgICAgIS9jb21tZW50Ly50ZXN0KHNlbGYuZ2V0VG9rZW5UeXBlQXQoUG9zKHN0YXJ0LCBvcGVuICsgMSkpKSB8fFxuICAgICAgICAhL2NvbW1lbnQvLnRlc3Qoc2VsZi5nZXRUb2tlblR5cGVBdChQb3MoZW5kLCBjbG9zZSArIDEpKSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBBdm9pZCBraWxsaW5nIGJsb2NrIGNvbW1lbnRzIGNvbXBsZXRlbHkgb3V0c2lkZSB0aGUgc2VsZWN0aW9uLlxuICAgIC8vIFBvc2l0aW9ucyBvZiB0aGUgbGFzdCBzdGFydFN0cmluZyBiZWZvcmUgdGhlIHN0YXJ0IG9mIHRoZSBzZWxlY3Rpb24sIGFuZCB0aGUgZmlyc3QgZW5kU3RyaW5nIGFmdGVyIGl0LlxuICAgIHZhciBsYXN0U3RhcnQgPSBzdGFydExpbmUubGFzdEluZGV4T2Yoc3RhcnRTdHJpbmcsIGZyb20uY2gpO1xuICAgIHZhciBmaXJzdEVuZCA9IGxhc3RTdGFydCA9PSAtMSA/IC0xIDogc3RhcnRMaW5lLnNsaWNlKDAsIGZyb20uY2gpLmluZGV4T2YoZW5kU3RyaW5nLCBsYXN0U3RhcnQgKyBzdGFydFN0cmluZy5sZW5ndGgpO1xuICAgIGlmIChsYXN0U3RhcnQgIT0gLTEgJiYgZmlyc3RFbmQgIT0gLTEgJiYgZmlyc3RFbmQgKyBlbmRTdHJpbmcubGVuZ3RoICE9IGZyb20uY2gpIHJldHVybiBmYWxzZTtcbiAgICAvLyBQb3NpdGlvbnMgb2YgdGhlIGZpcnN0IGVuZFN0cmluZyBhZnRlciB0aGUgZW5kIG9mIHRoZSBzZWxlY3Rpb24sIGFuZCB0aGUgbGFzdCBzdGFydFN0cmluZyBiZWZvcmUgaXQuXG4gICAgZmlyc3RFbmQgPSBlbmRMaW5lLmluZGV4T2YoZW5kU3RyaW5nLCB0by5jaCk7XG4gICAgdmFyIGFsbW9zdExhc3RTdGFydCA9IGVuZExpbmUuc2xpY2UodG8uY2gpLmxhc3RJbmRleE9mKHN0YXJ0U3RyaW5nLCBmaXJzdEVuZCAtIHRvLmNoKTtcbiAgICBsYXN0U3RhcnQgPSAoZmlyc3RFbmQgPT0gLTEgfHwgYWxtb3N0TGFzdFN0YXJ0ID09IC0xKSA/IC0xIDogdG8uY2ggKyBhbG1vc3RMYXN0U3RhcnQ7XG4gICAgaWYgKGZpcnN0RW5kICE9IC0xICYmIGxhc3RTdGFydCAhPSAtMSAmJiBsYXN0U3RhcnQgIT0gdG8uY2gpIHJldHVybiBmYWxzZTtcblxuICAgIHNlbGYub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZXBsYWNlUmFuZ2UoXCJcIiwgUG9zKGVuZCwgY2xvc2UgLSAocGFkICYmIGVuZExpbmUuc2xpY2UoY2xvc2UgLSBwYWQubGVuZ3RoLCBjbG9zZSkgPT0gcGFkID8gcGFkLmxlbmd0aCA6IDApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBvcyhlbmQsIGNsb3NlICsgZW5kU3RyaW5nLmxlbmd0aCkpO1xuICAgICAgdmFyIG9wZW5FbmQgPSBvcGVuICsgc3RhcnRTdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKHBhZCAmJiBzdGFydExpbmUuc2xpY2Uob3BlbkVuZCwgb3BlbkVuZCArIHBhZC5sZW5ndGgpID09IHBhZCkgb3BlbkVuZCArPSBwYWQubGVuZ3RoO1xuICAgICAgc2VsZi5yZXBsYWNlUmFuZ2UoXCJcIiwgUG9zKHN0YXJ0LCBvcGVuKSwgUG9zKHN0YXJ0LCBvcGVuRW5kKSk7XG4gICAgICBpZiAobGVhZCkgZm9yICh2YXIgaSA9IHN0YXJ0ICsgMTsgaSA8PSBlbmQ7ICsraSkge1xuICAgICAgICB2YXIgbGluZSA9IHNlbGYuZ2V0TGluZShpKSwgZm91bmQgPSBsaW5lLmluZGV4T2YobGVhZCk7XG4gICAgICAgIGlmIChmb3VuZCA9PSAtMSB8fCBub25XUy50ZXN0KGxpbmUuc2xpY2UoMCwgZm91bmQpKSkgY29udGludWU7XG4gICAgICAgIHZhciBmb3VuZEVuZCA9IGZvdW5kICsgbGVhZC5sZW5ndGg7XG4gICAgICAgIGlmIChwYWQgJiYgbGluZS5zbGljZShmb3VuZEVuZCwgZm91bmRFbmQgKyBwYWQubGVuZ3RoKSA9PSBwYWQpIGZvdW5kRW5kICs9IHBhZC5sZW5ndGg7XG4gICAgICAgIHNlbGYucmVwbGFjZVJhbmdlKFwiXCIsIFBvcyhpLCBmb3VuZCksIFBvcyhpLCBmb3VuZEVuZCkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4vLyBPcGVuIHNpbXBsZSBkaWFsb2dzIG9uIHRvcCBvZiBhbiBlZGl0b3IuIFJlbGllcyBvbiBkaWFsb2cuY3NzLlxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICBmdW5jdGlvbiBkaWFsb2dEaXYoY20sIHRlbXBsYXRlLCBib3R0b20pIHtcbiAgICB2YXIgd3JhcCA9IGNtLmdldFdyYXBwZXJFbGVtZW50KCk7XG4gICAgdmFyIGRpYWxvZztcbiAgICBkaWFsb2cgPSB3cmFwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIGlmIChib3R0b20pXG4gICAgICBkaWFsb2cuY2xhc3NOYW1lID0gXCJDb2RlTWlycm9yLWRpYWxvZyBDb2RlTWlycm9yLWRpYWxvZy1ib3R0b21cIjtcbiAgICBlbHNlXG4gICAgICBkaWFsb2cuY2xhc3NOYW1lID0gXCJDb2RlTWlycm9yLWRpYWxvZyBDb2RlTWlycm9yLWRpYWxvZy10b3BcIjtcblxuICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgZGlhbG9nLmlubmVySFRNTCA9IHRlbXBsYXRlO1xuICAgIH0gZWxzZSB7IC8vIEFzc3VtaW5nIGl0J3MgYSBkZXRhY2hlZCBET00gZWxlbWVudC5cbiAgICAgIGRpYWxvZy5hcHBlbmRDaGlsZCh0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBkaWFsb2c7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZU5vdGlmaWNhdGlvbihjbSwgbmV3VmFsKSB7XG4gICAgaWYgKGNtLnN0YXRlLmN1cnJlbnROb3RpZmljYXRpb25DbG9zZSlcbiAgICAgIGNtLnN0YXRlLmN1cnJlbnROb3RpZmljYXRpb25DbG9zZSgpO1xuICAgIGNtLnN0YXRlLmN1cnJlbnROb3RpZmljYXRpb25DbG9zZSA9IG5ld1ZhbDtcbiAgfVxuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwib3BlbkRpYWxvZ1wiLCBmdW5jdGlvbih0ZW1wbGF0ZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblxuICAgIGNsb3NlTm90aWZpY2F0aW9uKHRoaXMsIG51bGwpO1xuXG4gICAgdmFyIGRpYWxvZyA9IGRpYWxvZ0Rpdih0aGlzLCB0ZW1wbGF0ZSwgb3B0aW9ucy5ib3R0b20pO1xuICAgIHZhciBjbG9zZWQgPSBmYWxzZSwgbWUgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGNsb3NlKG5ld1ZhbCkge1xuICAgICAgaWYgKHR5cGVvZiBuZXdWYWwgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgaW5wLnZhbHVlID0gbmV3VmFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNsb3NlZCkgcmV0dXJuO1xuICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICBkaWFsb2cucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaWFsb2cpO1xuICAgICAgICBtZS5mb2N1cygpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm9uQ2xvc2UpIG9wdGlvbnMub25DbG9zZShkaWFsb2cpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpbnAgPSBkaWFsb2cuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKVswXSwgYnV0dG9uO1xuICAgIGlmIChpbnApIHtcbiAgICAgIGlucC5mb2N1cygpO1xuXG4gICAgICBpZiAob3B0aW9ucy52YWx1ZSkge1xuICAgICAgICBpbnAudmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuICAgICAgICBpZiAob3B0aW9ucy5zZWxlY3RWYWx1ZU9uT3BlbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpbnAuc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMub25JbnB1dClcbiAgICAgICAgQ29kZU1pcnJvci5vbihpbnAsIFwiaW5wdXRcIiwgZnVuY3Rpb24oZSkgeyBvcHRpb25zLm9uSW5wdXQoZSwgaW5wLnZhbHVlLCBjbG9zZSk7fSk7XG4gICAgICBpZiAob3B0aW9ucy5vbktleVVwKVxuICAgICAgICBDb2RlTWlycm9yLm9uKGlucCwgXCJrZXl1cFwiLCBmdW5jdGlvbihlKSB7b3B0aW9ucy5vbktleVVwKGUsIGlucC52YWx1ZSwgY2xvc2UpO30pO1xuXG4gICAgICBDb2RlTWlycm9yLm9uKGlucCwgXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vbktleURvd24gJiYgb3B0aW9ucy5vbktleURvd24oZSwgaW5wLnZhbHVlLCBjbG9zZSkpIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcgfHwgKG9wdGlvbnMuY2xvc2VPbkVudGVyICE9PSBmYWxzZSAmJiBlLmtleUNvZGUgPT0gMTMpKSB7XG4gICAgICAgICAgaW5wLmJsdXIoKTtcbiAgICAgICAgICBDb2RlTWlycm9yLmVfc3RvcChlKTtcbiAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIGNhbGxiYWNrKGlucC52YWx1ZSwgZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9wdGlvbnMuY2xvc2VPbkJsdXIgIT09IGZhbHNlKSBDb2RlTWlycm9yLm9uKGlucCwgXCJibHVyXCIsIGNsb3NlKTtcbiAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9IGRpYWxvZy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJ1dHRvblwiKVswXSkge1xuICAgICAgQ29kZU1pcnJvci5vbihidXR0b24sIFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICAgIG1lLmZvY3VzKCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9wdGlvbnMuY2xvc2VPbkJsdXIgIT09IGZhbHNlKSBDb2RlTWlycm9yLm9uKGJ1dHRvbiwgXCJibHVyXCIsIGNsb3NlKTtcblxuICAgICAgYnV0dG9uLmZvY3VzKCk7XG4gICAgfVxuICAgIHJldHVybiBjbG9zZTtcbiAgfSk7XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24oXCJvcGVuQ29uZmlybVwiLCBmdW5jdGlvbih0ZW1wbGF0ZSwgY2FsbGJhY2tzLCBvcHRpb25zKSB7XG4gICAgY2xvc2VOb3RpZmljYXRpb24odGhpcywgbnVsbCk7XG4gICAgdmFyIGRpYWxvZyA9IGRpYWxvZ0Rpdih0aGlzLCB0ZW1wbGF0ZSwgb3B0aW9ucyAmJiBvcHRpb25zLmJvdHRvbSk7XG4gICAgdmFyIGJ1dHRvbnMgPSBkaWFsb2cuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJidXR0b25cIik7XG4gICAgdmFyIGNsb3NlZCA9IGZhbHNlLCBtZSA9IHRoaXMsIGJsdXJyaW5nID0gMTtcbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIGlmIChjbG9zZWQpIHJldHVybjtcbiAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICBkaWFsb2cucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaWFsb2cpO1xuICAgICAgbWUuZm9jdXMoKTtcbiAgICB9XG4gICAgYnV0dG9uc1swXS5mb2N1cygpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGIgPSBidXR0b25zW2ldO1xuICAgICAgKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIENvZGVNaXJyb3Iub24oYiwgXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgQ29kZU1pcnJvci5lX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkoY2FsbGJhY2tzW2ldKTtcbiAgICAgIENvZGVNaXJyb3Iub24oYiwgXCJibHVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAtLWJsdXJyaW5nO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBpZiAoYmx1cnJpbmcgPD0gMCkgY2xvc2UoKTsgfSwgMjAwKTtcbiAgICAgIH0pO1xuICAgICAgQ29kZU1pcnJvci5vbihiLCBcImZvY3VzXCIsIGZ1bmN0aW9uKCkgeyArK2JsdXJyaW5nOyB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qXG4gICAqIG9wZW5Ob3RpZmljYXRpb25cbiAgICogT3BlbnMgYSBub3RpZmljYXRpb24sIHRoYXQgY2FuIGJlIGNsb3NlZCB3aXRoIGFuIG9wdGlvbmFsIHRpbWVyXG4gICAqIChkZWZhdWx0IDUwMDBtcyB0aW1lcikgYW5kIGFsd2F5cyBjbG9zZXMgb24gY2xpY2suXG4gICAqXG4gICAqIElmIGEgbm90aWZpY2F0aW9uIGlzIG9wZW5lZCB3aGlsZSBhbm90aGVyIGlzIG9wZW5lZCwgaXQgd2lsbCBjbG9zZSB0aGVcbiAgICogY3VycmVudGx5IG9wZW5lZCBvbmUgYW5kIG9wZW4gdGhlIG5ldyBvbmUgaW1tZWRpYXRlbHkuXG4gICAqL1xuICBDb2RlTWlycm9yLmRlZmluZUV4dGVuc2lvbihcIm9wZW5Ob3RpZmljYXRpb25cIiwgZnVuY3Rpb24odGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICBjbG9zZU5vdGlmaWNhdGlvbih0aGlzLCBjbG9zZSk7XG4gICAgdmFyIGRpYWxvZyA9IGRpYWxvZ0Rpdih0aGlzLCB0ZW1wbGF0ZSwgb3B0aW9ucyAmJiBvcHRpb25zLmJvdHRvbSk7XG4gICAgdmFyIGNsb3NlZCA9IGZhbHNlLCBkb25lVGltZXI7XG4gICAgdmFyIGR1cmF0aW9uID0gb3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5kdXJhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiA/IG9wdGlvbnMuZHVyYXRpb24gOiA1MDAwO1xuXG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICBpZiAoY2xvc2VkKSByZXR1cm47XG4gICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgY2xlYXJUaW1lb3V0KGRvbmVUaW1lcik7XG4gICAgICBkaWFsb2cucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaWFsb2cpO1xuICAgIH1cblxuICAgIENvZGVNaXJyb3Iub24oZGlhbG9nLCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICBDb2RlTWlycm9yLmVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBjbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgaWYgKGR1cmF0aW9uKVxuICAgICAgZG9uZVRpbWVyID0gc2V0VGltZW91dChjbG9zZSwgZHVyYXRpb24pO1xuXG4gICAgcmV0dXJuIGNsb3NlO1xuICB9KTtcbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgcGFpcnM6IFwiKClbXXt9JydcXFwiXFxcIlwiLFxuICAgIHRyaXBsZXM6IFwiXCIsXG4gICAgZXhwbG9kZTogXCJbXXt9XCJcbiAgfTtcblxuICB2YXIgUG9zID0gQ29kZU1pcnJvci5Qb3M7XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVPcHRpb24oXCJhdXRvQ2xvc2VCcmFja2V0c1wiLCBmYWxzZSwgZnVuY3Rpb24oY20sIHZhbCwgb2xkKSB7XG4gICAgaWYgKG9sZCAmJiBvbGQgIT0gQ29kZU1pcnJvci5Jbml0KSB7XG4gICAgICBjbS5yZW1vdmVLZXlNYXAoa2V5TWFwKTtcbiAgICAgIGNtLnN0YXRlLmNsb3NlQnJhY2tldHMgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmFsKSB7XG4gICAgICBjbS5zdGF0ZS5jbG9zZUJyYWNrZXRzID0gdmFsO1xuICAgICAgY20uYWRkS2V5TWFwKGtleU1hcCk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRPcHRpb24oY29uZiwgbmFtZSkge1xuICAgIGlmIChuYW1lID09IFwicGFpcnNcIiAmJiB0eXBlb2YgY29uZiA9PSBcInN0cmluZ1wiKSByZXR1cm4gY29uZjtcbiAgICBpZiAodHlwZW9mIGNvbmYgPT0gXCJvYmplY3RcIiAmJiBjb25mW25hbWVdICE9IG51bGwpIHJldHVybiBjb25mW25hbWVdO1xuICAgIHJldHVybiBkZWZhdWx0c1tuYW1lXTtcbiAgfVxuXG4gIHZhciBiaW5kID0gZGVmYXVsdHMucGFpcnMgKyBcImBcIjtcbiAgdmFyIGtleU1hcCA9IHtCYWNrc3BhY2U6IGhhbmRsZUJhY2tzcGFjZSwgRW50ZXI6IGhhbmRsZUVudGVyfTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5kLmxlbmd0aDsgaSsrKVxuICAgIGtleU1hcFtcIidcIiArIGJpbmQuY2hhckF0KGkpICsgXCInXCJdID0gaGFuZGxlcihiaW5kLmNoYXJBdChpKSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlcihjaCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjbSkgeyByZXR1cm4gaGFuZGxlQ2hhcihjbSwgY2gpOyB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q29uZmlnKGNtKSB7XG4gICAgdmFyIGRlZmx0ID0gY20uc3RhdGUuY2xvc2VCcmFja2V0cztcbiAgICBpZiAoIWRlZmx0KSByZXR1cm4gbnVsbDtcbiAgICB2YXIgbW9kZSA9IGNtLmdldE1vZGVBdChjbS5nZXRDdXJzb3IoKSk7XG4gICAgcmV0dXJuIG1vZGUuY2xvc2VCcmFja2V0cyB8fCBkZWZsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUJhY2tzcGFjZShjbSkge1xuICAgIHZhciBjb25mID0gZ2V0Q29uZmlnKGNtKTtcbiAgICBpZiAoIWNvbmYgfHwgY20uZ2V0T3B0aW9uKFwiZGlzYWJsZUlucHV0XCIpKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuXG4gICAgdmFyIHBhaXJzID0gZ2V0T3B0aW9uKGNvbmYsIFwicGFpcnNcIik7XG4gICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcmFuZ2VzW2ldLmVtcHR5KCkpIHJldHVybiBDb2RlTWlycm9yLlBhc3M7XG4gICAgICB2YXIgYXJvdW5kID0gY2hhcnNBcm91bmQoY20sIHJhbmdlc1tpXS5oZWFkKTtcbiAgICAgIGlmICghYXJvdW5kIHx8IHBhaXJzLmluZGV4T2YoYXJvdW5kKSAlIDIgIT0gMCkgcmV0dXJuIENvZGVNaXJyb3IuUGFzcztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGN1ciA9IHJhbmdlc1tpXS5oZWFkO1xuICAgICAgY20ucmVwbGFjZVJhbmdlKFwiXCIsIFBvcyhjdXIubGluZSwgY3VyLmNoIC0gMSksIFBvcyhjdXIubGluZSwgY3VyLmNoICsgMSksIFwiK2RlbGV0ZVwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFbnRlcihjbSkge1xuICAgIHZhciBjb25mID0gZ2V0Q29uZmlnKGNtKTtcbiAgICB2YXIgZXhwbG9kZSA9IGNvbmYgJiYgZ2V0T3B0aW9uKGNvbmYsIFwiZXhwbG9kZVwiKTtcbiAgICBpZiAoIWV4cGxvZGUgfHwgY20uZ2V0T3B0aW9uKFwiZGlzYWJsZUlucHV0XCIpKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuXG4gICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcmFuZ2VzW2ldLmVtcHR5KCkpIHJldHVybiBDb2RlTWlycm9yLlBhc3M7XG4gICAgICB2YXIgYXJvdW5kID0gY2hhcnNBcm91bmQoY20sIHJhbmdlc1tpXS5oZWFkKTtcbiAgICAgIGlmICghYXJvdW5kIHx8IGV4cGxvZGUuaW5kZXhPZihhcm91bmQpICUgMiAhPSAwKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuICAgIH1cbiAgICBjbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXFxuXFxuXCIsIG51bGwpO1xuICAgICAgY20uZXhlY0NvbW1hbmQoXCJnb0NoYXJMZWZ0XCIpO1xuICAgICAgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsaW5lID0gcmFuZ2VzW2ldLmhlYWQubGluZTtcbiAgICAgICAgY20uaW5kZW50TGluZShsaW5lLCBudWxsLCB0cnVlKTtcbiAgICAgICAgY20uaW5kZW50TGluZShsaW5lICsgMSwgbnVsbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb250cmFjdFNlbGVjdGlvbihzZWwpIHtcbiAgICB2YXIgaW52ZXJ0ZWQgPSBDb2RlTWlycm9yLmNtcFBvcyhzZWwuYW5jaG9yLCBzZWwuaGVhZCkgPiAwO1xuICAgIHJldHVybiB7YW5jaG9yOiBuZXcgUG9zKHNlbC5hbmNob3IubGluZSwgc2VsLmFuY2hvci5jaCArIChpbnZlcnRlZCA/IC0xIDogMSkpLFxuICAgICAgICAgICAgaGVhZDogbmV3IFBvcyhzZWwuaGVhZC5saW5lLCBzZWwuaGVhZC5jaCArIChpbnZlcnRlZCA/IDEgOiAtMSkpfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYXIoY20sIGNoKSB7XG4gICAgdmFyIGNvbmYgPSBnZXRDb25maWcoY20pO1xuICAgIGlmICghY29uZiB8fCBjbS5nZXRPcHRpb24oXCJkaXNhYmxlSW5wdXRcIikpIHJldHVybiBDb2RlTWlycm9yLlBhc3M7XG5cbiAgICB2YXIgcGFpcnMgPSBnZXRPcHRpb24oY29uZiwgXCJwYWlyc1wiKTtcbiAgICB2YXIgcG9zID0gcGFpcnMuaW5kZXhPZihjaCk7XG4gICAgaWYgKHBvcyA9PSAtMSkgcmV0dXJuIENvZGVNaXJyb3IuUGFzcztcbiAgICB2YXIgdHJpcGxlcyA9IGdldE9wdGlvbihjb25mLCBcInRyaXBsZXNcIik7XG5cbiAgICB2YXIgaWRlbnRpY2FsID0gcGFpcnMuY2hhckF0KHBvcyArIDEpID09IGNoO1xuICAgIHZhciByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpO1xuICAgIHZhciBvcGVuaW5nID0gcG9zICUgMiA9PSAwO1xuXG4gICAgdmFyIHR5cGU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXSwgY3VyID0gcmFuZ2UuaGVhZCwgY3VyVHlwZTtcbiAgICAgIHZhciBuZXh0ID0gY20uZ2V0UmFuZ2UoY3VyLCBQb3MoY3VyLmxpbmUsIGN1ci5jaCArIDEpKTtcbiAgICAgIGlmIChvcGVuaW5nICYmICFyYW5nZS5lbXB0eSgpKSB7XG4gICAgICAgIGN1clR5cGUgPSBcInN1cnJvdW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKChpZGVudGljYWwgfHwgIW9wZW5pbmcpICYmIG5leHQgPT0gY2gpIHtcbiAgICAgICAgaWYgKHRyaXBsZXMuaW5kZXhPZihjaCkgPj0gMCAmJiBjbS5nZXRSYW5nZShjdXIsIFBvcyhjdXIubGluZSwgY3VyLmNoICsgMykpID09IGNoICsgY2ggKyBjaClcbiAgICAgICAgICBjdXJUeXBlID0gXCJza2lwVGhyZWVcIjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGN1clR5cGUgPSBcInNraXBcIjtcbiAgICAgIH0gZWxzZSBpZiAoaWRlbnRpY2FsICYmIGN1ci5jaCA+IDEgJiYgdHJpcGxlcy5pbmRleE9mKGNoKSA+PSAwICYmXG4gICAgICAgICAgICAgICAgIGNtLmdldFJhbmdlKFBvcyhjdXIubGluZSwgY3VyLmNoIC0gMiksIGN1cikgPT0gY2ggKyBjaCAmJlxuICAgICAgICAgICAgICAgICAoY3VyLmNoIDw9IDIgfHwgY20uZ2V0UmFuZ2UoUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAzKSwgUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAyKSkgIT0gY2gpKSB7XG4gICAgICAgIGN1clR5cGUgPSBcImFkZEZvdXJcIjtcbiAgICAgIH0gZWxzZSBpZiAoaWRlbnRpY2FsKSB7XG4gICAgICAgIGlmICghQ29kZU1pcnJvci5pc1dvcmRDaGFyKG5leHQpICYmIGVudGVyaW5nU3RyaW5nKGNtLCBjdXIsIGNoKSkgY3VyVHlwZSA9IFwiYm90aFwiO1xuICAgICAgICBlbHNlIHJldHVybiBDb2RlTWlycm9yLlBhc3M7XG4gICAgICB9IGVsc2UgaWYgKG9wZW5pbmcgJiYgKGNtLmdldExpbmUoY3VyLmxpbmUpLmxlbmd0aCA9PSBjdXIuY2ggfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDbG9zaW5nQnJhY2tldChuZXh0LCBwYWlycykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xccy8udGVzdChuZXh0KSkpIHtcbiAgICAgICAgY3VyVHlwZSA9IFwiYm90aFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIENvZGVNaXJyb3IuUGFzcztcbiAgICAgIH1cbiAgICAgIGlmICghdHlwZSkgdHlwZSA9IGN1clR5cGU7XG4gICAgICBlbHNlIGlmICh0eXBlICE9IGN1clR5cGUpIHJldHVybiBDb2RlTWlycm9yLlBhc3M7XG4gICAgfVxuXG4gICAgdmFyIGxlZnQgPSBwb3MgJSAyID8gcGFpcnMuY2hhckF0KHBvcyAtIDEpIDogY2g7XG4gICAgdmFyIHJpZ2h0ID0gcG9zICUgMiA/IGNoIDogcGFpcnMuY2hhckF0KHBvcyArIDEpO1xuICAgIGNtLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0eXBlID09IFwic2tpcFwiKSB7XG4gICAgICAgIGNtLmV4ZWNDb21tYW5kKFwiZ29DaGFyUmlnaHRcIik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJza2lwVGhyZWVcIikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKylcbiAgICAgICAgICBjbS5leGVjQ29tbWFuZChcImdvQ2hhclJpZ2h0XCIpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09IFwic3Vycm91bmRcIikge1xuICAgICAgICB2YXIgc2VscyA9IGNtLmdldFNlbGVjdGlvbnMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHNlbHNbaV0gPSBsZWZ0ICsgc2Vsc1tpXSArIHJpZ2h0O1xuICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9ucyhzZWxzLCBcImFyb3VuZFwiKTtcbiAgICAgICAgc2VscyA9IGNtLmxpc3RTZWxlY3Rpb25zKCkuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHNlbHNbaV0gPSBjb250cmFjdFNlbGVjdGlvbihzZWxzW2ldKTtcbiAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhzZWxzKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImJvdGhcIikge1xuICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKGxlZnQgKyByaWdodCwgbnVsbCk7XG4gICAgICAgIGNtLnRyaWdnZXJFbGVjdHJpYyhsZWZ0ICsgcmlnaHQpO1xuICAgICAgICBjbS5leGVjQ29tbWFuZChcImdvQ2hhckxlZnRcIik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJhZGRGb3VyXCIpIHtcbiAgICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbihsZWZ0ICsgbGVmdCArIGxlZnQgKyBsZWZ0LCBcImJlZm9yZVwiKTtcbiAgICAgICAgY20uZXhlY0NvbW1hbmQoXCJnb0NoYXJSaWdodFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQ2xvc2luZ0JyYWNrZXQoY2gsIHBhaXJzKSB7XG4gICAgdmFyIHBvcyA9IHBhaXJzLmxhc3RJbmRleE9mKGNoKTtcbiAgICByZXR1cm4gcG9zID4gLTEgJiYgcG9zICUgMiA9PSAxO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hhcnNBcm91bmQoY20sIHBvcykge1xuICAgIHZhciBzdHIgPSBjbS5nZXRSYW5nZShQb3MocG9zLmxpbmUsIHBvcy5jaCAtIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBQb3MocG9zLmxpbmUsIHBvcy5jaCArIDEpKTtcbiAgICByZXR1cm4gc3RyLmxlbmd0aCA9PSAyID8gc3RyIDogbnVsbDtcbiAgfVxuXG4gIC8vIFByb2plY3QgdGhlIHRva2VuIHR5cGUgdGhhdCB3aWxsIGV4aXN0cyBhZnRlciB0aGUgZ2l2ZW4gY2hhciBpc1xuICAvLyB0eXBlZCwgYW5kIHVzZSBpdCB0byBkZXRlcm1pbmUgd2hldGhlciBpdCB3b3VsZCBjYXVzZSB0aGUgc3RhcnRcbiAgLy8gb2YgYSBzdHJpbmcgdG9rZW4uXG4gIGZ1bmN0aW9uIGVudGVyaW5nU3RyaW5nKGNtLCBwb3MsIGNoKSB7XG4gICAgdmFyIGxpbmUgPSBjbS5nZXRMaW5lKHBvcy5saW5lKTtcbiAgICB2YXIgdG9rZW4gPSBjbS5nZXRUb2tlbkF0KHBvcyk7XG4gICAgaWYgKC9cXGJzdHJpbmcyP1xcYi8udGVzdCh0b2tlbi50eXBlKSkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBzdHJlYW0gPSBuZXcgQ29kZU1pcnJvci5TdHJpbmdTdHJlYW0obGluZS5zbGljZSgwLCBwb3MuY2gpICsgY2ggKyBsaW5lLnNsaWNlKHBvcy5jaCksIDQpO1xuICAgIHN0cmVhbS5wb3MgPSBzdHJlYW0uc3RhcnQgPSB0b2tlbi5zdGFydDtcbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgdHlwZTEgPSBjbS5nZXRNb2RlKCkudG9rZW4oc3RyZWFtLCB0b2tlbi5zdGF0ZSk7XG4gICAgICBpZiAoc3RyZWFtLnBvcyA+PSBwb3MuY2ggKyAxKSByZXR1cm4gL1xcYnN0cmluZzI/XFxiLy50ZXN0KHR5cGUxKTtcbiAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgfVxuICB9XG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cDovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcbiAgdmFyIGllX2x0OCA9IC9NU0lFIFxcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgIChkb2N1bWVudC5kb2N1bWVudE1vZGUgPT0gbnVsbCB8fCBkb2N1bWVudC5kb2N1bWVudE1vZGUgPCA4KTtcblxuICB2YXIgUG9zID0gQ29kZU1pcnJvci5Qb3M7XG5cbiAgdmFyIG1hdGNoaW5nID0ge1wiKFwiOiBcIik+XCIsIFwiKVwiOiBcIig8XCIsIFwiW1wiOiBcIl0+XCIsIFwiXVwiOiBcIls8XCIsIFwie1wiOiBcIn0+XCIsIFwifVwiOiBcIns8XCJ9O1xuXG4gIGZ1bmN0aW9uIGZpbmRNYXRjaGluZ0JyYWNrZXQoY20sIHdoZXJlLCBzdHJpY3QsIGNvbmZpZykge1xuICAgIHZhciBsaW5lID0gY20uZ2V0TGluZUhhbmRsZSh3aGVyZS5saW5lKSwgcG9zID0gd2hlcmUuY2ggLSAxO1xuICAgIHZhciBtYXRjaCA9IChwb3MgPj0gMCAmJiBtYXRjaGluZ1tsaW5lLnRleHQuY2hhckF0KHBvcyldKSB8fCBtYXRjaGluZ1tsaW5lLnRleHQuY2hhckF0KCsrcG9zKV07XG4gICAgaWYgKCFtYXRjaCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGRpciA9IG1hdGNoLmNoYXJBdCgxKSA9PSBcIj5cIiA/IDEgOiAtMTtcbiAgICBpZiAoc3RyaWN0ICYmIChkaXIgPiAwKSAhPSAocG9zID09IHdoZXJlLmNoKSkgcmV0dXJuIG51bGw7XG4gICAgdmFyIHN0eWxlID0gY20uZ2V0VG9rZW5UeXBlQXQoUG9zKHdoZXJlLmxpbmUsIHBvcyArIDEpKTtcblxuICAgIHZhciBmb3VuZCA9IHNjYW5Gb3JCcmFja2V0KGNtLCBQb3Mod2hlcmUubGluZSwgcG9zICsgKGRpciA+IDAgPyAxIDogMCkpLCBkaXIsIHN0eWxlIHx8IG51bGwsIGNvbmZpZyk7XG4gICAgaWYgKGZvdW5kID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7ZnJvbTogUG9zKHdoZXJlLmxpbmUsIHBvcyksIHRvOiBmb3VuZCAmJiBmb3VuZC5wb3MsXG4gICAgICAgICAgICBtYXRjaDogZm91bmQgJiYgZm91bmQuY2ggPT0gbWF0Y2guY2hhckF0KDApLCBmb3J3YXJkOiBkaXIgPiAwfTtcbiAgfVxuXG4gIC8vIGJyYWNrZXRSZWdleCBpcyB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggdHlwZSBvZiBicmFja2V0IHRvIHNjYW5cbiAgLy8gc2hvdWxkIGJlIGEgcmVnZXhwLCBlLmcuIC9bW1xcXV0vXG4gIC8vXG4gIC8vIE5vdGU6IElmIFwid2hlcmVcIiBpcyBvbiBhbiBvcGVuIGJyYWNrZXQsIHRoZW4gdGhpcyBicmFja2V0IGlzIGlnbm9yZWQuXG4gIC8vXG4gIC8vIFJldHVybnMgZmFsc2Ugd2hlbiBubyBicmFja2V0IHdhcyBmb3VuZCwgbnVsbCB3aGVuIGl0IHJlYWNoZWRcbiAgLy8gbWF4U2NhbkxpbmVzIGFuZCBnYXZlIHVwXG4gIGZ1bmN0aW9uIHNjYW5Gb3JCcmFja2V0KGNtLCB3aGVyZSwgZGlyLCBzdHlsZSwgY29uZmlnKSB7XG4gICAgdmFyIG1heFNjYW5MZW4gPSAoY29uZmlnICYmIGNvbmZpZy5tYXhTY2FuTGluZUxlbmd0aCkgfHwgMTAwMDA7XG4gICAgdmFyIG1heFNjYW5MaW5lcyA9IChjb25maWcgJiYgY29uZmlnLm1heFNjYW5MaW5lcykgfHwgMTAwMDtcblxuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHZhciByZSA9IGNvbmZpZyAmJiBjb25maWcuYnJhY2tldFJlZ2V4ID8gY29uZmlnLmJyYWNrZXRSZWdleCA6IC9bKCl7fVtcXF1dLztcbiAgICB2YXIgbGluZUVuZCA9IGRpciA+IDAgPyBNYXRoLm1pbih3aGVyZS5saW5lICsgbWF4U2NhbkxpbmVzLCBjbS5sYXN0TGluZSgpICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBNYXRoLm1heChjbS5maXJzdExpbmUoKSAtIDEsIHdoZXJlLmxpbmUgLSBtYXhTY2FuTGluZXMpO1xuICAgIGZvciAodmFyIGxpbmVObyA9IHdoZXJlLmxpbmU7IGxpbmVObyAhPSBsaW5lRW5kOyBsaW5lTm8gKz0gZGlyKSB7XG4gICAgICB2YXIgbGluZSA9IGNtLmdldExpbmUobGluZU5vKTtcbiAgICAgIGlmICghbGluZSkgY29udGludWU7XG4gICAgICB2YXIgcG9zID0gZGlyID4gMCA/IDAgOiBsaW5lLmxlbmd0aCAtIDEsIGVuZCA9IGRpciA+IDAgPyBsaW5lLmxlbmd0aCA6IC0xO1xuICAgICAgaWYgKGxpbmUubGVuZ3RoID4gbWF4U2NhbkxlbikgY29udGludWU7XG4gICAgICBpZiAobGluZU5vID09IHdoZXJlLmxpbmUpIHBvcyA9IHdoZXJlLmNoIC0gKGRpciA8IDAgPyAxIDogMCk7XG4gICAgICBmb3IgKDsgcG9zICE9IGVuZDsgcG9zICs9IGRpcikge1xuICAgICAgICB2YXIgY2ggPSBsaW5lLmNoYXJBdChwb3MpO1xuICAgICAgICBpZiAocmUudGVzdChjaCkgJiYgKHN0eWxlID09PSB1bmRlZmluZWQgfHwgY20uZ2V0VG9rZW5UeXBlQXQoUG9zKGxpbmVObywgcG9zICsgMSkpID09IHN0eWxlKSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IG1hdGNoaW5nW2NoXTtcbiAgICAgICAgICBpZiAoKG1hdGNoLmNoYXJBdCgxKSA9PSBcIj5cIikgPT0gKGRpciA+IDApKSBzdGFjay5wdXNoKGNoKTtcbiAgICAgICAgICBlbHNlIGlmICghc3RhY2subGVuZ3RoKSByZXR1cm4ge3BvczogUG9zKGxpbmVObywgcG9zKSwgY2g6IGNofTtcbiAgICAgICAgICBlbHNlIHN0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lTm8gLSBkaXIgPT0gKGRpciA+IDAgPyBjbS5sYXN0TGluZSgpIDogY20uZmlyc3RMaW5lKCkpID8gZmFsc2UgOiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gbWF0Y2hCcmFja2V0cyhjbSwgYXV0b2NsZWFyLCBjb25maWcpIHtcbiAgICAvLyBEaXNhYmxlIGJyYWNlIG1hdGNoaW5nIGluIGxvbmcgbGluZXMsIHNpbmNlIGl0J2xsIGNhdXNlIGh1Z2VseSBzbG93IHVwZGF0ZXNcbiAgICB2YXIgbWF4SGlnaGxpZ2h0TGVuID0gY20uc3RhdGUubWF0Y2hCcmFja2V0cy5tYXhIaWdobGlnaHRMaW5lTGVuZ3RoIHx8IDEwMDA7XG4gICAgdmFyIG1hcmtzID0gW10sIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtYXRjaCA9IHJhbmdlc1tpXS5lbXB0eSgpICYmIGZpbmRNYXRjaGluZ0JyYWNrZXQoY20sIHJhbmdlc1tpXS5oZWFkLCBmYWxzZSwgY29uZmlnKTtcbiAgICAgIGlmIChtYXRjaCAmJiBjbS5nZXRMaW5lKG1hdGNoLmZyb20ubGluZSkubGVuZ3RoIDw9IG1heEhpZ2hsaWdodExlbikge1xuICAgICAgICB2YXIgc3R5bGUgPSBtYXRjaC5tYXRjaCA/IFwiQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXRcIiA6IFwiQ29kZU1pcnJvci1ub25tYXRjaGluZ2JyYWNrZXRcIjtcbiAgICAgICAgbWFya3MucHVzaChjbS5tYXJrVGV4dChtYXRjaC5mcm9tLCBQb3MobWF0Y2guZnJvbS5saW5lLCBtYXRjaC5mcm9tLmNoICsgMSksIHtjbGFzc05hbWU6IHN0eWxlfSkpO1xuICAgICAgICBpZiAobWF0Y2gudG8gJiYgY20uZ2V0TGluZShtYXRjaC50by5saW5lKS5sZW5ndGggPD0gbWF4SGlnaGxpZ2h0TGVuKVxuICAgICAgICAgIG1hcmtzLnB1c2goY20ubWFya1RleHQobWF0Y2gudG8sIFBvcyhtYXRjaC50by5saW5lLCBtYXRjaC50by5jaCArIDEpLCB7Y2xhc3NOYW1lOiBzdHlsZX0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWFya3MubGVuZ3RoKSB7XG4gICAgICAvLyBLbHVkZ2UgdG8gd29yayBhcm91bmQgdGhlIElFIGJ1ZyBmcm9tIGlzc3VlICMxMTkzLCB3aGVyZSB0ZXh0XG4gICAgICAvLyBpbnB1dCBzdG9wcyBnb2luZyB0byB0aGUgdGV4dGFyZSB3aGV2ZXIgdGhpcyBmaXJlcy5cbiAgICAgIGlmIChpZV9sdDggJiYgY20uc3RhdGUuZm9jdXNlZCkgY20uZm9jdXMoKTtcblxuICAgICAgdmFyIGNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNtLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSBtYXJrc1tpXS5jbGVhcigpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBpZiAoYXV0b2NsZWFyKSBzZXRUaW1lb3V0KGNsZWFyLCA4MDApO1xuICAgICAgZWxzZSByZXR1cm4gY2xlYXI7XG4gICAgfVxuICB9XG5cbiAgdmFyIGN1cnJlbnRseUhpZ2hsaWdodGVkID0gbnVsbDtcbiAgZnVuY3Rpb24gZG9NYXRjaEJyYWNrZXRzKGNtKSB7XG4gICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGN1cnJlbnRseUhpZ2hsaWdodGVkKSB7Y3VycmVudGx5SGlnaGxpZ2h0ZWQoKTsgY3VycmVudGx5SGlnaGxpZ2h0ZWQgPSBudWxsO31cbiAgICAgIGN1cnJlbnRseUhpZ2hsaWdodGVkID0gbWF0Y2hCcmFja2V0cyhjbSwgZmFsc2UsIGNtLnN0YXRlLm1hdGNoQnJhY2tldHMpO1xuICAgIH0pO1xuICB9XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVPcHRpb24oXCJtYXRjaEJyYWNrZXRzXCIsIGZhbHNlLCBmdW5jdGlvbihjbSwgdmFsLCBvbGQpIHtcbiAgICBpZiAob2xkICYmIG9sZCAhPSBDb2RlTWlycm9yLkluaXQpXG4gICAgICBjbS5vZmYoXCJjdXJzb3JBY3Rpdml0eVwiLCBkb01hdGNoQnJhY2tldHMpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIGNtLnN0YXRlLm1hdGNoQnJhY2tldHMgPSB0eXBlb2YgdmFsID09IFwib2JqZWN0XCIgPyB2YWwgOiB7fTtcbiAgICAgIGNtLm9uKFwiY3Vyc29yQWN0aXZpdHlcIiwgZG9NYXRjaEJyYWNrZXRzKTtcbiAgICB9XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwibWF0Y2hCcmFja2V0c1wiLCBmdW5jdGlvbigpIHttYXRjaEJyYWNrZXRzKHRoaXMsIHRydWUpO30pO1xuICBDb2RlTWlycm9yLmRlZmluZUV4dGVuc2lvbihcImZpbmRNYXRjaGluZ0JyYWNrZXRcIiwgZnVuY3Rpb24ocG9zLCBzdHJpY3QsIGNvbmZpZyl7XG4gICAgcmV0dXJuIGZpbmRNYXRjaGluZ0JyYWNrZXQodGhpcywgcG9zLCBzdHJpY3QsIGNvbmZpZyk7XG4gIH0pO1xuICBDb2RlTWlycm9yLmRlZmluZUV4dGVuc2lvbihcInNjYW5Gb3JCcmFja2V0XCIsIGZ1bmN0aW9uKHBvcywgZGlyLCBzdHlsZSwgY29uZmlnKXtcbiAgICByZXR1cm4gc2NhbkZvckJyYWNrZXQodGhpcywgcG9zLCBkaXIsIHN0eWxlLCBjb25maWcpO1xuICB9KTtcbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpLCByZXF1aXJlKFwiLi4vZm9sZC94bWwtZm9sZFwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiLCBcIi4uL2ZvbGQveG1sLWZvbGRcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lT3B0aW9uKFwibWF0Y2hUYWdzXCIsIGZhbHNlLCBmdW5jdGlvbihjbSwgdmFsLCBvbGQpIHtcbiAgICBpZiAob2xkICYmIG9sZCAhPSBDb2RlTWlycm9yLkluaXQpIHtcbiAgICAgIGNtLm9mZihcImN1cnNvckFjdGl2aXR5XCIsIGRvTWF0Y2hUYWdzKTtcbiAgICAgIGNtLm9mZihcInZpZXdwb3J0Q2hhbmdlXCIsIG1heWJlVXBkYXRlTWF0Y2gpO1xuICAgICAgY2xlYXIoY20pO1xuICAgIH1cbiAgICBpZiAodmFsKSB7XG4gICAgICBjbS5zdGF0ZS5tYXRjaEJvdGhUYWdzID0gdHlwZW9mIHZhbCA9PSBcIm9iamVjdFwiICYmIHZhbC5ib3RoVGFncztcbiAgICAgIGNtLm9uKFwiY3Vyc29yQWN0aXZpdHlcIiwgZG9NYXRjaFRhZ3MpO1xuICAgICAgY20ub24oXCJ2aWV3cG9ydENoYW5nZVwiLCBtYXliZVVwZGF0ZU1hdGNoKTtcbiAgICAgIGRvTWF0Y2hUYWdzKGNtKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNsZWFyKGNtKSB7XG4gICAgaWYgKGNtLnN0YXRlLnRhZ0hpdCkgY20uc3RhdGUudGFnSGl0LmNsZWFyKCk7XG4gICAgaWYgKGNtLnN0YXRlLnRhZ090aGVyKSBjbS5zdGF0ZS50YWdPdGhlci5jbGVhcigpO1xuICAgIGNtLnN0YXRlLnRhZ0hpdCA9IGNtLnN0YXRlLnRhZ090aGVyID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvTWF0Y2hUYWdzKGNtKSB7XG4gICAgY20uc3RhdGUuZmFpbGVkVGFnTWF0Y2ggPSBmYWxzZTtcbiAgICBjbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhcihjbSk7XG4gICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgcmV0dXJuO1xuICAgICAgdmFyIGN1ciA9IGNtLmdldEN1cnNvcigpLCByYW5nZSA9IGNtLmdldFZpZXdwb3J0KCk7XG4gICAgICByYW5nZS5mcm9tID0gTWF0aC5taW4ocmFuZ2UuZnJvbSwgY3VyLmxpbmUpOyByYW5nZS50byA9IE1hdGgubWF4KGN1ci5saW5lICsgMSwgcmFuZ2UudG8pO1xuICAgICAgdmFyIG1hdGNoID0gQ29kZU1pcnJvci5maW5kTWF0Y2hpbmdUYWcoY20sIGN1ciwgcmFuZ2UpO1xuICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuO1xuICAgICAgaWYgKGNtLnN0YXRlLm1hdGNoQm90aFRhZ3MpIHtcbiAgICAgICAgdmFyIGhpdCA9IG1hdGNoLmF0ID09IFwib3BlblwiID8gbWF0Y2gub3BlbiA6IG1hdGNoLmNsb3NlO1xuICAgICAgICBpZiAoaGl0KSBjbS5zdGF0ZS50YWdIaXQgPSBjbS5tYXJrVGV4dChoaXQuZnJvbSwgaGl0LnRvLCB7Y2xhc3NOYW1lOiBcIkNvZGVNaXJyb3ItbWF0Y2hpbmd0YWdcIn0pO1xuICAgICAgfVxuICAgICAgdmFyIG90aGVyID0gbWF0Y2guYXQgPT0gXCJjbG9zZVwiID8gbWF0Y2gub3BlbiA6IG1hdGNoLmNsb3NlO1xuICAgICAgaWYgKG90aGVyKVxuICAgICAgICBjbS5zdGF0ZS50YWdPdGhlciA9IGNtLm1hcmtUZXh0KG90aGVyLmZyb20sIG90aGVyLnRvLCB7Y2xhc3NOYW1lOiBcIkNvZGVNaXJyb3ItbWF0Y2hpbmd0YWdcIn0pO1xuICAgICAgZWxzZVxuICAgICAgICBjbS5zdGF0ZS5mYWlsZWRUYWdNYXRjaCA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBtYXliZVVwZGF0ZU1hdGNoKGNtKSB7XG4gICAgaWYgKGNtLnN0YXRlLmZhaWxlZFRhZ01hdGNoKSBkb01hdGNoVGFncyhjbSk7XG4gIH1cblxuICBDb2RlTWlycm9yLmNvbW1hbmRzLnRvTWF0Y2hpbmdUYWcgPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciBmb3VuZCA9IENvZGVNaXJyb3IuZmluZE1hdGNoaW5nVGFnKGNtLCBjbS5nZXRDdXJzb3IoKSk7XG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICB2YXIgb3RoZXIgPSBmb3VuZC5hdCA9PSBcImNsb3NlXCIgPyBmb3VuZC5vcGVuIDogZm91bmQuY2xvc2U7XG4gICAgICBpZiAob3RoZXIpIGNtLmV4dGVuZFNlbGVjdGlvbihvdGhlci50bywgb3RoZXIuZnJvbSk7XG4gICAgfVxuICB9O1xufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBQb3MgPSBDb2RlTWlycm9yLlBvcztcbiAgZnVuY3Rpb24gY21wKGEsIGIpIHsgcmV0dXJuIGEubGluZSAtIGIubGluZSB8fCBhLmNoIC0gYi5jaDsgfVxuXG4gIHZhciBuYW1lU3RhcnRDaGFyID0gXCJBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcIjtcbiAgdmFyIG5hbWVDaGFyID0gbmFtZVN0YXJ0Q2hhciArIFwiXFwtXFw6XFwuMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBcIjtcbiAgdmFyIHhtbFRhZ1N0YXJ0ID0gbmV3IFJlZ0V4cChcIjwoLz8pKFtcIiArIG5hbWVTdGFydENoYXIgKyBcIl1bXCIgKyBuYW1lQ2hhciArIFwiXSopXCIsIFwiZ1wiKTtcblxuICBmdW5jdGlvbiBJdGVyKGNtLCBsaW5lLCBjaCwgcmFuZ2UpIHtcbiAgICB0aGlzLmxpbmUgPSBsaW5lOyB0aGlzLmNoID0gY2g7XG4gICAgdGhpcy5jbSA9IGNtOyB0aGlzLnRleHQgPSBjbS5nZXRMaW5lKGxpbmUpO1xuICAgIHRoaXMubWluID0gcmFuZ2UgPyByYW5nZS5mcm9tIDogY20uZmlyc3RMaW5lKCk7XG4gICAgdGhpcy5tYXggPSByYW5nZSA/IHJhbmdlLnRvIC0gMSA6IGNtLmxhc3RMaW5lKCk7XG4gIH1cblxuICBmdW5jdGlvbiB0YWdBdChpdGVyLCBjaCkge1xuICAgIHZhciB0eXBlID0gaXRlci5jbS5nZXRUb2tlblR5cGVBdChQb3MoaXRlci5saW5lLCBjaCkpO1xuICAgIHJldHVybiB0eXBlICYmIC9cXGJ0YWdcXGIvLnRlc3QodHlwZSk7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0TGluZShpdGVyKSB7XG4gICAgaWYgKGl0ZXIubGluZSA+PSBpdGVyLm1heCkgcmV0dXJuO1xuICAgIGl0ZXIuY2ggPSAwO1xuICAgIGl0ZXIudGV4dCA9IGl0ZXIuY20uZ2V0TGluZSgrK2l0ZXIubGluZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gcHJldkxpbmUoaXRlcikge1xuICAgIGlmIChpdGVyLmxpbmUgPD0gaXRlci5taW4pIHJldHVybjtcbiAgICBpdGVyLnRleHQgPSBpdGVyLmNtLmdldExpbmUoLS1pdGVyLmxpbmUpO1xuICAgIGl0ZXIuY2ggPSBpdGVyLnRleHQubGVuZ3RoO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9UYWdFbmQoaXRlcikge1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBndCA9IGl0ZXIudGV4dC5pbmRleE9mKFwiPlwiLCBpdGVyLmNoKTtcbiAgICAgIGlmIChndCA9PSAtMSkgeyBpZiAobmV4dExpbmUoaXRlcikpIGNvbnRpbnVlOyBlbHNlIHJldHVybjsgfVxuICAgICAgaWYgKCF0YWdBdChpdGVyLCBndCArIDEpKSB7IGl0ZXIuY2ggPSBndCArIDE7IGNvbnRpbnVlOyB9XG4gICAgICB2YXIgbGFzdFNsYXNoID0gaXRlci50ZXh0Lmxhc3RJbmRleE9mKFwiL1wiLCBndCk7XG4gICAgICB2YXIgc2VsZkNsb3NlID0gbGFzdFNsYXNoID4gLTEgJiYgIS9cXFMvLnRlc3QoaXRlci50ZXh0LnNsaWNlKGxhc3RTbGFzaCArIDEsIGd0KSk7XG4gICAgICBpdGVyLmNoID0gZ3QgKyAxO1xuICAgICAgcmV0dXJuIHNlbGZDbG9zZSA/IFwic2VsZkNsb3NlXCIgOiBcInJlZ3VsYXJcIjtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdG9UYWdTdGFydChpdGVyKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIGx0ID0gaXRlci5jaCA/IGl0ZXIudGV4dC5sYXN0SW5kZXhPZihcIjxcIiwgaXRlci5jaCAtIDEpIDogLTE7XG4gICAgICBpZiAobHQgPT0gLTEpIHsgaWYgKHByZXZMaW5lKGl0ZXIpKSBjb250aW51ZTsgZWxzZSByZXR1cm47IH1cbiAgICAgIGlmICghdGFnQXQoaXRlciwgbHQgKyAxKSkgeyBpdGVyLmNoID0gbHQ7IGNvbnRpbnVlOyB9XG4gICAgICB4bWxUYWdTdGFydC5sYXN0SW5kZXggPSBsdDtcbiAgICAgIGl0ZXIuY2ggPSBsdDtcbiAgICAgIHZhciBtYXRjaCA9IHhtbFRhZ1N0YXJ0LmV4ZWMoaXRlci50ZXh0KTtcbiAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5pbmRleCA9PSBsdCkgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvTmV4dFRhZyhpdGVyKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgeG1sVGFnU3RhcnQubGFzdEluZGV4ID0gaXRlci5jaDtcbiAgICAgIHZhciBmb3VuZCA9IHhtbFRhZ1N0YXJ0LmV4ZWMoaXRlci50ZXh0KTtcbiAgICAgIGlmICghZm91bmQpIHsgaWYgKG5leHRMaW5lKGl0ZXIpKSBjb250aW51ZTsgZWxzZSByZXR1cm47IH1cbiAgICAgIGlmICghdGFnQXQoaXRlciwgZm91bmQuaW5kZXggKyAxKSkgeyBpdGVyLmNoID0gZm91bmQuaW5kZXggKyAxOyBjb250aW51ZTsgfVxuICAgICAgaXRlci5jaCA9IGZvdW5kLmluZGV4ICsgZm91bmRbMF0ubGVuZ3RoO1xuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0b1ByZXZUYWcoaXRlcikge1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBndCA9IGl0ZXIuY2ggPyBpdGVyLnRleHQubGFzdEluZGV4T2YoXCI+XCIsIGl0ZXIuY2ggLSAxKSA6IC0xO1xuICAgICAgaWYgKGd0ID09IC0xKSB7IGlmIChwcmV2TGluZShpdGVyKSkgY29udGludWU7IGVsc2UgcmV0dXJuOyB9XG4gICAgICBpZiAoIXRhZ0F0KGl0ZXIsIGd0ICsgMSkpIHsgaXRlci5jaCA9IGd0OyBjb250aW51ZTsgfVxuICAgICAgdmFyIGxhc3RTbGFzaCA9IGl0ZXIudGV4dC5sYXN0SW5kZXhPZihcIi9cIiwgZ3QpO1xuICAgICAgdmFyIHNlbGZDbG9zZSA9IGxhc3RTbGFzaCA+IC0xICYmICEvXFxTLy50ZXN0KGl0ZXIudGV4dC5zbGljZShsYXN0U2xhc2ggKyAxLCBndCkpO1xuICAgICAgaXRlci5jaCA9IGd0ICsgMTtcbiAgICAgIHJldHVybiBzZWxmQ2xvc2UgPyBcInNlbGZDbG9zZVwiIDogXCJyZWd1bGFyXCI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluZE1hdGNoaW5nQ2xvc2UoaXRlciwgdGFnKSB7XG4gICAgdmFyIHN0YWNrID0gW107XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIG5leHQgPSB0b05leHRUYWcoaXRlciksIGVuZCwgc3RhcnRMaW5lID0gaXRlci5saW5lLCBzdGFydENoID0gaXRlci5jaCAtIChuZXh0ID8gbmV4dFswXS5sZW5ndGggOiAwKTtcbiAgICAgIGlmICghbmV4dCB8fCAhKGVuZCA9IHRvVGFnRW5kKGl0ZXIpKSkgcmV0dXJuO1xuICAgICAgaWYgKGVuZCA9PSBcInNlbGZDbG9zZVwiKSBjb250aW51ZTtcbiAgICAgIGlmIChuZXh0WzFdKSB7IC8vIGNsb3NpbmcgdGFnXG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgaWYgKHN0YWNrW2ldID09IG5leHRbMl0pIHtcbiAgICAgICAgICBzdGFjay5sZW5ndGggPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgMCAmJiAoIXRhZyB8fCB0YWcgPT0gbmV4dFsyXSkpIHJldHVybiB7XG4gICAgICAgICAgdGFnOiBuZXh0WzJdLFxuICAgICAgICAgIGZyb206IFBvcyhzdGFydExpbmUsIHN0YXJ0Q2gpLFxuICAgICAgICAgIHRvOiBQb3MoaXRlci5saW5lLCBpdGVyLmNoKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHsgLy8gb3BlbmluZyB0YWdcbiAgICAgICAgc3RhY2sucHVzaChuZXh0WzJdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZmluZE1hdGNoaW5nT3BlbihpdGVyLCB0YWcpIHtcbiAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgcHJldiA9IHRvUHJldlRhZyhpdGVyKTtcbiAgICAgIGlmICghcHJldikgcmV0dXJuO1xuICAgICAgaWYgKHByZXYgPT0gXCJzZWxmQ2xvc2VcIikgeyB0b1RhZ1N0YXJ0KGl0ZXIpOyBjb250aW51ZTsgfVxuICAgICAgdmFyIGVuZExpbmUgPSBpdGVyLmxpbmUsIGVuZENoID0gaXRlci5jaDtcbiAgICAgIHZhciBzdGFydCA9IHRvVGFnU3RhcnQoaXRlcik7XG4gICAgICBpZiAoIXN0YXJ0KSByZXR1cm47XG4gICAgICBpZiAoc3RhcnRbMV0pIHsgLy8gY2xvc2luZyB0YWdcbiAgICAgICAgc3RhY2sucHVzaChzdGFydFsyXSk7XG4gICAgICB9IGVsc2UgeyAvLyBvcGVuaW5nIHRhZ1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIGlmIChzdGFja1tpXSA9PSBzdGFydFsyXSkge1xuICAgICAgICAgIHN0YWNrLmxlbmd0aCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCAwICYmICghdGFnIHx8IHRhZyA9PSBzdGFydFsyXSkpIHJldHVybiB7XG4gICAgICAgICAgdGFnOiBzdGFydFsyXSxcbiAgICAgICAgICBmcm9tOiBQb3MoaXRlci5saW5lLCBpdGVyLmNoKSxcbiAgICAgICAgICB0bzogUG9zKGVuZExpbmUsIGVuZENoKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoXCJmb2xkXCIsIFwieG1sXCIsIGZ1bmN0aW9uKGNtLCBzdGFydCkge1xuICAgIHZhciBpdGVyID0gbmV3IEl0ZXIoY20sIHN0YXJ0LmxpbmUsIDApO1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBvcGVuVGFnID0gdG9OZXh0VGFnKGl0ZXIpLCBlbmQ7XG4gICAgICBpZiAoIW9wZW5UYWcgfHwgaXRlci5saW5lICE9IHN0YXJ0LmxpbmUgfHwgIShlbmQgPSB0b1RhZ0VuZChpdGVyKSkpIHJldHVybjtcbiAgICAgIGlmICghb3BlblRhZ1sxXSAmJiBlbmQgIT0gXCJzZWxmQ2xvc2VcIikge1xuICAgICAgICB2YXIgc3RhcnRQb3MgPSBQb3MoaXRlci5saW5lLCBpdGVyLmNoKTtcbiAgICAgICAgdmFyIGVuZFBvcyA9IGZpbmRNYXRjaGluZ0Nsb3NlKGl0ZXIsIG9wZW5UYWdbMl0pO1xuICAgICAgICByZXR1cm4gZW5kUG9zICYmIHtmcm9tOiBzdGFydFBvcywgdG86IGVuZFBvcy5mcm9tfTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBDb2RlTWlycm9yLmZpbmRNYXRjaGluZ1RhZyA9IGZ1bmN0aW9uKGNtLCBwb3MsIHJhbmdlKSB7XG4gICAgdmFyIGl0ZXIgPSBuZXcgSXRlcihjbSwgcG9zLmxpbmUsIHBvcy5jaCwgcmFuZ2UpO1xuICAgIGlmIChpdGVyLnRleHQuaW5kZXhPZihcIj5cIikgPT0gLTEgJiYgaXRlci50ZXh0LmluZGV4T2YoXCI8XCIpID09IC0xKSByZXR1cm47XG4gICAgdmFyIGVuZCA9IHRvVGFnRW5kKGl0ZXIpLCB0byA9IGVuZCAmJiBQb3MoaXRlci5saW5lLCBpdGVyLmNoKTtcbiAgICB2YXIgc3RhcnQgPSBlbmQgJiYgdG9UYWdTdGFydChpdGVyKTtcbiAgICBpZiAoIWVuZCB8fCAhc3RhcnQgfHwgY21wKGl0ZXIsIHBvcykgPiAwKSByZXR1cm47XG4gICAgdmFyIGhlcmUgPSB7ZnJvbTogUG9zKGl0ZXIubGluZSwgaXRlci5jaCksIHRvOiB0bywgdGFnOiBzdGFydFsyXX07XG4gICAgaWYgKGVuZCA9PSBcInNlbGZDbG9zZVwiKSByZXR1cm4ge29wZW46IGhlcmUsIGNsb3NlOiBudWxsLCBhdDogXCJvcGVuXCJ9O1xuXG4gICAgaWYgKHN0YXJ0WzFdKSB7IC8vIGNsb3NpbmcgdGFnXG4gICAgICByZXR1cm4ge29wZW46IGZpbmRNYXRjaGluZ09wZW4oaXRlciwgc3RhcnRbMl0pLCBjbG9zZTogaGVyZSwgYXQ6IFwiY2xvc2VcIn07XG4gICAgfSBlbHNlIHsgLy8gb3BlbmluZyB0YWdcbiAgICAgIGl0ZXIgPSBuZXcgSXRlcihjbSwgdG8ubGluZSwgdG8uY2gsIHJhbmdlKTtcbiAgICAgIHJldHVybiB7b3BlbjogaGVyZSwgY2xvc2U6IGZpbmRNYXRjaGluZ0Nsb3NlKGl0ZXIsIHN0YXJ0WzJdKSwgYXQ6IFwib3BlblwifTtcbiAgICB9XG4gIH07XG5cbiAgQ29kZU1pcnJvci5maW5kRW5jbG9zaW5nVGFnID0gZnVuY3Rpb24oY20sIHBvcywgcmFuZ2UpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBJdGVyKGNtLCBwb3MubGluZSwgcG9zLmNoLCByYW5nZSk7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIG9wZW4gPSBmaW5kTWF0Y2hpbmdPcGVuKGl0ZXIpO1xuICAgICAgaWYgKCFvcGVuKSBicmVhaztcbiAgICAgIHZhciBmb3J3YXJkID0gbmV3IEl0ZXIoY20sIHBvcy5saW5lLCBwb3MuY2gsIHJhbmdlKTtcbiAgICAgIHZhciBjbG9zZSA9IGZpbmRNYXRjaGluZ0Nsb3NlKGZvcndhcmQsIG9wZW4udGFnKTtcbiAgICAgIGlmIChjbG9zZSkgcmV0dXJuIHtvcGVuOiBvcGVuLCBjbG9zZTogY2xvc2V9O1xuICAgIH1cbiAgfTtcblxuICAvLyBVc2VkIGJ5IGFkZG9uL2VkaXQvY2xvc2V0YWcuanNcbiAgQ29kZU1pcnJvci5zY2FuRm9yQ2xvc2luZ1RhZyA9IGZ1bmN0aW9uKGNtLCBwb3MsIG5hbWUsIGVuZCkge1xuICAgIHZhciBpdGVyID0gbmV3IEl0ZXIoY20sIHBvcy5saW5lLCBwb3MuY2gsIGVuZCA/IHtmcm9tOiAwLCB0bzogZW5kfSA6IG51bGwpO1xuICAgIHJldHVybiBmaW5kTWF0Y2hpbmdDbG9zZShpdGVyLCBuYW1lKTtcbiAgfTtcbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4vLyBEZWZpbmUgc2VhcmNoIGNvbW1hbmRzLiBEZXBlbmRzIG9uIGRpYWxvZy5qcyBvciBhbm90aGVyXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgb3BlbkRpYWxvZyBtZXRob2QuXG5cbi8vIFJlcGxhY2Ugd29ya3MgYSBsaXR0bGUgb2RkbHkgLS0gaXQgd2lsbCBkbyB0aGUgcmVwbGFjZSBvbiB0aGUgbmV4dFxuLy8gQ3RybC1HIChvciB3aGF0ZXZlciBpcyBib3VuZCB0byBmaW5kTmV4dCkgcHJlc3MuIFlvdSBwcmV2ZW50IGFcbi8vIHJlcGxhY2UgYnkgbWFraW5nIHN1cmUgdGhlIG1hdGNoIGlzIG5vIGxvbmdlciBzZWxlY3RlZCB3aGVuIGhpdHRpbmdcbi8vIEN0cmwtRy5cblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSwgcmVxdWlyZShcIi4vc2VhcmNoY3Vyc29yXCIpLCByZXF1aXJlKFwiLi4vZGlhbG9nL2RpYWxvZ1wiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiLCBcIi4vc2VhcmNoY3Vyc29yXCIsIFwiLi4vZGlhbG9nL2RpYWxvZ1wiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgZnVuY3Rpb24gc2VhcmNoT3ZlcmxheShxdWVyeSwgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgaWYgKHR5cGVvZiBxdWVyeSA9PSBcInN0cmluZ1wiKVxuICAgICAgcXVlcnkgPSBuZXcgUmVnRXhwKHF1ZXJ5LnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCBcIlxcXFwkJlwiKSwgY2FzZUluc2Vuc2l0aXZlID8gXCJnaVwiIDogXCJnXCIpO1xuICAgIGVsc2UgaWYgKCFxdWVyeS5nbG9iYWwpXG4gICAgICBxdWVyeSA9IG5ldyBSZWdFeHAocXVlcnkuc291cmNlLCBxdWVyeS5pZ25vcmVDYXNlID8gXCJnaVwiIDogXCJnXCIpO1xuXG4gICAgcmV0dXJuIHt0b2tlbjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICBxdWVyeS5sYXN0SW5kZXggPSBzdHJlYW0ucG9zO1xuICAgICAgdmFyIG1hdGNoID0gcXVlcnkuZXhlYyhzdHJlYW0uc3RyaW5nKTtcbiAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5pbmRleCA9PSBzdHJlYW0ucG9zKSB7XG4gICAgICAgIHN0cmVhbS5wb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoIHx8IDE7XG4gICAgICAgIHJldHVybiBcInNlYXJjaGluZ1wiO1xuICAgICAgfSBlbHNlIGlmIChtYXRjaCkge1xuICAgICAgICBzdHJlYW0ucG9zID0gbWF0Y2guaW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICB9XG4gICAgfX07XG4gIH1cblxuICBmdW5jdGlvbiBTZWFyY2hTdGF0ZSgpIHtcbiAgICB0aGlzLnBvc0Zyb20gPSB0aGlzLnBvc1RvID0gdGhpcy5sYXN0UXVlcnkgPSB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgICB0aGlzLm92ZXJsYXkgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VhcmNoU3RhdGUoY20pIHtcbiAgICByZXR1cm4gY20uc3RhdGUuc2VhcmNoIHx8IChjbS5zdGF0ZS5zZWFyY2ggPSBuZXcgU2VhcmNoU3RhdGUoKSk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeUNhc2VJbnNlbnNpdGl2ZShxdWVyeSkge1xuICAgIHJldHVybiB0eXBlb2YgcXVlcnkgPT0gXCJzdHJpbmdcIiAmJiBxdWVyeSA9PSBxdWVyeS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VhcmNoQ3Vyc29yKGNtLCBxdWVyeSwgcG9zKSB7XG4gICAgLy8gSGV1cmlzdGljOiBpZiB0aGUgcXVlcnkgc3RyaW5nIGlzIGFsbCBsb3dlcmNhc2UsIGRvIGEgY2FzZSBpbnNlbnNpdGl2ZSBzZWFyY2guXG4gICAgcmV0dXJuIGNtLmdldFNlYXJjaEN1cnNvcihxdWVyeSwgcG9zLCBxdWVyeUNhc2VJbnNlbnNpdGl2ZShxdWVyeSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyc2lzdGVudERpYWxvZyhjbSwgdGV4dCwgZGVmbHQsIGYpIHtcbiAgICBjbS5vcGVuRGlhbG9nKHRleHQsIGYsIHtcbiAgICAgIHZhbHVlOiBkZWZsdCxcbiAgICAgIHNlbGVjdFZhbHVlT25PcGVuOiB0cnVlLFxuICAgICAgY2xvc2VPbkVudGVyOiBmYWxzZSxcbiAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uKCkgeyBjbGVhclNlYXJjaChjbSk7IH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpYWxvZyhjbSwgdGV4dCwgc2hvcnRUZXh0LCBkZWZsdCwgZikge1xuICAgIGlmIChjbS5vcGVuRGlhbG9nKSBjbS5vcGVuRGlhbG9nKHRleHQsIGYsIHt2YWx1ZTogZGVmbHQsIHNlbGVjdFZhbHVlT25PcGVuOiB0cnVlfSk7XG4gICAgZWxzZSBmKHByb21wdChzaG9ydFRleHQsIGRlZmx0KSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb25maXJtRGlhbG9nKGNtLCB0ZXh0LCBzaG9ydFRleHQsIGZzKSB7XG4gICAgaWYgKGNtLm9wZW5Db25maXJtKSBjbS5vcGVuQ29uZmlybSh0ZXh0LCBmcyk7XG4gICAgZWxzZSBpZiAoY29uZmlybShzaG9ydFRleHQpKSBmc1swXSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VTdHJpbmcoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9cXFxcKC4pL2csIGZ1bmN0aW9uKF8sIGNoKSB7XG4gICAgICBpZiAoY2ggPT0gXCJuXCIpIHJldHVybiBcIlxcblwiXG4gICAgICBpZiAoY2ggPT0gXCJyXCIpIHJldHVybiBcIlxcclwiXG4gICAgICByZXR1cm4gY2hcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VRdWVyeShxdWVyeSkge1xuICAgIHZhciBpc1JFID0gcXVlcnkubWF0Y2goL15cXC8oLiopXFwvKFthLXpdKikkLyk7XG4gICAgaWYgKGlzUkUpIHtcbiAgICAgIHRyeSB7IHF1ZXJ5ID0gbmV3IFJlZ0V4cChpc1JFWzFdLCBpc1JFWzJdLmluZGV4T2YoXCJpXCIpID09IC0xID8gXCJcIiA6IFwiaVwiKTsgfVxuICAgICAgY2F0Y2goZSkge30gLy8gTm90IGEgcmVndWxhciBleHByZXNzaW9uIGFmdGVyIGFsbCwgZG8gYSBzdHJpbmcgc2VhcmNoXG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXJ5ID0gcGFyc2VTdHJpbmcocXVlcnkpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgcXVlcnkgPT0gXCJzdHJpbmdcIiA/IHF1ZXJ5ID09IFwiXCIgOiBxdWVyeS50ZXN0KFwiXCIpKVxuICAgICAgcXVlcnkgPSAveF4vO1xuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuXG4gIHZhciBxdWVyeURpYWxvZyA9XG4gICAgJ1NlYXJjaDogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJ3aWR0aDogMTBlbVwiIGNsYXNzPVwiQ29kZU1pcnJvci1zZWFyY2gtZmllbGRcIi8+IDxzcGFuIHN0eWxlPVwiY29sb3I6ICM4ODhcIiBjbGFzcz1cIkNvZGVNaXJyb3Itc2VhcmNoLWhpbnRcIj4oVXNlIC9yZS8gc3ludGF4IGZvciByZWdleHAgc2VhcmNoKTwvc3Bhbj4nO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0U2VhcmNoKGNtLCBzdGF0ZSwgcXVlcnkpIHtcbiAgICBzdGF0ZS5xdWVyeVRleHQgPSBxdWVyeTtcbiAgICBzdGF0ZS5xdWVyeSA9IHBhcnNlUXVlcnkocXVlcnkpO1xuICAgIGNtLnJlbW92ZU92ZXJsYXkoc3RhdGUub3ZlcmxheSwgcXVlcnlDYXNlSW5zZW5zaXRpdmUoc3RhdGUucXVlcnkpKTtcbiAgICBzdGF0ZS5vdmVybGF5ID0gc2VhcmNoT3ZlcmxheShzdGF0ZS5xdWVyeSwgcXVlcnlDYXNlSW5zZW5zaXRpdmUoc3RhdGUucXVlcnkpKTtcbiAgICBjbS5hZGRPdmVybGF5KHN0YXRlLm92ZXJsYXkpO1xuICAgIGlmIChjbS5zaG93TWF0Y2hlc09uU2Nyb2xsYmFyKSB7XG4gICAgICBpZiAoc3RhdGUuYW5ub3RhdGUpIHsgc3RhdGUuYW5ub3RhdGUuY2xlYXIoKTsgc3RhdGUuYW5ub3RhdGUgPSBudWxsOyB9XG4gICAgICBzdGF0ZS5hbm5vdGF0ZSA9IGNtLnNob3dNYXRjaGVzT25TY3JvbGxiYXIoc3RhdGUucXVlcnksIHF1ZXJ5Q2FzZUluc2Vuc2l0aXZlKHN0YXRlLnF1ZXJ5KSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZG9TZWFyY2goY20sIHJldiwgcGVyc2lzdGVudCkge1xuICAgIHZhciBzdGF0ZSA9IGdldFNlYXJjaFN0YXRlKGNtKTtcbiAgICBpZiAoc3RhdGUucXVlcnkpIHJldHVybiBmaW5kTmV4dChjbSwgcmV2KTtcbiAgICB2YXIgcSA9IGNtLmdldFNlbGVjdGlvbigpIHx8IHN0YXRlLmxhc3RRdWVyeTtcbiAgICBpZiAocGVyc2lzdGVudCAmJiBjbS5vcGVuRGlhbG9nKSB7XG4gICAgICB2YXIgaGlkaW5nID0gbnVsbFxuICAgICAgcGVyc2lzdGVudERpYWxvZyhjbSwgcXVlcnlEaWFsb2csIHEsIGZ1bmN0aW9uKHF1ZXJ5LCBldmVudCkge1xuICAgICAgICBDb2RlTWlycm9yLmVfc3RvcChldmVudCk7XG4gICAgICAgIGlmICghcXVlcnkpIHJldHVybjtcbiAgICAgICAgaWYgKHF1ZXJ5ICE9IHN0YXRlLnF1ZXJ5VGV4dCkge1xuICAgICAgICAgIHN0YXJ0U2VhcmNoKGNtLCBzdGF0ZSwgcXVlcnkpO1xuICAgICAgICAgIHN0YXRlLnBvc0Zyb20gPSBzdGF0ZS5wb3NUbyA9IGNtLmdldEN1cnNvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoaWRpbmcpIGhpZGluZy5zdHlsZS5vcGFjaXR5ID0gMVxuICAgICAgICBmaW5kTmV4dChjbSwgZXZlbnQuc2hpZnRLZXksIGZ1bmN0aW9uKF8sIHRvKSB7XG4gICAgICAgICAgdmFyIGRpYWxvZ1xuICAgICAgICAgIGlmICh0by5saW5lIDwgMyAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICYmXG4gICAgICAgICAgICAgIChkaWFsb2cgPSBjbS5kaXNwbGF5LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5Db2RlTWlycm9yLWRpYWxvZ1wiKSkgJiZcbiAgICAgICAgICAgICAgZGlhbG9nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSAtIDQgPiBjbS5jdXJzb3JDb29yZHModG8sIFwid2luZG93XCIpLnRvcClcbiAgICAgICAgICAgIChoaWRpbmcgPSBkaWFsb2cpLnN0eWxlLm9wYWNpdHkgPSAuNFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpYWxvZyhjbSwgcXVlcnlEaWFsb2csIFwiU2VhcmNoIGZvcjpcIiwgcSwgZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgICAgaWYgKHF1ZXJ5ICYmICFzdGF0ZS5xdWVyeSkgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHN0YXJ0U2VhcmNoKGNtLCBzdGF0ZSwgcXVlcnkpO1xuICAgICAgICAgIHN0YXRlLnBvc0Zyb20gPSBzdGF0ZS5wb3NUbyA9IGNtLmdldEN1cnNvcigpO1xuICAgICAgICAgIGZpbmROZXh0KGNtLCByZXYpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmROZXh0KGNtLCByZXYsIGNhbGxiYWNrKSB7Y20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGF0ZSA9IGdldFNlYXJjaFN0YXRlKGNtKTtcbiAgICB2YXIgY3Vyc29yID0gZ2V0U2VhcmNoQ3Vyc29yKGNtLCBzdGF0ZS5xdWVyeSwgcmV2ID8gc3RhdGUucG9zRnJvbSA6IHN0YXRlLnBvc1RvKTtcbiAgICBpZiAoIWN1cnNvci5maW5kKHJldikpIHtcbiAgICAgIGN1cnNvciA9IGdldFNlYXJjaEN1cnNvcihjbSwgc3RhdGUucXVlcnksIHJldiA/IENvZGVNaXJyb3IuUG9zKGNtLmxhc3RMaW5lKCkpIDogQ29kZU1pcnJvci5Qb3MoY20uZmlyc3RMaW5lKCksIDApKTtcbiAgICAgIGlmICghY3Vyc29yLmZpbmQocmV2KSkgcmV0dXJuO1xuICAgIH1cbiAgICBjbS5zZXRTZWxlY3Rpb24oY3Vyc29yLmZyb20oKSwgY3Vyc29yLnRvKCkpO1xuICAgIGNtLnNjcm9sbEludG9WaWV3KHtmcm9tOiBjdXJzb3IuZnJvbSgpLCB0bzogY3Vyc29yLnRvKCl9LCAyMCk7XG4gICAgc3RhdGUucG9zRnJvbSA9IGN1cnNvci5mcm9tKCk7IHN0YXRlLnBvc1RvID0gY3Vyc29yLnRvKCk7XG4gICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhjdXJzb3IuZnJvbSgpLCBjdXJzb3IudG8oKSlcbiAgfSk7fVxuXG4gIGZ1bmN0aW9uIGNsZWFyU2VhcmNoKGNtKSB7Y20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGF0ZSA9IGdldFNlYXJjaFN0YXRlKGNtKTtcbiAgICBzdGF0ZS5sYXN0UXVlcnkgPSBzdGF0ZS5xdWVyeTtcbiAgICBpZiAoIXN0YXRlLnF1ZXJ5KSByZXR1cm47XG4gICAgc3RhdGUucXVlcnkgPSBzdGF0ZS5xdWVyeVRleHQgPSBudWxsO1xuICAgIGNtLnJlbW92ZU92ZXJsYXkoc3RhdGUub3ZlcmxheSk7XG4gICAgaWYgKHN0YXRlLmFubm90YXRlKSB7IHN0YXRlLmFubm90YXRlLmNsZWFyKCk7IHN0YXRlLmFubm90YXRlID0gbnVsbDsgfVxuICB9KTt9XG5cbiAgdmFyIHJlcGxhY2VRdWVyeURpYWxvZyA9XG4gICAgJyA8aW5wdXQgdHlwZT1cInRleHRcIiBzdHlsZT1cIndpZHRoOiAxMGVtXCIgY2xhc3M9XCJDb2RlTWlycm9yLXNlYXJjaC1maWVsZFwiLz4gPHNwYW4gc3R5bGU9XCJjb2xvcjogIzg4OFwiIGNsYXNzPVwiQ29kZU1pcnJvci1zZWFyY2gtaGludFwiPihVc2UgL3JlLyBzeW50YXggZm9yIHJlZ2V4cCBzZWFyY2gpPC9zcGFuPic7XG4gIHZhciByZXBsYWNlbWVudFF1ZXJ5RGlhbG9nID0gJ1dpdGg6IDxpbnB1dCB0eXBlPVwidGV4dFwiIHN0eWxlPVwid2lkdGg6IDEwZW1cIiBjbGFzcz1cIkNvZGVNaXJyb3Itc2VhcmNoLWZpZWxkXCIvPic7XG4gIHZhciBkb1JlcGxhY2VDb25maXJtID0gXCJSZXBsYWNlPyA8YnV0dG9uPlllczwvYnV0dG9uPiA8YnV0dG9uPk5vPC9idXR0b24+IDxidXR0b24+QWxsPC9idXR0b24+IDxidXR0b24+U3RvcDwvYnV0dG9uPlwiO1xuXG4gIGZ1bmN0aW9uIHJlcGxhY2VBbGwoY20sIHF1ZXJ5LCB0ZXh0KSB7XG4gICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgY3Vyc29yID0gZ2V0U2VhcmNoQ3Vyc29yKGNtLCBxdWVyeSk7IGN1cnNvci5maW5kTmV4dCgpOykge1xuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBjbS5nZXRSYW5nZShjdXJzb3IuZnJvbSgpLCBjdXJzb3IudG8oKSkubWF0Y2gocXVlcnkpO1xuICAgICAgICAgIGN1cnNvci5yZXBsYWNlKHRleHQucmVwbGFjZSgvXFwkKFxcZCkvZywgZnVuY3Rpb24oXywgaSkge3JldHVybiBtYXRjaFtpXTt9KSk7XG4gICAgICAgIH0gZWxzZSBjdXJzb3IucmVwbGFjZSh0ZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UoY20sIGFsbCkge1xuICAgIGlmIChjbS5nZXRPcHRpb24oXCJyZWFkT25seVwiKSkgcmV0dXJuO1xuICAgIHZhciBxdWVyeSA9IGNtLmdldFNlbGVjdGlvbigpIHx8IGdldFNlYXJjaFN0YXRlKGNtKS5sYXN0UXVlcnk7XG4gICAgdmFyIGRpYWxvZ1RleHQgPSBhbGwgPyBcIlJlcGxhY2UgYWxsOlwiIDogXCJSZXBsYWNlOlwiXG4gICAgZGlhbG9nKGNtLCBkaWFsb2dUZXh0ICsgcmVwbGFjZVF1ZXJ5RGlhbG9nLCBkaWFsb2dUZXh0LCBxdWVyeSwgZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgIGlmICghcXVlcnkpIHJldHVybjtcbiAgICAgIHF1ZXJ5ID0gcGFyc2VRdWVyeShxdWVyeSk7XG4gICAgICBkaWFsb2coY20sIHJlcGxhY2VtZW50UXVlcnlEaWFsb2csIFwiUmVwbGFjZSB3aXRoOlwiLCBcIlwiLCBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHRleHQgPSBwYXJzZVN0cmluZyh0ZXh0KVxuICAgICAgICBpZiAoYWxsKSB7XG4gICAgICAgICAgcmVwbGFjZUFsbChjbSwgcXVlcnksIHRleHQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xlYXJTZWFyY2goY20pO1xuICAgICAgICAgIHZhciBjdXJzb3IgPSBnZXRTZWFyY2hDdXJzb3IoY20sIHF1ZXJ5LCBjbS5nZXRDdXJzb3IoXCJmcm9tXCIpKTtcbiAgICAgICAgICB2YXIgYWR2YW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gY3Vyc29yLmZyb20oKSwgbWF0Y2g7XG4gICAgICAgICAgICBpZiAoIShtYXRjaCA9IGN1cnNvci5maW5kTmV4dCgpKSkge1xuICAgICAgICAgICAgICBjdXJzb3IgPSBnZXRTZWFyY2hDdXJzb3IoY20sIHF1ZXJ5KTtcbiAgICAgICAgICAgICAgaWYgKCEobWF0Y2ggPSBjdXJzb3IuZmluZE5leHQoKSkgfHxcbiAgICAgICAgICAgICAgICAgIChzdGFydCAmJiBjdXJzb3IuZnJvbSgpLmxpbmUgPT0gc3RhcnQubGluZSAmJiBjdXJzb3IuZnJvbSgpLmNoID09IHN0YXJ0LmNoKSkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY20uc2V0U2VsZWN0aW9uKGN1cnNvci5mcm9tKCksIGN1cnNvci50bygpKTtcbiAgICAgICAgICAgIGNtLnNjcm9sbEludG9WaWV3KHtmcm9tOiBjdXJzb3IuZnJvbSgpLCB0bzogY3Vyc29yLnRvKCl9KTtcbiAgICAgICAgICAgIGNvbmZpcm1EaWFsb2coY20sIGRvUmVwbGFjZUNvbmZpcm0sIFwiUmVwbGFjZT9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW2Z1bmN0aW9uKCkge2RvUmVwbGFjZShtYXRjaCk7fSwgYWR2YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge3JlcGxhY2VBbGwoY20sIHF1ZXJ5LCB0ZXh0KX1dKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBkb1JlcGxhY2UgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgICAgICAgY3Vyc29yLnJlcGxhY2UodHlwZW9mIHF1ZXJ5ID09IFwic3RyaW5nXCIgPyB0ZXh0IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQucmVwbGFjZSgvXFwkKFxcZCkvZywgZnVuY3Rpb24oXywgaSkge3JldHVybiBtYXRjaFtpXTt9KSk7XG4gICAgICAgICAgICBhZHZhbmNlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBhZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgQ29kZU1pcnJvci5jb21tYW5kcy5maW5kID0gZnVuY3Rpb24oY20pIHtjbGVhclNlYXJjaChjbSk7IGRvU2VhcmNoKGNtKTt9O1xuICBDb2RlTWlycm9yLmNvbW1hbmRzLmZpbmRQZXJzaXN0ZW50ID0gZnVuY3Rpb24oY20pIHtjbGVhclNlYXJjaChjbSk7IGRvU2VhcmNoKGNtLCBmYWxzZSwgdHJ1ZSk7fTtcbiAgQ29kZU1pcnJvci5jb21tYW5kcy5maW5kTmV4dCA9IGRvU2VhcmNoO1xuICBDb2RlTWlycm9yLmNvbW1hbmRzLmZpbmRQcmV2ID0gZnVuY3Rpb24oY20pIHtkb1NlYXJjaChjbSwgdHJ1ZSk7fTtcbiAgQ29kZU1pcnJvci5jb21tYW5kcy5jbGVhclNlYXJjaCA9IGNsZWFyU2VhcmNoO1xuICBDb2RlTWlycm9yLmNvbW1hbmRzLnJlcGxhY2UgPSByZXBsYWNlO1xuICBDb2RlTWlycm9yLmNvbW1hbmRzLnJlcGxhY2VBbGwgPSBmdW5jdGlvbihjbSkge3JlcGxhY2UoY20sIHRydWUpO307XG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cDovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciBQb3MgPSBDb2RlTWlycm9yLlBvcztcblxuICBmdW5jdGlvbiBTZWFyY2hDdXJzb3IoZG9jLCBxdWVyeSwgcG9zLCBjYXNlRm9sZCkge1xuICAgIHRoaXMuYXRPY2N1cnJlbmNlID0gZmFsc2U7IHRoaXMuZG9jID0gZG9jO1xuICAgIGlmIChjYXNlRm9sZCA9PSBudWxsICYmIHR5cGVvZiBxdWVyeSA9PSBcInN0cmluZ1wiKSBjYXNlRm9sZCA9IGZhbHNlO1xuXG4gICAgcG9zID0gcG9zID8gZG9jLmNsaXBQb3MocG9zKSA6IFBvcygwLCAwKTtcbiAgICB0aGlzLnBvcyA9IHtmcm9tOiBwb3MsIHRvOiBwb3N9O1xuXG4gICAgLy8gVGhlIG1hdGNoZXMgbWV0aG9kIGlzIGZpbGxlZCBpbiBiYXNlZCBvbiB0aGUgdHlwZSBvZiBxdWVyeS5cbiAgICAvLyBJdCB0YWtlcyBhIHBvc2l0aW9uIGFuZCBhIGRpcmVjdGlvbiwgYW5kIHJldHVybnMgYW4gb2JqZWN0XG4gICAgLy8gZGVzY3JpYmluZyB0aGUgbmV4dCBvY2N1cnJlbmNlIG9mIHRoZSBxdWVyeSwgb3IgbnVsbCBpZiBub1xuICAgIC8vIG1vcmUgbWF0Y2hlcyB3ZXJlIGZvdW5kLlxuICAgIGlmICh0eXBlb2YgcXVlcnkgIT0gXCJzdHJpbmdcIikgeyAvLyBSZWdleHAgbWF0Y2hcbiAgICAgIGlmICghcXVlcnkuZ2xvYmFsKSBxdWVyeSA9IG5ldyBSZWdFeHAocXVlcnkuc291cmNlLCBxdWVyeS5pZ25vcmVDYXNlID8gXCJpZ1wiIDogXCJnXCIpO1xuICAgICAgdGhpcy5tYXRjaGVzID0gZnVuY3Rpb24ocmV2ZXJzZSwgcG9zKSB7XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgcXVlcnkubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB2YXIgbGluZSA9IGRvYy5nZXRMaW5lKHBvcy5saW5lKS5zbGljZSgwLCBwb3MuY2gpLCBjdXRPZmYgPSAwLCBtYXRjaCwgc3RhcnQ7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgcXVlcnkubGFzdEluZGV4ID0gY3V0T2ZmO1xuICAgICAgICAgICAgdmFyIG5ld01hdGNoID0gcXVlcnkuZXhlYyhsaW5lKTtcbiAgICAgICAgICAgIGlmICghbmV3TWF0Y2gpIGJyZWFrO1xuICAgICAgICAgICAgbWF0Y2ggPSBuZXdNYXRjaDtcbiAgICAgICAgICAgIHN0YXJ0ID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgICBjdXRPZmYgPSBtYXRjaC5pbmRleCArIChtYXRjaFswXS5sZW5ndGggfHwgMSk7XG4gICAgICAgICAgICBpZiAoY3V0T2ZmID09IGxpbmUubGVuZ3RoKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG1hdGNoTGVuID0gKG1hdGNoICYmIG1hdGNoWzBdLmxlbmd0aCkgfHwgMDtcbiAgICAgICAgICBpZiAoIW1hdGNoTGVuKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPT0gMCAmJiBsaW5lLmxlbmd0aCA9PSAwKSB7bWF0Y2ggPSB1bmRlZmluZWQ7fVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhcnQgIT0gZG9jLmdldExpbmUocG9zLmxpbmUpLmxlbmd0aCkge1xuICAgICAgICAgICAgICBtYXRjaExlbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBxdWVyeS5sYXN0SW5kZXggPSBwb3MuY2g7XG4gICAgICAgICAgdmFyIGxpbmUgPSBkb2MuZ2V0TGluZShwb3MubGluZSksIG1hdGNoID0gcXVlcnkuZXhlYyhsaW5lKTtcbiAgICAgICAgICB2YXIgbWF0Y2hMZW4gPSAobWF0Y2ggJiYgbWF0Y2hbMF0ubGVuZ3RoKSB8fCAwO1xuICAgICAgICAgIHZhciBzdGFydCA9IG1hdGNoICYmIG1hdGNoLmluZGV4O1xuICAgICAgICAgIGlmIChzdGFydCArIG1hdGNoTGVuICE9IGxpbmUubGVuZ3RoICYmICFtYXRjaExlbikgbWF0Y2hMZW4gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaExlbilcbiAgICAgICAgICByZXR1cm4ge2Zyb206IFBvcyhwb3MubGluZSwgc3RhcnQpLFxuICAgICAgICAgICAgICAgICAgdG86IFBvcyhwb3MubGluZSwgc3RhcnQgKyBtYXRjaExlbiksXG4gICAgICAgICAgICAgICAgICBtYXRjaDogbWF0Y2h9O1xuICAgICAgfTtcbiAgICB9IGVsc2UgeyAvLyBTdHJpbmcgcXVlcnlcbiAgICAgIHZhciBvcmlnUXVlcnkgPSBxdWVyeTtcbiAgICAgIGlmIChjYXNlRm9sZCkgcXVlcnkgPSBxdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFyIGZvbGQgPSBjYXNlRm9sZCA/IGZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO30gOiBmdW5jdGlvbihzdHIpe3JldHVybiBzdHI7fTtcbiAgICAgIHZhciB0YXJnZXQgPSBxdWVyeS5zcGxpdChcIlxcblwiKTtcbiAgICAgIC8vIERpZmZlcmVudCBtZXRob2RzIGZvciBzaW5nbGUtbGluZSBhbmQgbXVsdGktbGluZSBxdWVyaWVzXG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGlmICghcXVlcnkubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gRW1wdHkgc3RyaW5nIHdvdWxkIG1hdGNoIGFueXRoaW5nIGFuZCBuZXZlciBwcm9ncmVzcywgc29cbiAgICAgICAgICAvLyB3ZSBkZWZpbmUgaXQgdG8gbWF0Y2ggbm90aGluZyBpbnN0ZWFkLlxuICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5tYXRjaGVzID0gZnVuY3Rpb24ocmV2ZXJzZSwgcG9zKSB7XG4gICAgICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgICB2YXIgb3JpZyA9IGRvYy5nZXRMaW5lKHBvcy5saW5lKS5zbGljZSgwLCBwb3MuY2gpLCBsaW5lID0gZm9sZChvcmlnKTtcbiAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5sYXN0SW5kZXhPZihxdWVyeSk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBhZGp1c3RQb3Mob3JpZywgbGluZSwgbWF0Y2gpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7ZnJvbTogUG9zKHBvcy5saW5lLCBtYXRjaCksIHRvOiBQb3MocG9zLmxpbmUsIG1hdGNoICsgb3JpZ1F1ZXJ5Lmxlbmd0aCl9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgIHZhciBvcmlnID0gZG9jLmdldExpbmUocG9zLmxpbmUpLnNsaWNlKHBvcy5jaCksIGxpbmUgPSBmb2xkKG9yaWcpO1xuICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5pbmRleE9mKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgIGlmIChtYXRjaCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgIG1hdGNoID0gYWRqdXN0UG9zKG9yaWcsIGxpbmUsIG1hdGNoKSArIHBvcy5jaDtcbiAgICAgICAgICAgICAgICAgcmV0dXJuIHtmcm9tOiBQb3MocG9zLmxpbmUsIG1hdGNoKSwgdG86IFBvcyhwb3MubGluZSwgbWF0Y2ggKyBvcmlnUXVlcnkubGVuZ3RoKX07XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9yaWdUYXJnZXQgPSBvcmlnUXVlcnkuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIHRoaXMubWF0Y2hlcyA9IGZ1bmN0aW9uKHJldmVyc2UsIHBvcykge1xuICAgICAgICAgIHZhciBsYXN0ID0gdGFyZ2V0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIGlmIChwb3MubGluZSAtICh0YXJnZXQubGVuZ3RoIC0gMSkgPCBkb2MuZmlyc3RMaW5lKCkpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChmb2xkKGRvYy5nZXRMaW5lKHBvcy5saW5lKS5zbGljZSgwLCBvcmlnVGFyZ2V0W2xhc3RdLmxlbmd0aCkpICE9IHRhcmdldFt0YXJnZXQubGVuZ3RoIC0gMV0pIHJldHVybjtcbiAgICAgICAgICAgIHZhciB0byA9IFBvcyhwb3MubGluZSwgb3JpZ1RhcmdldFtsYXN0XS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgbG4gPSBwb3MubGluZSAtIDEsIGkgPSBsYXN0IC0gMTsgaSA+PSAxOyAtLWksIC0tbG4pXG4gICAgICAgICAgICAgIGlmICh0YXJnZXRbaV0gIT0gZm9sZChkb2MuZ2V0TGluZShsbikpKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgbGluZSA9IGRvYy5nZXRMaW5lKGxuKSwgY3V0ID0gbGluZS5sZW5ndGggLSBvcmlnVGFyZ2V0WzBdLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChmb2xkKGxpbmUuc2xpY2UoY3V0KSkgIT0gdGFyZ2V0WzBdKSByZXR1cm47XG4gICAgICAgICAgICByZXR1cm4ge2Zyb206IFBvcyhsbiwgY3V0KSwgdG86IHRvfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvcy5saW5lICsgKHRhcmdldC5sZW5ndGggLSAxKSA+IGRvYy5sYXN0TGluZSgpKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgbGluZSA9IGRvYy5nZXRMaW5lKHBvcy5saW5lKSwgY3V0ID0gbGluZS5sZW5ndGggLSBvcmlnVGFyZ2V0WzBdLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChmb2xkKGxpbmUuc2xpY2UoY3V0KSkgIT0gdGFyZ2V0WzBdKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgZnJvbSA9IFBvcyhwb3MubGluZSwgY3V0KTtcbiAgICAgICAgICAgIGZvciAodmFyIGxuID0gcG9zLmxpbmUgKyAxLCBpID0gMTsgaSA8IGxhc3Q7ICsraSwgKytsbilcbiAgICAgICAgICAgICAgaWYgKHRhcmdldFtpXSAhPSBmb2xkKGRvYy5nZXRMaW5lKGxuKSkpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChmb2xkKGRvYy5nZXRMaW5lKGxuKS5zbGljZSgwLCBvcmlnVGFyZ2V0W2xhc3RdLmxlbmd0aCkpICE9IHRhcmdldFtsYXN0XSkgcmV0dXJuO1xuICAgICAgICAgICAgcmV0dXJuIHtmcm9tOiBmcm9tLCB0bzogUG9zKGxuLCBvcmlnVGFyZ2V0W2xhc3RdLmxlbmd0aCl9O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBTZWFyY2hDdXJzb3IucHJvdG90eXBlID0ge1xuICAgIGZpbmROZXh0OiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5maW5kKGZhbHNlKTt9LFxuICAgIGZpbmRQcmV2aW91czogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmluZCh0cnVlKTt9LFxuXG4gICAgZmluZDogZnVuY3Rpb24ocmV2ZXJzZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLCBwb3MgPSB0aGlzLmRvYy5jbGlwUG9zKHJldmVyc2UgPyB0aGlzLnBvcy5mcm9tIDogdGhpcy5wb3MudG8pO1xuICAgICAgZnVuY3Rpb24gc2F2ZVBvc0FuZEZhaWwobGluZSkge1xuICAgICAgICB2YXIgcG9zID0gUG9zKGxpbmUsIDApO1xuICAgICAgICBzZWxmLnBvcyA9IHtmcm9tOiBwb3MsIHRvOiBwb3N9O1xuICAgICAgICBzZWxmLmF0T2NjdXJyZW5jZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKHRoaXMucG9zID0gdGhpcy5tYXRjaGVzKHJldmVyc2UsIHBvcykpIHtcbiAgICAgICAgICB0aGlzLmF0T2NjdXJyZW5jZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucG9zLm1hdGNoIHx8IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICBpZiAoIXBvcy5saW5lKSByZXR1cm4gc2F2ZVBvc0FuZEZhaWwoMCk7XG4gICAgICAgICAgcG9zID0gUG9zKHBvcy5saW5lLTEsIHRoaXMuZG9jLmdldExpbmUocG9zLmxpbmUtMSkubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbWF4TGluZSA9IHRoaXMuZG9jLmxpbmVDb3VudCgpO1xuICAgICAgICAgIGlmIChwb3MubGluZSA9PSBtYXhMaW5lIC0gMSkgcmV0dXJuIHNhdmVQb3NBbmRGYWlsKG1heExpbmUpO1xuICAgICAgICAgIHBvcyA9IFBvcyhwb3MubGluZSArIDEsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZyb206IGZ1bmN0aW9uKCkge2lmICh0aGlzLmF0T2NjdXJyZW5jZSkgcmV0dXJuIHRoaXMucG9zLmZyb207fSxcbiAgICB0bzogZnVuY3Rpb24oKSB7aWYgKHRoaXMuYXRPY2N1cnJlbmNlKSByZXR1cm4gdGhpcy5wb3MudG87fSxcblxuICAgIHJlcGxhY2U6IGZ1bmN0aW9uKG5ld1RleHQsIG9yaWdpbikge1xuICAgICAgaWYgKCF0aGlzLmF0T2NjdXJyZW5jZSkgcmV0dXJuO1xuICAgICAgdmFyIGxpbmVzID0gQ29kZU1pcnJvci5zcGxpdExpbmVzKG5ld1RleHQpO1xuICAgICAgdGhpcy5kb2MucmVwbGFjZVJhbmdlKGxpbmVzLCB0aGlzLnBvcy5mcm9tLCB0aGlzLnBvcy50bywgb3JpZ2luKTtcbiAgICAgIHRoaXMucG9zLnRvID0gUG9zKHRoaXMucG9zLmZyb20ubGluZSArIGxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGggKyAobGluZXMubGVuZ3RoID09IDEgPyB0aGlzLnBvcy5mcm9tLmNoIDogMCkpO1xuICAgIH1cbiAgfTtcblxuICAvLyBNYXBzIGEgcG9zaXRpb24gaW4gYSBjYXNlLWZvbGRlZCBsaW5lIGJhY2sgdG8gYSBwb3NpdGlvbiBpbiB0aGUgb3JpZ2luYWwgbGluZVxuICAvLyAoY29tcGVuc2F0aW5nIGZvciBjb2RlcG9pbnRzIGluY3JlYXNpbmcgaW4gbnVtYmVyIGR1cmluZyBmb2xkaW5nKVxuICBmdW5jdGlvbiBhZGp1c3RQb3Mob3JpZywgZm9sZGVkLCBwb3MpIHtcbiAgICBpZiAob3JpZy5sZW5ndGggPT0gZm9sZGVkLmxlbmd0aCkgcmV0dXJuIHBvcztcbiAgICBmb3IgKHZhciBwb3MxID0gTWF0aC5taW4ocG9zLCBvcmlnLmxlbmd0aCk7Oykge1xuICAgICAgdmFyIGxlbjEgPSBvcmlnLnNsaWNlKDAsIHBvczEpLnRvTG93ZXJDYXNlKCkubGVuZ3RoO1xuICAgICAgaWYgKGxlbjEgPCBwb3MpICsrcG9zMTtcbiAgICAgIGVsc2UgaWYgKGxlbjEgPiBwb3MpIC0tcG9zMTtcbiAgICAgIGVsc2UgcmV0dXJuIHBvczE7XG4gICAgfVxuICB9XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24oXCJnZXRTZWFyY2hDdXJzb3JcIiwgZnVuY3Rpb24ocXVlcnksIHBvcywgY2FzZUZvbGQpIHtcbiAgICByZXR1cm4gbmV3IFNlYXJjaEN1cnNvcih0aGlzLmRvYywgcXVlcnksIHBvcywgY2FzZUZvbGQpO1xuICB9KTtcbiAgQ29kZU1pcnJvci5kZWZpbmVEb2NFeHRlbnNpb24oXCJnZXRTZWFyY2hDdXJzb3JcIiwgZnVuY3Rpb24ocXVlcnksIHBvcywgY2FzZUZvbGQpIHtcbiAgICByZXR1cm4gbmV3IFNlYXJjaEN1cnNvcih0aGlzLCBxdWVyeSwgcG9zLCBjYXNlRm9sZCk7XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwic2VsZWN0TWF0Y2hlc1wiLCBmdW5jdGlvbihxdWVyeSwgY2FzZUZvbGQpIHtcbiAgICB2YXIgcmFuZ2VzID0gW107XG4gICAgdmFyIGN1ciA9IHRoaXMuZ2V0U2VhcmNoQ3Vyc29yKHF1ZXJ5LCB0aGlzLmdldEN1cnNvcihcImZyb21cIiksIGNhc2VGb2xkKTtcbiAgICB3aGlsZSAoY3VyLmZpbmROZXh0KCkpIHtcbiAgICAgIGlmIChDb2RlTWlycm9yLmNtcFBvcyhjdXIudG8oKSwgdGhpcy5nZXRDdXJzb3IoXCJ0b1wiKSkgPiAwKSBicmVhaztcbiAgICAgIHJhbmdlcy5wdXNoKHthbmNob3I6IGN1ci5mcm9tKCksIGhlYWQ6IGN1ci50bygpfSk7XG4gICAgfVxuICAgIGlmIChyYW5nZXMubGVuZ3RoKVxuICAgICAgdGhpcy5zZXRTZWxlY3Rpb25zKHJhbmdlcywgMCk7XG4gIH0pO1xufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbi8vIEEgcm91Z2ggYXBwcm94aW1hdGlvbiBvZiBTdWJsaW1lIFRleHQncyBrZXliaW5kaW5nc1xuLy8gRGVwZW5kcyBvbiBhZGRvbi9zZWFyY2gvc2VhcmNoY3Vyc29yLmpzIGFuZCBvcHRpb25hbGx5IGFkZG9uL2RpYWxvZy9kaWFsb2dzLmpzXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vbGliL2NvZGVtaXJyb3JcIiksIHJlcXVpcmUoXCIuLi9hZGRvbi9zZWFyY2gvc2VhcmNoY3Vyc29yXCIpLCByZXF1aXJlKFwiLi4vYWRkb24vZWRpdC9tYXRjaGJyYWNrZXRzXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uL2xpYi9jb2RlbWlycm9yXCIsIFwiLi4vYWRkb24vc2VhcmNoL3NlYXJjaGN1cnNvclwiLCBcIi4uL2FkZG9uL2VkaXQvbWF0Y2hicmFja2V0c1wiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIG1hcCA9IENvZGVNaXJyb3Iua2V5TWFwLnN1YmxpbWUgPSB7ZmFsbHRocm91Z2g6IFwiZGVmYXVsdFwifTtcbiAgdmFyIGNtZHMgPSBDb2RlTWlycm9yLmNvbW1hbmRzO1xuICB2YXIgUG9zID0gQ29kZU1pcnJvci5Qb3M7XG4gIHZhciBtYWMgPSBDb2RlTWlycm9yLmtleU1hcFtcImRlZmF1bHRcIl0gPT0gQ29kZU1pcnJvci5rZXlNYXAubWFjRGVmYXVsdDtcbiAgdmFyIGN0cmwgPSBtYWMgPyBcIkNtZC1cIiA6IFwiQ3RybC1cIjtcblxuICAvLyBUaGlzIGlzIG5vdCBleGFjdGx5IFN1YmxpbWUncyBhbGdvcml0aG0uIEkgY291bGRuJ3QgbWFrZSBoZWFkcyBvciB0YWlscyBvZiB0aGF0LlxuICBmdW5jdGlvbiBmaW5kUG9zU3Vid29yZChkb2MsIHN0YXJ0LCBkaXIpIHtcbiAgICBpZiAoZGlyIDwgMCAmJiBzdGFydC5jaCA9PSAwKSByZXR1cm4gZG9jLmNsaXBQb3MoUG9zKHN0YXJ0LmxpbmUgLSAxKSk7XG4gICAgdmFyIGxpbmUgPSBkb2MuZ2V0TGluZShzdGFydC5saW5lKTtcbiAgICBpZiAoZGlyID4gMCAmJiBzdGFydC5jaCA+PSBsaW5lLmxlbmd0aCkgcmV0dXJuIGRvYy5jbGlwUG9zKFBvcyhzdGFydC5saW5lICsgMSwgMCkpO1xuICAgIHZhciBzdGF0ZSA9IFwic3RhcnRcIiwgdHlwZTtcbiAgICBmb3IgKHZhciBwb3MgPSBzdGFydC5jaCwgZSA9IGRpciA8IDAgPyAwIDogbGluZS5sZW5ndGgsIGkgPSAwOyBwb3MgIT0gZTsgcG9zICs9IGRpciwgaSsrKSB7XG4gICAgICB2YXIgbmV4dCA9IGxpbmUuY2hhckF0KGRpciA8IDAgPyBwb3MgLSAxIDogcG9zKTtcbiAgICAgIHZhciBjYXQgPSBuZXh0ICE9IFwiX1wiICYmIENvZGVNaXJyb3IuaXNXb3JkQ2hhcihuZXh0KSA/IFwid1wiIDogXCJvXCI7XG4gICAgICBpZiAoY2F0ID09IFwid1wiICYmIG5leHQudG9VcHBlckNhc2UoKSA9PSBuZXh0KSBjYXQgPSBcIldcIjtcbiAgICAgIGlmIChzdGF0ZSA9PSBcInN0YXJ0XCIpIHtcbiAgICAgICAgaWYgKGNhdCAhPSBcIm9cIikgeyBzdGF0ZSA9IFwiaW5cIjsgdHlwZSA9IGNhdDsgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBcImluXCIpIHtcbiAgICAgICAgaWYgKHR5cGUgIT0gY2F0KSB7XG4gICAgICAgICAgaWYgKHR5cGUgPT0gXCJ3XCIgJiYgY2F0ID09IFwiV1wiICYmIGRpciA8IDApIHBvcy0tO1xuICAgICAgICAgIGlmICh0eXBlID09IFwiV1wiICYmIGNhdCA9PSBcIndcIiAmJiBkaXIgPiAwKSB7IHR5cGUgPSBcIndcIjsgY29udGludWU7IH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUG9zKHN0YXJ0LmxpbmUsIHBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlU3Vid29yZChjbSwgZGlyKSB7XG4gICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICBpZiAoY20uZGlzcGxheS5zaGlmdCB8fCBjbS5kb2MuZXh0ZW5kIHx8IHJhbmdlLmVtcHR5KCkpXG4gICAgICAgIHJldHVybiBmaW5kUG9zU3Vid29yZChjbS5kb2MsIHJhbmdlLmhlYWQsIGRpcik7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBkaXIgPCAwID8gcmFuZ2UuZnJvbSgpIDogcmFuZ2UudG8oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNtZHNbbWFwW1wiQWx0LUxlZnRcIl0gPSBcImdvU3Vid29yZExlZnRcIl0gPSBmdW5jdGlvbihjbSkgeyBtb3ZlU3Vid29yZChjbSwgLTEpOyB9O1xuICBjbWRzW21hcFtcIkFsdC1SaWdodFwiXSA9IFwiZ29TdWJ3b3JkUmlnaHRcIl0gPSBmdW5jdGlvbihjbSkgeyBtb3ZlU3Vid29yZChjbSwgMSk7IH07XG5cbiAgaWYgKG1hYykgbWFwW1wiQ21kLUxlZnRcIl0gPSBcImdvTGluZVN0YXJ0U21hcnRcIjtcblxuICB2YXIgc2Nyb2xsTGluZUNvbWJvID0gbWFjID8gXCJDdHJsLUFsdC1cIiA6IFwiQ3RybC1cIjtcblxuICBjbWRzW21hcFtzY3JvbGxMaW5lQ29tYm8gKyBcIlVwXCJdID0gXCJzY3JvbGxMaW5lVXBcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciBpbmZvID0gY20uZ2V0U2Nyb2xsSW5mbygpO1xuICAgIGlmICghY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuICAgICAgdmFyIHZpc2libGVCb3R0b21MaW5lID0gY20ubGluZUF0SGVpZ2h0KGluZm8udG9wICsgaW5mby5jbGllbnRIZWlnaHQsIFwibG9jYWxcIik7XG4gICAgICBpZiAoY20uZ2V0Q3Vyc29yKCkubGluZSA+PSB2aXNpYmxlQm90dG9tTGluZSlcbiAgICAgICAgY20uZXhlY0NvbW1hbmQoXCJnb0xpbmVVcFwiKTtcbiAgICB9XG4gICAgY20uc2Nyb2xsVG8obnVsbCwgaW5mby50b3AgLSBjbS5kZWZhdWx0VGV4dEhlaWdodCgpKTtcbiAgfTtcbiAgY21kc1ttYXBbc2Nyb2xsTGluZUNvbWJvICsgXCJEb3duXCJdID0gXCJzY3JvbGxMaW5lRG93blwiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgdmFyIGluZm8gPSBjbS5nZXRTY3JvbGxJbmZvKCk7XG4gICAgaWYgKCFjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG4gICAgICB2YXIgdmlzaWJsZVRvcExpbmUgPSBjbS5saW5lQXRIZWlnaHQoaW5mby50b3AsIFwibG9jYWxcIikrMTtcbiAgICAgIGlmIChjbS5nZXRDdXJzb3IoKS5saW5lIDw9IHZpc2libGVUb3BMaW5lKVxuICAgICAgICBjbS5leGVjQ29tbWFuZChcImdvTGluZURvd25cIik7XG4gICAgfVxuICAgIGNtLnNjcm9sbFRvKG51bGwsIGluZm8udG9wICsgY20uZGVmYXVsdFRleHRIZWlnaHQoKSk7XG4gIH07XG5cbiAgY21kc1ttYXBbXCJTaGlmdC1cIiArIGN0cmwgKyBcIkxcIl0gPSBcInNwbGl0U2VsZWN0aW9uQnlMaW5lXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICB2YXIgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKSwgbGluZVJhbmdlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZnJvbSA9IHJhbmdlc1tpXS5mcm9tKCksIHRvID0gcmFuZ2VzW2ldLnRvKCk7XG4gICAgICBmb3IgKHZhciBsaW5lID0gZnJvbS5saW5lOyBsaW5lIDw9IHRvLmxpbmU7ICsrbGluZSlcbiAgICAgICAgaWYgKCEodG8ubGluZSA+IGZyb20ubGluZSAmJiBsaW5lID09IHRvLmxpbmUgJiYgdG8uY2ggPT0gMCkpXG4gICAgICAgICAgbGluZVJhbmdlcy5wdXNoKHthbmNob3I6IGxpbmUgPT0gZnJvbS5saW5lID8gZnJvbSA6IFBvcyhsaW5lLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWQ6IGxpbmUgPT0gdG8ubGluZSA/IHRvIDogUG9zKGxpbmUpfSk7XG4gICAgfVxuICAgIGNtLnNldFNlbGVjdGlvbnMobGluZVJhbmdlcywgMCk7XG4gIH07XG5cbiAgbWFwW1wiU2hpZnQtVGFiXCJdID0gXCJpbmRlbnRMZXNzXCI7XG5cbiAgY21kc1ttYXBbXCJFc2NcIl0gPSBcInNpbmdsZVNlbGVjdGlvblRvcFwiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgdmFyIHJhbmdlID0gY20ubGlzdFNlbGVjdGlvbnMoKVswXTtcbiAgICBjbS5zZXRTZWxlY3Rpb24ocmFuZ2UuYW5jaG9yLCByYW5nZS5oZWFkLCB7c2Nyb2xsOiBmYWxzZX0pO1xuICB9O1xuXG4gIGNtZHNbbWFwW2N0cmwgKyBcIkxcIl0gPSBcInNlbGVjdExpbmVcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpLCBleHRlbmRlZCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICBleHRlbmRlZC5wdXNoKHthbmNob3I6IFBvcyhyYW5nZS5mcm9tKCkubGluZSwgMCksXG4gICAgICAgICAgICAgICAgICAgICBoZWFkOiBQb3MocmFuZ2UudG8oKS5saW5lICsgMSwgMCl9KTtcbiAgICB9XG4gICAgY20uc2V0U2VsZWN0aW9ucyhleHRlbmRlZCk7XG4gIH07XG5cbiAgbWFwW1wiU2hpZnQtQ3RybC1LXCJdID0gXCJkZWxldGVMaW5lXCI7XG5cbiAgZnVuY3Rpb24gaW5zZXJ0TGluZShjbSwgYWJvdmUpIHtcbiAgICBpZiAoY20uaXNSZWFkT25seSgpKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzXG4gICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlbiA9IGNtLmxpc3RTZWxlY3Rpb25zKCkubGVuZ3RoLCBuZXdTZWxlY3Rpb24gPSBbXSwgbGFzdCA9IC0xO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGVhZCA9IGNtLmxpc3RTZWxlY3Rpb25zKClbaV0uaGVhZDtcbiAgICAgICAgaWYgKGhlYWQubGluZSA8PSBsYXN0KSBjb250aW51ZTtcbiAgICAgICAgdmFyIGF0ID0gUG9zKGhlYWQubGluZSArIChhYm92ZSA/IDAgOiAxKSwgMCk7XG4gICAgICAgIGNtLnJlcGxhY2VSYW5nZShcIlxcblwiLCBhdCwgbnVsbCwgXCIraW5zZXJ0TGluZVwiKTtcbiAgICAgICAgY20uaW5kZW50TGluZShhdC5saW5lLCBudWxsLCB0cnVlKTtcbiAgICAgICAgbmV3U2VsZWN0aW9uLnB1c2goe2hlYWQ6IGF0LCBhbmNob3I6IGF0fSk7XG4gICAgICAgIGxhc3QgPSBoZWFkLmxpbmUgKyAxO1xuICAgICAgfVxuICAgICAgY20uc2V0U2VsZWN0aW9ucyhuZXdTZWxlY3Rpb24pO1xuICAgIH0pO1xuICAgIGNtLmV4ZWNDb21tYW5kKFwiaW5kZW50QXV0b1wiKTtcbiAgfVxuXG4gIGNtZHNbbWFwW2N0cmwgKyBcIkVudGVyXCJdID0gXCJpbnNlcnRMaW5lQWZ0ZXJcIl0gPSBmdW5jdGlvbihjbSkgeyByZXR1cm4gaW5zZXJ0TGluZShjbSwgZmFsc2UpOyB9O1xuXG4gIGNtZHNbbWFwW1wiU2hpZnQtXCIgKyBjdHJsICsgXCJFbnRlclwiXSA9IFwiaW5zZXJ0TGluZUJlZm9yZVwiXSA9IGZ1bmN0aW9uKGNtKSB7IHJldHVybiBpbnNlcnRMaW5lKGNtLCB0cnVlKTsgfTtcblxuICBmdW5jdGlvbiB3b3JkQXQoY20sIHBvcykge1xuICAgIHZhciBzdGFydCA9IHBvcy5jaCwgZW5kID0gc3RhcnQsIGxpbmUgPSBjbS5nZXRMaW5lKHBvcy5saW5lKTtcbiAgICB3aGlsZSAoc3RhcnQgJiYgQ29kZU1pcnJvci5pc1dvcmRDaGFyKGxpbmUuY2hhckF0KHN0YXJ0IC0gMSkpKSAtLXN0YXJ0O1xuICAgIHdoaWxlIChlbmQgPCBsaW5lLmxlbmd0aCAmJiBDb2RlTWlycm9yLmlzV29yZENoYXIobGluZS5jaGFyQXQoZW5kKSkpICsrZW5kO1xuICAgIHJldHVybiB7ZnJvbTogUG9zKHBvcy5saW5lLCBzdGFydCksIHRvOiBQb3MocG9zLmxpbmUsIGVuZCksIHdvcmQ6IGxpbmUuc2xpY2Uoc3RhcnQsIGVuZCl9O1xuICB9XG5cbiAgY21kc1ttYXBbY3RybCArIFwiRFwiXSA9IFwic2VsZWN0TmV4dE9jY3VycmVuY2VcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciBmcm9tID0gY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKSwgdG8gPSBjbS5nZXRDdXJzb3IoXCJ0b1wiKTtcbiAgICB2YXIgZnVsbFdvcmQgPSBjbS5zdGF0ZS5zdWJsaW1lRmluZEZ1bGxXb3JkID09IGNtLmRvYy5zZWw7XG4gICAgaWYgKENvZGVNaXJyb3IuY21wUG9zKGZyb20sIHRvKSA9PSAwKSB7XG4gICAgICB2YXIgd29yZCA9IHdvcmRBdChjbSwgZnJvbSk7XG4gICAgICBpZiAoIXdvcmQud29yZCkgcmV0dXJuO1xuICAgICAgY20uc2V0U2VsZWN0aW9uKHdvcmQuZnJvbSwgd29yZC50byk7XG4gICAgICBmdWxsV29yZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0ZXh0ID0gY20uZ2V0UmFuZ2UoZnJvbSwgdG8pO1xuICAgICAgdmFyIHF1ZXJ5ID0gZnVsbFdvcmQgPyBuZXcgUmVnRXhwKFwiXFxcXGJcIiArIHRleHQgKyBcIlxcXFxiXCIpIDogdGV4dDtcbiAgICAgIHZhciBjdXIgPSBjbS5nZXRTZWFyY2hDdXJzb3IocXVlcnksIHRvKTtcbiAgICAgIGlmIChjdXIuZmluZE5leHQoKSkge1xuICAgICAgICBjbS5hZGRTZWxlY3Rpb24oY3VyLmZyb20oKSwgY3VyLnRvKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VyID0gY20uZ2V0U2VhcmNoQ3Vyc29yKHF1ZXJ5LCBQb3MoY20uZmlyc3RMaW5lKCksIDApKTtcbiAgICAgICAgaWYgKGN1ci5maW5kTmV4dCgpKVxuICAgICAgICAgIGNtLmFkZFNlbGVjdGlvbihjdXIuZnJvbSgpLCBjdXIudG8oKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmdWxsV29yZClcbiAgICAgIGNtLnN0YXRlLnN1YmxpbWVGaW5kRnVsbFdvcmQgPSBjbS5kb2Muc2VsO1xuICB9O1xuXG4gIHZhciBtaXJyb3IgPSBcIigpe31bXVwiO1xuICBmdW5jdGlvbiBzZWxlY3RCZXR3ZWVuQnJhY2tldHMoY20pIHtcbiAgICB2YXIgcG9zID0gY20uZ2V0Q3Vyc29yKCksIG9wZW5pbmcgPSBjbS5zY2FuRm9yQnJhY2tldChwb3MsIC0xKTtcbiAgICBpZiAoIW9wZW5pbmcpIHJldHVybjtcbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgY2xvc2luZyA9IGNtLnNjYW5Gb3JCcmFja2V0KHBvcywgMSk7XG4gICAgICBpZiAoIWNsb3NpbmcpIHJldHVybjtcbiAgICAgIGlmIChjbG9zaW5nLmNoID09IG1pcnJvci5jaGFyQXQobWlycm9yLmluZGV4T2Yob3BlbmluZy5jaCkgKyAxKSkge1xuICAgICAgICBjbS5zZXRTZWxlY3Rpb24oUG9zKG9wZW5pbmcucG9zLmxpbmUsIG9wZW5pbmcucG9zLmNoICsgMSksIGNsb3NpbmcucG9zLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcG9zID0gUG9zKGNsb3NpbmcucG9zLmxpbmUsIGNsb3NpbmcucG9zLmNoICsgMSk7XG4gICAgfVxuICB9XG5cbiAgY21kc1ttYXBbXCJTaGlmdC1cIiArIGN0cmwgKyBcIlNwYWNlXCJdID0gXCJzZWxlY3RTY29wZVwiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgc2VsZWN0QmV0d2VlbkJyYWNrZXRzKGNtKSB8fCBjbS5leGVjQ29tbWFuZChcInNlbGVjdEFsbFwiKTtcbiAgfTtcbiAgY21kc1ttYXBbXCJTaGlmdC1cIiArIGN0cmwgKyBcIk1cIl0gPSBcInNlbGVjdEJldHdlZW5CcmFja2V0c1wiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgaWYgKCFzZWxlY3RCZXR3ZWVuQnJhY2tldHMoY20pKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuICB9O1xuXG4gIGNtZHNbbWFwW2N0cmwgKyBcIk1cIl0gPSBcImdvVG9CcmFja2V0XCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgIHZhciBuZXh0ID0gY20uc2NhbkZvckJyYWNrZXQocmFuZ2UuaGVhZCwgMSk7XG4gICAgICBpZiAobmV4dCAmJiBDb2RlTWlycm9yLmNtcFBvcyhuZXh0LnBvcywgcmFuZ2UuaGVhZCkgIT0gMCkgcmV0dXJuIG5leHQucG9zO1xuICAgICAgdmFyIHByZXYgPSBjbS5zY2FuRm9yQnJhY2tldChyYW5nZS5oZWFkLCAtMSk7XG4gICAgICByZXR1cm4gcHJldiAmJiBQb3MocHJldi5wb3MubGluZSwgcHJldi5wb3MuY2ggKyAxKSB8fCByYW5nZS5oZWFkO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBzd2FwTGluZUNvbWJvID0gbWFjID8gXCJDbWQtQ3RybC1cIiA6IFwiU2hpZnQtQ3RybC1cIjtcblxuICBjbWRzW21hcFtzd2FwTGluZUNvbWJvICsgXCJVcFwiXSA9IFwic3dhcExpbmVVcFwiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgaWYgKGNtLmlzUmVhZE9ubHkoKSkgcmV0dXJuIENvZGVNaXJyb3IuUGFzc1xuICAgIHZhciByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpLCBsaW5lc1RvTW92ZSA9IFtdLCBhdCA9IGNtLmZpcnN0TGluZSgpIC0gMSwgbmV3U2VscyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV0sIGZyb20gPSByYW5nZS5mcm9tKCkubGluZSAtIDEsIHRvID0gcmFuZ2UudG8oKS5saW5lO1xuICAgICAgbmV3U2Vscy5wdXNoKHthbmNob3I6IFBvcyhyYW5nZS5hbmNob3IubGluZSAtIDEsIHJhbmdlLmFuY2hvci5jaCksXG4gICAgICAgICAgICAgICAgICAgIGhlYWQ6IFBvcyhyYW5nZS5oZWFkLmxpbmUgLSAxLCByYW5nZS5oZWFkLmNoKX0pO1xuICAgICAgaWYgKHJhbmdlLnRvKCkuY2ggPT0gMCAmJiAhcmFuZ2UuZW1wdHkoKSkgLS10bztcbiAgICAgIGlmIChmcm9tID4gYXQpIGxpbmVzVG9Nb3ZlLnB1c2goZnJvbSwgdG8pO1xuICAgICAgZWxzZSBpZiAobGluZXNUb01vdmUubGVuZ3RoKSBsaW5lc1RvTW92ZVtsaW5lc1RvTW92ZS5sZW5ndGggLSAxXSA9IHRvO1xuICAgICAgYXQgPSB0bztcbiAgICB9XG4gICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lc1RvTW92ZS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICB2YXIgZnJvbSA9IGxpbmVzVG9Nb3ZlW2ldLCB0byA9IGxpbmVzVG9Nb3ZlW2kgKyAxXTtcbiAgICAgICAgdmFyIGxpbmUgPSBjbS5nZXRMaW5lKGZyb20pO1xuICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoXCJcIiwgUG9zKGZyb20sIDApLCBQb3MoZnJvbSArIDEsIDApLCBcIitzd2FwTGluZVwiKTtcbiAgICAgICAgaWYgKHRvID4gY20ubGFzdExpbmUoKSlcbiAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoXCJcXG5cIiArIGxpbmUsIFBvcyhjbS5sYXN0TGluZSgpKSwgbnVsbCwgXCIrc3dhcExpbmVcIik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UobGluZSArIFwiXFxuXCIsIFBvcyh0bywgMCksIG51bGwsIFwiK3N3YXBMaW5lXCIpO1xuICAgICAgfVxuICAgICAgY20uc2V0U2VsZWN0aW9ucyhuZXdTZWxzKTtcbiAgICAgIGNtLnNjcm9sbEludG9WaWV3KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY21kc1ttYXBbc3dhcExpbmVDb21ibyArIFwiRG93blwiXSA9IFwic3dhcExpbmVEb3duXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICBpZiAoY20uaXNSZWFkT25seSgpKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzXG4gICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIGxpbmVzVG9Nb3ZlID0gW10sIGF0ID0gY20ubGFzdExpbmUoKSArIDE7XG4gICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldLCBmcm9tID0gcmFuZ2UudG8oKS5saW5lICsgMSwgdG8gPSByYW5nZS5mcm9tKCkubGluZTtcbiAgICAgIGlmIChyYW5nZS50bygpLmNoID09IDAgJiYgIXJhbmdlLmVtcHR5KCkpIGZyb20tLTtcbiAgICAgIGlmIChmcm9tIDwgYXQpIGxpbmVzVG9Nb3ZlLnB1c2goZnJvbSwgdG8pO1xuICAgICAgZWxzZSBpZiAobGluZXNUb01vdmUubGVuZ3RoKSBsaW5lc1RvTW92ZVtsaW5lc1RvTW92ZS5sZW5ndGggLSAxXSA9IHRvO1xuICAgICAgYXQgPSB0bztcbiAgICB9XG4gICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgaSA9IGxpbmVzVG9Nb3ZlLmxlbmd0aCAtIDI7IGkgPj0gMDsgaSAtPSAyKSB7XG4gICAgICAgIHZhciBmcm9tID0gbGluZXNUb01vdmVbaV0sIHRvID0gbGluZXNUb01vdmVbaSArIDFdO1xuICAgICAgICB2YXIgbGluZSA9IGNtLmdldExpbmUoZnJvbSk7XG4gICAgICAgIGlmIChmcm9tID09IGNtLmxhc3RMaW5lKCkpXG4gICAgICAgICAgY20ucmVwbGFjZVJhbmdlKFwiXCIsIFBvcyhmcm9tIC0gMSksIFBvcyhmcm9tKSwgXCIrc3dhcExpbmVcIik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoXCJcIiwgUG9zKGZyb20sIDApLCBQb3MoZnJvbSArIDEsIDApLCBcIitzd2FwTGluZVwiKTtcbiAgICAgICAgY20ucmVwbGFjZVJhbmdlKGxpbmUgKyBcIlxcblwiLCBQb3ModG8sIDApLCBudWxsLCBcIitzd2FwTGluZVwiKTtcbiAgICAgIH1cbiAgICAgIGNtLnNjcm9sbEludG9WaWV3KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY21kc1ttYXBbY3RybCArIFwiL1wiXSA9IFwidG9nZ2xlQ29tbWVudEluZGVudGVkXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICBjbS50b2dnbGVDb21tZW50KHsgaW5kZW50OiB0cnVlIH0pO1xuICB9XG5cbiAgY21kc1ttYXBbY3RybCArIFwiSlwiXSA9IFwiam9pbkxpbmVzXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICB2YXIgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKSwgam9pbmVkID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXSwgZnJvbSA9IHJhbmdlLmZyb20oKTtcbiAgICAgIHZhciBzdGFydCA9IGZyb20ubGluZSwgZW5kID0gcmFuZ2UudG8oKS5saW5lO1xuICAgICAgd2hpbGUgKGkgPCByYW5nZXMubGVuZ3RoIC0gMSAmJiByYW5nZXNbaSArIDFdLmZyb20oKS5saW5lID09IGVuZClcbiAgICAgICAgZW5kID0gcmFuZ2VzWysraV0udG8oKS5saW5lO1xuICAgICAgam9pbmVkLnB1c2goe3N0YXJ0OiBzdGFydCwgZW5kOiBlbmQsIGFuY2hvcjogIXJhbmdlLmVtcHR5KCkgJiYgZnJvbX0pO1xuICAgIH1cbiAgICBjbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgcmFuZ2VzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpvaW5lZC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb2JqID0gam9pbmVkW2ldO1xuICAgICAgICB2YXIgYW5jaG9yID0gb2JqLmFuY2hvciAmJiBQb3Mob2JqLmFuY2hvci5saW5lIC0gb2Zmc2V0LCBvYmouYW5jaG9yLmNoKSwgaGVhZDtcbiAgICAgICAgZm9yICh2YXIgbGluZSA9IG9iai5zdGFydDsgbGluZSA8PSBvYmouZW5kOyBsaW5lKyspIHtcbiAgICAgICAgICB2YXIgYWN0dWFsID0gbGluZSAtIG9mZnNldDtcbiAgICAgICAgICBpZiAobGluZSA9PSBvYmouZW5kKSBoZWFkID0gUG9zKGFjdHVhbCwgY20uZ2V0TGluZShhY3R1YWwpLmxlbmd0aCArIDEpO1xuICAgICAgICAgIGlmIChhY3R1YWwgPCBjbS5sYXN0TGluZSgpKSB7XG4gICAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoXCIgXCIsIFBvcyhhY3R1YWwpLCBQb3MoYWN0dWFsICsgMSwgL15cXHMqLy5leGVjKGNtLmdldExpbmUoYWN0dWFsICsgMSkpWzBdLmxlbmd0aCkpO1xuICAgICAgICAgICAgKytvZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJhbmdlcy5wdXNoKHthbmNob3I6IGFuY2hvciB8fCBoZWFkLCBoZWFkOiBoZWFkfSk7XG4gICAgICB9XG4gICAgICBjbS5zZXRTZWxlY3Rpb25zKHJhbmdlcywgMCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY21kc1ttYXBbXCJTaGlmdC1cIiArIGN0cmwgKyBcIkRcIl0gPSBcImR1cGxpY2F0ZUxpbmVcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIGNtLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIHZhciByYW5nZUNvdW50ID0gY20ubGlzdFNlbGVjdGlvbnMoKS5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlQ291bnQ7IGkrKykge1xuICAgICAgICB2YXIgcmFuZ2UgPSBjbS5saXN0U2VsZWN0aW9ucygpW2ldO1xuICAgICAgICBpZiAocmFuZ2UuZW1wdHkoKSlcbiAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoY20uZ2V0TGluZShyYW5nZS5oZWFkLmxpbmUpICsgXCJcXG5cIiwgUG9zKHJhbmdlLmhlYWQubGluZSwgMCkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgY20ucmVwbGFjZVJhbmdlKGNtLmdldFJhbmdlKHJhbmdlLmZyb20oKSwgcmFuZ2UudG8oKSksIHJhbmdlLmZyb20oKSk7XG4gICAgICB9XG4gICAgICBjbS5zY3JvbGxJbnRvVmlldygpO1xuICAgIH0pO1xuICB9O1xuXG4gIG1hcFtjdHJsICsgXCJUXCJdID0gXCJ0cmFuc3Bvc2VDaGFyc1wiO1xuXG4gIGZ1bmN0aW9uIHNvcnRMaW5lcyhjbSwgY2FzZVNlbnNpdGl2ZSkge1xuICAgIGlmIChjbS5pc1JlYWRPbmx5KCkpIHJldHVybiBDb2RlTWlycm9yLlBhc3NcbiAgICB2YXIgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKSwgdG9Tb3J0ID0gW10sIHNlbGVjdGVkO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICBpZiAocmFuZ2UuZW1wdHkoKSkgY29udGludWU7XG4gICAgICB2YXIgZnJvbSA9IHJhbmdlLmZyb20oKS5saW5lLCB0byA9IHJhbmdlLnRvKCkubGluZTtcbiAgICAgIHdoaWxlIChpIDwgcmFuZ2VzLmxlbmd0aCAtIDEgJiYgcmFuZ2VzW2kgKyAxXS5mcm9tKCkubGluZSA9PSB0bylcbiAgICAgICAgdG8gPSByYW5nZVsrK2ldLnRvKCkubGluZTtcbiAgICAgIHRvU29ydC5wdXNoKGZyb20sIHRvKTtcbiAgICB9XG4gICAgaWYgKHRvU29ydC5sZW5ndGgpIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICBlbHNlIHRvU29ydC5wdXNoKGNtLmZpcnN0TGluZSgpLCBjbS5sYXN0TGluZSgpKTtcblxuICAgIGNtLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIHZhciByYW5nZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9Tb3J0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIHZhciBmcm9tID0gdG9Tb3J0W2ldLCB0byA9IHRvU29ydFtpICsgMV07XG4gICAgICAgIHZhciBzdGFydCA9IFBvcyhmcm9tLCAwKSwgZW5kID0gUG9zKHRvKTtcbiAgICAgICAgdmFyIGxpbmVzID0gY20uZ2V0UmFuZ2Uoc3RhcnQsIGVuZCwgZmFsc2UpO1xuICAgICAgICBpZiAoY2FzZVNlbnNpdGl2ZSlcbiAgICAgICAgICBsaW5lcy5zb3J0KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBsaW5lcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciBhdSA9IGEudG9VcHBlckNhc2UoKSwgYnUgPSBiLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoYXUgIT0gYnUpIHsgYSA9IGF1OyBiID0gYnU7IH1cbiAgICAgICAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogYSA9PSBiID8gMCA6IDE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGNtLnJlcGxhY2VSYW5nZShsaW5lcywgc3RhcnQsIGVuZCk7XG4gICAgICAgIGlmIChzZWxlY3RlZCkgcmFuZ2VzLnB1c2goe2FuY2hvcjogc3RhcnQsIGhlYWQ6IGVuZH0pO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdGVkKSBjbS5zZXRTZWxlY3Rpb25zKHJhbmdlcywgMCk7XG4gICAgfSk7XG4gIH1cblxuICBjbWRzW21hcFtcIkY5XCJdID0gXCJzb3J0TGluZXNcIl0gPSBmdW5jdGlvbihjbSkgeyBzb3J0TGluZXMoY20sIHRydWUpOyB9O1xuICBjbWRzW21hcFtjdHJsICsgXCJGOVwiXSA9IFwic29ydExpbmVzSW5zZW5zaXRpdmVcIl0gPSBmdW5jdGlvbihjbSkgeyBzb3J0TGluZXMoY20sIGZhbHNlKTsgfTtcblxuICBjbWRzW21hcFtcIkYyXCJdID0gXCJuZXh0Qm9va21hcmtcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciBtYXJrcyA9IGNtLnN0YXRlLnN1YmxpbWVCb29rbWFya3M7XG4gICAgaWYgKG1hcmtzKSB3aGlsZSAobWFya3MubGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IG1hcmtzLnNoaWZ0KCk7XG4gICAgICB2YXIgZm91bmQgPSBjdXJyZW50LmZpbmQoKTtcbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICBtYXJrcy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICByZXR1cm4gY20uc2V0U2VsZWN0aW9uKGZvdW5kLmZyb20sIGZvdW5kLnRvKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY21kc1ttYXBbXCJTaGlmdC1GMlwiXSA9IFwicHJldkJvb2ttYXJrXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICB2YXIgbWFya3MgPSBjbS5zdGF0ZS5zdWJsaW1lQm9va21hcmtzO1xuICAgIGlmIChtYXJrcykgd2hpbGUgKG1hcmtzLmxlbmd0aCkge1xuICAgICAgbWFya3MudW5zaGlmdChtYXJrcy5wb3AoKSk7XG4gICAgICB2YXIgZm91bmQgPSBtYXJrc1ttYXJrcy5sZW5ndGggLSAxXS5maW5kKCk7XG4gICAgICBpZiAoIWZvdW5kKVxuICAgICAgICBtYXJrcy5wb3AoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGNtLnNldFNlbGVjdGlvbihmb3VuZC5mcm9tLCBmb3VuZC50byk7XG4gICAgfVxuICB9O1xuXG4gIGNtZHNbbWFwW2N0cmwgKyBcIkYyXCJdID0gXCJ0b2dnbGVCb29rbWFya1wiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCk7XG4gICAgdmFyIG1hcmtzID0gY20uc3RhdGUuc3VibGltZUJvb2ttYXJrcyB8fCAoY20uc3RhdGUuc3VibGltZUJvb2ttYXJrcyA9IFtdKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGZyb20gPSByYW5nZXNbaV0uZnJvbSgpLCB0byA9IHJhbmdlc1tpXS50bygpO1xuICAgICAgdmFyIGZvdW5kID0gY20uZmluZE1hcmtzKGZyb20sIHRvKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZm91bmQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKGZvdW5kW2pdLnN1YmxpbWVCb29rbWFyaykge1xuICAgICAgICAgIGZvdW5kW2pdLmNsZWFyKCk7XG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBtYXJrcy5sZW5ndGg7IGsrKylcbiAgICAgICAgICAgIGlmIChtYXJrc1trXSA9PSBmb3VuZFtqXSlcbiAgICAgICAgICAgICAgbWFya3Muc3BsaWNlKGstLSwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChqID09IGZvdW5kLmxlbmd0aClcbiAgICAgICAgbWFya3MucHVzaChjbS5tYXJrVGV4dChmcm9tLCB0bywge3N1YmxpbWVCb29rbWFyazogdHJ1ZSwgY2xlYXJXaGVuRW1wdHk6IGZhbHNlfSkpO1xuICAgIH1cbiAgfTtcblxuICBjbWRzW21hcFtcIlNoaWZ0LVwiICsgY3RybCArIFwiRjJcIl0gPSBcImNsZWFyQm9va21hcmtzXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICB2YXIgbWFya3MgPSBjbS5zdGF0ZS5zdWJsaW1lQm9va21hcmtzO1xuICAgIGlmIChtYXJrcykgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykgbWFya3NbaV0uY2xlYXIoKTtcbiAgICBtYXJrcy5sZW5ndGggPSAwO1xuICB9O1xuXG4gIGNtZHNbbWFwW1wiQWx0LUYyXCJdID0gXCJzZWxlY3RCb29rbWFya3NcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciBtYXJrcyA9IGNtLnN0YXRlLnN1YmxpbWVCb29rbWFya3MsIHJhbmdlcyA9IFtdO1xuICAgIGlmIChtYXJrcykgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGZvdW5kID0gbWFya3NbaV0uZmluZCgpO1xuICAgICAgaWYgKCFmb3VuZClcbiAgICAgICAgbWFya3Muc3BsaWNlKGktLSwgMCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJhbmdlcy5wdXNoKHthbmNob3I6IGZvdW5kLmZyb20sIGhlYWQ6IGZvdW5kLnRvfSk7XG4gICAgfVxuICAgIGlmIChyYW5nZXMubGVuZ3RoKVxuICAgICAgY20uc2V0U2VsZWN0aW9ucyhyYW5nZXMsIDApO1xuICB9O1xuXG4gIG1hcFtcIkFsdC1RXCJdID0gXCJ3cmFwTGluZXNcIjtcblxuICB2YXIgY0sgPSBjdHJsICsgXCJLIFwiO1xuXG4gIGZ1bmN0aW9uIG1vZGlmeVdvcmRPclNlbGVjdGlvbihjbSwgbW9kKSB7XG4gICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIGluZGljZXMgPSBbXSwgcmVwbGFjZW1lbnRzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSgpKSB7IGluZGljZXMucHVzaChpKTsgcmVwbGFjZW1lbnRzLnB1c2goXCJcIik7IH1cbiAgICAgICAgZWxzZSByZXBsYWNlbWVudHMucHVzaChtb2QoY20uZ2V0UmFuZ2UocmFuZ2UuZnJvbSgpLCByYW5nZS50bygpKSkpO1xuICAgICAgfVxuICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbnMocmVwbGFjZW1lbnRzLCBcImFyb3VuZFwiLCBcImNhc2VcIik7XG4gICAgICBmb3IgKHZhciBpID0gaW5kaWNlcy5sZW5ndGggLSAxLCBhdDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2luZGljZXNbaV1dO1xuICAgICAgICBpZiAoYXQgJiYgQ29kZU1pcnJvci5jbXBQb3MocmFuZ2UuaGVhZCwgYXQpID4gMCkgY29udGludWU7XG4gICAgICAgIHZhciB3b3JkID0gd29yZEF0KGNtLCByYW5nZS5oZWFkKTtcbiAgICAgICAgYXQgPSB3b3JkLmZyb207XG4gICAgICAgIGNtLnJlcGxhY2VSYW5nZShtb2Qod29yZC53b3JkKSwgd29yZC5mcm9tLCB3b3JkLnRvKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG1hcFtjSyArIGN0cmwgKyBcIkJhY2tzcGFjZVwiXSA9IFwiZGVsTGluZUxlZnRcIjtcblxuICBjbWRzW21hcFtjSyArIGN0cmwgKyBcIktcIl0gPSBcImRlbExpbmVSaWdodFwiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCk7XG4gICAgICBmb3IgKHZhciBpID0gcmFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoXCJcIiwgcmFuZ2VzW2ldLmFuY2hvciwgUG9zKHJhbmdlc1tpXS50bygpLmxpbmUpLCBcIitkZWxldGVcIik7XG4gICAgICBjbS5zY3JvbGxJbnRvVmlldygpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNtZHNbbWFwW2NLICsgY3RybCArIFwiVVwiXSA9IFwidXBjYXNlQXRDdXJzb3JcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIG1vZGlmeVdvcmRPclNlbGVjdGlvbihjbSwgZnVuY3Rpb24oc3RyKSB7IHJldHVybiBzdHIudG9VcHBlckNhc2UoKTsgfSk7XG4gIH07XG4gIGNtZHNbbWFwW2NLICsgY3RybCArIFwiTFwiXSA9IFwiZG93bmNhc2VBdEN1cnNvclwiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgbW9kaWZ5V29yZE9yU2VsZWN0aW9uKGNtLCBmdW5jdGlvbihzdHIpIHsgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgfTtcblxuICBjbWRzW21hcFtjSyArIGN0cmwgKyBcIlNwYWNlXCJdID0gXCJzZXRTdWJsaW1lTWFya1wiXSA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgaWYgKGNtLnN0YXRlLnN1YmxpbWVNYXJrKSBjbS5zdGF0ZS5zdWJsaW1lTWFyay5jbGVhcigpO1xuICAgIGNtLnN0YXRlLnN1YmxpbWVNYXJrID0gY20uc2V0Qm9va21hcmsoY20uZ2V0Q3Vyc29yKCkpO1xuICB9O1xuICBjbWRzW21hcFtjSyArIGN0cmwgKyBcIkFcIl0gPSBcInNlbGVjdFRvU3VibGltZU1hcmtcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciBmb3VuZCA9IGNtLnN0YXRlLnN1YmxpbWVNYXJrICYmIGNtLnN0YXRlLnN1YmxpbWVNYXJrLmZpbmQoKTtcbiAgICBpZiAoZm91bmQpIGNtLnNldFNlbGVjdGlvbihjbS5nZXRDdXJzb3IoKSwgZm91bmQpO1xuICB9O1xuICBjbWRzW21hcFtjSyArIGN0cmwgKyBcIldcIl0gPSBcImRlbGV0ZVRvU3VibGltZU1hcmtcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciBmb3VuZCA9IGNtLnN0YXRlLnN1YmxpbWVNYXJrICYmIGNtLnN0YXRlLnN1YmxpbWVNYXJrLmZpbmQoKTtcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgIHZhciBmcm9tID0gY20uZ2V0Q3Vyc29yKCksIHRvID0gZm91bmQ7XG4gICAgICBpZiAoQ29kZU1pcnJvci5jbXBQb3MoZnJvbSwgdG8pID4gMCkgeyB2YXIgdG1wID0gdG87IHRvID0gZnJvbTsgZnJvbSA9IHRtcDsgfVxuICAgICAgY20uc3RhdGUuc3VibGltZUtpbGxlZCA9IGNtLmdldFJhbmdlKGZyb20sIHRvKTtcbiAgICAgIGNtLnJlcGxhY2VSYW5nZShcIlwiLCBmcm9tLCB0byk7XG4gICAgfVxuICB9O1xuICBjbWRzW21hcFtjSyArIGN0cmwgKyBcIlhcIl0gPSBcInN3YXBXaXRoU3VibGltZU1hcmtcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciBmb3VuZCA9IGNtLnN0YXRlLnN1YmxpbWVNYXJrICYmIGNtLnN0YXRlLnN1YmxpbWVNYXJrLmZpbmQoKTtcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgIGNtLnN0YXRlLnN1YmxpbWVNYXJrLmNsZWFyKCk7XG4gICAgICBjbS5zdGF0ZS5zdWJsaW1lTWFyayA9IGNtLnNldEJvb2ttYXJrKGNtLmdldEN1cnNvcigpKTtcbiAgICAgIGNtLnNldEN1cnNvcihmb3VuZCk7XG4gICAgfVxuICB9O1xuICBjbWRzW21hcFtjSyArIGN0cmwgKyBcIllcIl0gPSBcInN1YmxpbWVZYW5rXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICBpZiAoY20uc3RhdGUuc3VibGltZUtpbGxlZCAhPSBudWxsKVxuICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbihjbS5zdGF0ZS5zdWJsaW1lS2lsbGVkLCBudWxsLCBcInBhc3RlXCIpO1xuICB9O1xuXG4gIG1hcFtjSyArIGN0cmwgKyBcIkdcIl0gPSBcImNsZWFyQm9va21hcmtzXCI7XG4gIGNtZHNbbWFwW2NLICsgY3RybCArIFwiQ1wiXSA9IFwic2hvd0luQ2VudGVyXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICB2YXIgcG9zID0gY20uY3Vyc29yQ29vcmRzKG51bGwsIFwibG9jYWxcIik7XG4gICAgY20uc2Nyb2xsVG8obnVsbCwgKHBvcy50b3AgKyBwb3MuYm90dG9tKSAvIDIgLSBjbS5nZXRTY3JvbGxJbmZvKCkuY2xpZW50SGVpZ2h0IC8gMik7XG4gIH07XG5cbiAgY21kc1ttYXBbXCJTaGlmdC1BbHQtVXBcIl0gPSBcInNlbGVjdExpbmVzVXB3YXJkXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICBjbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgaWYgKHJhbmdlLmhlYWQubGluZSA+IGNtLmZpcnN0TGluZSgpKVxuICAgICAgICAgIGNtLmFkZFNlbGVjdGlvbihQb3MocmFuZ2UuaGVhZC5saW5lIC0gMSwgcmFuZ2UuaGVhZC5jaCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBjbWRzW21hcFtcIlNoaWZ0LUFsdC1Eb3duXCJdID0gXCJzZWxlY3RMaW5lc0Rvd253YXJkXCJdID0gZnVuY3Rpb24oY20pIHtcbiAgICBjbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgaWYgKHJhbmdlLmhlYWQubGluZSA8IGNtLmxhc3RMaW5lKCkpXG4gICAgICAgICAgY20uYWRkU2VsZWN0aW9uKFBvcyhyYW5nZS5oZWFkLmxpbmUgKyAxLCByYW5nZS5oZWFkLmNoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0VGFyZ2V0KGNtKSB7XG4gICAgdmFyIGZyb20gPSBjbS5nZXRDdXJzb3IoXCJmcm9tXCIpLCB0byA9IGNtLmdldEN1cnNvcihcInRvXCIpO1xuICAgIGlmIChDb2RlTWlycm9yLmNtcFBvcyhmcm9tLCB0bykgPT0gMCkge1xuICAgICAgdmFyIHdvcmQgPSB3b3JkQXQoY20sIGZyb20pO1xuICAgICAgaWYgKCF3b3JkLndvcmQpIHJldHVybjtcbiAgICAgIGZyb20gPSB3b3JkLmZyb207XG4gICAgICB0byA9IHdvcmQudG87XG4gICAgfVxuICAgIHJldHVybiB7ZnJvbTogZnJvbSwgdG86IHRvLCBxdWVyeTogY20uZ2V0UmFuZ2UoZnJvbSwgdG8pLCB3b3JkOiB3b3JkfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRBbmRHb1RvKGNtLCBmb3J3YXJkKSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChjbSk7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybjtcbiAgICB2YXIgcXVlcnkgPSB0YXJnZXQucXVlcnk7XG4gICAgdmFyIGN1ciA9IGNtLmdldFNlYXJjaEN1cnNvcihxdWVyeSwgZm9yd2FyZCA/IHRhcmdldC50byA6IHRhcmdldC5mcm9tKTtcblxuICAgIGlmIChmb3J3YXJkID8gY3VyLmZpbmROZXh0KCkgOiBjdXIuZmluZFByZXZpb3VzKCkpIHtcbiAgICAgIGNtLnNldFNlbGVjdGlvbihjdXIuZnJvbSgpLCBjdXIudG8oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1ciA9IGNtLmdldFNlYXJjaEN1cnNvcihxdWVyeSwgZm9yd2FyZCA/IFBvcyhjbS5maXJzdExpbmUoKSwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNtLmNsaXBQb3MoUG9zKGNtLmxhc3RMaW5lKCkpKSk7XG4gICAgICBpZiAoZm9yd2FyZCA/IGN1ci5maW5kTmV4dCgpIDogY3VyLmZpbmRQcmV2aW91cygpKVxuICAgICAgICBjbS5zZXRTZWxlY3Rpb24oY3VyLmZyb20oKSwgY3VyLnRvKCkpO1xuICAgICAgZWxzZSBpZiAodGFyZ2V0LndvcmQpXG4gICAgICAgIGNtLnNldFNlbGVjdGlvbih0YXJnZXQuZnJvbSwgdGFyZ2V0LnRvKTtcbiAgICB9XG4gIH07XG4gIGNtZHNbbWFwW2N0cmwgKyBcIkYzXCJdID0gXCJmaW5kVW5kZXJcIl0gPSBmdW5jdGlvbihjbSkgeyBmaW5kQW5kR29UbyhjbSwgdHJ1ZSk7IH07XG4gIGNtZHNbbWFwW1wiU2hpZnQtXCIgKyBjdHJsICsgXCJGM1wiXSA9IFwiZmluZFVuZGVyUHJldmlvdXNcIl0gPSBmdW5jdGlvbihjbSkgeyBmaW5kQW5kR29UbyhjbSxmYWxzZSk7IH07XG4gIGNtZHNbbWFwW1wiQWx0LUYzXCJdID0gXCJmaW5kQWxsVW5kZXJcIl0gPSBmdW5jdGlvbihjbSkge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoY20pO1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgdmFyIGN1ciA9IGNtLmdldFNlYXJjaEN1cnNvcih0YXJnZXQucXVlcnkpO1xuICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgdmFyIHByaW1hcnlJbmRleCA9IC0xO1xuICAgIHdoaWxlIChjdXIuZmluZE5leHQoKSkge1xuICAgICAgbWF0Y2hlcy5wdXNoKHthbmNob3I6IGN1ci5mcm9tKCksIGhlYWQ6IGN1ci50bygpfSk7XG4gICAgICBpZiAoY3VyLmZyb20oKS5saW5lIDw9IHRhcmdldC5mcm9tLmxpbmUgJiYgY3VyLmZyb20oKS5jaCA8PSB0YXJnZXQuZnJvbS5jaClcbiAgICAgICAgcHJpbWFyeUluZGV4Kys7XG4gICAgfVxuICAgIGNtLnNldFNlbGVjdGlvbnMobWF0Y2hlcywgcHJpbWFyeUluZGV4KTtcbiAgfTtcblxuICBtYXBbXCJTaGlmdC1cIiArIGN0cmwgKyBcIltcIl0gPSBcImZvbGRcIjtcbiAgbWFwW1wiU2hpZnQtXCIgKyBjdHJsICsgXCJdXCJdID0gXCJ1bmZvbGRcIjtcbiAgbWFwW2NLICsgY3RybCArIFwiMFwiXSA9IG1hcFtjSyArIGN0cmwgKyBcImpcIl0gPSBcInVuZm9sZEFsbFwiO1xuXG4gIG1hcFtjdHJsICsgXCJJXCJdID0gXCJmaW5kSW5jcmVtZW50YWxcIjtcbiAgbWFwW1wiU2hpZnQtXCIgKyBjdHJsICsgXCJJXCJdID0gXCJmaW5kSW5jcmVtZW50YWxSZXZlcnNlXCI7XG4gIG1hcFtjdHJsICsgXCJIXCJdID0gXCJyZXBsYWNlXCI7XG4gIG1hcFtcIkYzXCJdID0gXCJmaW5kTmV4dFwiO1xuICBtYXBbXCJTaGlmdC1GM1wiXSA9IFwiZmluZFByZXZcIjtcblxuICBDb2RlTWlycm9yLm5vcm1hbGl6ZUtleU1hcChtYXApO1xufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbi8vIFRoaXMgaXMgQ29kZU1pcnJvciAoaHR0cDovL2NvZGVtaXJyb3IubmV0KSwgYSBjb2RlIGVkaXRvclxuLy8gaW1wbGVtZW50ZWQgaW4gSmF2YVNjcmlwdCBvbiB0b3Agb2YgdGhlIGJyb3dzZXIncyBET00uXG4vL1xuLy8gWW91IGNhbiBmaW5kIHNvbWUgdGVjaG5pY2FsIGJhY2tncm91bmQgZm9yIHNvbWUgb2YgdGhlIGNvZGUgYmVsb3dcbi8vIGF0IGh0dHA6Ly9tYXJpam5oYXZlcmJla2UubmwvYmxvZy8jY20taW50ZXJuYWxzIC5cblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBtb2QoKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgcmV0dXJuIGRlZmluZShbXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgICh0aGlzIHx8IHdpbmRvdykuQ29kZU1pcnJvciA9IG1vZCgpO1xufSkoZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIEJST1dTRVIgU05JRkZJTkdcblxuICAvLyBLbHVkZ2VzIGZvciBidWdzIGFuZCBiZWhhdmlvciBkaWZmZXJlbmNlcyB0aGF0IGNhbid0IGJlIGZlYXR1cmVcbiAgLy8gZGV0ZWN0ZWQgYXJlIGVuYWJsZWQgYmFzZWQgb24gdXNlckFnZW50IGV0YyBzbmlmZmluZy5cbiAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHZhciBwbGF0Zm9ybSA9IG5hdmlnYXRvci5wbGF0Zm9ybTtcblxuICB2YXIgZ2Vja28gPSAvZ2Vja29cXC9cXGQvaS50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBpZV91cHRvMTAgPSAvTVNJRSBcXGQvLnRlc3QodXNlckFnZW50KTtcbiAgdmFyIGllXzExdXAgPSAvVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWModXNlckFnZW50KTtcbiAgdmFyIGllID0gaWVfdXB0bzEwIHx8IGllXzExdXA7XG4gIHZhciBpZV92ZXJzaW9uID0gaWUgJiYgKGllX3VwdG8xMCA/IGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCA2IDogaWVfMTF1cFsxXSk7XG4gIHZhciB3ZWJraXQgPSAvV2ViS2l0XFwvLy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBxdHdlYmtpdCA9IHdlYmtpdCAmJiAvUXRcXC9cXGQrXFwuXFxkKy8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgY2hyb21lID0gL0Nocm9tZVxcLy8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgcHJlc3RvID0gL09wZXJhXFwvLy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBzYWZhcmkgPSAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcik7XG4gIHZhciBtYWNfZ2VNb3VudGFpbkxpb24gPSAvTWFjIE9TIFggMVxcZFxcRChbOC05XXxcXGRcXGQpXFxELy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBwaGFudG9tID0gL1BoYW50b21KUy8udGVzdCh1c2VyQWdlbnQpO1xuXG4gIHZhciBpb3MgPSAvQXBwbGVXZWJLaXQvLnRlc3QodXNlckFnZW50KSAmJiAvTW9iaWxlXFwvXFx3Ky8udGVzdCh1c2VyQWdlbnQpO1xuICAvLyBUaGlzIGlzIHdvZWZ1bGx5IGluY29tcGxldGUuIFN1Z2dlc3Rpb25zIGZvciBhbHRlcm5hdGl2ZSBtZXRob2RzIHdlbGNvbWUuXG4gIHZhciBtb2JpbGUgPSBpb3MgfHwgL0FuZHJvaWR8d2ViT1N8QmxhY2tCZXJyeXxPcGVyYSBNaW5pfE9wZXJhIE1vYml8SUVNb2JpbGUvaS50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBtYWMgPSBpb3MgfHwgL01hYy8udGVzdChwbGF0Zm9ybSk7XG4gIHZhciBjaHJvbWVPUyA9IC9cXGJDck9TXFxiLy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciB3aW5kb3dzID0gL3dpbi9pLnRlc3QocGxhdGZvcm0pO1xuXG4gIHZhciBwcmVzdG9fdmVyc2lvbiA9IHByZXN0byAmJiB1c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cXC8oXFxkKlxcLlxcZCopLyk7XG4gIGlmIChwcmVzdG9fdmVyc2lvbikgcHJlc3RvX3ZlcnNpb24gPSBOdW1iZXIocHJlc3RvX3ZlcnNpb25bMV0pO1xuICBpZiAocHJlc3RvX3ZlcnNpb24gJiYgcHJlc3RvX3ZlcnNpb24gPj0gMTUpIHsgcHJlc3RvID0gZmFsc2U7IHdlYmtpdCA9IHRydWU7IH1cbiAgLy8gU29tZSBicm93c2VycyB1c2UgdGhlIHdyb25nIGV2ZW50IHByb3BlcnRpZXMgdG8gc2lnbmFsIGNtZC9jdHJsIG9uIE9TIFhcbiAgdmFyIGZsaXBDdHJsQ21kID0gbWFjICYmIChxdHdlYmtpdCB8fCBwcmVzdG8gJiYgKHByZXN0b192ZXJzaW9uID09IG51bGwgfHwgcHJlc3RvX3ZlcnNpb24gPCAxMi4xMSkpO1xuICB2YXIgY2FwdHVyZVJpZ2h0Q2xpY2sgPSBnZWNrbyB8fCAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KTtcblxuICAvLyBPcHRpbWl6ZSBzb21lIGNvZGUgd2hlbiB0aGVzZSBmZWF0dXJlcyBhcmUgbm90IHVzZWQuXG4gIHZhciBzYXdSZWFkT25seVNwYW5zID0gZmFsc2UsIHNhd0NvbGxhcHNlZFNwYW5zID0gZmFsc2U7XG5cbiAgLy8gRURJVE9SIENPTlNUUlVDVE9SXG5cbiAgLy8gQSBDb2RlTWlycm9yIGluc3RhbmNlIHJlcHJlc2VudHMgYW4gZWRpdG9yLiBUaGlzIGlzIHRoZSBvYmplY3RcbiAgLy8gdGhhdCB1c2VyIGNvZGUgaXMgdXN1YWxseSBkZWFsaW5nIHdpdGguXG5cbiAgZnVuY3Rpb24gQ29kZU1pcnJvcihwbGFjZSwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb2RlTWlycm9yKSkgcmV0dXJuIG5ldyBDb2RlTWlycm9yKHBsYWNlLCBvcHRpb25zKTtcblxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgPSBvcHRpb25zID8gY29weU9iaihvcHRpb25zKSA6IHt9O1xuICAgIC8vIERldGVybWluZSBlZmZlY3RpdmUgb3B0aW9ucyBiYXNlZCBvbiBnaXZlbiB2YWx1ZXMgYW5kIGRlZmF1bHRzLlxuICAgIGNvcHlPYmooZGVmYXVsdHMsIG9wdGlvbnMsIGZhbHNlKTtcbiAgICBzZXRHdXR0ZXJzRm9yTGluZU51bWJlcnMob3B0aW9ucyk7XG5cbiAgICB2YXIgZG9jID0gb3B0aW9ucy52YWx1ZTtcbiAgICBpZiAodHlwZW9mIGRvYyA9PSBcInN0cmluZ1wiKSBkb2MgPSBuZXcgRG9jKGRvYywgb3B0aW9ucy5tb2RlLCBudWxsLCBvcHRpb25zLmxpbmVTZXBhcmF0b3IpO1xuICAgIHRoaXMuZG9jID0gZG9jO1xuXG4gICAgdmFyIGlucHV0ID0gbmV3IENvZGVNaXJyb3IuaW5wdXRTdHlsZXNbb3B0aW9ucy5pbnB1dFN0eWxlXSh0aGlzKTtcbiAgICB2YXIgZGlzcGxheSA9IHRoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KHBsYWNlLCBkb2MsIGlucHV0KTtcbiAgICBkaXNwbGF5LndyYXBwZXIuQ29kZU1pcnJvciA9IHRoaXM7XG4gICAgdXBkYXRlR3V0dGVycyh0aGlzKTtcbiAgICB0aGVtZUNoYW5nZWQodGhpcyk7XG4gICAgaWYgKG9wdGlvbnMubGluZVdyYXBwaW5nKVxuICAgICAgdGhpcy5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lICs9IFwiIENvZGVNaXJyb3Itd3JhcFwiO1xuICAgIGlmIChvcHRpb25zLmF1dG9mb2N1cyAmJiAhbW9iaWxlKSBkaXNwbGF5LmlucHV0LmZvY3VzKCk7XG4gICAgaW5pdFNjcm9sbGJhcnModGhpcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAga2V5TWFwczogW10sICAvLyBzdG9yZXMgbWFwcyBhZGRlZCBieSBhZGRLZXlNYXBcbiAgICAgIG92ZXJsYXlzOiBbXSwgLy8gaGlnaGxpZ2h0aW5nIG92ZXJsYXlzLCBhcyBhZGRlZCBieSBhZGRPdmVybGF5XG4gICAgICBtb2RlR2VuOiAwLCAgIC8vIGJ1bXBlZCB3aGVuIG1vZGUvb3ZlcmxheSBjaGFuZ2VzLCB1c2VkIHRvIGludmFsaWRhdGUgaGlnaGxpZ2h0aW5nIGluZm9cbiAgICAgIG92ZXJ3cml0ZTogZmFsc2UsXG4gICAgICBkZWxheWluZ0JsdXJFdmVudDogZmFsc2UsXG4gICAgICBmb2N1c2VkOiBmYWxzZSxcbiAgICAgIHN1cHByZXNzRWRpdHM6IGZhbHNlLCAvLyB1c2VkIHRvIGRpc2FibGUgZWRpdGluZyBkdXJpbmcga2V5IGhhbmRsZXJzIHdoZW4gaW4gcmVhZE9ubHkgbW9kZVxuICAgICAgcGFzdGVJbmNvbWluZzogZmFsc2UsIGN1dEluY29taW5nOiBmYWxzZSwgLy8gaGVscCByZWNvZ25pemUgcGFzdGUvY3V0IGVkaXRzIGluIGlucHV0LnBvbGxcbiAgICAgIHNlbGVjdGluZ1RleHQ6IGZhbHNlLFxuICAgICAgZHJhZ2dpbmdUZXh0OiBmYWxzZSxcbiAgICAgIGhpZ2hsaWdodDogbmV3IERlbGF5ZWQoKSwgLy8gc3RvcmVzIGhpZ2hsaWdodCB3b3JrZXIgdGltZW91dFxuICAgICAga2V5U2VxOiBudWxsLCAgLy8gVW5maW5pc2hlZCBrZXkgc2VxdWVuY2VcbiAgICAgIHNwZWNpYWxDaGFyczogbnVsbFxuICAgIH07XG5cbiAgICB2YXIgY20gPSB0aGlzO1xuXG4gICAgLy8gT3ZlcnJpZGUgbWFnaWMgdGV4dGFyZWEgY29udGVudCByZXN0b3JlIHRoYXQgSUUgc29tZXRpbWVzIGRvZXNcbiAgICAvLyBvbiBvdXIgaGlkZGVuIHRleHRhcmVhIG9uIHJlbG9hZFxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNtLmRpc3BsYXkuaW5wdXQucmVzZXQodHJ1ZSk7IH0sIDIwKTtcblxuICAgIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyh0aGlzKTtcbiAgICBlbnN1cmVHbG9iYWxIYW5kbGVycygpO1xuXG4gICAgc3RhcnRPcGVyYXRpb24odGhpcyk7XG4gICAgdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgYXR0YWNoRG9jKHRoaXMsIGRvYyk7XG5cbiAgICBpZiAoKG9wdGlvbnMuYXV0b2ZvY3VzICYmICFtb2JpbGUpIHx8IGNtLmhhc0ZvY3VzKCkpXG4gICAgICBzZXRUaW1lb3V0KGJpbmQob25Gb2N1cywgdGhpcyksIDIwKTtcbiAgICBlbHNlXG4gICAgICBvbkJsdXIodGhpcyk7XG5cbiAgICBmb3IgKHZhciBvcHQgaW4gb3B0aW9uSGFuZGxlcnMpIGlmIChvcHRpb25IYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShvcHQpKVxuICAgICAgb3B0aW9uSGFuZGxlcnNbb3B0XSh0aGlzLCBvcHRpb25zW29wdF0sIEluaXQpO1xuICAgIG1heWJlVXBkYXRlTGluZU51bWJlcldpZHRoKHRoaXMpO1xuICAgIGlmIChvcHRpb25zLmZpbmlzaEluaXQpIG9wdGlvbnMuZmluaXNoSW5pdCh0aGlzKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRIb29rcy5sZW5ndGg7ICsraSkgaW5pdEhvb2tzW2ldKHRoaXMpO1xuICAgIGVuZE9wZXJhdGlvbih0aGlzKTtcbiAgICAvLyBTdXBwcmVzcyBvcHRpbWl6ZWxlZ2liaWxpdHkgaW4gV2Via2l0LCBzaW5jZSBpdCBicmVha3MgdGV4dFxuICAgIC8vIG1lYXN1cmluZyBvbiBsaW5lIHdyYXBwaW5nIGJvdW5kYXJpZXMuXG4gICAgaWYgKHdlYmtpdCAmJiBvcHRpb25zLmxpbmVXcmFwcGluZyAmJlxuICAgICAgICBnZXRDb21wdXRlZFN0eWxlKGRpc3BsYXkubGluZURpdikudGV4dFJlbmRlcmluZyA9PSBcIm9wdGltaXplbGVnaWJpbGl0eVwiKVxuICAgICAgZGlzcGxheS5saW5lRGl2LnN0eWxlLnRleHRSZW5kZXJpbmcgPSBcImF1dG9cIjtcbiAgfVxuXG4gIC8vIERJU1BMQVkgQ09OU1RSVUNUT1JcblxuICAvLyBUaGUgZGlzcGxheSBoYW5kbGVzIHRoZSBET00gaW50ZWdyYXRpb24sIGJvdGggZm9yIGlucHV0IHJlYWRpbmdcbiAgLy8gYW5kIGNvbnRlbnQgZHJhd2luZy4gSXQgaG9sZHMgcmVmZXJlbmNlcyB0byBET00gbm9kZXMgYW5kXG4gIC8vIGRpc3BsYXktcmVsYXRlZCBzdGF0ZS5cblxuICBmdW5jdGlvbiBEaXNwbGF5KHBsYWNlLCBkb2MsIGlucHV0KSB7XG4gICAgdmFyIGQgPSB0aGlzO1xuICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcblxuICAgIC8vIENvdmVycyBib3R0b20tcmlnaHQgc3F1YXJlIHdoZW4gYm90aCBzY3JvbGxiYXJzIGFyZSBwcmVzZW50LlxuICAgIGQuc2Nyb2xsYmFyRmlsbGVyID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyXCIpO1xuICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsIFwidHJ1ZVwiKTtcbiAgICAvLyBDb3ZlcnMgYm90dG9tIG9mIGd1dHRlciB3aGVuIGNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyIGlzIG9uXG4gICAgLy8gYW5kIGggc2Nyb2xsYmFyIGlzIHByZXNlbnQuXG4gICAgZC5ndXR0ZXJGaWxsZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlci1maWxsZXJcIik7XG4gICAgZC5ndXR0ZXJGaWxsZXIuc2V0QXR0cmlidXRlKFwiY20tbm90LWNvbnRlbnRcIiwgXCJ0cnVlXCIpO1xuICAgIC8vIFdpbGwgY29udGFpbiB0aGUgYWN0dWFsIGNvZGUsIHBvc2l0aW9uZWQgdG8gY292ZXIgdGhlIHZpZXdwb3J0LlxuICAgIGQubGluZURpdiA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItY29kZVwiKTtcbiAgICAvLyBFbGVtZW50cyBhcmUgYWRkZWQgdG8gdGhlc2UgdG8gcmVwcmVzZW50IHNlbGVjdGlvbiBhbmQgY3Vyc29ycy5cbiAgICBkLnNlbGVjdGlvbkRpdiA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMVwiKTtcbiAgICBkLmN1cnNvckRpdiA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItY3Vyc29yc1wiKTtcbiAgICAvLyBBIHZpc2liaWxpdHk6IGhpZGRlbiBlbGVtZW50IHVzZWQgdG8gZmluZCB0aGUgc2l6ZSBvZiB0aGluZ3MuXG4gICAgZC5tZWFzdXJlID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1tZWFzdXJlXCIpO1xuICAgIC8vIFdoZW4gbGluZXMgb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQgYXJlIG1lYXN1cmVkLCB0aGV5IGFyZSBkcmF3biBpbiB0aGlzLlxuICAgIGQubGluZU1lYXN1cmUgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLW1lYXN1cmVcIik7XG4gICAgLy8gV3JhcHMgZXZlcnl0aGluZyB0aGF0IG5lZWRzIHRvIGV4aXN0IGluc2lkZSB0aGUgdmVydGljYWxseS1wYWRkZWQgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICBkLmxpbmVTcGFjZSA9IGVsdChcImRpdlwiLCBbZC5tZWFzdXJlLCBkLmxpbmVNZWFzdXJlLCBkLnNlbGVjdGlvbkRpdiwgZC5jdXJzb3JEaXYsIGQubGluZURpdl0sXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCwgXCJwb3NpdGlvbjogcmVsYXRpdmU7IG91dGxpbmU6IG5vbmVcIik7XG4gICAgLy8gTW92ZWQgYXJvdW5kIGl0cyBwYXJlbnQgdG8gY292ZXIgdmlzaWJsZSB2aWV3LlxuICAgIGQubW92ZXIgPSBlbHQoXCJkaXZcIiwgW2VsdChcImRpdlwiLCBbZC5saW5lU3BhY2VdLCBcIkNvZGVNaXJyb3ItbGluZXNcIildLCBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZVwiKTtcbiAgICAvLyBTZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgZG9jdW1lbnQsIGFsbG93aW5nIHNjcm9sbGluZy5cbiAgICBkLnNpemVyID0gZWx0KFwiZGl2XCIsIFtkLm1vdmVyXSwgXCJDb2RlTWlycm9yLXNpemVyXCIpO1xuICAgIGQuc2l6ZXJXaWR0aCA9IG51bGw7XG4gICAgLy8gQmVoYXZpb3Igb2YgZWx0cyB3aXRoIG92ZXJmbG93OiBhdXRvIGFuZCBwYWRkaW5nIGlzXG4gICAgLy8gaW5jb25zaXN0ZW50IGFjcm9zcyBicm93c2Vycy4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGVcbiAgICAvLyBzY3JvbGxhYmxlIGFyZWEgaXMgYmlnIGVub3VnaC5cbiAgICBkLmhlaWdodEZvcmNlciA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgaGVpZ2h0OiBcIiArIHNjcm9sbGVyR2FwICsgXCJweDsgd2lkdGg6IDFweDtcIik7XG4gICAgLy8gV2lsbCBjb250YWluIHRoZSBndXR0ZXJzLCBpZiBhbnkuXG4gICAgZC5ndXR0ZXJzID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXJzXCIpO1xuICAgIGQubGluZUd1dHRlciA9IG51bGw7XG4gICAgLy8gQWN0dWFsIHNjcm9sbGFibGUgZWxlbWVudC5cbiAgICBkLnNjcm9sbGVyID0gZWx0KFwiZGl2XCIsIFtkLnNpemVyLCBkLmhlaWdodEZvcmNlciwgZC5ndXR0ZXJzXSwgXCJDb2RlTWlycm9yLXNjcm9sbFwiKTtcbiAgICBkLnNjcm9sbGVyLnNldEF0dHJpYnV0ZShcInRhYkluZGV4XCIsIFwiLTFcIik7XG4gICAgLy8gVGhlIGVsZW1lbnQgaW4gd2hpY2ggdGhlIGVkaXRvciBsaXZlcy5cbiAgICBkLndyYXBwZXIgPSBlbHQoXCJkaXZcIiwgW2Quc2Nyb2xsYmFyRmlsbGVyLCBkLmd1dHRlckZpbGxlciwgZC5zY3JvbGxlcl0sIFwiQ29kZU1pcnJvclwiKTtcblxuICAgIC8vIFdvcmsgYXJvdW5kIElFNyB6LWluZGV4IGJ1ZyAobm90IHBlcmZlY3QsIGhlbmNlIElFNyBub3QgcmVhbGx5IGJlaW5nIHN1cHBvcnRlZClcbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHsgZC5ndXR0ZXJzLnN0eWxlLnpJbmRleCA9IC0xOyBkLnNjcm9sbGVyLnN0eWxlLnBhZGRpbmdSaWdodCA9IDA7IH1cbiAgICBpZiAoIXdlYmtpdCAmJiAhKGdlY2tvICYmIG1vYmlsZSkpIGQuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTtcblxuICAgIGlmIChwbGFjZSkge1xuICAgICAgaWYgKHBsYWNlLmFwcGVuZENoaWxkKSBwbGFjZS5hcHBlbmRDaGlsZChkLndyYXBwZXIpO1xuICAgICAgZWxzZSBwbGFjZShkLndyYXBwZXIpO1xuICAgIH1cblxuICAgIC8vIEN1cnJlbnQgcmVuZGVyZWQgcmFuZ2UgKG1heSBiZSBiaWdnZXIgdGhhbiB0aGUgdmlldyB3aW5kb3cpLlxuICAgIGQudmlld0Zyb20gPSBkLnZpZXdUbyA9IGRvYy5maXJzdDtcbiAgICBkLnJlcG9ydGVkVmlld0Zyb20gPSBkLnJlcG9ydGVkVmlld1RvID0gZG9jLmZpcnN0O1xuICAgIC8vIEluZm9ybWF0aW9uIGFib3V0IHRoZSByZW5kZXJlZCBsaW5lcy5cbiAgICBkLnZpZXcgPSBbXTtcbiAgICBkLnJlbmRlcmVkVmlldyA9IG51bGw7XG4gICAgLy8gSG9sZHMgaW5mbyBhYm91dCBhIHNpbmdsZSByZW5kZXJlZCBsaW5lIHdoZW4gaXQgd2FzIHJlbmRlcmVkXG4gICAgLy8gZm9yIG1lYXN1cmVtZW50LCB3aGlsZSBub3QgaW4gdmlldy5cbiAgICBkLmV4dGVybmFsTWVhc3VyZWQgPSBudWxsO1xuICAgIC8vIEVtcHR5IHNwYWNlIChpbiBwaXhlbHMpIGFib3ZlIHRoZSB2aWV3XG4gICAgZC52aWV3T2Zmc2V0ID0gMDtcbiAgICBkLmxhc3RXcmFwSGVpZ2h0ID0gZC5sYXN0V3JhcFdpZHRoID0gMDtcbiAgICBkLnVwZGF0ZUxpbmVOdW1iZXJzID0gbnVsbDtcblxuICAgIGQubmF0aXZlQmFyV2lkdGggPSBkLmJhckhlaWdodCA9IGQuYmFyV2lkdGggPSAwO1xuICAgIGQuc2Nyb2xsYmFyc0NsaXBwZWQgPSBmYWxzZTtcblxuICAgIC8vIFVzZWQgdG8gb25seSByZXNpemUgdGhlIGxpbmUgbnVtYmVyIGd1dHRlciB3aGVuIG5lY2Vzc2FyeSAod2hlblxuICAgIC8vIHRoZSBhbW91bnQgb2YgbGluZXMgY3Jvc3NlcyBhIGJvdW5kYXJ5IHRoYXQgbWFrZXMgaXRzIHdpZHRoIGNoYW5nZSlcbiAgICBkLmxpbmVOdW1XaWR0aCA9IGQubGluZU51bUlubmVyV2lkdGggPSBkLmxpbmVOdW1DaGFycyA9IG51bGw7XG4gICAgLy8gU2V0IHRvIHRydWUgd2hlbiBhIG5vbi1ob3Jpem9udGFsLXNjcm9sbGluZyBsaW5lIHdpZGdldCBpc1xuICAgIC8vIGFkZGVkLiBBcyBhbiBvcHRpbWl6YXRpb24sIGxpbmUgd2lkZ2V0IGFsaWduaW5nIGlzIHNraXBwZWQgd2hlblxuICAgIC8vIHRoaXMgaXMgZmFsc2UuXG4gICAgZC5hbGlnbldpZGdldHMgPSBmYWxzZTtcblxuICAgIGQuY2FjaGVkQ2hhcldpZHRoID0gZC5jYWNoZWRUZXh0SGVpZ2h0ID0gZC5jYWNoZWRQYWRkaW5nSCA9IG51bGw7XG5cbiAgICAvLyBUcmFja3MgdGhlIG1heGltdW0gbGluZSBsZW5ndGggc28gdGhhdCB0aGUgaG9yaXpvbnRhbCBzY3JvbGxiYXJcbiAgICAvLyBjYW4gYmUga2VwdCBzdGF0aWMgd2hlbiBzY3JvbGxpbmcuXG4gICAgZC5tYXhMaW5lID0gbnVsbDtcbiAgICBkLm1heExpbmVMZW5ndGggPSAwO1xuICAgIGQubWF4TGluZUNoYW5nZWQgPSBmYWxzZTtcblxuICAgIC8vIFVzZWQgZm9yIG1lYXN1cmluZyB3aGVlbCBzY3JvbGxpbmcgZ3JhbnVsYXJpdHlcbiAgICBkLndoZWVsRFggPSBkLndoZWVsRFkgPSBkLndoZWVsU3RhcnRYID0gZC53aGVlbFN0YXJ0WSA9IG51bGw7XG5cbiAgICAvLyBUcnVlIHdoZW4gc2hpZnQgaXMgaGVsZCBkb3duLlxuICAgIGQuc2hpZnQgPSBmYWxzZTtcblxuICAgIC8vIFVzZWQgdG8gdHJhY2sgd2hldGhlciBhbnl0aGluZyBoYXBwZW5lZCBzaW5jZSB0aGUgY29udGV4dCBtZW51XG4gICAgLy8gd2FzIG9wZW5lZC5cbiAgICBkLnNlbEZvckNvbnRleHRNZW51ID0gbnVsbDtcblxuICAgIGQuYWN0aXZlVG91Y2ggPSBudWxsO1xuXG4gICAgaW5wdXQuaW5pdChkKTtcbiAgfVxuXG4gIC8vIFNUQVRFIFVQREFURVNcblxuICAvLyBVc2VkIHRvIGdldCB0aGUgZWRpdG9yIGludG8gYSBjb25zaXN0ZW50IHN0YXRlIGFnYWluIHdoZW4gb3B0aW9ucyBjaGFuZ2UuXG5cbiAgZnVuY3Rpb24gbG9hZE1vZGUoY20pIHtcbiAgICBjbS5kb2MubW9kZSA9IENvZGVNaXJyb3IuZ2V0TW9kZShjbS5vcHRpb25zLCBjbS5kb2MubW9kZU9wdGlvbik7XG4gICAgcmVzZXRNb2RlU3RhdGUoY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRNb2RlU3RhdGUoY20pIHtcbiAgICBjbS5kb2MuaXRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAobGluZS5zdGF0ZUFmdGVyKSBsaW5lLnN0YXRlQWZ0ZXIgPSBudWxsO1xuICAgICAgaWYgKGxpbmUuc3R5bGVzKSBsaW5lLnN0eWxlcyA9IG51bGw7XG4gICAgfSk7XG4gICAgY20uZG9jLmZyb250aWVyID0gY20uZG9jLmZpcnN0O1xuICAgIHN0YXJ0V29ya2VyKGNtLCAxMDApO1xuICAgIGNtLnN0YXRlLm1vZGVHZW4rKztcbiAgICBpZiAoY20uY3VyT3ApIHJlZ0NoYW5nZShjbSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwcGluZ0NoYW5nZWQoY20pIHtcbiAgICBpZiAoY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIGFkZENsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLXdyYXBcIik7XG4gICAgICBjbS5kaXNwbGF5LnNpemVyLnN0eWxlLm1pbldpZHRoID0gXCJcIjtcbiAgICAgIGNtLmRpc3BsYXkuc2l6ZXJXaWR0aCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJtQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3Itd3JhcFwiKTtcbiAgICAgIGZpbmRNYXhMaW5lKGNtKTtcbiAgICB9XG4gICAgZXN0aW1hdGVMaW5lSGVpZ2h0cyhjbSk7XG4gICAgcmVnQ2hhbmdlKGNtKTtcbiAgICBjbGVhckNhY2hlcyhjbSk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe3VwZGF0ZVNjcm9sbGJhcnMoY20pO30sIDEwMCk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBlc3RpbWF0ZXMgdGhlIGhlaWdodCBvZiBhIGxpbmUsIHRvIHVzZSBhc1xuICAvLyBmaXJzdCBhcHByb3hpbWF0aW9uIHVudGlsIHRoZSBsaW5lIGJlY29tZXMgdmlzaWJsZSAoYW5kIGlzIHRodXNcbiAgLy8gcHJvcGVybHkgbWVhc3VyYWJsZSkuXG4gIGZ1bmN0aW9uIGVzdGltYXRlSGVpZ2h0KGNtKSB7XG4gICAgdmFyIHRoID0gdGV4dEhlaWdodChjbS5kaXNwbGF5KSwgd3JhcHBpbmcgPSBjbS5vcHRpb25zLmxpbmVXcmFwcGluZztcbiAgICB2YXIgcGVyTGluZSA9IHdyYXBwaW5nICYmIE1hdGgubWF4KDUsIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGggLyBjaGFyV2lkdGgoY20uZGlzcGxheSkgLSAzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKGxpbmVJc0hpZGRlbihjbS5kb2MsIGxpbmUpKSByZXR1cm4gMDtcblxuICAgICAgdmFyIHdpZGdldHNIZWlnaHQgPSAwO1xuICAgICAgaWYgKGxpbmUud2lkZ2V0cykgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLndpZGdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGxpbmUud2lkZ2V0c1tpXS5oZWlnaHQpIHdpZGdldHNIZWlnaHQgKz0gbGluZS53aWRnZXRzW2ldLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKHdyYXBwaW5nKVxuICAgICAgICByZXR1cm4gd2lkZ2V0c0hlaWdodCArIChNYXRoLmNlaWwobGluZS50ZXh0Lmxlbmd0aCAvIHBlckxpbmUpIHx8IDEpICogdGg7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB3aWRnZXRzSGVpZ2h0ICsgdGg7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVzdGltYXRlTGluZUhlaWdodHMoY20pIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBlc3QgPSBlc3RpbWF0ZUhlaWdodChjbSk7XG4gICAgZG9jLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIGVzdEhlaWdodCA9IGVzdChsaW5lKTtcbiAgICAgIGlmIChlc3RIZWlnaHQgIT0gbGluZS5oZWlnaHQpIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgZXN0SGVpZ2h0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRoZW1lQ2hhbmdlZChjbSkge1xuICAgIGNtLmRpc3BsYXkud3JhcHBlci5jbGFzc05hbWUgPSBjbS5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lLnJlcGxhY2UoL1xccypjbS1zLVxcUysvZywgXCJcIikgK1xuICAgICAgY20ub3B0aW9ucy50aGVtZS5yZXBsYWNlKC8oXnxcXHMpXFxzKi9nLCBcIiBjbS1zLVwiKTtcbiAgICBjbGVhckNhY2hlcyhjbSk7XG4gIH1cblxuICBmdW5jdGlvbiBndXR0ZXJzQ2hhbmdlZChjbSkge1xuICAgIHVwZGF0ZUd1dHRlcnMoY20pO1xuICAgIHJlZ0NoYW5nZShjbSk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe2FsaWduSG9yaXpvbnRhbGx5KGNtKTt9LCAyMCk7XG4gIH1cblxuICAvLyBSZWJ1aWxkIHRoZSBndXR0ZXIgZWxlbWVudHMsIGVuc3VyZSB0aGUgbWFyZ2luIHRvIHRoZSBsZWZ0IG9mIHRoZVxuICAvLyBjb2RlIG1hdGNoZXMgdGhlaXIgd2lkdGguXG4gIGZ1bmN0aW9uIHVwZGF0ZUd1dHRlcnMoY20pIHtcbiAgICB2YXIgZ3V0dGVycyA9IGNtLmRpc3BsYXkuZ3V0dGVycywgc3BlY3MgPSBjbS5vcHRpb25zLmd1dHRlcnM7XG4gICAgcmVtb3ZlQ2hpbGRyZW4oZ3V0dGVycyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVjcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGd1dHRlckNsYXNzID0gc3BlY3NbaV07XG4gICAgICB2YXIgZ0VsdCA9IGd1dHRlcnMuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXIgXCIgKyBndXR0ZXJDbGFzcykpO1xuICAgICAgaWYgKGd1dHRlckNsYXNzID09IFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiKSB7XG4gICAgICAgIGNtLmRpc3BsYXkubGluZUd1dHRlciA9IGdFbHQ7XG4gICAgICAgIGdFbHQuc3R5bGUud2lkdGggPSAoY20uZGlzcGxheS5saW5lTnVtV2lkdGggfHwgMSkgKyBcInB4XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGd1dHRlcnMuc3R5bGUuZGlzcGxheSA9IGkgPyBcIlwiIDogXCJub25lXCI7XG4gICAgdXBkYXRlR3V0dGVyU3BhY2UoY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlR3V0dGVyU3BhY2UoY20pIHtcbiAgICB2YXIgd2lkdGggPSBjbS5kaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGg7XG4gICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5tYXJnaW5MZWZ0ID0gd2lkdGggKyBcInB4XCI7XG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBjaGFyYWN0ZXIgbGVuZ3RoIG9mIGEgbGluZSwgdGFraW5nIGludG8gYWNjb3VudFxuICAvLyBjb2xsYXBzZWQgcmFuZ2VzIChzZWUgbWFya1RleHQpIHRoYXQgbWlnaHQgaGlkZSBwYXJ0cywgYW5kIGpvaW5cbiAgLy8gb3RoZXIgbGluZXMgb250byBpdC5cbiAgZnVuY3Rpb24gbGluZUxlbmd0aChsaW5lKSB7XG4gICAgaWYgKGxpbmUuaGVpZ2h0ID09IDApIHJldHVybiAwO1xuICAgIHZhciBsZW4gPSBsaW5lLnRleHQubGVuZ3RoLCBtZXJnZWQsIGN1ciA9IGxpbmU7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdFN0YXJ0KGN1cikpIHtcbiAgICAgIHZhciBmb3VuZCA9IG1lcmdlZC5maW5kKDAsIHRydWUpO1xuICAgICAgY3VyID0gZm91bmQuZnJvbS5saW5lO1xuICAgICAgbGVuICs9IGZvdW5kLmZyb20uY2ggLSBmb3VuZC50by5jaDtcbiAgICB9XG4gICAgY3VyID0gbGluZTtcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGN1cikpIHtcbiAgICAgIHZhciBmb3VuZCA9IG1lcmdlZC5maW5kKDAsIHRydWUpO1xuICAgICAgbGVuIC09IGN1ci50ZXh0Lmxlbmd0aCAtIGZvdW5kLmZyb20uY2g7XG4gICAgICBjdXIgPSBmb3VuZC50by5saW5lO1xuICAgICAgbGVuICs9IGN1ci50ZXh0Lmxlbmd0aCAtIGZvdW5kLnRvLmNoO1xuICAgIH1cbiAgICByZXR1cm4gbGVuO1xuICB9XG5cbiAgLy8gRmluZCB0aGUgbG9uZ2VzdCBsaW5lIGluIHRoZSBkb2N1bWVudC5cbiAgZnVuY3Rpb24gZmluZE1heExpbmUoY20pIHtcbiAgICB2YXIgZCA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICBkLm1heExpbmUgPSBnZXRMaW5lKGRvYywgZG9jLmZpcnN0KTtcbiAgICBkLm1heExpbmVMZW5ndGggPSBsaW5lTGVuZ3RoKGQubWF4TGluZSk7XG4gICAgZC5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgZG9jLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIGxlbiA9IGxpbmVMZW5ndGgobGluZSk7XG4gICAgICBpZiAobGVuID4gZC5tYXhMaW5lTGVuZ3RoKSB7XG4gICAgICAgIGQubWF4TGluZUxlbmd0aCA9IGxlbjtcbiAgICAgICAgZC5tYXhMaW5lID0gbGluZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSB0aGUgZ3V0dGVycyBvcHRpb25zIGNvbnRhaW5zIHRoZSBlbGVtZW50XG4gIC8vIFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiIHdoZW4gdGhlIGxpbmVOdW1iZXJzIG9wdGlvbiBpcyB0cnVlLlxuICBmdW5jdGlvbiBzZXRHdXR0ZXJzRm9yTGluZU51bWJlcnMob3B0aW9ucykge1xuICAgIHZhciBmb3VuZCA9IGluZGV4T2Yob3B0aW9ucy5ndXR0ZXJzLCBcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIik7XG4gICAgaWYgKGZvdW5kID09IC0xICYmIG9wdGlvbnMubGluZU51bWJlcnMpIHtcbiAgICAgIG9wdGlvbnMuZ3V0dGVycyA9IG9wdGlvbnMuZ3V0dGVycy5jb25jYXQoW1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXSk7XG4gICAgfSBlbHNlIGlmIChmb3VuZCA+IC0xICYmICFvcHRpb25zLmxpbmVOdW1iZXJzKSB7XG4gICAgICBvcHRpb25zLmd1dHRlcnMgPSBvcHRpb25zLmd1dHRlcnMuc2xpY2UoMCk7XG4gICAgICBvcHRpb25zLmd1dHRlcnMuc3BsaWNlKGZvdW5kLCAxKTtcbiAgICB9XG4gIH1cblxuICAvLyBTQ1JPTExCQVJTXG5cbiAgLy8gUHJlcGFyZSBET00gcmVhZHMgbmVlZGVkIHRvIHVwZGF0ZSB0aGUgc2Nyb2xsYmFycy4gRG9uZSBpbiBvbmVcbiAgLy8gc2hvdCB0byBtaW5pbWl6ZSB1cGRhdGUvbWVhc3VyZSByb3VuZHRyaXBzLlxuICBmdW5jdGlvbiBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheSwgZ3V0dGVyVyA9IGQuZ3V0dGVycy5vZmZzZXRXaWR0aDtcbiAgICB2YXIgZG9jSCA9IE1hdGgucm91bmQoY20uZG9jLmhlaWdodCArIHBhZGRpbmdWZXJ0KGNtLmRpc3BsYXkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgY2xpZW50SGVpZ2h0OiBkLnNjcm9sbGVyLmNsaWVudEhlaWdodCxcbiAgICAgIHZpZXdIZWlnaHQ6IGQud3JhcHBlci5jbGllbnRIZWlnaHQsXG4gICAgICBzY3JvbGxXaWR0aDogZC5zY3JvbGxlci5zY3JvbGxXaWR0aCwgY2xpZW50V2lkdGg6IGQuc2Nyb2xsZXIuY2xpZW50V2lkdGgsXG4gICAgICB2aWV3V2lkdGg6IGQud3JhcHBlci5jbGllbnRXaWR0aCxcbiAgICAgIGJhckxlZnQ6IGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgPyBndXR0ZXJXIDogMCxcbiAgICAgIGRvY0hlaWdodDogZG9jSCxcbiAgICAgIHNjcm9sbEhlaWdodDogZG9jSCArIHNjcm9sbEdhcChjbSkgKyBkLmJhckhlaWdodCxcbiAgICAgIG5hdGl2ZUJhcldpZHRoOiBkLm5hdGl2ZUJhcldpZHRoLFxuICAgICAgZ3V0dGVyV2lkdGg6IGd1dHRlcldcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gTmF0aXZlU2Nyb2xsYmFycyhwbGFjZSwgc2Nyb2xsLCBjbSkge1xuICAgIHRoaXMuY20gPSBjbTtcbiAgICB2YXIgdmVydCA9IHRoaXMudmVydCA9IGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwibWluLXdpZHRoOiAxcHhcIildLCBcIkNvZGVNaXJyb3ItdnNjcm9sbGJhclwiKTtcbiAgICB2YXIgaG9yaXogPSB0aGlzLmhvcml6ID0gZWx0KFwiZGl2XCIsIFtlbHQoXCJkaXZcIiwgbnVsbCwgbnVsbCwgXCJoZWlnaHQ6IDEwMCU7IG1pbi1oZWlnaHQ6IDFweFwiKV0sIFwiQ29kZU1pcnJvci1oc2Nyb2xsYmFyXCIpO1xuICAgIHBsYWNlKHZlcnQpOyBwbGFjZShob3Jpeik7XG5cbiAgICBvbih2ZXJ0LCBcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh2ZXJ0LmNsaWVudEhlaWdodCkgc2Nyb2xsKHZlcnQuc2Nyb2xsVG9wLCBcInZlcnRpY2FsXCIpO1xuICAgIH0pO1xuICAgIG9uKGhvcml6LCBcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChob3Jpei5jbGllbnRXaWR0aCkgc2Nyb2xsKGhvcml6LnNjcm9sbExlZnQsIFwiaG9yaXpvbnRhbFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2hlY2tlZFplcm9XaWR0aCA9IGZhbHNlO1xuICAgIC8vIE5lZWQgdG8gc2V0IGEgbWluaW11bSB3aWR0aCB0byBzZWUgdGhlIHNjcm9sbGJhciBvbiBJRTcgKGJ1dCBtdXN0IG5vdCBzZXQgaXQgb24gSUU4KS5cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHRoaXMuaG9yaXouc3R5bGUubWluSGVpZ2h0ID0gdGhpcy52ZXJ0LnN0eWxlLm1pbldpZHRoID0gXCIxOHB4XCI7XG4gIH1cblxuICBOYXRpdmVTY3JvbGxiYXJzLnByb3RvdHlwZSA9IGNvcHlPYmooe1xuICAgIHVwZGF0ZTogZnVuY3Rpb24obWVhc3VyZSkge1xuICAgICAgdmFyIG5lZWRzSCA9IG1lYXN1cmUuc2Nyb2xsV2lkdGggPiBtZWFzdXJlLmNsaWVudFdpZHRoICsgMTtcbiAgICAgIHZhciBuZWVkc1YgPSBtZWFzdXJlLnNjcm9sbEhlaWdodCA+IG1lYXN1cmUuY2xpZW50SGVpZ2h0ICsgMTtcbiAgICAgIHZhciBzV2lkdGggPSBtZWFzdXJlLm5hdGl2ZUJhcldpZHRoO1xuXG4gICAgICBpZiAobmVlZHNWKSB7XG4gICAgICAgIHRoaXMudmVydC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB0aGlzLnZlcnQuc3R5bGUuYm90dG9tID0gbmVlZHNIID8gc1dpZHRoICsgXCJweFwiIDogXCIwXCI7XG4gICAgICAgIHZhciB0b3RhbEhlaWdodCA9IG1lYXN1cmUudmlld0hlaWdodCAtIChuZWVkc0ggPyBzV2lkdGggOiAwKTtcbiAgICAgICAgLy8gQSBidWcgaW4gSUU4IGNhbiBjYXVzZSB0aGlzIHZhbHVlIHRvIGJlIG5lZ2F0aXZlLCBzbyBndWFyZCBpdC5cbiAgICAgICAgdGhpcy52ZXJ0LmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0ID1cbiAgICAgICAgICBNYXRoLm1heCgwLCBtZWFzdXJlLnNjcm9sbEhlaWdodCAtIG1lYXN1cmUuY2xpZW50SGVpZ2h0ICsgdG90YWxIZWlnaHQpICsgXCJweFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52ZXJ0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICB0aGlzLnZlcnQuZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQgPSBcIjBcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRzSCkge1xuICAgICAgICB0aGlzLmhvcml6LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHRoaXMuaG9yaXouc3R5bGUucmlnaHQgPSBuZWVkc1YgPyBzV2lkdGggKyBcInB4XCIgOiBcIjBcIjtcbiAgICAgICAgdGhpcy5ob3Jpei5zdHlsZS5sZWZ0ID0gbWVhc3VyZS5iYXJMZWZ0ICsgXCJweFwiO1xuICAgICAgICB2YXIgdG90YWxXaWR0aCA9IG1lYXN1cmUudmlld1dpZHRoIC0gbWVhc3VyZS5iYXJMZWZ0IC0gKG5lZWRzViA/IHNXaWR0aCA6IDApO1xuICAgICAgICB0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGggPVxuICAgICAgICAgIChtZWFzdXJlLnNjcm9sbFdpZHRoIC0gbWVhc3VyZS5jbGllbnRXaWR0aCArIHRvdGFsV2lkdGgpICsgXCJweFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgdGhpcy5ob3Jpei5maXJzdENoaWxkLnN0eWxlLndpZHRoID0gXCIwXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5jaGVja2VkWmVyb1dpZHRoICYmIG1lYXN1cmUuY2xpZW50SGVpZ2h0ID4gMCkge1xuICAgICAgICBpZiAoc1dpZHRoID09IDApIHRoaXMuemVyb1dpZHRoSGFjaygpO1xuICAgICAgICB0aGlzLmNoZWNrZWRaZXJvV2lkdGggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge3JpZ2h0OiBuZWVkc1YgPyBzV2lkdGggOiAwLCBib3R0b206IG5lZWRzSCA/IHNXaWR0aCA6IDB9O1xuICAgIH0sXG4gICAgc2V0U2Nyb2xsTGVmdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICBpZiAodGhpcy5ob3Jpei5zY3JvbGxMZWZ0ICE9IHBvcykgdGhpcy5ob3Jpei5zY3JvbGxMZWZ0ID0gcG9zO1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZUhvcml6KSB0aGlzLmVuYWJsZVplcm9XaWR0aEJhcih0aGlzLmhvcml6LCB0aGlzLmRpc2FibGVIb3Jpeik7XG4gICAgfSxcbiAgICBzZXRTY3JvbGxUb3A6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgaWYgKHRoaXMudmVydC5zY3JvbGxUb3AgIT0gcG9zKSB0aGlzLnZlcnQuc2Nyb2xsVG9wID0gcG9zO1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZVZlcnQpIHRoaXMuZW5hYmxlWmVyb1dpZHRoQmFyKHRoaXMudmVydCwgdGhpcy5kaXNhYmxlVmVydCk7XG4gICAgfSxcbiAgICB6ZXJvV2lkdGhIYWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB3ID0gbWFjICYmICFtYWNfZ2VNb3VudGFpbkxpb24gPyBcIjEycHhcIiA6IFwiMThweFwiO1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5oZWlnaHQgPSB0aGlzLnZlcnQuc3R5bGUud2lkdGggPSB3O1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5wb2ludGVyRXZlbnRzID0gdGhpcy52ZXJ0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgIHRoaXMuZGlzYWJsZUhvcml6ID0gbmV3IERlbGF5ZWQ7XG4gICAgICB0aGlzLmRpc2FibGVWZXJ0ID0gbmV3IERlbGF5ZWQ7XG4gICAgfSxcbiAgICBlbmFibGVaZXJvV2lkdGhCYXI6IGZ1bmN0aW9uKGJhciwgZGVsYXkpIHtcbiAgICAgIGJhci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG4gICAgICBmdW5jdGlvbiBtYXliZURpc2FibGUoKSB7XG4gICAgICAgIC8vIFRvIGZpbmQgb3V0IHdoZXRoZXIgdGhlIHNjcm9sbGJhciBpcyBzdGlsbCB2aXNpYmxlLCB3ZVxuICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBlbGVtZW50IHVuZGVyIHRoZSBwaXhlbCBpbiB0aGUgYm90dG9tXG4gICAgICAgIC8vIGxlZnQgY29ybmVyIG9mIHRoZSBzY3JvbGxiYXIgYm94IGlzIHRoZSBzY3JvbGxiYXIgYm94XG4gICAgICAgIC8vIGl0c2VsZiAod2hlbiB0aGUgYmFyIGlzIHN0aWxsIHZpc2libGUpIG9yIGl0cyBmaWxsZXIgY2hpbGRcbiAgICAgICAgLy8gKHdoZW4gdGhlIGJhciBpcyBoaWRkZW4pLiBJZiBpdCBpcyBzdGlsbCB2aXNpYmxlLCB3ZSBrZWVwXG4gICAgICAgIC8vIGl0IGVuYWJsZWQsIGlmIGl0J3MgaGlkZGVuLCB3ZSBkaXNhYmxlIHBvaW50ZXIgZXZlbnRzLlxuICAgICAgICB2YXIgYm94ID0gYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZWx0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChib3gubGVmdCArIDEsIGJveC5ib3R0b20gLSAxKTtcbiAgICAgICAgaWYgKGVsdCAhPSBiYXIpIGJhci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgICAgIGVsc2UgZGVsYXkuc2V0KDEwMDAsIG1heWJlRGlzYWJsZSk7XG4gICAgICB9XG4gICAgICBkZWxheS5zZXQoMTAwMCwgbWF5YmVEaXNhYmxlKTtcbiAgICB9LFxuICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmhvcml6LnBhcmVudE5vZGU7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5ob3Jpeik7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy52ZXJ0KTtcbiAgICB9XG4gIH0sIE5hdGl2ZVNjcm9sbGJhcnMucHJvdG90eXBlKTtcblxuICBmdW5jdGlvbiBOdWxsU2Nyb2xsYmFycygpIHt9XG5cbiAgTnVsbFNjcm9sbGJhcnMucHJvdG90eXBlID0gY29weU9iaih7XG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHsgcmV0dXJuIHtib3R0b206IDAsIHJpZ2h0OiAwfTsgfSxcbiAgICBzZXRTY3JvbGxMZWZ0OiBmdW5jdGlvbigpIHt9LFxuICAgIHNldFNjcm9sbFRvcDogZnVuY3Rpb24oKSB7fSxcbiAgICBjbGVhcjogZnVuY3Rpb24oKSB7fVxuICB9LCBOdWxsU2Nyb2xsYmFycy5wcm90b3R5cGUpO1xuXG4gIENvZGVNaXJyb3Iuc2Nyb2xsYmFyTW9kZWwgPSB7XCJuYXRpdmVcIjogTmF0aXZlU2Nyb2xsYmFycywgXCJudWxsXCI6IE51bGxTY3JvbGxiYXJzfTtcblxuICBmdW5jdGlvbiBpbml0U2Nyb2xsYmFycyhjbSkge1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMpIHtcbiAgICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5jbGVhcigpO1xuICAgICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcylcbiAgICAgICAgcm1DbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcyk7XG4gICAgfVxuXG4gICAgY20uZGlzcGxheS5zY3JvbGxiYXJzID0gbmV3IENvZGVNaXJyb3Iuc2Nyb2xsYmFyTW9kZWxbY20ub3B0aW9ucy5zY3JvbGxiYXJTdHlsZV0oZnVuY3Rpb24obm9kZSkge1xuICAgICAgY20uZGlzcGxheS53cmFwcGVyLmluc2VydEJlZm9yZShub2RlLCBjbS5kaXNwbGF5LnNjcm9sbGJhckZpbGxlcik7XG4gICAgICAvLyBQcmV2ZW50IGNsaWNrcyBpbiB0aGUgc2Nyb2xsYmFycyBmcm9tIGtpbGxpbmcgZm9jdXNcbiAgICAgIG9uKG5vZGUsIFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCkgc2V0VGltZW91dChmdW5jdGlvbigpIHsgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpOyB9LCAwKTtcbiAgICAgIH0pO1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLCBcInRydWVcIik7XG4gICAgfSwgZnVuY3Rpb24ocG9zLCBheGlzKSB7XG4gICAgICBpZiAoYXhpcyA9PSBcImhvcml6b250YWxcIikgc2V0U2Nyb2xsTGVmdChjbSwgcG9zKTtcbiAgICAgIGVsc2Ugc2V0U2Nyb2xsVG9wKGNtLCBwb3MpO1xuICAgIH0sIGNtKTtcbiAgICBpZiAoY20uZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKVxuICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsYmFycyhjbSwgbWVhc3VyZSkge1xuICAgIGlmICghbWVhc3VyZSkgbWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICB2YXIgc3RhcnRXaWR0aCA9IGNtLmRpc3BsYXkuYmFyV2lkdGgsIHN0YXJ0SGVpZ2h0ID0gY20uZGlzcGxheS5iYXJIZWlnaHQ7XG4gICAgdXBkYXRlU2Nyb2xsYmFyc0lubmVyKGNtLCBtZWFzdXJlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQgJiYgc3RhcnRXaWR0aCAhPSBjbS5kaXNwbGF5LmJhcldpZHRoIHx8IHN0YXJ0SGVpZ2h0ICE9IGNtLmRpc3BsYXkuYmFySGVpZ2h0OyBpKyspIHtcbiAgICAgIGlmIChzdGFydFdpZHRoICE9IGNtLmRpc3BsYXkuYmFyV2lkdGggJiYgY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpXG4gICAgICAgIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTtcbiAgICAgIHVwZGF0ZVNjcm9sbGJhcnNJbm5lcihjbSwgbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pKTtcbiAgICAgIHN0YXJ0V2lkdGggPSBjbS5kaXNwbGF5LmJhcldpZHRoOyBzdGFydEhlaWdodCA9IGNtLmRpc3BsYXkuYmFySGVpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlLXN5bmNocm9uaXplIHRoZSBmYWtlIHNjcm9sbGJhcnMgd2l0aCB0aGUgYWN0dWFsIHNpemUgb2YgdGhlXG4gIC8vIGNvbnRlbnQuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbGJhcnNJbm5lcihjbSwgbWVhc3VyZSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheTtcbiAgICB2YXIgc2l6ZXMgPSBkLnNjcm9sbGJhcnMudXBkYXRlKG1lYXN1cmUpO1xuXG4gICAgZC5zaXplci5zdHlsZS5wYWRkaW5nUmlnaHQgPSAoZC5iYXJXaWR0aCA9IHNpemVzLnJpZ2h0KSArIFwicHhcIjtcbiAgICBkLnNpemVyLnN0eWxlLnBhZGRpbmdCb3R0b20gPSAoZC5iYXJIZWlnaHQgPSBzaXplcy5ib3R0b20pICsgXCJweFwiO1xuICAgIGQuaGVpZ2h0Rm9yY2VyLnN0eWxlLmJvcmRlckJvdHRvbSA9IHNpemVzLmJvdHRvbSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIlxuXG4gICAgaWYgKHNpemVzLnJpZ2h0ICYmIHNpemVzLmJvdHRvbSkge1xuICAgICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmhlaWdodCA9IHNpemVzLmJvdHRvbSArIFwicHhcIjtcbiAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLndpZHRoID0gc2l6ZXMucmlnaHQgKyBcInB4XCI7XG4gICAgfSBlbHNlIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIGlmIChzaXplcy5ib3R0b20gJiYgY20ub3B0aW9ucy5jb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhciAmJiBjbS5vcHRpb25zLmZpeGVkR3V0dGVyKSB7XG4gICAgICBkLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZC5ndXR0ZXJGaWxsZXIuc3R5bGUuaGVpZ2h0ID0gc2l6ZXMuYm90dG9tICsgXCJweFwiO1xuICAgICAgZC5ndXR0ZXJGaWxsZXIuc3R5bGUud2lkdGggPSBtZWFzdXJlLmd1dHRlcldpZHRoICsgXCJweFwiO1xuICAgIH0gZWxzZSBkLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGxpbmVzIHRoYXQgYXJlIHZpc2libGUgaW4gYSBnaXZlbiB2aWV3cG9ydCAoZGVmYXVsdHNcbiAgLy8gdGhlIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbikuIHZpZXdwb3J0IG1heSBjb250YWluIHRvcCxcbiAgLy8gaGVpZ2h0LCBhbmQgZW5zdXJlIChzZWUgb3Auc2Nyb2xsVG9Qb3MpIHByb3BlcnRpZXMuXG4gIGZ1bmN0aW9uIHZpc2libGVMaW5lcyhkaXNwbGF5LCBkb2MsIHZpZXdwb3J0KSB7XG4gICAgdmFyIHRvcCA9IHZpZXdwb3J0ICYmIHZpZXdwb3J0LnRvcCAhPSBudWxsID8gTWF0aC5tYXgoMCwgdmlld3BvcnQudG9wKSA6IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wO1xuICAgIHRvcCA9IE1hdGguZmxvb3IodG9wIC0gcGFkZGluZ1RvcChkaXNwbGF5KSk7XG4gICAgdmFyIGJvdHRvbSA9IHZpZXdwb3J0ICYmIHZpZXdwb3J0LmJvdHRvbSAhPSBudWxsID8gdmlld3BvcnQuYm90dG9tIDogdG9wICsgZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodDtcblxuICAgIHZhciBmcm9tID0gbGluZUF0SGVpZ2h0KGRvYywgdG9wKSwgdG8gPSBsaW5lQXRIZWlnaHQoZG9jLCBib3R0b20pO1xuICAgIC8vIEVuc3VyZSBpcyBhIHtmcm9tOiB7bGluZSwgY2h9LCB0bzoge2xpbmUsIGNofX0gb2JqZWN0LCBhbmRcbiAgICAvLyBmb3JjZXMgdGhvc2UgbGluZXMgaW50byB0aGUgdmlld3BvcnQgKGlmIHBvc3NpYmxlKS5cbiAgICBpZiAodmlld3BvcnQgJiYgdmlld3BvcnQuZW5zdXJlKSB7XG4gICAgICB2YXIgZW5zdXJlRnJvbSA9IHZpZXdwb3J0LmVuc3VyZS5mcm9tLmxpbmUsIGVuc3VyZVRvID0gdmlld3BvcnQuZW5zdXJlLnRvLmxpbmU7XG4gICAgICBpZiAoZW5zdXJlRnJvbSA8IGZyb20pIHtcbiAgICAgICAgZnJvbSA9IGVuc3VyZUZyb207XG4gICAgICAgIHRvID0gbGluZUF0SGVpZ2h0KGRvYywgaGVpZ2h0QXRMaW5lKGdldExpbmUoZG9jLCBlbnN1cmVGcm9tKSkgKyBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0KTtcbiAgICAgIH0gZWxzZSBpZiAoTWF0aC5taW4oZW5zdXJlVG8sIGRvYy5sYXN0TGluZSgpKSA+PSB0bykge1xuICAgICAgICBmcm9tID0gbGluZUF0SGVpZ2h0KGRvYywgaGVpZ2h0QXRMaW5lKGdldExpbmUoZG9jLCBlbnN1cmVUbykpIC0gZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCk7XG4gICAgICAgIHRvID0gZW5zdXJlVG87XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7ZnJvbTogZnJvbSwgdG86IE1hdGgubWF4KHRvLCBmcm9tICsgMSl9O1xuICB9XG5cbiAgLy8gTElORSBOVU1CRVJTXG5cbiAgLy8gUmUtYWxpZ24gbGluZSBudW1iZXJzIGFuZCBndXR0ZXIgbWFya3MgdG8gY29tcGVuc2F0ZSBmb3JcbiAgLy8gaG9yaXpvbnRhbCBzY3JvbGxpbmcuXG4gIGZ1bmN0aW9uIGFsaWduSG9yaXpvbnRhbGx5KGNtKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCB2aWV3ID0gZGlzcGxheS52aWV3O1xuICAgIGlmICghZGlzcGxheS5hbGlnbldpZGdldHMgJiYgKCFkaXNwbGF5Lmd1dHRlcnMuZmlyc3RDaGlsZCB8fCAhY20ub3B0aW9ucy5maXhlZEd1dHRlcikpIHJldHVybjtcbiAgICB2YXIgY29tcCA9IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGRpc3BsYXkpIC0gZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICsgY20uZG9jLnNjcm9sbExlZnQ7XG4gICAgdmFyIGd1dHRlclcgPSBkaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGgsIGxlZnQgPSBjb21wICsgXCJweFwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykgaWYgKCF2aWV3W2ldLmhpZGRlbikge1xuICAgICAgaWYgKGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgJiYgdmlld1tpXS5ndXR0ZXIpXG4gICAgICAgIHZpZXdbaV0uZ3V0dGVyLnN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgICAgdmFyIGFsaWduID0gdmlld1tpXS5hbGlnbmFibGU7XG4gICAgICBpZiAoYWxpZ24pIGZvciAodmFyIGogPSAwOyBqIDwgYWxpZ24ubGVuZ3RoOyBqKyspXG4gICAgICAgIGFsaWduW2pdLnN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgIH1cbiAgICBpZiAoY20ub3B0aW9ucy5maXhlZEd1dHRlcilcbiAgICAgIGRpc3BsYXkuZ3V0dGVycy5zdHlsZS5sZWZ0ID0gKGNvbXAgKyBndXR0ZXJXKSArIFwicHhcIjtcbiAgfVxuXG4gIC8vIFVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGxpbmUgbnVtYmVyIGd1dHRlciBpcyBzdGlsbCB0aGUgcmlnaHRcbiAgLy8gc2l6ZSBmb3IgdGhlIGN1cnJlbnQgZG9jdW1lbnQgc2l6ZS4gUmV0dXJucyB0cnVlIHdoZW4gYW4gdXBkYXRlXG4gIC8vIGlzIG5lZWRlZC5cbiAgZnVuY3Rpb24gbWF5YmVVcGRhdGVMaW5lTnVtYmVyV2lkdGgoY20pIHtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZU51bWJlcnMpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBsYXN0ID0gbGluZU51bWJlckZvcihjbS5vcHRpb25zLCBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEpLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAobGFzdC5sZW5ndGggIT0gZGlzcGxheS5saW5lTnVtQ2hhcnMpIHtcbiAgICAgIHZhciB0ZXN0ID0gZGlzcGxheS5tZWFzdXJlLmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIGxhc3QpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIikpO1xuICAgICAgdmFyIGlubmVyVyA9IHRlc3QuZmlyc3RDaGlsZC5vZmZzZXRXaWR0aCwgcGFkZGluZyA9IHRlc3Qub2Zmc2V0V2lkdGggLSBpbm5lclc7XG4gICAgICBkaXNwbGF5LmxpbmVHdXR0ZXIuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgICAgZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCA9IE1hdGgubWF4KGlubmVyVywgZGlzcGxheS5saW5lR3V0dGVyLm9mZnNldFdpZHRoIC0gcGFkZGluZykgKyAxO1xuICAgICAgZGlzcGxheS5saW5lTnVtV2lkdGggPSBkaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoICsgcGFkZGluZztcbiAgICAgIGRpc3BsYXkubGluZU51bUNoYXJzID0gZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCA/IGxhc3QubGVuZ3RoIDogLTE7XG4gICAgICBkaXNwbGF5LmxpbmVHdXR0ZXIuc3R5bGUud2lkdGggPSBkaXNwbGF5LmxpbmVOdW1XaWR0aCArIFwicHhcIjtcbiAgICAgIHVwZGF0ZUd1dHRlclNwYWNlKGNtKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBsaW5lTnVtYmVyRm9yKG9wdGlvbnMsIGkpIHtcbiAgICByZXR1cm4gU3RyaW5nKG9wdGlvbnMubGluZU51bWJlckZvcm1hdHRlcihpICsgb3B0aW9ucy5maXJzdExpbmVOdW1iZXIpKTtcbiAgfVxuXG4gIC8vIENvbXB1dGVzIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCArIGRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCxcbiAgLy8gYnV0IHVzaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCB0byBnZXQgYSBzdWItcGl4ZWwtYWNjdXJhdGVcbiAgLy8gcmVzdWx0LlxuICBmdW5jdGlvbiBjb21wZW5zYXRlRm9ySFNjcm9sbChkaXNwbGF5KSB7XG4gICAgcmV0dXJuIGRpc3BsYXkuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIGRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgfVxuXG4gIC8vIERJU1BMQVkgRFJBV0lOR1xuXG4gIGZ1bmN0aW9uIERpc3BsYXlVcGRhdGUoY20sIHZpZXdwb3J0LCBmb3JjZSkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcblxuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAvLyBTdG9yZSBzb21lIHZhbHVlcyB0aGF0IHdlJ2xsIG5lZWQgbGF0ZXIgKGJ1dCBkb24ndCB3YW50IHRvIGZvcmNlIGEgcmVsYXlvdXQgZm9yKVxuICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGVMaW5lcyhkaXNwbGF5LCBjbS5kb2MsIHZpZXdwb3J0KTtcbiAgICB0aGlzLmVkaXRvcklzSGlkZGVuID0gIWRpc3BsYXkud3JhcHBlci5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLndyYXBwZXJIZWlnaHQgPSBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuICAgIHRoaXMud3JhcHBlcldpZHRoID0gZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoO1xuICAgIHRoaXMub2xkRGlzcGxheVdpZHRoID0gZGlzcGxheVdpZHRoKGNtKTtcbiAgICB0aGlzLmZvcmNlID0gZm9yY2U7XG4gICAgdGhpcy5kaW1zID0gZ2V0RGltZW5zaW9ucyhjbSk7XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgfVxuXG4gIERpc3BsYXlVcGRhdGUucHJvdG90eXBlLnNpZ25hbCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgICBpZiAoaGFzSGFuZGxlcihlbWl0dGVyLCB0eXBlKSlcbiAgICAgIHRoaXMuZXZlbnRzLnB1c2goYXJndW1lbnRzKTtcbiAgfTtcbiAgRGlzcGxheVVwZGF0ZS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIHNpZ25hbC5hcHBseShudWxsLCB0aGlzLmV2ZW50c1tpXSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWF5YmVDbGlwU2Nyb2xsYmFycyhjbSkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAoIWRpc3BsYXkuc2Nyb2xsYmFyc0NsaXBwZWQgJiYgZGlzcGxheS5zY3JvbGxlci5vZmZzZXRXaWR0aCkge1xuICAgICAgZGlzcGxheS5uYXRpdmVCYXJXaWR0aCA9IGRpc3BsYXkuc2Nyb2xsZXIub2Zmc2V0V2lkdGggLSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoO1xuICAgICAgZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUuaGVpZ2h0ID0gc2Nyb2xsR2FwKGNtKSArIFwicHhcIjtcbiAgICAgIGRpc3BsYXkuc2l6ZXIuc3R5bGUubWFyZ2luQm90dG9tID0gLWRpc3BsYXkubmF0aXZlQmFyV2lkdGggKyBcInB4XCI7XG4gICAgICBkaXNwbGF5LnNpemVyLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGggPSBzY3JvbGxHYXAoY20pICsgXCJweFwiO1xuICAgICAgZGlzcGxheS5zY3JvbGxiYXJzQ2xpcHBlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gRG9lcyB0aGUgYWN0dWFsIHVwZGF0aW5nIG9mIHRoZSBsaW5lIGRpc3BsYXkuIEJhaWxzIG91dFxuICAvLyAocmV0dXJuaW5nIGZhbHNlKSB3aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gYmUgZG9uZSBhbmQgZm9yY2VkIGlzXG4gIC8vIGZhbHNlLlxuICBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5SWZOZWVkZWQoY20sIHVwZGF0ZSkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuXG4gICAgaWYgKHVwZGF0ZS5lZGl0b3JJc0hpZGRlbikge1xuICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBCYWlsIG91dCBpZiB0aGUgdmlzaWJsZSBhcmVhIGlzIGFscmVhZHkgcmVuZGVyZWQgYW5kIG5vdGhpbmcgY2hhbmdlZC5cbiAgICBpZiAoIXVwZGF0ZS5mb3JjZSAmJlxuICAgICAgICB1cGRhdGUudmlzaWJsZS5mcm9tID49IGRpc3BsYXkudmlld0Zyb20gJiYgdXBkYXRlLnZpc2libGUudG8gPD0gZGlzcGxheS52aWV3VG8gJiZcbiAgICAgICAgKGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPT0gbnVsbCB8fCBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID49IGRpc3BsYXkudmlld1RvKSAmJlxuICAgICAgICBkaXNwbGF5LnJlbmRlcmVkVmlldyA9PSBkaXNwbGF5LnZpZXcgJiYgY291bnREaXJ0eVZpZXcoY20pID09IDApXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAobWF5YmVVcGRhdGVMaW5lTnVtYmVyV2lkdGgoY20pKSB7XG4gICAgICByZXNldFZpZXcoY20pO1xuICAgICAgdXBkYXRlLmRpbXMgPSBnZXREaW1lbnNpb25zKGNtKTtcbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIGEgc3VpdGFibGUgbmV3IHZpZXdwb3J0IChmcm9tICYgdG8pXG4gICAgdmFyIGVuZCA9IGRvYy5maXJzdCArIGRvYy5zaXplO1xuICAgIHZhciBmcm9tID0gTWF0aC5tYXgodXBkYXRlLnZpc2libGUuZnJvbSAtIGNtLm9wdGlvbnMudmlld3BvcnRNYXJnaW4sIGRvYy5maXJzdCk7XG4gICAgdmFyIHRvID0gTWF0aC5taW4oZW5kLCB1cGRhdGUudmlzaWJsZS50byArIGNtLm9wdGlvbnMudmlld3BvcnRNYXJnaW4pO1xuICAgIGlmIChkaXNwbGF5LnZpZXdGcm9tIDwgZnJvbSAmJiBmcm9tIC0gZGlzcGxheS52aWV3RnJvbSA8IDIwKSBmcm9tID0gTWF0aC5tYXgoZG9jLmZpcnN0LCBkaXNwbGF5LnZpZXdGcm9tKTtcbiAgICBpZiAoZGlzcGxheS52aWV3VG8gPiB0byAmJiBkaXNwbGF5LnZpZXdUbyAtIHRvIDwgMjApIHRvID0gTWF0aC5taW4oZW5kLCBkaXNwbGF5LnZpZXdUbyk7XG4gICAgaWYgKHNhd0NvbGxhcHNlZFNwYW5zKSB7XG4gICAgICBmcm9tID0gdmlzdWFsTGluZU5vKGNtLmRvYywgZnJvbSk7XG4gICAgICB0byA9IHZpc3VhbExpbmVFbmRObyhjbS5kb2MsIHRvKTtcbiAgICB9XG5cbiAgICB2YXIgZGlmZmVyZW50ID0gZnJvbSAhPSBkaXNwbGF5LnZpZXdGcm9tIHx8IHRvICE9IGRpc3BsYXkudmlld1RvIHx8XG4gICAgICBkaXNwbGF5Lmxhc3RXcmFwSGVpZ2h0ICE9IHVwZGF0ZS53cmFwcGVySGVpZ2h0IHx8IGRpc3BsYXkubGFzdFdyYXBXaWR0aCAhPSB1cGRhdGUud3JhcHBlcldpZHRoO1xuICAgIGFkanVzdFZpZXcoY20sIGZyb20sIHRvKTtcblxuICAgIGRpc3BsYXkudmlld09mZnNldCA9IGhlaWdodEF0TGluZShnZXRMaW5lKGNtLmRvYywgZGlzcGxheS52aWV3RnJvbSkpO1xuICAgIC8vIFBvc2l0aW9uIHRoZSBtb3ZlciBkaXYgdG8gYWxpZ24gd2l0aCB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgICBjbS5kaXNwbGF5Lm1vdmVyLnN0eWxlLnRvcCA9IGRpc3BsYXkudmlld09mZnNldCArIFwicHhcIjtcblxuICAgIHZhciB0b1VwZGF0ZSA9IGNvdW50RGlydHlWaWV3KGNtKTtcbiAgICBpZiAoIWRpZmZlcmVudCAmJiB0b1VwZGF0ZSA9PSAwICYmICF1cGRhdGUuZm9yY2UgJiYgZGlzcGxheS5yZW5kZXJlZFZpZXcgPT0gZGlzcGxheS52aWV3ICYmXG4gICAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+PSBkaXNwbGF5LnZpZXdUbykpXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBGb3IgYmlnIGNoYW5nZXMsIHdlIGhpZGUgdGhlIGVuY2xvc2luZyBlbGVtZW50IGR1cmluZyB0aGVcbiAgICAvLyB1cGRhdGUsIHNpbmNlIHRoYXQgc3BlZWRzIHVwIHRoZSBvcGVyYXRpb25zIG9uIG1vc3QgYnJvd3NlcnMuXG4gICAgdmFyIGZvY3VzZWQgPSBhY3RpdmVFbHQoKTtcbiAgICBpZiAodG9VcGRhdGUgPiA0KSBkaXNwbGF5LmxpbmVEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHBhdGNoRGlzcGxheShjbSwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycywgdXBkYXRlLmRpbXMpO1xuICAgIGlmICh0b1VwZGF0ZSA+IDQpIGRpc3BsYXkubGluZURpdi5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICBkaXNwbGF5LnJlbmRlcmVkVmlldyA9IGRpc3BsYXkudmlldztcbiAgICAvLyBUaGVyZSBtaWdodCBoYXZlIGJlZW4gYSB3aWRnZXQgd2l0aCBhIGZvY3VzZWQgZWxlbWVudCB0aGF0IGdvdFxuICAgIC8vIGhpZGRlbiBvciB1cGRhdGVkLCBpZiBzbyByZS1mb2N1cyBpdC5cbiAgICBpZiAoZm9jdXNlZCAmJiBhY3RpdmVFbHQoKSAhPSBmb2N1c2VkICYmIGZvY3VzZWQub2Zmc2V0SGVpZ2h0KSBmb2N1c2VkLmZvY3VzKCk7XG5cbiAgICAvLyBQcmV2ZW50IHNlbGVjdGlvbiBhbmQgY3Vyc29ycyBmcm9tIGludGVyZmVyaW5nIHdpdGggdGhlIHNjcm9sbFxuICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5jdXJzb3JEaXYpO1xuICAgIHJlbW92ZUNoaWxkcmVuKGRpc3BsYXkuc2VsZWN0aW9uRGl2KTtcbiAgICBkaXNwbGF5Lmd1dHRlcnMuc3R5bGUuaGVpZ2h0ID0gZGlzcGxheS5zaXplci5zdHlsZS5taW5IZWlnaHQgPSAwO1xuXG4gICAgaWYgKGRpZmZlcmVudCkge1xuICAgICAgZGlzcGxheS5sYXN0V3JhcEhlaWdodCA9IHVwZGF0ZS53cmFwcGVySGVpZ2h0O1xuICAgICAgZGlzcGxheS5sYXN0V3JhcFdpZHRoID0gdXBkYXRlLndyYXBwZXJXaWR0aDtcbiAgICAgIHN0YXJ0V29ya2VyKGNtLCA0MDApO1xuICAgIH1cblxuICAgIGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPSBudWxsO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0VXBkYXRlRGlzcGxheShjbSwgdXBkYXRlKSB7XG4gICAgdmFyIHZpZXdwb3J0ID0gdXBkYXRlLnZpZXdwb3J0O1xuXG4gICAgZm9yICh2YXIgZmlyc3QgPSB0cnVlOzsgZmlyc3QgPSBmYWxzZSkge1xuICAgICAgaWYgKCFmaXJzdCB8fCAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgfHwgdXBkYXRlLm9sZERpc3BsYXlXaWR0aCA9PSBkaXNwbGF5V2lkdGgoY20pKSB7XG4gICAgICAgIC8vIENsaXAgZm9yY2VkIHZpZXdwb3J0IHRvIGFjdHVhbCBzY3JvbGxhYmxlIGFyZWEuXG4gICAgICAgIGlmICh2aWV3cG9ydCAmJiB2aWV3cG9ydC50b3AgIT0gbnVsbClcbiAgICAgICAgICB2aWV3cG9ydCA9IHt0b3A6IE1hdGgubWluKGNtLmRvYy5oZWlnaHQgKyBwYWRkaW5nVmVydChjbS5kaXNwbGF5KSAtIGRpc3BsYXlIZWlnaHQoY20pLCB2aWV3cG9ydC50b3ApfTtcbiAgICAgICAgLy8gVXBkYXRlZCBsaW5lIGhlaWdodHMgbWlnaHQgcmVzdWx0IGluIHRoZSBkcmF3biBhcmVhIG5vdFxuICAgICAgICAvLyBhY3R1YWxseSBjb3ZlcmluZyB0aGUgdmlld3BvcnQuIEtlZXAgbG9vcGluZyB1bnRpbCBpdCBkb2VzLlxuICAgICAgICB1cGRhdGUudmlzaWJsZSA9IHZpc2libGVMaW5lcyhjbS5kaXNwbGF5LCBjbS5kb2MsIHZpZXdwb3J0KTtcbiAgICAgICAgaWYgKHVwZGF0ZS52aXNpYmxlLmZyb20gPj0gY20uZGlzcGxheS52aWV3RnJvbSAmJiB1cGRhdGUudmlzaWJsZS50byA8PSBjbS5kaXNwbGF5LnZpZXdUbylcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICghdXBkYXRlRGlzcGxheUlmTmVlZGVkKGNtLCB1cGRhdGUpKSBicmVhaztcbiAgICAgIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTtcbiAgICAgIHZhciBiYXJNZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pO1xuICAgICAgdXBkYXRlU2VsZWN0aW9uKGNtKTtcbiAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20sIGJhck1lYXN1cmUpO1xuICAgICAgc2V0RG9jdW1lbnRIZWlnaHQoY20sIGJhck1lYXN1cmUpO1xuICAgIH1cblxuICAgIHVwZGF0ZS5zaWduYWwoY20sIFwidXBkYXRlXCIsIGNtKTtcbiAgICBpZiAoY20uZGlzcGxheS52aWV3RnJvbSAhPSBjbS5kaXNwbGF5LnJlcG9ydGVkVmlld0Zyb20gfHwgY20uZGlzcGxheS52aWV3VG8gIT0gY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbykge1xuICAgICAgdXBkYXRlLnNpZ25hbChjbSwgXCJ2aWV3cG9ydENoYW5nZVwiLCBjbSwgY20uZGlzcGxheS52aWV3RnJvbSwgY20uZGlzcGxheS52aWV3VG8pO1xuICAgICAgY20uZGlzcGxheS5yZXBvcnRlZFZpZXdGcm9tID0gY20uZGlzcGxheS52aWV3RnJvbTsgY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbyA9IGNtLmRpc3BsYXkudmlld1RvO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHZpZXdwb3J0KSB7XG4gICAgdmFyIHVwZGF0ZSA9IG5ldyBEaXNwbGF5VXBkYXRlKGNtLCB2aWV3cG9ydCk7XG4gICAgaWYgKHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkge1xuICAgICAgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pO1xuICAgICAgcG9zdFVwZGF0ZURpc3BsYXkoY20sIHVwZGF0ZSk7XG4gICAgICB2YXIgYmFyTWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSk7XG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHNldERvY3VtZW50SGVpZ2h0KGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHVwZGF0ZS5maW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXREb2N1bWVudEhlaWdodChjbSwgbWVhc3VyZSkge1xuICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0ID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCI7XG4gICAgY20uZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUudG9wID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCI7XG4gICAgY20uZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmhlaWdodCA9IChtZWFzdXJlLmRvY0hlaWdodCArIGNtLmRpc3BsYXkuYmFySGVpZ2h0ICsgc2Nyb2xsR2FwKGNtKSkgKyBcInB4XCI7XG4gIH1cblxuICAvLyBSZWFkIHRoZSBhY3R1YWwgaGVpZ2h0cyBvZiB0aGUgcmVuZGVyZWQgbGluZXMsIGFuZCB1cGRhdGUgdGhlaXJcbiAgLy8gc3RvcmVkIGhlaWdodHMgdG8gbWF0Y2guXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIHZhciBwcmV2Qm90dG9tID0gZGlzcGxheS5saW5lRGl2Lm9mZnNldFRvcDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BsYXkudmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1ciA9IGRpc3BsYXkudmlld1tpXSwgaGVpZ2h0O1xuICAgICAgaWYgKGN1ci5oaWRkZW4pIGNvbnRpbnVlO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSB7XG4gICAgICAgIHZhciBib3QgPSBjdXIubm9kZS5vZmZzZXRUb3AgKyBjdXIubm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGhlaWdodCA9IGJvdCAtIHByZXZCb3R0b207XG4gICAgICAgIHByZXZCb3R0b20gPSBib3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYm94ID0gY3VyLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGhlaWdodCA9IGJveC5ib3R0b20gLSBib3gudG9wO1xuICAgICAgfVxuICAgICAgdmFyIGRpZmYgPSBjdXIubGluZS5oZWlnaHQgLSBoZWlnaHQ7XG4gICAgICBpZiAoaGVpZ2h0IDwgMikgaGVpZ2h0ID0gdGV4dEhlaWdodChkaXNwbGF5KTtcbiAgICAgIGlmIChkaWZmID4gLjAwMSB8fCBkaWZmIDwgLS4wMDEpIHtcbiAgICAgICAgdXBkYXRlTGluZUhlaWdodChjdXIubGluZSwgaGVpZ2h0KTtcbiAgICAgICAgdXBkYXRlV2lkZ2V0SGVpZ2h0KGN1ci5saW5lKTtcbiAgICAgICAgaWYgKGN1ci5yZXN0KSBmb3IgKHZhciBqID0gMDsgaiA8IGN1ci5yZXN0Lmxlbmd0aDsgaisrKVxuICAgICAgICAgIHVwZGF0ZVdpZGdldEhlaWdodChjdXIucmVzdFtqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmVhZCBhbmQgc3RvcmUgdGhlIGhlaWdodCBvZiBsaW5lIHdpZGdldHMgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAvLyBnaXZlbiBsaW5lLlxuICBmdW5jdGlvbiB1cGRhdGVXaWRnZXRIZWlnaHQobGluZSkge1xuICAgIGlmIChsaW5lLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgKytpKVxuICAgICAgbGluZS53aWRnZXRzW2ldLmhlaWdodCA9IGxpbmUud2lkZ2V0c1tpXS5ub2RlLnBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgLy8gRG8gYSBidWxrLXJlYWQgb2YgdGhlIERPTSBwb3NpdGlvbnMgYW5kIHNpemVzIG5lZWRlZCB0byBkcmF3IHRoZVxuICAvLyB2aWV3LCBzbyB0aGF0IHdlIGRvbid0IGludGVybGVhdmUgcmVhZGluZyBhbmQgd3JpdGluZyB0byB0aGUgRE9NLlxuICBmdW5jdGlvbiBnZXREaW1lbnNpb25zKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5LCBsZWZ0ID0ge30sIHdpZHRoID0ge307XG4gICAgdmFyIGd1dHRlckxlZnQgPSBkLmd1dHRlcnMuY2xpZW50TGVmdDtcbiAgICBmb3IgKHZhciBuID0gZC5ndXR0ZXJzLmZpcnN0Q2hpbGQsIGkgPSAwOyBuOyBuID0gbi5uZXh0U2libGluZywgKytpKSB7XG4gICAgICBsZWZ0W2NtLm9wdGlvbnMuZ3V0dGVyc1tpXV0gPSBuLm9mZnNldExlZnQgKyBuLmNsaWVudExlZnQgKyBndXR0ZXJMZWZ0O1xuICAgICAgd2lkdGhbY20ub3B0aW9ucy5ndXR0ZXJzW2ldXSA9IG4uY2xpZW50V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7Zml4ZWRQb3M6IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGQpLFxuICAgICAgICAgICAgZ3V0dGVyVG90YWxXaWR0aDogZC5ndXR0ZXJzLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgZ3V0dGVyTGVmdDogbGVmdCxcbiAgICAgICAgICAgIGd1dHRlcldpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHdyYXBwZXJXaWR0aDogZC53cmFwcGVyLmNsaWVudFdpZHRofTtcbiAgfVxuXG4gIC8vIFN5bmMgdGhlIGFjdHVhbCBkaXNwbGF5IERPTSBzdHJ1Y3R1cmUgd2l0aCBkaXNwbGF5LnZpZXcsIHJlbW92aW5nXG4gIC8vIG5vZGVzIGZvciBsaW5lcyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdmlldywgYW5kIGNyZWF0aW5nIHRoZSBvbmVzXG4gIC8vIHRoYXQgYXJlIG5vdCB0aGVyZSB5ZXQsIGFuZCB1cGRhdGluZyB0aGUgb25lcyB0aGF0IGFyZSBvdXQgb2ZcbiAgLy8gZGF0ZS5cbiAgZnVuY3Rpb24gcGF0Y2hEaXNwbGF5KGNtLCB1cGRhdGVOdW1iZXJzRnJvbSwgZGltcykge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgbGluZU51bWJlcnMgPSBjbS5vcHRpb25zLmxpbmVOdW1iZXJzO1xuICAgIHZhciBjb250YWluZXIgPSBkaXNwbGF5LmxpbmVEaXYsIGN1ciA9IGNvbnRhaW5lci5maXJzdENoaWxkO1xuXG4gICAgZnVuY3Rpb24gcm0obm9kZSkge1xuICAgICAgdmFyIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgLy8gV29ya3MgYXJvdW5kIGEgdGhyb3ctc2Nyb2xsIGJ1ZyBpbiBPUyBYIFdlYmtpdFxuICAgICAgaWYgKHdlYmtpdCAmJiBtYWMgJiYgY20uZGlzcGxheS5jdXJyZW50V2hlZWxUYXJnZXQgPT0gbm9kZSlcbiAgICAgICAgbm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBlbHNlXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cblxuICAgIHZhciB2aWV3ID0gZGlzcGxheS52aWV3LCBsaW5lTiA9IGRpc3BsYXkudmlld0Zyb207XG4gICAgLy8gTG9vcCBvdmVyIHRoZSBlbGVtZW50cyBpbiB0aGUgdmlldywgc3luY2luZyBjdXIgKHRoZSBET00gbm9kZXNcbiAgICAvLyBpbiBkaXNwbGF5LmxpbmVEaXYpIHdpdGggdGhlIHZpZXcgYXMgd2UgZ28uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGluZVZpZXcgPSB2aWV3W2ldO1xuICAgICAgaWYgKGxpbmVWaWV3LmhpZGRlbikge1xuICAgICAgfSBlbHNlIGlmICghbGluZVZpZXcubm9kZSB8fCBsaW5lVmlldy5ub2RlLnBhcmVudE5vZGUgIT0gY29udGFpbmVyKSB7IC8vIE5vdCBkcmF3biB5ZXRcbiAgICAgICAgdmFyIG5vZGUgPSBidWlsZExpbmVFbGVtZW50KGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpO1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKG5vZGUsIGN1cik7XG4gICAgICB9IGVsc2UgeyAvLyBBbHJlYWR5IGRyYXduXG4gICAgICAgIHdoaWxlIChjdXIgIT0gbGluZVZpZXcubm9kZSkgY3VyID0gcm0oY3VyKTtcbiAgICAgICAgdmFyIHVwZGF0ZU51bWJlciA9IGxpbmVOdW1iZXJzICYmIHVwZGF0ZU51bWJlcnNGcm9tICE9IG51bGwgJiZcbiAgICAgICAgICB1cGRhdGVOdW1iZXJzRnJvbSA8PSBsaW5lTiAmJiBsaW5lVmlldy5saW5lTnVtYmVyO1xuICAgICAgICBpZiAobGluZVZpZXcuY2hhbmdlcykge1xuICAgICAgICAgIGlmIChpbmRleE9mKGxpbmVWaWV3LmNoYW5nZXMsIFwiZ3V0dGVyXCIpID4gLTEpIHVwZGF0ZU51bWJlciA9IGZhbHNlO1xuICAgICAgICAgIHVwZGF0ZUxpbmVGb3JDaGFuZ2VzKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVOdW1iZXIpIHtcbiAgICAgICAgICByZW1vdmVDaGlsZHJlbihsaW5lVmlldy5saW5lTnVtYmVyKTtcbiAgICAgICAgICBsaW5lVmlldy5saW5lTnVtYmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxpbmVOdW1iZXJGb3IoY20ub3B0aW9ucywgbGluZU4pKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VyID0gbGluZVZpZXcubm9kZS5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIGxpbmVOICs9IGxpbmVWaWV3LnNpemU7XG4gICAgfVxuICAgIHdoaWxlIChjdXIpIGN1ciA9IHJtKGN1cik7XG4gIH1cblxuICAvLyBXaGVuIGFuIGFzcGVjdCBvZiBhIGxpbmUgY2hhbmdlcywgYSBzdHJpbmcgaXMgYWRkZWQgdG9cbiAgLy8gbGluZVZpZXcuY2hhbmdlcy4gVGhpcyB1cGRhdGVzIHRoZSByZWxldmFudCBwYXJ0IG9mIHRoZSBsaW5lJ3NcbiAgLy8gRE9NIHN0cnVjdHVyZS5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUZvckNoYW5nZXMoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykge1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZVZpZXcuY2hhbmdlcy5sZW5ndGg7IGorKykge1xuICAgICAgdmFyIHR5cGUgPSBsaW5lVmlldy5jaGFuZ2VzW2pdO1xuICAgICAgaWYgKHR5cGUgPT0gXCJ0ZXh0XCIpIHVwZGF0ZUxpbmVUZXh0KGNtLCBsaW5lVmlldyk7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwiZ3V0dGVyXCIpIHVwZGF0ZUxpbmVHdXR0ZXIoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcyk7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwiY2xhc3NcIikgdXBkYXRlTGluZUNsYXNzZXMobGluZVZpZXcpO1xuICAgICAgZWxzZSBpZiAodHlwZSA9PSBcIndpZGdldFwiKSB1cGRhdGVMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpO1xuICAgIH1cbiAgICBsaW5lVmlldy5jaGFuZ2VzID0gbnVsbDtcbiAgfVxuXG4gIC8vIExpbmVzIHdpdGggZ3V0dGVyIGVsZW1lbnRzLCB3aWRnZXRzIG9yIGEgYmFja2dyb3VuZCBjbGFzcyBuZWVkIHRvXG4gIC8vIGJlIHdyYXBwZWQsIGFuZCBoYXZlIHRoZSBleHRyYSBlbGVtZW50cyBhZGRlZCB0byB0aGUgd3JhcHBlciBkaXZcbiAgZnVuY3Rpb24gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpIHtcbiAgICBpZiAobGluZVZpZXcubm9kZSA9PSBsaW5lVmlldy50ZXh0KSB7XG4gICAgICBsaW5lVmlldy5ub2RlID0gZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IHJlbGF0aXZlXCIpO1xuICAgICAgaWYgKGxpbmVWaWV3LnRleHQucGFyZW50Tm9kZSlcbiAgICAgICAgbGluZVZpZXcudGV4dC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChsaW5lVmlldy5ub2RlLCBsaW5lVmlldy50ZXh0KTtcbiAgICAgIGxpbmVWaWV3Lm5vZGUuYXBwZW5kQ2hpbGQobGluZVZpZXcudGV4dCk7XG4gICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIGxpbmVWaWV3Lm5vZGUuc3R5bGUuekluZGV4ID0gMjtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVWaWV3Lm5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaW5lQmFja2dyb3VuZChsaW5lVmlldykge1xuICAgIHZhciBjbHMgPSBsaW5lVmlldy5iZ0NsYXNzID8gbGluZVZpZXcuYmdDbGFzcyArIFwiIFwiICsgKGxpbmVWaWV3LmxpbmUuYmdDbGFzcyB8fCBcIlwiKSA6IGxpbmVWaWV3LmxpbmUuYmdDbGFzcztcbiAgICBpZiAoY2xzKSBjbHMgKz0gXCIgQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZFwiO1xuICAgIGlmIChsaW5lVmlldy5iYWNrZ3JvdW5kKSB7XG4gICAgICBpZiAoY2xzKSBsaW5lVmlldy5iYWNrZ3JvdW5kLmNsYXNzTmFtZSA9IGNscztcbiAgICAgIGVsc2UgeyBsaW5lVmlldy5iYWNrZ3JvdW5kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGluZVZpZXcuYmFja2dyb3VuZCk7IGxpbmVWaWV3LmJhY2tncm91bmQgPSBudWxsOyB9XG4gICAgfSBlbHNlIGlmIChjbHMpIHtcbiAgICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgICAgbGluZVZpZXcuYmFja2dyb3VuZCA9IHdyYXAuaW5zZXJ0QmVmb3JlKGVsdChcImRpdlwiLCBudWxsLCBjbHMpLCB3cmFwLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdyYXBwZXIgYXJvdW5kIGJ1aWxkTGluZUNvbnRlbnQgd2hpY2ggd2lsbCByZXVzZSB0aGUgc3RydWN0dXJlXG4gIC8vIGluIGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCB3aGVuIHBvc3NpYmxlLlxuICBmdW5jdGlvbiBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpIHtcbiAgICB2YXIgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQgJiYgZXh0LmxpbmUgPT0gbGluZVZpZXcubGluZSkge1xuICAgICAgY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDtcbiAgICAgIGxpbmVWaWV3Lm1lYXN1cmUgPSBleHQubWVhc3VyZTtcbiAgICAgIHJldHVybiBleHQuYnVpbHQ7XG4gICAgfVxuICAgIHJldHVybiBidWlsZExpbmVDb250ZW50KGNtLCBsaW5lVmlldyk7XG4gIH1cblxuICAvLyBSZWRyYXcgdGhlIGxpbmUncyB0ZXh0LiBJbnRlcmFjdHMgd2l0aCB0aGUgYmFja2dyb3VuZCBhbmQgdGV4dFxuICAvLyBjbGFzc2VzIGJlY2F1c2UgdGhlIG1vZGUgbWF5IG91dHB1dCB0b2tlbnMgdGhhdCBpbmZsdWVuY2UgdGhlc2VcbiAgLy8gY2xhc3Nlcy5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZVRleHQoY20sIGxpbmVWaWV3KSB7XG4gICAgdmFyIGNscyA9IGxpbmVWaWV3LnRleHQuY2xhc3NOYW1lO1xuICAgIHZhciBidWlsdCA9IGdldExpbmVDb250ZW50KGNtLCBsaW5lVmlldyk7XG4gICAgaWYgKGxpbmVWaWV3LnRleHQgPT0gbGluZVZpZXcubm9kZSkgbGluZVZpZXcubm9kZSA9IGJ1aWx0LnByZTtcbiAgICBsaW5lVmlldy50ZXh0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGJ1aWx0LnByZSwgbGluZVZpZXcudGV4dCk7XG4gICAgbGluZVZpZXcudGV4dCA9IGJ1aWx0LnByZTtcbiAgICBpZiAoYnVpbHQuYmdDbGFzcyAhPSBsaW5lVmlldy5iZ0NsYXNzIHx8IGJ1aWx0LnRleHRDbGFzcyAhPSBsaW5lVmlldy50ZXh0Q2xhc3MpIHtcbiAgICAgIGxpbmVWaWV3LmJnQ2xhc3MgPSBidWlsdC5iZ0NsYXNzO1xuICAgICAgbGluZVZpZXcudGV4dENsYXNzID0gYnVpbHQudGV4dENsYXNzO1xuICAgICAgdXBkYXRlTGluZUNsYXNzZXMobGluZVZpZXcpO1xuICAgIH0gZWxzZSBpZiAoY2xzKSB7XG4gICAgICBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZSA9IGNscztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldykge1xuICAgIHVwZGF0ZUxpbmVCYWNrZ3JvdW5kKGxpbmVWaWV3KTtcbiAgICBpZiAobGluZVZpZXcubGluZS53cmFwQ2xhc3MpXG4gICAgICBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykuY2xhc3NOYW1lID0gbGluZVZpZXcubGluZS53cmFwQ2xhc3M7XG4gICAgZWxzZSBpZiAobGluZVZpZXcubm9kZSAhPSBsaW5lVmlldy50ZXh0KVxuICAgICAgbGluZVZpZXcubm9kZS5jbGFzc05hbWUgPSBcIlwiO1xuICAgIHZhciB0ZXh0Q2xhc3MgPSBsaW5lVmlldy50ZXh0Q2xhc3MgPyBsaW5lVmlldy50ZXh0Q2xhc3MgKyBcIiBcIiArIChsaW5lVmlldy5saW5lLnRleHRDbGFzcyB8fCBcIlwiKSA6IGxpbmVWaWV3LmxpbmUudGV4dENsYXNzO1xuICAgIGxpbmVWaWV3LnRleHQuY2xhc3NOYW1lID0gdGV4dENsYXNzIHx8IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaW5lR3V0dGVyKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpIHtcbiAgICBpZiAobGluZVZpZXcuZ3V0dGVyKSB7XG4gICAgICBsaW5lVmlldy5ub2RlLnJlbW92ZUNoaWxkKGxpbmVWaWV3Lmd1dHRlcik7XG4gICAgICBsaW5lVmlldy5ndXR0ZXIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCkge1xuICAgICAgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kKTtcbiAgICAgIGxpbmVWaWV3Lmd1dHRlckJhY2tncm91bmQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobGluZVZpZXcubGluZS5ndXR0ZXJDbGFzcykge1xuICAgICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldyk7XG4gICAgICBsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXItYmFja2dyb3VuZCBcIiArIGxpbmVWaWV3LmxpbmUuZ3V0dGVyQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGVmdDogXCIgKyAoY20ub3B0aW9ucy5maXhlZEd1dHRlciA/IGRpbXMuZml4ZWRQb3MgOiAtZGltcy5ndXR0ZXJUb3RhbFdpZHRoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHg7IHdpZHRoOiBcIiArIGRpbXMuZ3V0dGVyVG90YWxXaWR0aCArIFwicHhcIik7XG4gICAgICB3cmFwLmluc2VydEJlZm9yZShsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kLCBsaW5lVmlldy50ZXh0KTtcbiAgICB9XG4gICAgdmFyIG1hcmtlcnMgPSBsaW5lVmlldy5saW5lLmd1dHRlck1hcmtlcnM7XG4gICAgaWYgKGNtLm9wdGlvbnMubGluZU51bWJlcnMgfHwgbWFya2Vycykge1xuICAgICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldyk7XG4gICAgICB2YXIgZ3V0dGVyV3JhcCA9IGxpbmVWaWV3Lmd1dHRlciA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyLXdyYXBwZXJcIiwgXCJsZWZ0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY20ub3B0aW9ucy5maXhlZEd1dHRlciA/IGRpbXMuZml4ZWRQb3MgOiAtZGltcy5ndXR0ZXJUb3RhbFdpZHRoKSArIFwicHhcIik7XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUoZ3V0dGVyV3JhcCk7XG4gICAgICB3cmFwLmluc2VydEJlZm9yZShndXR0ZXJXcmFwLCBsaW5lVmlldy50ZXh0KTtcbiAgICAgIGlmIChsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzKVxuICAgICAgICBndXR0ZXJXcmFwLmNsYXNzTmFtZSArPSBcIiBcIiArIGxpbmVWaWV3LmxpbmUuZ3V0dGVyQ2xhc3M7XG4gICAgICBpZiAoY20ub3B0aW9ucy5saW5lTnVtYmVycyAmJiAoIW1hcmtlcnMgfHwgIW1hcmtlcnNbXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCJdKSlcbiAgICAgICAgbGluZVZpZXcubGluZU51bWJlciA9IGd1dHRlcldyYXAuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgZWx0KFwiZGl2XCIsIGxpbmVOdW1iZXJGb3IoY20ub3B0aW9ucywgbGluZU4pLFxuICAgICAgICAgICAgICBcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIixcbiAgICAgICAgICAgICAgXCJsZWZ0OiBcIiArIGRpbXMuZ3V0dGVyTGVmdFtcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl0gKyBcInB4OyB3aWR0aDogXCJcbiAgICAgICAgICAgICAgKyBjbS5kaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoICsgXCJweFwiKSk7XG4gICAgICBpZiAobWFya2VycykgZm9yICh2YXIgayA9IDA7IGsgPCBjbS5vcHRpb25zLmd1dHRlcnMubGVuZ3RoOyArK2spIHtcbiAgICAgICAgdmFyIGlkID0gY20ub3B0aW9ucy5ndXR0ZXJzW2tdLCBmb3VuZCA9IG1hcmtlcnMuaGFzT3duUHJvcGVydHkoaWQpICYmIG1hcmtlcnNbaWRdO1xuICAgICAgICBpZiAoZm91bmQpXG4gICAgICAgICAgZ3V0dGVyV3JhcC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgW2ZvdW5kXSwgXCJDb2RlTWlycm9yLWd1dHRlci1lbHRcIiwgXCJsZWZ0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5ndXR0ZXJMZWZ0W2lkXSArIFwicHg7IHdpZHRoOiBcIiArIGRpbXMuZ3V0dGVyV2lkdGhbaWRdICsgXCJweFwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZVdpZGdldHMoY20sIGxpbmVWaWV3LCBkaW1zKSB7XG4gICAgaWYgKGxpbmVWaWV3LmFsaWduYWJsZSkgbGluZVZpZXcuYWxpZ25hYmxlID0gbnVsbDtcbiAgICBmb3IgKHZhciBub2RlID0gbGluZVZpZXcubm9kZS5maXJzdENoaWxkLCBuZXh0OyBub2RlOyBub2RlID0gbmV4dCkge1xuICAgICAgdmFyIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgaWYgKG5vZGUuY2xhc3NOYW1lID09IFwiQ29kZU1pcnJvci1saW5ld2lkZ2V0XCIpXG4gICAgICAgIGxpbmVWaWV3Lm5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxuICAgIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcyk7XG4gIH1cblxuICAvLyBCdWlsZCBhIGxpbmUncyBET00gcmVwcmVzZW50YXRpb24gZnJvbSBzY3JhdGNoXG4gIGZ1bmN0aW9uIGJ1aWxkTGluZUVsZW1lbnQoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykge1xuICAgIHZhciBidWlsdCA9IGdldExpbmVDb250ZW50KGNtLCBsaW5lVmlldyk7XG4gICAgbGluZVZpZXcudGV4dCA9IGxpbmVWaWV3Lm5vZGUgPSBidWlsdC5wcmU7XG4gICAgaWYgKGJ1aWx0LmJnQ2xhc3MpIGxpbmVWaWV3LmJnQ2xhc3MgPSBidWlsdC5iZ0NsYXNzO1xuICAgIGlmIChidWlsdC50ZXh0Q2xhc3MpIGxpbmVWaWV3LnRleHRDbGFzcyA9IGJ1aWx0LnRleHRDbGFzcztcblxuICAgIHVwZGF0ZUxpbmVDbGFzc2VzKGxpbmVWaWV3KTtcbiAgICB1cGRhdGVMaW5lR3V0dGVyKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpO1xuICAgIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcyk7XG4gICAgcmV0dXJuIGxpbmVWaWV3Lm5vZGU7XG4gIH1cblxuICAvLyBBIGxpbmVWaWV3IG1heSBjb250YWluIG11bHRpcGxlIGxvZ2ljYWwgbGluZXMgKHdoZW4gbWVyZ2VkIGJ5XG4gIC8vIGNvbGxhcHNlZCBzcGFucykuIFRoZSB3aWRnZXRzIGZvciBhbGwgb2YgdGhlbSBuZWVkIHRvIGJlIGRyYXduLlxuICBmdW5jdGlvbiBpbnNlcnRMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpIHtcbiAgICBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZVZpZXcubGluZSwgbGluZVZpZXcsIGRpbXMsIHRydWUpO1xuICAgIGlmIChsaW5lVmlldy5yZXN0KSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspXG4gICAgICBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZVZpZXcucmVzdFtpXSwgbGluZVZpZXcsIGRpbXMsIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluc2VydExpbmVXaWRnZXRzRm9yKGNtLCBsaW5lLCBsaW5lVmlldywgZGltcywgYWxsb3dBYm92ZSkge1xuICAgIGlmICghbGluZS53aWRnZXRzKSByZXR1cm47XG4gICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldyk7XG4gICAgZm9yICh2YXIgaSA9IDAsIHdzID0gbGluZS53aWRnZXRzOyBpIDwgd3MubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciB3aWRnZXQgPSB3c1tpXSwgbm9kZSA9IGVsdChcImRpdlwiLCBbd2lkZ2V0Lm5vZGVdLCBcIkNvZGVNaXJyb3ItbGluZXdpZGdldFwiKTtcbiAgICAgIGlmICghd2lkZ2V0LmhhbmRsZU1vdXNlRXZlbnRzKSBub2RlLnNldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIiwgXCJ0cnVlXCIpO1xuICAgICAgcG9zaXRpb25MaW5lV2lkZ2V0KHdpZGdldCwgbm9kZSwgbGluZVZpZXcsIGRpbXMpO1xuICAgICAgY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKG5vZGUpO1xuICAgICAgaWYgKGFsbG93QWJvdmUgJiYgd2lkZ2V0LmFib3ZlKVxuICAgICAgICB3cmFwLmluc2VydEJlZm9yZShub2RlLCBsaW5lVmlldy5ndXR0ZXIgfHwgbGluZVZpZXcudGV4dCk7XG4gICAgICBlbHNlXG4gICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICBzaWduYWxMYXRlcih3aWRnZXQsIFwicmVkcmF3XCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc2l0aW9uTGluZVdpZGdldCh3aWRnZXQsIG5vZGUsIGxpbmVWaWV3LCBkaW1zKSB7XG4gICAgaWYgKHdpZGdldC5ub0hTY3JvbGwpIHtcbiAgICAgIChsaW5lVmlldy5hbGlnbmFibGUgfHwgKGxpbmVWaWV3LmFsaWduYWJsZSA9IFtdKSkucHVzaChub2RlKTtcbiAgICAgIHZhciB3aWR0aCA9IGRpbXMud3JhcHBlcldpZHRoO1xuICAgICAgbm9kZS5zdHlsZS5sZWZ0ID0gZGltcy5maXhlZFBvcyArIFwicHhcIjtcbiAgICAgIGlmICghd2lkZ2V0LmNvdmVyR3V0dGVyKSB7XG4gICAgICAgIHdpZHRoIC09IGRpbXMuZ3V0dGVyVG90YWxXaWR0aDtcbiAgICAgICAgbm9kZS5zdHlsZS5wYWRkaW5nTGVmdCA9IGRpbXMuZ3V0dGVyVG90YWxXaWR0aCArIFwicHhcIjtcbiAgICAgIH1cbiAgICAgIG5vZGUuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICB9XG4gICAgaWYgKHdpZGdldC5jb3Zlckd1dHRlcikge1xuICAgICAgbm9kZS5zdHlsZS56SW5kZXggPSA1O1xuICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgIGlmICghd2lkZ2V0Lm5vSFNjcm9sbCkgbm9kZS5zdHlsZS5tYXJnaW5MZWZ0ID0gLWRpbXMuZ3V0dGVyVG90YWxXaWR0aCArIFwicHhcIjtcbiAgICB9XG4gIH1cblxuICAvLyBQT1NJVElPTiBPQkpFQ1RcblxuICAvLyBBIFBvcyBpbnN0YW5jZSByZXByZXNlbnRzIGEgcG9zaXRpb24gd2l0aGluIHRoZSB0ZXh0LlxuICB2YXIgUG9zID0gQ29kZU1pcnJvci5Qb3MgPSBmdW5jdGlvbihsaW5lLCBjaCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3MpKSByZXR1cm4gbmV3IFBvcyhsaW5lLCBjaCk7XG4gICAgdGhpcy5saW5lID0gbGluZTsgdGhpcy5jaCA9IGNoO1xuICB9O1xuXG4gIC8vIENvbXBhcmUgdHdvIHBvc2l0aW9ucywgcmV0dXJuIDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIGEgbmVnYXRpdmVcbiAgLy8gbnVtYmVyIHdoZW4gYSBpcyBsZXNzLCBhbmQgYSBwb3NpdGl2ZSBudW1iZXIgb3RoZXJ3aXNlLlxuICB2YXIgY21wID0gQ29kZU1pcnJvci5jbXBQb3MgPSBmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhLmxpbmUgLSBiLmxpbmUgfHwgYS5jaCAtIGIuY2g7IH07XG5cbiAgZnVuY3Rpb24gY29weVBvcyh4KSB7cmV0dXJuIFBvcyh4LmxpbmUsIHguY2gpO31cbiAgZnVuY3Rpb24gbWF4UG9zKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBiIDogYTsgfVxuICBmdW5jdGlvbiBtaW5Qb3MoYSwgYikgeyByZXR1cm4gY21wKGEsIGIpIDwgMCA/IGEgOiBiOyB9XG5cbiAgLy8gSU5QVVQgSEFORExJTkdcblxuICBmdW5jdGlvbiBlbnN1cmVGb2N1cyhjbSkge1xuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkgeyBjbS5kaXNwbGF5LmlucHV0LmZvY3VzKCk7IG9uRm9jdXMoY20pOyB9XG4gIH1cblxuICAvLyBUaGlzIHdpbGwgYmUgc2V0IHRvIGEge2xpbmVXaXNlOiBib29sLCB0ZXh0OiBbc3RyaW5nXX0gb2JqZWN0LCBzb1xuICAvLyB0aGF0LCB3aGVuIHBhc3RpbmcsIHdlIGtub3cgd2hhdCBraW5kIG9mIHNlbGVjdGlvbnMgdGhlIGNvcGllZFxuICAvLyB0ZXh0IHdhcyBtYWRlIG91dCBvZi5cbiAgdmFyIGxhc3RDb3BpZWQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGFwcGx5VGV4dElucHV0KGNtLCBpbnNlcnRlZCwgZGVsZXRlZCwgc2VsLCBvcmlnaW4pIHtcbiAgICB2YXIgZG9jID0gY20uZG9jO1xuICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBmYWxzZTtcbiAgICBpZiAoIXNlbCkgc2VsID0gZG9jLnNlbDtcblxuICAgIHZhciBwYXN0ZSA9IGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgfHwgb3JpZ2luID09IFwicGFzdGVcIjtcbiAgICB2YXIgdGV4dExpbmVzID0gZG9jLnNwbGl0TGluZXMoaW5zZXJ0ZWQpLCBtdWx0aVBhc3RlID0gbnVsbFxuICAgIC8vIFdoZW4gcGFzaW5nIE4gbGluZXMgaW50byBOIHNlbGVjdGlvbnMsIGluc2VydCBvbmUgbGluZSBwZXIgc2VsZWN0aW9uXG4gICAgaWYgKHBhc3RlICYmIHNlbC5yYW5nZXMubGVuZ3RoID4gMSkge1xuICAgICAgaWYgKGxhc3RDb3BpZWQgJiYgbGFzdENvcGllZC50ZXh0LmpvaW4oXCJcXG5cIikgPT0gaW5zZXJ0ZWQpIHtcbiAgICAgICAgaWYgKHNlbC5yYW5nZXMubGVuZ3RoICUgbGFzdENvcGllZC50ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgbXVsdGlQYXN0ZSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdENvcGllZC50ZXh0Lmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgbXVsdGlQYXN0ZS5wdXNoKGRvYy5zcGxpdExpbmVzKGxhc3RDb3BpZWQudGV4dFtpXSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRleHRMaW5lcy5sZW5ndGggPT0gc2VsLnJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgbXVsdGlQYXN0ZSA9IG1hcCh0ZXh0TGluZXMsIGZ1bmN0aW9uKGwpIHsgcmV0dXJuIFtsXTsgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm9ybWFsIGJlaGF2aW9yIGlzIHRvIGluc2VydCB0aGUgbmV3IHRleHQgaW50byBldmVyeSBzZWxlY3Rpb25cbiAgICBmb3IgKHZhciBpID0gc2VsLnJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgIHZhciBmcm9tID0gcmFuZ2UuZnJvbSgpLCB0byA9IHJhbmdlLnRvKCk7XG4gICAgICBpZiAocmFuZ2UuZW1wdHkoKSkge1xuICAgICAgICBpZiAoZGVsZXRlZCAmJiBkZWxldGVkID4gMCkgLy8gSGFuZGxlIGRlbGV0aW9uXG4gICAgICAgICAgZnJvbSA9IFBvcyhmcm9tLmxpbmUsIGZyb20uY2ggLSBkZWxldGVkKTtcbiAgICAgICAgZWxzZSBpZiAoY20uc3RhdGUub3ZlcndyaXRlICYmICFwYXN0ZSkgLy8gSGFuZGxlIG92ZXJ3cml0ZVxuICAgICAgICAgIHRvID0gUG9zKHRvLmxpbmUsIE1hdGgubWluKGdldExpbmUoZG9jLCB0by5saW5lKS50ZXh0Lmxlbmd0aCwgdG8uY2ggKyBsc3QodGV4dExpbmVzKS5sZW5ndGgpKTtcbiAgICAgICAgZWxzZSBpZiAobGFzdENvcGllZCAmJiBsYXN0Q29waWVkLmxpbmVXaXNlICYmIGxhc3RDb3BpZWQudGV4dC5qb2luKFwiXFxuXCIpID09IGluc2VydGVkKVxuICAgICAgICAgIGZyb20gPSB0byA9IFBvcyhmcm9tLmxpbmUsIDApXG4gICAgICB9XG4gICAgICB2YXIgdXBkYXRlSW5wdXQgPSBjbS5jdXJPcC51cGRhdGVJbnB1dDtcbiAgICAgIHZhciBjaGFuZ2VFdmVudCA9IHtmcm9tOiBmcm9tLCB0bzogdG8sIHRleHQ6IG11bHRpUGFzdGUgPyBtdWx0aVBhc3RlW2kgJSBtdWx0aVBhc3RlLmxlbmd0aF0gOiB0ZXh0TGluZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBvcmlnaW4gfHwgKHBhc3RlID8gXCJwYXN0ZVwiIDogY20uc3RhdGUuY3V0SW5jb21pbmcgPyBcImN1dFwiIDogXCIraW5wdXRcIil9O1xuICAgICAgbWFrZUNoYW5nZShjbS5kb2MsIGNoYW5nZUV2ZW50KTtcbiAgICAgIHNpZ25hbExhdGVyKGNtLCBcImlucHV0UmVhZFwiLCBjbSwgY2hhbmdlRXZlbnQpO1xuICAgIH1cbiAgICBpZiAoaW5zZXJ0ZWQgJiYgIXBhc3RlKVxuICAgICAgdHJpZ2dlckVsZWN0cmljKGNtLCBpbnNlcnRlZCk7XG5cbiAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKTtcbiAgICBjbS5jdXJPcC51cGRhdGVJbnB1dCA9IHVwZGF0ZUlucHV0O1xuICAgIGNtLmN1ck9wLnR5cGluZyA9IHRydWU7XG4gICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IGNtLnN0YXRlLmN1dEluY29taW5nID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQYXN0ZShlLCBjbSkge1xuICAgIHZhciBwYXN0ZWQgPSBlLmNsaXBib2FyZERhdGEgJiYgZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO1xuICAgIGlmIChwYXN0ZWQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY20uaXNSZWFkT25seSgpICYmICFjbS5vcHRpb25zLmRpc2FibGVJbnB1dClcbiAgICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7IGFwcGx5VGV4dElucHV0KGNtLCBwYXN0ZWQsIDAsIG51bGwsIFwicGFzdGVcIik7IH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpZ2dlckVsZWN0cmljKGNtLCBpbnNlcnRlZCkge1xuICAgIC8vIFdoZW4gYW4gJ2VsZWN0cmljJyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQsIGltbWVkaWF0ZWx5IHRyaWdnZXIgYSByZWluZGVudFxuICAgIGlmICghY20ub3B0aW9ucy5lbGVjdHJpY0NoYXJzIHx8ICFjbS5vcHRpb25zLnNtYXJ0SW5kZW50KSByZXR1cm47XG4gICAgdmFyIHNlbCA9IGNtLmRvYy5zZWw7XG5cbiAgICBmb3IgKHZhciBpID0gc2VsLnJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgIGlmIChyYW5nZS5oZWFkLmNoID4gMTAwIHx8IChpICYmIHNlbC5yYW5nZXNbaSAtIDFdLmhlYWQubGluZSA9PSByYW5nZS5oZWFkLmxpbmUpKSBjb250aW51ZTtcbiAgICAgIHZhciBtb2RlID0gY20uZ2V0TW9kZUF0KHJhbmdlLmhlYWQpO1xuICAgICAgdmFyIGluZGVudGVkID0gZmFsc2U7XG4gICAgICBpZiAobW9kZS5lbGVjdHJpY0NoYXJzKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9kZS5lbGVjdHJpY0NoYXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgIGlmIChpbnNlcnRlZC5pbmRleE9mKG1vZGUuZWxlY3RyaWNDaGFycy5jaGFyQXQoaikpID4gLTEpIHtcbiAgICAgICAgICAgIGluZGVudGVkID0gaW5kZW50TGluZShjbSwgcmFuZ2UuaGVhZC5saW5lLCBcInNtYXJ0XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtb2RlLmVsZWN0cmljSW5wdXQpIHtcbiAgICAgICAgaWYgKG1vZGUuZWxlY3RyaWNJbnB1dC50ZXN0KGdldExpbmUoY20uZG9jLCByYW5nZS5oZWFkLmxpbmUpLnRleHQuc2xpY2UoMCwgcmFuZ2UuaGVhZC5jaCkpKVxuICAgICAgICAgIGluZGVudGVkID0gaW5kZW50TGluZShjbSwgcmFuZ2UuaGVhZC5saW5lLCBcInNtYXJ0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGluZGVudGVkKSBzaWduYWxMYXRlcihjbSwgXCJlbGVjdHJpY0lucHV0XCIsIGNtLCByYW5nZS5oZWFkLmxpbmUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHlhYmxlUmFuZ2VzKGNtKSB7XG4gICAgdmFyIHRleHQgPSBbXSwgcmFuZ2VzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5kb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmUgPSBjbS5kb2Muc2VsLnJhbmdlc1tpXS5oZWFkLmxpbmU7XG4gICAgICB2YXIgbGluZVJhbmdlID0ge2FuY2hvcjogUG9zKGxpbmUsIDApLCBoZWFkOiBQb3MobGluZSArIDEsIDApfTtcbiAgICAgIHJhbmdlcy5wdXNoKGxpbmVSYW5nZSk7XG4gICAgICB0ZXh0LnB1c2goY20uZ2V0UmFuZ2UobGluZVJhbmdlLmFuY2hvciwgbGluZVJhbmdlLmhlYWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCByYW5nZXM6IHJhbmdlc307XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhYmxlQnJvd3Nlck1hZ2ljKGZpZWxkKSB7XG4gICAgZmllbGQuc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIiwgXCJvZmZcIik7XG4gICAgZmllbGQuc2V0QXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIiwgXCJvZmZcIik7XG4gICAgZmllbGQuc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLCBcImZhbHNlXCIpO1xuICB9XG5cbiAgLy8gVEVYVEFSRUEgSU5QVVQgU1RZTEVcblxuICBmdW5jdGlvbiBUZXh0YXJlYUlucHV0KGNtKSB7XG4gICAgdGhpcy5jbSA9IGNtO1xuICAgIC8vIFNlZSBpbnB1dC5wb2xsIGFuZCBpbnB1dC5yZXNldFxuICAgIHRoaXMucHJldklucHV0ID0gXCJcIjtcblxuICAgIC8vIEZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB3ZSBleHBlY3QgaW5wdXQgdG8gYXBwZWFyIHJlYWwgc29vblxuICAgIC8vIG5vdyAoYWZ0ZXIgc29tZSBldmVudCBsaWtlICdrZXlwcmVzcycgb3IgJ2lucHV0JykgYW5kIGFyZVxuICAgIC8vIHBvbGxpbmcgaW50ZW5zaXZlbHkuXG4gICAgdGhpcy5wb2xsaW5nRmFzdCA9IGZhbHNlO1xuICAgIC8vIFNlbGYtcmVzZXR0aW5nIHRpbWVvdXQgZm9yIHRoZSBwb2xsZXJcbiAgICB0aGlzLnBvbGxpbmcgPSBuZXcgRGVsYXllZCgpO1xuICAgIC8vIFRyYWNrcyB3aGVuIGlucHV0LnJlc2V0IGhhcyBwdW50ZWQgdG8ganVzdCBwdXR0aW5nIGEgc2hvcnRcbiAgICAvLyBzdHJpbmcgaW50byB0aGUgdGV4dGFyZWEgaW5zdGVhZCBvZiB0aGUgZnVsbCBzZWxlY3Rpb24uXG4gICAgdGhpcy5pbmFjY3VyYXRlU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgLy8gVXNlZCB0byB3b3JrIGFyb3VuZCBJRSBpc3N1ZSB3aXRoIHNlbGVjdGlvbiBiZWluZyBmb3Jnb3R0ZW4gd2hlbiBmb2N1cyBtb3ZlcyBhd2F5IGZyb20gdGV4dGFyZWFcbiAgICB0aGlzLmhhc1NlbGVjdGlvbiA9IGZhbHNlO1xuICAgIHRoaXMuY29tcG9zaW5nID0gbnVsbDtcbiAgfTtcblxuICBmdW5jdGlvbiBoaWRkZW5UZXh0YXJlYSgpIHtcbiAgICB2YXIgdGUgPSBlbHQoXCJ0ZXh0YXJlYVwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgcGFkZGluZzogMDsgd2lkdGg6IDFweDsgaGVpZ2h0OiAxZW07IG91dGxpbmU6IG5vbmVcIik7XG4gICAgdmFyIGRpdiA9IGVsdChcImRpdlwiLCBbdGVdLCBudWxsLCBcIm92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDNweDsgaGVpZ2h0OiAwcHg7XCIpO1xuICAgIC8vIFRoZSB0ZXh0YXJlYSBpcyBrZXB0IHBvc2l0aW9uZWQgbmVhciB0aGUgY3Vyc29yIHRvIHByZXZlbnQgdGhlXG4gICAgLy8gZmFjdCB0aGF0IGl0J2xsIGJlIHNjcm9sbGVkIGludG8gdmlldyBvbiBpbnB1dCBmcm9tIHNjcm9sbGluZ1xuICAgIC8vIG91ciBmYWtlIGN1cnNvciBvdXQgb2Ygdmlldy4gT24gd2Via2l0LCB3aGVuIHdyYXA9b2ZmLCBwYXN0ZSBpc1xuICAgIC8vIHZlcnkgc2xvdy4gU28gbWFrZSB0aGUgYXJlYSB3aWRlIGluc3RlYWQuXG4gICAgaWYgKHdlYmtpdCkgdGUuc3R5bGUud2lkdGggPSBcIjEwMDBweFwiO1xuICAgIGVsc2UgdGUuc2V0QXR0cmlidXRlKFwid3JhcFwiLCBcIm9mZlwiKTtcbiAgICAvLyBJZiBib3JkZXI6IDA7IC0tIGlPUyBmYWlscyB0byBvcGVuIGtleWJvYXJkIChpc3N1ZSAjMTI4NylcbiAgICBpZiAoaW9zKSB0ZS5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiO1xuICAgIGRpc2FibGVCcm93c2VyTWFnaWModGUpO1xuICAgIHJldHVybiBkaXY7XG4gIH1cblxuICBUZXh0YXJlYUlucHV0LnByb3RvdHlwZSA9IGNvcHlPYmooe1xuICAgIGluaXQ6IGZ1bmN0aW9uKGRpc3BsYXkpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMsIGNtID0gdGhpcy5jbTtcblxuICAgICAgLy8gV3JhcHMgYW5kIGhpZGVzIGlucHV0IHRleHRhcmVhXG4gICAgICB2YXIgZGl2ID0gdGhpcy53cmFwcGVyID0gaGlkZGVuVGV4dGFyZWEoKTtcbiAgICAgIC8vIFRoZSBzZW1paGlkZGVuIHRleHRhcmVhIHRoYXQgaXMgZm9jdXNlZCB3aGVuIHRoZSBlZGl0b3IgaXNcbiAgICAgIC8vIGZvY3VzZWQsIGFuZCByZWNlaXZlcyBpbnB1dC5cbiAgICAgIHZhciB0ZSA9IHRoaXMudGV4dGFyZWEgPSBkaXYuZmlyc3RDaGlsZDtcbiAgICAgIGRpc3BsYXkud3JhcHBlci5pbnNlcnRCZWZvcmUoZGl2LCBkaXNwbGF5LndyYXBwZXIuZmlyc3RDaGlsZCk7XG5cbiAgICAgIC8vIE5lZWRlZCB0byBoaWRlIGJpZyBibHVlIGJsaW5raW5nIGN1cnNvciBvbiBNb2JpbGUgU2FmYXJpIChkb2Vzbid0IHNlZW0gdG8gd29yayBpbiBpT1MgOCBhbnltb3JlKVxuICAgICAgaWYgKGlvcykgdGUuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuXG4gICAgICBvbih0ZSwgXCJpbnB1dFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSAmJiBpbnB1dC5oYXNTZWxlY3Rpb24pIGlucHV0Lmhhc1NlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlucHV0LnBvbGwoKTtcbiAgICAgIH0pO1xuXG4gICAgICBvbih0ZSwgXCJwYXN0ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgaGFuZGxlUGFzdGUoZSwgY20pKSByZXR1cm5cblxuICAgICAgICBjbS5zdGF0ZS5wYXN0ZUluY29taW5nID0gdHJ1ZTtcbiAgICAgICAgaW5wdXQuZmFzdFBvbGwoKTtcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBwcmVwYXJlQ29weUN1dChlKSB7XG4gICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHJldHVyblxuICAgICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuICAgICAgICAgIGxhc3RDb3BpZWQgPSB7bGluZVdpc2U6IGZhbHNlLCB0ZXh0OiBjbS5nZXRTZWxlY3Rpb25zKCl9O1xuICAgICAgICAgIGlmIChpbnB1dC5pbmFjY3VyYXRlU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBpbnB1dC5wcmV2SW5wdXQgPSBcIlwiO1xuICAgICAgICAgICAgaW5wdXQuaW5hY2N1cmF0ZVNlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGUudmFsdWUgPSBsYXN0Q29waWVkLnRleHQuam9pbihcIlxcblwiKTtcbiAgICAgICAgICAgIHNlbGVjdElucHV0KHRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWNtLm9wdGlvbnMubGluZVdpc2VDb3B5Q3V0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByYW5nZXMgPSBjb3B5YWJsZVJhbmdlcyhjbSk7XG4gICAgICAgICAgbGFzdENvcGllZCA9IHtsaW5lV2lzZTogdHJ1ZSwgdGV4dDogcmFuZ2VzLnRleHR9O1xuICAgICAgICAgIGlmIChlLnR5cGUgPT0gXCJjdXRcIikge1xuICAgICAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhyYW5nZXMucmFuZ2VzLCBudWxsLCBzZWxfZG9udFNjcm9sbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0LnByZXZJbnB1dCA9IFwiXCI7XG4gICAgICAgICAgICB0ZS52YWx1ZSA9IHJhbmdlcy50ZXh0LmpvaW4oXCJcXG5cIik7XG4gICAgICAgICAgICBzZWxlY3RJbnB1dCh0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlLnR5cGUgPT0gXCJjdXRcIikgY20uc3RhdGUuY3V0SW5jb21pbmcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgb24odGUsIFwiY3V0XCIsIHByZXBhcmVDb3B5Q3V0KTtcbiAgICAgIG9uKHRlLCBcImNvcHlcIiwgcHJlcGFyZUNvcHlDdXQpO1xuXG4gICAgICBvbihkaXNwbGF5LnNjcm9sbGVyLCBcInBhc3RlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkgfHwgc2lnbmFsRE9NRXZlbnQoY20sIGUpKSByZXR1cm47XG4gICAgICAgIGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgPSB0cnVlO1xuICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByZXZlbnQgbm9ybWFsIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yICh3ZSBoYW5kbGUgb3VyIG93bilcbiAgICAgIG9uKGRpc3BsYXkubGluZVNwYWNlLCBcInNlbGVjdHN0YXJ0XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpKSBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgfSk7XG5cbiAgICAgIG9uKHRlLCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFydCA9IGNtLmdldEN1cnNvcihcImZyb21cIik7XG4gICAgICAgIGlmIChpbnB1dC5jb21wb3NpbmcpIGlucHV0LmNvbXBvc2luZy5yYW5nZS5jbGVhcigpXG4gICAgICAgIGlucHV0LmNvbXBvc2luZyA9IHtcbiAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgcmFuZ2U6IGNtLm1hcmtUZXh0KHN0YXJ0LCBjbS5nZXRDdXJzb3IoXCJ0b1wiKSwge2NsYXNzTmFtZTogXCJDb2RlTWlycm9yLWNvbXBvc2luZ1wifSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgb24odGUsIFwiY29tcG9zaXRpb25lbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChpbnB1dC5jb21wb3NpbmcpIHtcbiAgICAgICAgICBpbnB1dC5wb2xsKCk7XG4gICAgICAgICAgaW5wdXQuY29tcG9zaW5nLnJhbmdlLmNsZWFyKCk7XG4gICAgICAgICAgaW5wdXQuY29tcG9zaW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHByZXBhcmVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gUmVkcmF3IHRoZSBzZWxlY3Rpb24gYW5kL29yIGN1cnNvclxuICAgICAgdmFyIGNtID0gdGhpcy5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICAgIHZhciByZXN1bHQgPSBwcmVwYXJlU2VsZWN0aW9uKGNtKTtcblxuICAgICAgLy8gTW92ZSB0aGUgaGlkZGVuIHRleHRhcmVhIG5lYXIgdGhlIGN1cnNvciB0byBwcmV2ZW50IHNjcm9sbGluZyBhcnRpZmFjdHNcbiAgICAgIGlmIChjbS5vcHRpb25zLm1vdmVJbnB1dFdpdGhDdXJzb3IpIHtcbiAgICAgICAgdmFyIGhlYWRQb3MgPSBjdXJzb3JDb29yZHMoY20sIGRvYy5zZWwucHJpbWFyeSgpLmhlYWQsIFwiZGl2XCIpO1xuICAgICAgICB2YXIgd3JhcE9mZiA9IGRpc3BsYXkud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbGluZU9mZiA9IGRpc3BsYXkubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmVzdWx0LnRlVG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCAtIDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkUG9zLnRvcCArIGxpbmVPZmYudG9wIC0gd3JhcE9mZi50b3ApKTtcbiAgICAgICAgcmVzdWx0LnRlTGVmdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGRpc3BsYXkud3JhcHBlci5jbGllbnRXaWR0aCAtIDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFBvcy5sZWZ0ICsgbGluZU9mZi5sZWZ0IC0gd3JhcE9mZi5sZWZ0KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIHNob3dTZWxlY3Rpb246IGZ1bmN0aW9uKGRyYXduKSB7XG4gICAgICB2YXIgY20gPSB0aGlzLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkuY3Vyc29yRGl2LCBkcmF3bi5jdXJzb3JzKTtcbiAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkuc2VsZWN0aW9uRGl2LCBkcmF3bi5zZWxlY3Rpb24pO1xuICAgICAgaWYgKGRyYXduLnRlVG9wICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLnRvcCA9IGRyYXduLnRlVG9wICsgXCJweFwiO1xuICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUubGVmdCA9IGRyYXduLnRlTGVmdCArIFwicHhcIjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gUmVzZXQgdGhlIGlucHV0IHRvIGNvcnJlc3BvbmQgdG8gdGhlIHNlbGVjdGlvbiAob3IgdG8gYmUgZW1wdHksXG4gICAgLy8gd2hlbiBub3QgdHlwaW5nIGFuZCBub3RoaW5nIGlzIHNlbGVjdGVkKVxuICAgIHJlc2V0OiBmdW5jdGlvbih0eXBpbmcpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRleHRNZW51UGVuZGluZykgcmV0dXJuO1xuICAgICAgdmFyIG1pbmltYWwsIHNlbGVjdGVkLCBjbSA9IHRoaXMuY20sIGRvYyA9IGNtLmRvYztcbiAgICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG4gICAgICAgIHRoaXMucHJldklucHV0ID0gXCJcIjtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5wcmltYXJ5KCk7XG4gICAgICAgIG1pbmltYWwgPSBoYXNDb3B5RXZlbnQgJiZcbiAgICAgICAgICAocmFuZ2UudG8oKS5saW5lIC0gcmFuZ2UuZnJvbSgpLmxpbmUgPiAxMDAgfHwgKHNlbGVjdGVkID0gY20uZ2V0U2VsZWN0aW9uKCkpLmxlbmd0aCA+IDEwMDApO1xuICAgICAgICB2YXIgY29udGVudCA9IG1pbmltYWwgPyBcIi1cIiA6IHNlbGVjdGVkIHx8IGNtLmdldFNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnRleHRhcmVhLnZhbHVlID0gY29udGVudDtcbiAgICAgICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQpIHNlbGVjdElucHV0KHRoaXMudGV4dGFyZWEpO1xuICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB0aGlzLmhhc1NlbGVjdGlvbiA9IGNvbnRlbnQ7XG4gICAgICB9IGVsc2UgaWYgKCF0eXBpbmcpIHtcbiAgICAgICAgdGhpcy5wcmV2SW5wdXQgPSB0aGlzLnRleHRhcmVhLnZhbHVlID0gXCJcIjtcbiAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgdGhpcy5oYXNTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmFjY3VyYXRlU2VsZWN0aW9uID0gbWluaW1hbDtcbiAgICB9LFxuXG4gICAgZ2V0RmllbGQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy50ZXh0YXJlYTsgfSxcblxuICAgIHN1cHBvcnRzVG91Y2g6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0sXG5cbiAgICBmb2N1czogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5ICE9IFwibm9jdXJzb3JcIiAmJiAoIW1vYmlsZSB8fCBhY3RpdmVFbHQoKSAhPSB0aGlzLnRleHRhcmVhKSkge1xuICAgICAgICB0cnkgeyB0aGlzLnRleHRhcmVhLmZvY3VzKCk7IH1cbiAgICAgICAgY2F0Y2ggKGUpIHt9IC8vIElFOCB3aWxsIHRocm93IGlmIHRoZSB0ZXh0YXJlYSBpcyBkaXNwbGF5OiBub25lIG9yIG5vdCBpbiBET01cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYmx1cjogZnVuY3Rpb24oKSB7IHRoaXMudGV4dGFyZWEuYmx1cigpOyB9LFxuXG4gICAgcmVzZXRQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gdGhpcy53cmFwcGVyLnN0eWxlLmxlZnQgPSAwO1xuICAgIH0sXG5cbiAgICByZWNlaXZlZEZvY3VzOiBmdW5jdGlvbigpIHsgdGhpcy5zbG93UG9sbCgpOyB9LFxuXG4gICAgLy8gUG9sbCBmb3IgaW5wdXQgY2hhbmdlcywgdXNpbmcgdGhlIG5vcm1hbCByYXRlIG9mIHBvbGxpbmcuIFRoaXNcbiAgICAvLyBydW5zIGFzIGxvbmcgYXMgdGhlIGVkaXRvciBpcyBmb2N1c2VkLlxuICAgIHNsb3dQb2xsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXM7XG4gICAgICBpZiAoaW5wdXQucG9sbGluZ0Zhc3QpIHJldHVybjtcbiAgICAgIGlucHV0LnBvbGxpbmcuc2V0KHRoaXMuY20ub3B0aW9ucy5wb2xsSW50ZXJ2YWwsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpbnB1dC5wb2xsKCk7XG4gICAgICAgIGlmIChpbnB1dC5jbS5zdGF0ZS5mb2N1c2VkKSBpbnB1dC5zbG93UG9sbCgpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFdoZW4gYW4gZXZlbnQgaGFzIGp1c3QgY29tZSBpbiB0aGF0IGlzIGxpa2VseSB0byBhZGQgb3IgY2hhbmdlXG4gICAgLy8gc29tZXRoaW5nIGluIHRoZSBpbnB1dCB0ZXh0YXJlYSwgd2UgcG9sbCBmYXN0ZXIsIHRvIGVuc3VyZSB0aGF0XG4gICAgLy8gdGhlIGNoYW5nZSBhcHBlYXJzIG9uIHRoZSBzY3JlZW4gcXVpY2tseS5cbiAgICBmYXN0UG9sbDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWlzc2VkID0gZmFsc2UsIGlucHV0ID0gdGhpcztcbiAgICAgIGlucHV0LnBvbGxpbmdGYXN0ID0gdHJ1ZTtcbiAgICAgIGZ1bmN0aW9uIHAoKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gaW5wdXQucG9sbCgpO1xuICAgICAgICBpZiAoIWNoYW5nZWQgJiYgIW1pc3NlZCkge21pc3NlZCA9IHRydWU7IGlucHV0LnBvbGxpbmcuc2V0KDYwLCBwKTt9XG4gICAgICAgIGVsc2Uge2lucHV0LnBvbGxpbmdGYXN0ID0gZmFsc2U7IGlucHV0LnNsb3dQb2xsKCk7fVxuICAgICAgfVxuICAgICAgaW5wdXQucG9sbGluZy5zZXQoMjAsIHApO1xuICAgIH0sXG5cbiAgICAvLyBSZWFkIGlucHV0IGZyb20gdGhlIHRleHRhcmVhLCBhbmQgdXBkYXRlIHRoZSBkb2N1bWVudCB0byBtYXRjaC5cbiAgICAvLyBXaGVuIHNvbWV0aGluZyBpcyBzZWxlY3RlZCwgaXQgaXMgcHJlc2VudCBpbiB0aGUgdGV4dGFyZWEsIGFuZFxuICAgIC8vIHNlbGVjdGVkICh1bmxlc3MgaXQgaXMgaHVnZSwgaW4gd2hpY2ggY2FzZSBhIHBsYWNlaG9sZGVyIGlzXG4gICAgLy8gdXNlZCkuIFdoZW4gbm90aGluZyBpcyBzZWxlY3RlZCwgdGhlIGN1cnNvciBzaXRzIGFmdGVyIHByZXZpb3VzbHlcbiAgICAvLyBzZWVuIHRleHQgKGNhbiBiZSBlbXB0eSksIHdoaWNoIGlzIHN0b3JlZCBpbiBwcmV2SW5wdXQgKHdlIG11c3RcbiAgICAvLyBub3QgcmVzZXQgdGhlIHRleHRhcmVhIHdoZW4gdHlwaW5nLCBiZWNhdXNlIHRoYXQgYnJlYWtzIElNRSkuXG4gICAgcG9sbDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY20gPSB0aGlzLmNtLCBpbnB1dCA9IHRoaXMudGV4dGFyZWEsIHByZXZJbnB1dCA9IHRoaXMucHJldklucHV0O1xuICAgICAgLy8gU2luY2UgdGhpcyBpcyBjYWxsZWQgYSAqbG90KiwgdHJ5IHRvIGJhaWwgb3V0IGFzIGNoZWFwbHkgYXNcbiAgICAgIC8vIHBvc3NpYmxlIHdoZW4gaXQgaXMgY2xlYXIgdGhhdCBub3RoaW5nIGhhcHBlbmVkLiBoYXNTZWxlY3Rpb25cbiAgICAgIC8vIHdpbGwgYmUgdGhlIGNhc2Ugd2hlbiB0aGVyZSBpcyBhIGxvdCBvZiB0ZXh0IGluIHRoZSB0ZXh0YXJlYSxcbiAgICAgIC8vIGluIHdoaWNoIGNhc2UgcmVhZGluZyBpdHMgdmFsdWUgd291bGQgYmUgZXhwZW5zaXZlLlxuICAgICAgaWYgKHRoaXMuY29udGV4dE1lbnVQZW5kaW5nIHx8ICFjbS5zdGF0ZS5mb2N1c2VkIHx8XG4gICAgICAgICAgKGhhc1NlbGVjdGlvbihpbnB1dCkgJiYgIXByZXZJbnB1dCAmJiAhdGhpcy5jb21wb3NpbmcpIHx8XG4gICAgICAgICAgY20uaXNSZWFkT25seSgpIHx8IGNtLm9wdGlvbnMuZGlzYWJsZUlucHV0IHx8IGNtLnN0YXRlLmtleVNlcSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB2YXIgdGV4dCA9IGlucHV0LnZhbHVlO1xuICAgICAgLy8gSWYgbm90aGluZyBjaGFuZ2VkLCBiYWlsLlxuICAgICAgaWYgKHRleHQgPT0gcHJldklucHV0ICYmICFjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBXb3JrIGFyb3VuZCBub25zZW5zaWNhbCBzZWxlY3Rpb24gcmVzZXR0aW5nIGluIElFOS8xMCwgYW5kXG4gICAgICAvLyBpbmV4cGxpY2FibGUgYXBwZWFyYW5jZSBvZiBwcml2YXRlIGFyZWEgdW5pY29kZSBjaGFyYWN0ZXJzIG9uXG4gICAgICAvLyBzb21lIGtleSBjb21ib3MgaW4gTWFjICgjMjY4OSkuXG4gICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5ICYmIHRoaXMuaGFzU2VsZWN0aW9uID09PSB0ZXh0IHx8XG4gICAgICAgICAgbWFjICYmIC9bXFx1ZjcwMC1cXHVmN2ZmXS8udGVzdCh0ZXh0KSkge1xuICAgICAgICBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNtLmRvYy5zZWwgPT0gY20uZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSkge1xuICAgICAgICB2YXIgZmlyc3QgPSB0ZXh0LmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmIChmaXJzdCA9PSAweDIwMGIgJiYgIXByZXZJbnB1dCkgcHJldklucHV0ID0gXCJcXHUyMDBiXCI7XG4gICAgICAgIGlmIChmaXJzdCA9PSAweDIxZGEpIHsgdGhpcy5yZXNldCgpOyByZXR1cm4gdGhpcy5jbS5leGVjQ29tbWFuZChcInVuZG9cIik7IH1cbiAgICAgIH1cbiAgICAgIC8vIEZpbmQgdGhlIHBhcnQgb2YgdGhlIGlucHV0IHRoYXQgaXMgYWN0dWFsbHkgbmV3XG4gICAgICB2YXIgc2FtZSA9IDAsIGwgPSBNYXRoLm1pbihwcmV2SW5wdXQubGVuZ3RoLCB0ZXh0Lmxlbmd0aCk7XG4gICAgICB3aGlsZSAoc2FtZSA8IGwgJiYgcHJldklucHV0LmNoYXJDb2RlQXQoc2FtZSkgPT0gdGV4dC5jaGFyQ29kZUF0KHNhbWUpKSArK3NhbWU7XG5cbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uKCkge1xuICAgICAgICBhcHBseVRleHRJbnB1dChjbSwgdGV4dC5zbGljZShzYW1lKSwgcHJldklucHV0Lmxlbmd0aCAtIHNhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgIG51bGwsIHNlbGYuY29tcG9zaW5nID8gXCIqY29tcG9zZVwiIDogbnVsbCk7XG5cbiAgICAgICAgLy8gRG9uJ3QgbGVhdmUgbG9uZyB0ZXh0IGluIHRoZSB0ZXh0YXJlYSwgc2luY2UgaXQgbWFrZXMgZnVydGhlciBwb2xsaW5nIHNsb3dcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gMTAwMCB8fCB0ZXh0LmluZGV4T2YoXCJcXG5cIikgPiAtMSkgaW5wdXQudmFsdWUgPSBzZWxmLnByZXZJbnB1dCA9IFwiXCI7XG4gICAgICAgIGVsc2Ugc2VsZi5wcmV2SW5wdXQgPSB0ZXh0O1xuXG4gICAgICAgIGlmIChzZWxmLmNvbXBvc2luZykge1xuICAgICAgICAgIHNlbGYuY29tcG9zaW5nLnJhbmdlLmNsZWFyKCk7XG4gICAgICAgICAgc2VsZi5jb21wb3NpbmcucmFuZ2UgPSBjbS5tYXJrVGV4dChzZWxmLmNvbXBvc2luZy5zdGFydCwgY20uZ2V0Q3Vyc29yKFwidG9cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2xhc3NOYW1lOiBcIkNvZGVNaXJyb3ItY29tcG9zaW5nXCJ9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgZW5zdXJlUG9sbGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnBvbGxpbmdGYXN0ICYmIHRoaXMucG9sbCgpKSB0aGlzLnBvbGxpbmdGYXN0ID0gZmFsc2U7XG4gICAgfSxcblxuICAgIG9uS2V5UHJlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgdGhpcy5oYXNTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgdGhpcy5mYXN0UG9sbCgpO1xuICAgIH0sXG5cbiAgICBvbkNvbnRleHRNZW51OiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLCBjbSA9IGlucHV0LmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgdGUgPSBpbnB1dC50ZXh0YXJlYTtcbiAgICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpLCBzY3JvbGxQb3MgPSBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcDtcbiAgICAgIGlmICghcG9zIHx8IHByZXN0bykgcmV0dXJuOyAvLyBPcGVyYSBpcyBkaWZmaWN1bHQuXG5cbiAgICAgIC8vIFJlc2V0IHRoZSBjdXJyZW50IHRleHQgc2VsZWN0aW9uIG9ubHkgaWYgdGhlIGNsaWNrIGlzIGRvbmUgb3V0c2lkZSBvZiB0aGUgc2VsZWN0aW9uXG4gICAgICAvLyBhbmQgJ3Jlc2V0U2VsZWN0aW9uT25Db250ZXh0TWVudScgb3B0aW9uIGlzIHRydWUuXG4gICAgICB2YXIgcmVzZXQgPSBjbS5vcHRpb25zLnJlc2V0U2VsZWN0aW9uT25Db250ZXh0TWVudTtcbiAgICAgIGlmIChyZXNldCAmJiBjbS5kb2Muc2VsLmNvbnRhaW5zKHBvcykgPT0gLTEpXG4gICAgICAgIG9wZXJhdGlvbihjbSwgc2V0U2VsZWN0aW9uKShjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihwb3MpLCBzZWxfZG9udFNjcm9sbCk7XG5cbiAgICAgIHZhciBvbGRDU1MgPSB0ZS5zdHlsZS5jc3NUZXh0LCBvbGRXcmFwcGVyQ1NTID0gaW5wdXQud3JhcHBlci5zdHlsZS5jc3NUZXh0O1xuICAgICAgaW5wdXQud3JhcHBlci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogYWJzb2x1dGVcIlxuICAgICAgdmFyIHdyYXBwZXJCb3ggPSBpbnB1dC53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICB0ZS5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAzMHB4OyBoZWlnaHQ6IDMwcHg7IHRvcDogXCIgKyAoZS5jbGllbnRZIC0gd3JhcHBlckJveC50b3AgLSA1KSArXG4gICAgICAgIFwicHg7IGxlZnQ6IFwiICsgKGUuY2xpZW50WCAtIHdyYXBwZXJCb3gubGVmdCAtIDUpICsgXCJweDsgei1pbmRleDogMTAwMDsgYmFja2dyb3VuZDogXCIgK1xuICAgICAgICAoaWUgPyBcInJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KVwiIDogXCJ0cmFuc3BhcmVudFwiKSArXG4gICAgICAgIFwiOyBvdXRsaW5lOiBub25lOyBib3JkZXItd2lkdGg6IDA7IG91dGxpbmU6IG5vbmU7IG92ZXJmbG93OiBoaWRkZW47IG9wYWNpdHk6IC4wNTsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUpO1wiO1xuICAgICAgaWYgKHdlYmtpdCkgdmFyIG9sZFNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTsgLy8gV29yayBhcm91bmQgQ2hyb21lIGlzc3VlICgjMjcxMilcbiAgICAgIGRpc3BsYXkuaW5wdXQuZm9jdXMoKTtcbiAgICAgIGlmICh3ZWJraXQpIHdpbmRvdy5zY3JvbGxUbyhudWxsLCBvbGRTY3JvbGxZKTtcbiAgICAgIGRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgIC8vIEFkZHMgXCJTZWxlY3QgYWxsXCIgdG8gY29udGV4dCBtZW51IGluIEZGXG4gICAgICBpZiAoIWNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHRlLnZhbHVlID0gaW5wdXQucHJldklucHV0ID0gXCIgXCI7XG4gICAgICBpbnB1dC5jb250ZXh0TWVudVBlbmRpbmcgPSB0cnVlO1xuICAgICAgZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IGNtLmRvYy5zZWw7XG4gICAgICBjbGVhclRpbWVvdXQoZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwpO1xuXG4gICAgICAvLyBTZWxlY3QtYWxsIHdpbGwgYmUgZ3JleWVkIG91dCBpZiB0aGVyZSdzIG5vdGhpbmcgdG8gc2VsZWN0LCBzb1xuICAgICAgLy8gdGhpcyBhZGRzIGEgemVyby13aWR0aCBzcGFjZSBzbyB0aGF0IHdlIGNhbiBsYXRlciBjaGVjayB3aGV0aGVyXG4gICAgICAvLyBpdCBnb3Qgc2VsZWN0ZWQuXG4gICAgICBmdW5jdGlvbiBwcmVwYXJlU2VsZWN0QWxsSGFjaygpIHtcbiAgICAgICAgaWYgKHRlLnNlbGVjdGlvblN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBjbS5zb21ldGhpbmdTZWxlY3RlZCgpO1xuICAgICAgICAgIHZhciBleHR2YWwgPSBcIlxcdTIwMGJcIiArIChzZWxlY3RlZCA/IHRlLnZhbHVlIDogXCJcIik7XG4gICAgICAgICAgdGUudmFsdWUgPSBcIlxcdTIxZGFcIjsgLy8gVXNlZCB0byBjYXRjaCBjb250ZXh0LW1lbnUgdW5kb1xuICAgICAgICAgIHRlLnZhbHVlID0gZXh0dmFsO1xuICAgICAgICAgIGlucHV0LnByZXZJbnB1dCA9IHNlbGVjdGVkID8gXCJcIiA6IFwiXFx1MjAwYlwiO1xuICAgICAgICAgIHRlLnNlbGVjdGlvblN0YXJ0ID0gMTsgdGUuc2VsZWN0aW9uRW5kID0gZXh0dmFsLmxlbmd0aDtcbiAgICAgICAgICAvLyBSZS1zZXQgdGhpcywgaW4gY2FzZSBzb21lIG90aGVyIGhhbmRsZXIgdG91Y2hlZCB0aGVcbiAgICAgICAgICAvLyBzZWxlY3Rpb24gaW4gdGhlIG1lYW50aW1lLlxuICAgICAgICAgIGRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPSBjbS5kb2Muc2VsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZWhpZGUoKSB7XG4gICAgICAgIGlucHV0LmNvbnRleHRNZW51UGVuZGluZyA9IGZhbHNlO1xuICAgICAgICBpbnB1dC53cmFwcGVyLnN0eWxlLmNzc1RleHQgPSBvbGRXcmFwcGVyQ1NTXG4gICAgICAgIHRlLnN0eWxlLmNzc1RleHQgPSBvbGRDU1M7XG4gICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCA9IHNjcm9sbFBvcyk7XG5cbiAgICAgICAgLy8gVHJ5IHRvIGRldGVjdCB0aGUgdXNlciBjaG9vc2luZyBzZWxlY3QtYWxsXG4gICAgICAgIGlmICh0ZS5zZWxlY3Rpb25TdGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKCFpZSB8fCAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpKSBwcmVwYXJlU2VsZWN0QWxsSGFjaygpO1xuICAgICAgICAgIHZhciBpID0gMCwgcG9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPT0gY20uZG9jLnNlbCAmJiB0ZS5zZWxlY3Rpb25TdGFydCA9PSAwICYmXG4gICAgICAgICAgICAgICAgdGUuc2VsZWN0aW9uRW5kID4gMCAmJiBpbnB1dC5wcmV2SW5wdXQgPT0gXCJcXHUyMDBiXCIpXG4gICAgICAgICAgICAgIG9wZXJhdGlvbihjbSwgY29tbWFuZHMuc2VsZWN0QWxsKShjbSk7XG4gICAgICAgICAgICBlbHNlIGlmIChpKysgPCAxMCkgZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwgPSBzZXRUaW1lb3V0KHBvbGwsIDUwMCk7XG4gICAgICAgICAgICBlbHNlIGRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGRpc3BsYXkuZGV0ZWN0aW5nU2VsZWN0QWxsID0gc2V0VGltZW91dChwb2xsLCAyMDApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkpIHByZXBhcmVTZWxlY3RBbGxIYWNrKCk7XG4gICAgICBpZiAoY2FwdHVyZVJpZ2h0Q2xpY2spIHtcbiAgICAgICAgZV9zdG9wKGUpO1xuICAgICAgICB2YXIgbW91c2V1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG9mZih3aW5kb3csIFwibW91c2V1cFwiLCBtb3VzZXVwKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KHJlaGlkZSwgMjApO1xuICAgICAgICB9O1xuICAgICAgICBvbih3aW5kb3csIFwibW91c2V1cFwiLCBtb3VzZXVwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQocmVoaWRlLCA1MCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlYWRPbmx5Q2hhbmdlZDogZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAoIXZhbCkgdGhpcy5yZXNldCgpO1xuICAgIH0sXG5cbiAgICBzZXRVbmVkaXRhYmxlOiBub3RoaW5nLFxuXG4gICAgbmVlZHNDb250ZW50QXR0cmlidXRlOiBmYWxzZVxuICB9LCBUZXh0YXJlYUlucHV0LnByb3RvdHlwZSk7XG5cbiAgLy8gQ09OVEVOVEVESVRBQkxFIElOUFVUIFNUWUxFXG5cbiAgZnVuY3Rpb24gQ29udGVudEVkaXRhYmxlSW5wdXQoY20pIHtcbiAgICB0aGlzLmNtID0gY207XG4gICAgdGhpcy5sYXN0QW5jaG9yTm9kZSA9IHRoaXMubGFzdEFuY2hvck9mZnNldCA9IHRoaXMubGFzdEZvY3VzTm9kZSA9IHRoaXMubGFzdEZvY3VzT2Zmc2V0ID0gbnVsbDtcbiAgICB0aGlzLnBvbGxpbmcgPSBuZXcgRGVsYXllZCgpO1xuICAgIHRoaXMuZ3JhY2VQZXJpb2QgPSBmYWxzZTtcbiAgfVxuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZSA9IGNvcHlPYmooe1xuICAgIGluaXQ6IGZ1bmN0aW9uKGRpc3BsYXkpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMsIGNtID0gaW5wdXQuY207XG4gICAgICB2YXIgZGl2ID0gaW5wdXQuZGl2ID0gZGlzcGxheS5saW5lRGl2O1xuICAgICAgZGlzYWJsZUJyb3dzZXJNYWdpYyhkaXYpO1xuXG4gICAgICBvbihkaXYsIFwicGFzdGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIXNpZ25hbERPTUV2ZW50KGNtLCBlKSkgaGFuZGxlUGFzdGUoZSwgY20pO1xuICAgICAgfSlcblxuICAgICAgb24oZGl2LCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTtcbiAgICAgICAgaW5wdXQuY29tcG9zaW5nID0ge3NlbDogY20uZG9jLnNlbCwgZGF0YTogZGF0YSwgc3RhcnREYXRhOiBkYXRhfTtcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICAgIHZhciBwcmltID0gY20uZG9jLnNlbC5wcmltYXJ5KCk7XG4gICAgICAgIHZhciBsaW5lID0gY20uZ2V0TGluZShwcmltLmhlYWQubGluZSk7XG4gICAgICAgIHZhciBmb3VuZCA9IGxpbmUuaW5kZXhPZihkYXRhLCBNYXRoLm1heCgwLCBwcmltLmhlYWQuY2ggLSBkYXRhLmxlbmd0aCkpO1xuICAgICAgICBpZiAoZm91bmQgPiAtMSAmJiBmb3VuZCA8PSBwcmltLmhlYWQuY2gpXG4gICAgICAgICAgaW5wdXQuY29tcG9zaW5nLnNlbCA9IHNpbXBsZVNlbGVjdGlvbihQb3MocHJpbS5oZWFkLmxpbmUsIGZvdW5kKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcyhwcmltLmhlYWQubGluZSwgZm91bmQgKyBkYXRhLmxlbmd0aCkpO1xuICAgICAgfSk7XG4gICAgICBvbihkaXYsIFwiY29tcG9zaXRpb251cGRhdGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpbnB1dC5jb21wb3NpbmcuZGF0YSA9IGUuZGF0YTtcbiAgICAgIH0pO1xuICAgICAgb24oZGl2LCBcImNvbXBvc2l0aW9uZW5kXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIG91cnMgPSBpbnB1dC5jb21wb3Npbmc7XG4gICAgICAgIGlmICghb3VycykgcmV0dXJuO1xuICAgICAgICBpZiAoZS5kYXRhICE9IG91cnMuc3RhcnREYXRhICYmICEvXFx1MjAwYi8udGVzdChlLmRhdGEpKVxuICAgICAgICAgIG91cnMuZGF0YSA9IGUuZGF0YTtcbiAgICAgICAgLy8gTmVlZCBhIHNtYWxsIGRlbGF5IHRvIHByZXZlbnQgb3RoZXIgY29kZSAoaW5wdXQgZXZlbnQsXG4gICAgICAgIC8vIHNlbGVjdGlvbiBwb2xsaW5nKSBmcm9tIGRvaW5nIGRhbWFnZSB3aGVuIGZpcmVkIHJpZ2h0IGFmdGVyXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uZW5kLlxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghb3Vycy5oYW5kbGVkKVxuICAgICAgICAgICAgaW5wdXQuYXBwbHlDb21wb3NpdGlvbihvdXJzKTtcbiAgICAgICAgICBpZiAoaW5wdXQuY29tcG9zaW5nID09IG91cnMpXG4gICAgICAgICAgICBpbnB1dC5jb21wb3NpbmcgPSBudWxsO1xuICAgICAgICB9LCA1MCk7XG4gICAgICB9KTtcblxuICAgICAgb24oZGl2LCBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LmZvcmNlQ29tcG9zaXRpb25FbmQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBvbihkaXYsIFwiaW5wdXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChpbnB1dC5jb21wb3NpbmcpIHJldHVybjtcbiAgICAgICAgaWYgKGNtLmlzUmVhZE9ubHkoKSB8fCAhaW5wdXQucG9sbENvbnRlbnQoKSlcbiAgICAgICAgICBydW5Jbk9wKGlucHV0LmNtLCBmdW5jdGlvbigpIHtyZWdDaGFuZ2UoY20pO30pO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uQ29weUN1dChlKSB7XG4gICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHJldHVyblxuICAgICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuICAgICAgICAgIGxhc3RDb3BpZWQgPSB7bGluZVdpc2U6IGZhbHNlLCB0ZXh0OiBjbS5nZXRTZWxlY3Rpb25zKCl9O1xuICAgICAgICAgIGlmIChlLnR5cGUgPT0gXCJjdXRcIikgY20ucmVwbGFjZVNlbGVjdGlvbihcIlwiLCBudWxsLCBcImN1dFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghY20ub3B0aW9ucy5saW5lV2lzZUNvcHlDdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJhbmdlcyA9IGNvcHlhYmxlUmFuZ2VzKGNtKTtcbiAgICAgICAgICBsYXN0Q29waWVkID0ge2xpbmVXaXNlOiB0cnVlLCB0ZXh0OiByYW5nZXMudGV4dH07XG4gICAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSB7XG4gICAgICAgICAgICBjbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGNtLnNldFNlbGVjdGlvbnMocmFuZ2VzLnJhbmdlcywgMCwgc2VsX2RvbnRTY3JvbGwpO1xuICAgICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsIG51bGwsIFwiY3V0XCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlPUyBleHBvc2VzIHRoZSBjbGlwYm9hcmQgQVBJLCBidXQgc2VlbXMgdG8gZGlzY2FyZCBjb250ZW50IGluc2VydGVkIGludG8gaXRcbiAgICAgICAgaWYgKGUuY2xpcGJvYXJkRGF0YSAmJiAhaW9zKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5jbGVhckRhdGEoKTtcbiAgICAgICAgICBlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgbGFzdENvcGllZC50ZXh0LmpvaW4oXCJcXG5cIikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE9sZC1mYXNoaW9uZWQgYnJpZWZseS1mb2N1cy1hLXRleHRhcmVhIGhhY2tcbiAgICAgICAgICB2YXIga2x1ZGdlID0gaGlkZGVuVGV4dGFyZWEoKSwgdGUgPSBrbHVkZ2UuZmlyc3RDaGlsZDtcbiAgICAgICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUoa2x1ZGdlLCBjbS5kaXNwbGF5LmxpbmVTcGFjZS5maXJzdENoaWxkKTtcbiAgICAgICAgICB0ZS52YWx1ZSA9IGxhc3RDb3BpZWQudGV4dC5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgIHZhciBoYWRGb2N1cyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgc2VsZWN0SW5wdXQodGUpO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5yZW1vdmVDaGlsZChrbHVkZ2UpO1xuICAgICAgICAgICAgaGFkRm9jdXMuZm9jdXMoKTtcbiAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9uKGRpdiwgXCJjb3B5XCIsIG9uQ29weUN1dCk7XG4gICAgICBvbihkaXYsIFwiY3V0XCIsIG9uQ29weUN1dCk7XG4gICAgfSxcblxuICAgIHByZXBhcmVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHByZXBhcmVTZWxlY3Rpb24odGhpcy5jbSwgZmFsc2UpO1xuICAgICAgcmVzdWx0LmZvY3VzID0gdGhpcy5jbS5zdGF0ZS5mb2N1c2VkO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgc2hvd1NlbGVjdGlvbjogZnVuY3Rpb24oaW5mbywgdGFrZUZvY3VzKSB7XG4gICAgICBpZiAoIWluZm8gfHwgIXRoaXMuY20uZGlzcGxheS52aWV3Lmxlbmd0aCkgcmV0dXJuO1xuICAgICAgaWYgKGluZm8uZm9jdXMgfHwgdGFrZUZvY3VzKSB0aGlzLnNob3dQcmltYXJ5U2VsZWN0aW9uKCk7XG4gICAgICB0aGlzLnNob3dNdWx0aXBsZVNlbGVjdGlvbnMoaW5mbyk7XG4gICAgfSxcblxuICAgIHNob3dQcmltYXJ5U2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIHByaW0gPSB0aGlzLmNtLmRvYy5zZWwucHJpbWFyeSgpO1xuICAgICAgdmFyIGN1ckFuY2hvciA9IGRvbVRvUG9zKHRoaXMuY20sIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KTtcbiAgICAgIHZhciBjdXJGb2N1cyA9IGRvbVRvUG9zKHRoaXMuY20sIHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCk7XG4gICAgICBpZiAoY3VyQW5jaG9yICYmICFjdXJBbmNob3IuYmFkICYmIGN1ckZvY3VzICYmICFjdXJGb2N1cy5iYWQgJiZcbiAgICAgICAgICBjbXAobWluUG9zKGN1ckFuY2hvciwgY3VyRm9jdXMpLCBwcmltLmZyb20oKSkgPT0gMCAmJlxuICAgICAgICAgIGNtcChtYXhQb3MoY3VyQW5jaG9yLCBjdXJGb2N1cyksIHByaW0udG8oKSkgPT0gMClcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICB2YXIgc3RhcnQgPSBwb3NUb0RPTSh0aGlzLmNtLCBwcmltLmZyb20oKSk7XG4gICAgICB2YXIgZW5kID0gcG9zVG9ET00odGhpcy5jbSwgcHJpbS50bygpKTtcbiAgICAgIGlmICghc3RhcnQgJiYgIWVuZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgdmlldyA9IHRoaXMuY20uZGlzcGxheS52aWV3O1xuICAgICAgdmFyIG9sZCA9IHNlbC5yYW5nZUNvdW50ICYmIHNlbC5nZXRSYW5nZUF0KDApO1xuICAgICAgaWYgKCFzdGFydCkge1xuICAgICAgICBzdGFydCA9IHtub2RlOiB2aWV3WzBdLm1lYXN1cmUubWFwWzJdLCBvZmZzZXQ6IDB9O1xuICAgICAgfSBlbHNlIGlmICghZW5kKSB7IC8vIEZJWE1FIGRhbmdlcm91c2x5IGhhY2t5XG4gICAgICAgIHZhciBtZWFzdXJlID0gdmlld1t2aWV3Lmxlbmd0aCAtIDFdLm1lYXN1cmU7XG4gICAgICAgIHZhciBtYXAgPSBtZWFzdXJlLm1hcHMgPyBtZWFzdXJlLm1hcHNbbWVhc3VyZS5tYXBzLmxlbmd0aCAtIDFdIDogbWVhc3VyZS5tYXA7XG4gICAgICAgIGVuZCA9IHtub2RlOiBtYXBbbWFwLmxlbmd0aCAtIDFdLCBvZmZzZXQ6IG1hcFttYXAubGVuZ3RoIC0gMl0gLSBtYXBbbWFwLmxlbmd0aCAtIDNdfTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHsgdmFyIHJuZyA9IHJhbmdlKHN0YXJ0Lm5vZGUsIHN0YXJ0Lm9mZnNldCwgZW5kLm9mZnNldCwgZW5kLm5vZGUpOyB9XG4gICAgICBjYXRjaChlKSB7fSAvLyBPdXIgbW9kZWwgb2YgdGhlIERPTSBtaWdodCBiZSBvdXRkYXRlZCwgaW4gd2hpY2ggY2FzZSB0aGUgcmFuZ2Ugd2UgdHJ5IHRvIHNldCBjYW4gYmUgaW1wb3NzaWJsZVxuICAgICAgaWYgKHJuZykge1xuICAgICAgICBpZiAoIWdlY2tvICYmIHRoaXMuY20uc3RhdGUuZm9jdXNlZCkge1xuICAgICAgICAgIHNlbC5jb2xsYXBzZShzdGFydC5ub2RlLCBzdGFydC5vZmZzZXQpO1xuICAgICAgICAgIGlmICghcm5nLmNvbGxhcHNlZCkgc2VsLmFkZFJhbmdlKHJuZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgIHNlbC5hZGRSYW5nZShybmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbGQgJiYgc2VsLmFuY2hvck5vZGUgPT0gbnVsbCkgc2VsLmFkZFJhbmdlKG9sZCk7XG4gICAgICAgIGVsc2UgaWYgKGdlY2tvKSB0aGlzLnN0YXJ0R3JhY2VQZXJpb2QoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtZW1iZXJTZWxlY3Rpb24oKTtcbiAgICB9LFxuXG4gICAgc3RhcnRHcmFjZVBlcmlvZDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZ3JhY2VQZXJpb2QpO1xuICAgICAgdGhpcy5ncmFjZVBlcmlvZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LmdyYWNlUGVyaW9kID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnB1dC5zZWxlY3Rpb25DaGFuZ2VkKCkpXG4gICAgICAgICAgaW5wdXQuY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkgeyBpbnB1dC5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTsgfSk7XG4gICAgICB9LCAyMCk7XG4gICAgfSxcblxuICAgIHNob3dNdWx0aXBsZVNlbGVjdGlvbnM6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKHRoaXMuY20uZGlzcGxheS5jdXJzb3JEaXYsIGluZm8uY3Vyc29ycyk7XG4gICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZCh0aGlzLmNtLmRpc3BsYXkuc2VsZWN0aW9uRGl2LCBpbmZvLnNlbGVjdGlvbik7XG4gICAgfSxcblxuICAgIHJlbWVtYmVyU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB0aGlzLmxhc3RBbmNob3JOb2RlID0gc2VsLmFuY2hvck5vZGU7IHRoaXMubGFzdEFuY2hvck9mZnNldCA9IHNlbC5hbmNob3JPZmZzZXQ7XG4gICAgICB0aGlzLmxhc3RGb2N1c05vZGUgPSBzZWwuZm9jdXNOb2RlOyB0aGlzLmxhc3RGb2N1c09mZnNldCA9IHNlbC5mb2N1c09mZnNldDtcbiAgICB9LFxuXG4gICAgc2VsZWN0aW9uSW5FZGl0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIGlmICghc2VsLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBub2RlID0gc2VsLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgICByZXR1cm4gY29udGFpbnModGhpcy5kaXYsIG5vZGUpO1xuICAgIH0sXG5cbiAgICBmb2N1czogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5ICE9IFwibm9jdXJzb3JcIikgdGhpcy5kaXYuZm9jdXMoKTtcbiAgICB9LFxuICAgIGJsdXI6IGZ1bmN0aW9uKCkgeyB0aGlzLmRpdi5ibHVyKCk7IH0sXG4gICAgZ2V0RmllbGQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kaXY7IH0sXG5cbiAgICBzdXBwb3J0c1RvdWNoOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0sXG5cbiAgICByZWNlaXZlZEZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXM7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpKVxuICAgICAgICB0aGlzLnBvbGxTZWxlY3Rpb24oKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcnVuSW5PcCh0aGlzLmNtLCBmdW5jdGlvbigpIHsgaW5wdXQuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZCA9IHRydWU7IH0pO1xuXG4gICAgICBmdW5jdGlvbiBwb2xsKCkge1xuICAgICAgICBpZiAoaW5wdXQuY20uc3RhdGUuZm9jdXNlZCkge1xuICAgICAgICAgIGlucHV0LnBvbGxTZWxlY3Rpb24oKTtcbiAgICAgICAgICBpbnB1dC5wb2xsaW5nLnNldChpbnB1dC5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgcG9sbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgcG9sbCk7XG4gICAgfSxcblxuICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybiBzZWwuYW5jaG9yTm9kZSAhPSB0aGlzLmxhc3RBbmNob3JOb2RlIHx8IHNlbC5hbmNob3JPZmZzZXQgIT0gdGhpcy5sYXN0QW5jaG9yT2Zmc2V0IHx8XG4gICAgICAgIHNlbC5mb2N1c05vZGUgIT0gdGhpcy5sYXN0Rm9jdXNOb2RlIHx8IHNlbC5mb2N1c09mZnNldCAhPSB0aGlzLmxhc3RGb2N1c09mZnNldDtcbiAgICB9LFxuXG4gICAgcG9sbFNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuY29tcG9zaW5nICYmICF0aGlzLmdyYWNlUGVyaW9kICYmIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCgpKSB7XG4gICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIGNtID0gdGhpcy5jbTtcbiAgICAgICAgdGhpcy5yZW1lbWJlclNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgYW5jaG9yID0gZG9tVG9Qb3MoY20sIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KTtcbiAgICAgICAgdmFyIGhlYWQgPSBkb21Ub1BvcyhjbSwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgICAgaWYgKGFuY2hvciAmJiBoZWFkKSBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRTZWxlY3Rpb24oY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24oYW5jaG9yLCBoZWFkKSwgc2VsX2RvbnRTY3JvbGwpO1xuICAgICAgICAgIGlmIChhbmNob3IuYmFkIHx8IGhlYWQuYmFkKSBjbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHBvbGxDb250ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzZWwgPSBjbS5kb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgIHZhciBmcm9tID0gc2VsLmZyb20oKSwgdG8gPSBzZWwudG8oKTtcbiAgICAgIGlmIChmcm9tLmxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8IHRvLmxpbmUgPiBkaXNwbGF5LnZpZXdUbyAtIDEpIHJldHVybiBmYWxzZTtcblxuICAgICAgdmFyIGZyb21JbmRleDtcbiAgICAgIGlmIChmcm9tLmxpbmUgPT0gZGlzcGxheS52aWV3RnJvbSB8fCAoZnJvbUluZGV4ID0gZmluZFZpZXdJbmRleChjbSwgZnJvbS5saW5lKSkgPT0gMCkge1xuICAgICAgICB2YXIgZnJvbUxpbmUgPSBsaW5lTm8oZGlzcGxheS52aWV3WzBdLmxpbmUpO1xuICAgICAgICB2YXIgZnJvbU5vZGUgPSBkaXNwbGF5LnZpZXdbMF0ubm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmcm9tTGluZSA9IGxpbmVObyhkaXNwbGF5LnZpZXdbZnJvbUluZGV4XS5saW5lKTtcbiAgICAgICAgdmFyIGZyb21Ob2RlID0gZGlzcGxheS52aWV3W2Zyb21JbmRleCAtIDFdLm5vZGUubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgICB2YXIgdG9JbmRleCA9IGZpbmRWaWV3SW5kZXgoY20sIHRvLmxpbmUpO1xuICAgICAgaWYgKHRvSW5kZXggPT0gZGlzcGxheS52aWV3Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdmFyIHRvTGluZSA9IGRpc3BsYXkudmlld1RvIC0gMTtcbiAgICAgICAgdmFyIHRvTm9kZSA9IGRpc3BsYXkubGluZURpdi5sYXN0Q2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdG9MaW5lID0gbGluZU5vKGRpc3BsYXkudmlld1t0b0luZGV4ICsgMV0ubGluZSkgLSAxO1xuICAgICAgICB2YXIgdG9Ob2RlID0gZGlzcGxheS52aWV3W3RvSW5kZXggKyAxXS5ub2RlLnByZXZpb3VzU2libGluZztcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld1RleHQgPSBjbS5kb2Muc3BsaXRMaW5lcyhkb21UZXh0QmV0d2VlbihjbSwgZnJvbU5vZGUsIHRvTm9kZSwgZnJvbUxpbmUsIHRvTGluZSkpO1xuICAgICAgdmFyIG9sZFRleHQgPSBnZXRCZXR3ZWVuKGNtLmRvYywgUG9zKGZyb21MaW5lLCAwKSwgUG9zKHRvTGluZSwgZ2V0TGluZShjbS5kb2MsIHRvTGluZSkudGV4dC5sZW5ndGgpKTtcbiAgICAgIHdoaWxlIChuZXdUZXh0Lmxlbmd0aCA+IDEgJiYgb2xkVGV4dC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmIChsc3QobmV3VGV4dCkgPT0gbHN0KG9sZFRleHQpKSB7IG5ld1RleHQucG9wKCk7IG9sZFRleHQucG9wKCk7IHRvTGluZS0tOyB9XG4gICAgICAgIGVsc2UgaWYgKG5ld1RleHRbMF0gPT0gb2xkVGV4dFswXSkgeyBuZXdUZXh0LnNoaWZ0KCk7IG9sZFRleHQuc2hpZnQoKTsgZnJvbUxpbmUrKzsgfVxuICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3V0RnJvbnQgPSAwLCBjdXRFbmQgPSAwO1xuICAgICAgdmFyIG5ld1RvcCA9IG5ld1RleHRbMF0sIG9sZFRvcCA9IG9sZFRleHRbMF0sIG1heEN1dEZyb250ID0gTWF0aC5taW4obmV3VG9wLmxlbmd0aCwgb2xkVG9wLmxlbmd0aCk7XG4gICAgICB3aGlsZSAoY3V0RnJvbnQgPCBtYXhDdXRGcm9udCAmJiBuZXdUb3AuY2hhckNvZGVBdChjdXRGcm9udCkgPT0gb2xkVG9wLmNoYXJDb2RlQXQoY3V0RnJvbnQpKVxuICAgICAgICArK2N1dEZyb250O1xuICAgICAgdmFyIG5ld0JvdCA9IGxzdChuZXdUZXh0KSwgb2xkQm90ID0gbHN0KG9sZFRleHQpO1xuICAgICAgdmFyIG1heEN1dEVuZCA9IE1hdGgubWluKG5ld0JvdC5sZW5ndGggLSAobmV3VGV4dC5sZW5ndGggPT0gMSA/IGN1dEZyb250IDogMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkQm90Lmxlbmd0aCAtIChvbGRUZXh0Lmxlbmd0aCA9PSAxID8gY3V0RnJvbnQgOiAwKSk7XG4gICAgICB3aGlsZSAoY3V0RW5kIDwgbWF4Q3V0RW5kICYmXG4gICAgICAgICAgICAgbmV3Qm90LmNoYXJDb2RlQXQobmV3Qm90Lmxlbmd0aCAtIGN1dEVuZCAtIDEpID09IG9sZEJvdC5jaGFyQ29kZUF0KG9sZEJvdC5sZW5ndGggLSBjdXRFbmQgLSAxKSlcbiAgICAgICAgKytjdXRFbmQ7XG5cbiAgICAgIG5ld1RleHRbbmV3VGV4dC5sZW5ndGggLSAxXSA9IG5ld0JvdC5zbGljZSgwLCBuZXdCb3QubGVuZ3RoIC0gY3V0RW5kKTtcbiAgICAgIG5ld1RleHRbMF0gPSBuZXdUZXh0WzBdLnNsaWNlKGN1dEZyb250KTtcblxuICAgICAgdmFyIGNoRnJvbSA9IFBvcyhmcm9tTGluZSwgY3V0RnJvbnQpO1xuICAgICAgdmFyIGNoVG8gPSBQb3ModG9MaW5lLCBvbGRUZXh0Lmxlbmd0aCA/IGxzdChvbGRUZXh0KS5sZW5ndGggLSBjdXRFbmQgOiAwKTtcbiAgICAgIGlmIChuZXdUZXh0Lmxlbmd0aCA+IDEgfHwgbmV3VGV4dFswXSB8fCBjbXAoY2hGcm9tLCBjaFRvKSkge1xuICAgICAgICByZXBsYWNlUmFuZ2UoY20uZG9jLCBuZXdUZXh0LCBjaEZyb20sIGNoVG8sIFwiK2lucHV0XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZW5zdXJlUG9sbGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZm9yY2VDb21wb3NpdGlvbkVuZCgpO1xuICAgIH0sXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5mb3JjZUNvbXBvc2l0aW9uRW5kKCk7XG4gICAgfSxcbiAgICBmb3JjZUNvbXBvc2l0aW9uRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5jb21wb3NpbmcgfHwgdGhpcy5jb21wb3NpbmcuaGFuZGxlZCkgcmV0dXJuO1xuICAgICAgdGhpcy5hcHBseUNvbXBvc2l0aW9uKHRoaXMuY29tcG9zaW5nKTtcbiAgICAgIHRoaXMuY29tcG9zaW5nLmhhbmRsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5kaXYuYmx1cigpO1xuICAgICAgdGhpcy5kaXYuZm9jdXMoKTtcbiAgICB9LFxuICAgIGFwcGx5Q29tcG9zaXRpb246IGZ1bmN0aW9uKGNvbXBvc2luZykge1xuICAgICAgaWYgKHRoaXMuY20uaXNSZWFkT25seSgpKVxuICAgICAgICBvcGVyYXRpb24odGhpcy5jbSwgcmVnQ2hhbmdlKSh0aGlzLmNtKVxuICAgICAgZWxzZSBpZiAoY29tcG9zaW5nLmRhdGEgJiYgY29tcG9zaW5nLmRhdGEgIT0gY29tcG9zaW5nLnN0YXJ0RGF0YSlcbiAgICAgICAgb3BlcmF0aW9uKHRoaXMuY20sIGFwcGx5VGV4dElucHV0KSh0aGlzLmNtLCBjb21wb3NpbmcuZGF0YSwgMCwgY29tcG9zaW5nLnNlbCk7XG4gICAgfSxcblxuICAgIHNldFVuZWRpdGFibGU6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIG5vZGUuY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiXG4gICAgfSxcblxuICAgIG9uS2V5UHJlc3M6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghdGhpcy5jbS5pc1JlYWRPbmx5KCkpXG4gICAgICAgIG9wZXJhdGlvbih0aGlzLmNtLCBhcHBseVRleHRJbnB1dCkodGhpcy5jbSwgU3RyaW5nLmZyb21DaGFyQ29kZShlLmNoYXJDb2RlID09IG51bGwgPyBlLmtleUNvZGUgOiBlLmNoYXJDb2RlKSwgMCk7XG4gICAgfSxcblxuICAgIHJlYWRPbmx5Q2hhbmdlZDogZnVuY3Rpb24odmFsKSB7XG4gICAgICB0aGlzLmRpdi5jb250ZW50RWRpdGFibGUgPSBTdHJpbmcodmFsICE9IFwibm9jdXJzb3JcIilcbiAgICB9LFxuXG4gICAgb25Db250ZXh0TWVudTogbm90aGluZyxcbiAgICByZXNldFBvc2l0aW9uOiBub3RoaW5nLFxuXG4gICAgbmVlZHNDb250ZW50QXR0cmlidXRlOiB0cnVlXG4gIH0sIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZSk7XG5cbiAgZnVuY3Rpb24gcG9zVG9ET00oY20sIHBvcykge1xuICAgIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBwb3MubGluZSk7XG4gICAgaWYgKCF2aWV3IHx8IHZpZXcuaGlkZGVuKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoY20uZG9jLCBwb3MubGluZSk7XG4gICAgdmFyIGluZm8gPSBtYXBGcm9tTGluZVZpZXcodmlldywgbGluZSwgcG9zLmxpbmUpO1xuXG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSksIHNpZGUgPSBcImxlZnRcIjtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIHZhciBwYXJ0UG9zID0gZ2V0QmlkaVBhcnRBdChvcmRlciwgcG9zLmNoKTtcbiAgICAgIHNpZGUgPSBwYXJ0UG9zICUgMiA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gbm9kZUFuZE9mZnNldEluTGluZU1hcChpbmZvLm1hcCwgcG9zLmNoLCBzaWRlKTtcbiAgICByZXN1bHQub2Zmc2V0ID0gcmVzdWx0LmNvbGxhcHNlID09IFwicmlnaHRcIiA/IHJlc3VsdC5lbmQgOiByZXN1bHQuc3RhcnQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJhZFBvcyhwb3MsIGJhZCkgeyBpZiAoYmFkKSBwb3MuYmFkID0gdHJ1ZTsgcmV0dXJuIHBvczsgfVxuXG4gIGZ1bmN0aW9uIGRvbVRvUG9zKGNtLCBub2RlLCBvZmZzZXQpIHtcbiAgICB2YXIgbGluZU5vZGU7XG4gICAgaWYgKG5vZGUgPT0gY20uZGlzcGxheS5saW5lRGl2KSB7XG4gICAgICBsaW5lTm9kZSA9IGNtLmRpc3BsYXkubGluZURpdi5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgICBpZiAoIWxpbmVOb2RlKSByZXR1cm4gYmFkUG9zKGNtLmNsaXBQb3MoUG9zKGNtLmRpc3BsYXkudmlld1RvIC0gMSkpLCB0cnVlKTtcbiAgICAgIG5vZGUgPSBudWxsOyBvZmZzZXQgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxpbmVOb2RlID0gbm9kZTs7IGxpbmVOb2RlID0gbGluZU5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBpZiAoIWxpbmVOb2RlIHx8IGxpbmVOb2RlID09IGNtLmRpc3BsYXkubGluZURpdikgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChsaW5lTm9kZS5wYXJlbnROb2RlICYmIGxpbmVOb2RlLnBhcmVudE5vZGUgPT0gY20uZGlzcGxheS5saW5lRGl2KSBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5kaXNwbGF5LnZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaW5lVmlldyA9IGNtLmRpc3BsYXkudmlld1tpXTtcbiAgICAgIGlmIChsaW5lVmlldy5ub2RlID09IGxpbmVOb2RlKVxuICAgICAgICByZXR1cm4gbG9jYXRlTm9kZUluTGluZVZpZXcobGluZVZpZXcsIG5vZGUsIG9mZnNldCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9jYXRlTm9kZUluTGluZVZpZXcobGluZVZpZXcsIG5vZGUsIG9mZnNldCkge1xuICAgIHZhciB3cmFwcGVyID0gbGluZVZpZXcudGV4dC5maXJzdENoaWxkLCBiYWQgPSBmYWxzZTtcbiAgICBpZiAoIW5vZGUgfHwgIWNvbnRhaW5zKHdyYXBwZXIsIG5vZGUpKSByZXR1cm4gYmFkUG9zKFBvcyhsaW5lTm8obGluZVZpZXcubGluZSksIDApLCB0cnVlKTtcbiAgICBpZiAobm9kZSA9PSB3cmFwcGVyKSB7XG4gICAgICBiYWQgPSB0cnVlO1xuICAgICAgbm9kZSA9IHdyYXBwZXIuY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVWaWV3LnJlc3QgPyBsc3QobGluZVZpZXcucmVzdCkgOiBsaW5lVmlldy5saW5lO1xuICAgICAgICByZXR1cm4gYmFkUG9zKFBvcyhsaW5lTm8obGluZSksIGxpbmUudGV4dC5sZW5ndGgpLCBiYWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUgOiBudWxsLCB0b3BOb2RlID0gbm9kZTtcbiAgICBpZiAoIXRleHROb2RlICYmIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPT0gMSAmJiBub2RlLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gMykge1xuICAgICAgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAob2Zmc2V0KSBvZmZzZXQgPSB0ZXh0Tm9kZS5ub2RlVmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICB3aGlsZSAodG9wTm9kZS5wYXJlbnROb2RlICE9IHdyYXBwZXIpIHRvcE5vZGUgPSB0b3BOb2RlLnBhcmVudE5vZGU7XG4gICAgdmFyIG1lYXN1cmUgPSBsaW5lVmlldy5tZWFzdXJlLCBtYXBzID0gbWVhc3VyZS5tYXBzO1xuXG4gICAgZnVuY3Rpb24gZmluZCh0ZXh0Tm9kZSwgdG9wTm9kZSwgb2Zmc2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gLTE7IGkgPCAobWFwcyA/IG1hcHMubGVuZ3RoIDogMCk7IGkrKykge1xuICAgICAgICB2YXIgbWFwID0gaSA8IDAgPyBtZWFzdXJlLm1hcCA6IG1hcHNbaV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWFwLmxlbmd0aDsgaiArPSAzKSB7XG4gICAgICAgICAgdmFyIGN1ck5vZGUgPSBtYXBbaiArIDJdO1xuICAgICAgICAgIGlmIChjdXJOb2RlID09IHRleHROb2RlIHx8IGN1ck5vZGUgPT0gdG9wTm9kZSkge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBsaW5lTm8oaSA8IDAgPyBsaW5lVmlldy5saW5lIDogbGluZVZpZXcucmVzdFtpXSk7XG4gICAgICAgICAgICB2YXIgY2ggPSBtYXBbal0gKyBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCB8fCBjdXJOb2RlICE9IHRleHROb2RlKSBjaCA9IG1hcFtqICsgKG9mZnNldCA/IDEgOiAwKV07XG4gICAgICAgICAgICByZXR1cm4gUG9zKGxpbmUsIGNoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGZvdW5kID0gZmluZCh0ZXh0Tm9kZSwgdG9wTm9kZSwgb2Zmc2V0KTtcbiAgICBpZiAoZm91bmQpIHJldHVybiBiYWRQb3MoZm91bmQsIGJhZCk7XG5cbiAgICAvLyBGSVhNRSB0aGlzIGlzIGFsbCByZWFsbHkgc2hha3kuIG1pZ2h0IGhhbmRsZSB0aGUgZmV3IGNhc2VzIGl0IG5lZWRzIHRvIGhhbmRsZSwgYnV0IGxpa2VseSB0byBjYXVzZSBwcm9ibGVtc1xuICAgIGZvciAodmFyIGFmdGVyID0gdG9wTm9kZS5uZXh0U2libGluZywgZGlzdCA9IHRleHROb2RlID8gdGV4dE5vZGUubm9kZVZhbHVlLmxlbmd0aCAtIG9mZnNldCA6IDA7IGFmdGVyOyBhZnRlciA9IGFmdGVyLm5leHRTaWJsaW5nKSB7XG4gICAgICBmb3VuZCA9IGZpbmQoYWZ0ZXIsIGFmdGVyLmZpcnN0Q2hpbGQsIDApO1xuICAgICAgaWYgKGZvdW5kKVxuICAgICAgICByZXR1cm4gYmFkUG9zKFBvcyhmb3VuZC5saW5lLCBmb3VuZC5jaCAtIGRpc3QpLCBiYWQpO1xuICAgICAgZWxzZVxuICAgICAgICBkaXN0ICs9IGFmdGVyLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICB9XG4gICAgZm9yICh2YXIgYmVmb3JlID0gdG9wTm9kZS5wcmV2aW91c1NpYmxpbmcsIGRpc3QgPSBvZmZzZXQ7IGJlZm9yZTsgYmVmb3JlID0gYmVmb3JlLnByZXZpb3VzU2libGluZykge1xuICAgICAgZm91bmQgPSBmaW5kKGJlZm9yZSwgYmVmb3JlLmZpcnN0Q2hpbGQsIC0xKTtcbiAgICAgIGlmIChmb3VuZClcbiAgICAgICAgcmV0dXJuIGJhZFBvcyhQb3MoZm91bmQubGluZSwgZm91bmQuY2ggKyBkaXN0KSwgYmFkKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZGlzdCArPSBhZnRlci50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZG9tVGV4dEJldHdlZW4oY20sIGZyb20sIHRvLCBmcm9tTGluZSwgdG9MaW5lKSB7XG4gICAgdmFyIHRleHQgPSBcIlwiLCBjbG9zaW5nID0gZmFsc2UsIGxpbmVTZXAgPSBjbS5kb2MubGluZVNlcGFyYXRvcigpO1xuICAgIGZ1bmN0aW9uIHJlY29nbml6ZU1hcmtlcihpZCkgeyByZXR1cm4gZnVuY3Rpb24obWFya2VyKSB7IHJldHVybiBtYXJrZXIuaWQgPT0gaWQ7IH07IH1cbiAgICBmdW5jdGlvbiB3YWxrKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgdmFyIGNtVGV4dCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiY20tdGV4dFwiKTtcbiAgICAgICAgaWYgKGNtVGV4dCAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKGNtVGV4dCA9PSBcIlwiKSBjbVRleHQgPSBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoL1xcdTIwMGIvZywgXCJcIik7XG4gICAgICAgICAgdGV4dCArPSBjbVRleHQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXJrZXJJRCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiY20tbWFya2VyXCIpLCByYW5nZTtcbiAgICAgICAgaWYgKG1hcmtlcklEKSB7XG4gICAgICAgICAgdmFyIGZvdW5kID0gY20uZmluZE1hcmtzKFBvcyhmcm9tTGluZSwgMCksIFBvcyh0b0xpbmUgKyAxLCAwKSwgcmVjb2duaXplTWFya2VyKCttYXJrZXJJRCkpO1xuICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGggJiYgKHJhbmdlID0gZm91bmRbMF0uZmluZCgpKSlcbiAgICAgICAgICAgIHRleHQgKz0gZ2V0QmV0d2VlbihjbS5kb2MsIHJhbmdlLmZyb20sIHJhbmdlLnRvKS5qb2luKGxpbmVTZXApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikgPT0gXCJmYWxzZVwiKSByZXR1cm47XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHdhbGsobm9kZS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgaWYgKC9eKHByZXxkaXZ8cCkkL2kudGVzdChub2RlLm5vZGVOYW1lKSlcbiAgICAgICAgICBjbG9zaW5nID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICAgIHZhciB2YWwgPSBub2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgaWYgKCF2YWwpIHJldHVybjtcbiAgICAgICAgaWYgKGNsb3NpbmcpIHtcbiAgICAgICAgICB0ZXh0ICs9IGxpbmVTZXA7XG4gICAgICAgICAgY2xvc2luZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRleHQgKz0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKDs7KSB7XG4gICAgICB3YWxrKGZyb20pO1xuICAgICAgaWYgKGZyb20gPT0gdG8pIGJyZWFrO1xuICAgICAgZnJvbSA9IGZyb20ubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgQ29kZU1pcnJvci5pbnB1dFN0eWxlcyA9IHtcInRleHRhcmVhXCI6IFRleHRhcmVhSW5wdXQsIFwiY29udGVudGVkaXRhYmxlXCI6IENvbnRlbnRFZGl0YWJsZUlucHV0fTtcblxuICAvLyBTRUxFQ1RJT04gLyBDVVJTT1JcblxuICAvLyBTZWxlY3Rpb24gb2JqZWN0cyBhcmUgaW1tdXRhYmxlLiBBIG5ldyBvbmUgaXMgY3JlYXRlZCBldmVyeSB0aW1lXG4gIC8vIHRoZSBzZWxlY3Rpb24gY2hhbmdlcy4gQSBzZWxlY3Rpb24gaXMgb25lIG9yIG1vcmUgbm9uLW92ZXJsYXBwaW5nXG4gIC8vIChhbmQgbm9uLXRvdWNoaW5nKSByYW5nZXMsIHNvcnRlZCwgYW5kIGFuIGludGVnZXIgdGhhdCBpbmRpY2F0ZXNcbiAgLy8gd2hpY2ggb25lIGlzIHRoZSBwcmltYXJ5IHNlbGVjdGlvbiAodGhlIG9uZSB0aGF0J3Mgc2Nyb2xsZWQgaW50b1xuICAvLyB2aWV3LCB0aGF0IGdldEN1cnNvciByZXR1cm5zLCBldGMpLlxuICBmdW5jdGlvbiBTZWxlY3Rpb24ocmFuZ2VzLCBwcmltSW5kZXgpIHtcbiAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgICB0aGlzLnByaW1JbmRleCA9IHByaW1JbmRleDtcbiAgfVxuXG4gIFNlbGVjdGlvbi5wcm90b3R5cGUgPSB7XG4gICAgcHJpbWFyeTogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnJhbmdlc1t0aGlzLnByaW1JbmRleF07IH0sXG4gICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgaWYgKG90aGVyID09IHRoaXMpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKG90aGVyLnByaW1JbmRleCAhPSB0aGlzLnByaW1JbmRleCB8fCBvdGhlci5yYW5nZXMubGVuZ3RoICE9IHRoaXMucmFuZ2VzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaGVyZSA9IHRoaXMucmFuZ2VzW2ldLCB0aGVyZSA9IG90aGVyLnJhbmdlc1tpXTtcbiAgICAgICAgaWYgKGNtcChoZXJlLmFuY2hvciwgdGhlcmUuYW5jaG9yKSAhPSAwIHx8IGNtcChoZXJlLmhlYWQsIHRoZXJlLmhlYWQpICE9IDApIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZGVlcENvcHk6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgb3V0ID0gW10sIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShjb3B5UG9zKHRoaXMucmFuZ2VzW2ldLmFuY2hvciksIGNvcHlQb3ModGhpcy5yYW5nZXNbaV0uaGVhZCkpO1xuICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ob3V0LCB0aGlzLnByaW1JbmRleCk7XG4gICAgfSxcbiAgICBzb21ldGhpbmdTZWxlY3RlZDogZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoIXRoaXMucmFuZ2VzW2ldLmVtcHR5KCkpIHJldHVybiB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgY29udGFpbnM6IGZ1bmN0aW9uKHBvcywgZW5kKSB7XG4gICAgICBpZiAoIWVuZCkgZW5kID0gcG9zO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnJhbmdlc1tpXTtcbiAgICAgICAgaWYgKGNtcChlbmQsIHJhbmdlLmZyb20oKSkgPj0gMCAmJiBjbXAocG9zLCByYW5nZS50bygpKSA8PSAwKVxuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBSYW5nZShhbmNob3IsIGhlYWQpIHtcbiAgICB0aGlzLmFuY2hvciA9IGFuY2hvcjsgdGhpcy5oZWFkID0gaGVhZDtcbiAgfVxuXG4gIFJhbmdlLnByb3RvdHlwZSA9IHtcbiAgICBmcm9tOiBmdW5jdGlvbigpIHsgcmV0dXJuIG1pblBvcyh0aGlzLmFuY2hvciwgdGhpcy5oZWFkKTsgfSxcbiAgICB0bzogZnVuY3Rpb24oKSB7IHJldHVybiBtYXhQb3ModGhpcy5hbmNob3IsIHRoaXMuaGVhZCk7IH0sXG4gICAgZW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZC5saW5lID09IHRoaXMuYW5jaG9yLmxpbmUgJiYgdGhpcy5oZWFkLmNoID09IHRoaXMuYW5jaG9yLmNoO1xuICAgIH1cbiAgfTtcblxuICAvLyBUYWtlIGFuIHVuc29ydGVkLCBwb3RlbnRpYWxseSBvdmVybGFwcGluZyBzZXQgb2YgcmFuZ2VzLCBhbmRcbiAgLy8gYnVpbGQgYSBzZWxlY3Rpb24gb3V0IG9mIGl0LiAnQ29uc3VtZXMnIHJhbmdlcyBhcnJheSAobW9kaWZ5aW5nXG4gIC8vIGl0KS5cbiAgZnVuY3Rpb24gbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcywgcHJpbUluZGV4KSB7XG4gICAgdmFyIHByaW0gPSByYW5nZXNbcHJpbUluZGV4XTtcbiAgICByYW5nZXMuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBjbXAoYS5mcm9tKCksIGIuZnJvbSgpKTsgfSk7XG4gICAgcHJpbUluZGV4ID0gaW5kZXhPZihyYW5nZXMsIHByaW0pO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY3VyID0gcmFuZ2VzW2ldLCBwcmV2ID0gcmFuZ2VzW2kgLSAxXTtcbiAgICAgIGlmIChjbXAocHJldi50bygpLCBjdXIuZnJvbSgpKSA+PSAwKSB7XG4gICAgICAgIHZhciBmcm9tID0gbWluUG9zKHByZXYuZnJvbSgpLCBjdXIuZnJvbSgpKSwgdG8gPSBtYXhQb3MocHJldi50bygpLCBjdXIudG8oKSk7XG4gICAgICAgIHZhciBpbnYgPSBwcmV2LmVtcHR5KCkgPyBjdXIuZnJvbSgpID09IGN1ci5oZWFkIDogcHJldi5mcm9tKCkgPT0gcHJldi5oZWFkO1xuICAgICAgICBpZiAoaSA8PSBwcmltSW5kZXgpIC0tcHJpbUluZGV4O1xuICAgICAgICByYW5nZXMuc3BsaWNlKC0taSwgMiwgbmV3IFJhbmdlKGludiA/IHRvIDogZnJvbSwgaW52ID8gZnJvbSA6IHRvKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHJhbmdlcywgcHJpbUluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNpbXBsZVNlbGVjdGlvbihhbmNob3IsIGhlYWQpIHtcbiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihbbmV3IFJhbmdlKGFuY2hvciwgaGVhZCB8fCBhbmNob3IpXSwgMCk7XG4gIH1cblxuICAvLyBNb3N0IG9mIHRoZSBleHRlcm5hbCBBUEkgY2xpcHMgZ2l2ZW4gcG9zaXRpb25zIHRvIG1ha2Ugc3VyZSB0aGV5XG4gIC8vIGFjdHVhbGx5IGV4aXN0IHdpdGhpbiB0aGUgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIGNsaXBMaW5lKGRvYywgbikge3JldHVybiBNYXRoLm1heChkb2MuZmlyc3QsIE1hdGgubWluKG4sIGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSkpO31cbiAgZnVuY3Rpb24gY2xpcFBvcyhkb2MsIHBvcykge1xuICAgIGlmIChwb3MubGluZSA8IGRvYy5maXJzdCkgcmV0dXJuIFBvcyhkb2MuZmlyc3QsIDApO1xuICAgIHZhciBsYXN0ID0gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxO1xuICAgIGlmIChwb3MubGluZSA+IGxhc3QpIHJldHVybiBQb3MobGFzdCwgZ2V0TGluZShkb2MsIGxhc3QpLnRleHQubGVuZ3RoKTtcbiAgICByZXR1cm4gY2xpcFRvTGVuKHBvcywgZ2V0TGluZShkb2MsIHBvcy5saW5lKS50ZXh0Lmxlbmd0aCk7XG4gIH1cbiAgZnVuY3Rpb24gY2xpcFRvTGVuKHBvcywgbGluZWxlbikge1xuICAgIHZhciBjaCA9IHBvcy5jaDtcbiAgICBpZiAoY2ggPT0gbnVsbCB8fCBjaCA+IGxpbmVsZW4pIHJldHVybiBQb3MocG9zLmxpbmUsIGxpbmVsZW4pO1xuICAgIGVsc2UgaWYgKGNoIDwgMCkgcmV0dXJuIFBvcyhwb3MubGluZSwgMCk7XG4gICAgZWxzZSByZXR1cm4gcG9zO1xuICB9XG4gIGZ1bmN0aW9uIGlzTGluZShkb2MsIGwpIHtyZXR1cm4gbCA+PSBkb2MuZmlyc3QgJiYgbCA8IGRvYy5maXJzdCArIGRvYy5zaXplO31cbiAgZnVuY3Rpb24gY2xpcFBvc0FycmF5KGRvYywgYXJyYXkpIHtcbiAgICBmb3IgKHZhciBvdXQgPSBbXSwgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgb3V0W2ldID0gY2xpcFBvcyhkb2MsIGFycmF5W2ldKTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgLy8gU0VMRUNUSU9OIFVQREFURVNcblxuICAvLyBUaGUgJ3Njcm9sbCcgcGFyYW1ldGVyIGdpdmVuIHRvIG1hbnkgb2YgdGhlc2UgaW5kaWNhdGVkIHdoZXRoZXJcbiAgLy8gdGhlIG5ldyBjdXJzb3IgcG9zaXRpb24gc2hvdWxkIGJlIHNjcm9sbGVkIGludG8gdmlldyBhZnRlclxuICAvLyBtb2RpZnlpbmcgdGhlIHNlbGVjdGlvbi5cblxuICAvLyBJZiBzaGlmdCBpcyBoZWxkIG9yIHRoZSBleHRlbmQgZmxhZyBpcyBzZXQsIGV4dGVuZHMgYSByYW5nZSB0b1xuICAvLyBpbmNsdWRlIGEgZ2l2ZW4gcG9zaXRpb24gKGFuZCBvcHRpb25hbGx5IGEgc2Vjb25kIHBvc2l0aW9uKS5cbiAgLy8gT3RoZXJ3aXNlLCBzaW1wbHkgcmV0dXJucyB0aGUgcmFuZ2UgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9zaXRpb25zLlxuICAvLyBVc2VkIGZvciBjdXJzb3IgbW90aW9uIGFuZCBzdWNoLlxuICBmdW5jdGlvbiBleHRlbmRSYW5nZShkb2MsIHJhbmdlLCBoZWFkLCBvdGhlcikge1xuICAgIGlmIChkb2MuY20gJiYgZG9jLmNtLmRpc3BsYXkuc2hpZnQgfHwgZG9jLmV4dGVuZCkge1xuICAgICAgdmFyIGFuY2hvciA9IHJhbmdlLmFuY2hvcjtcbiAgICAgIGlmIChvdGhlcikge1xuICAgICAgICB2YXIgcG9zQmVmb3JlID0gY21wKGhlYWQsIGFuY2hvcikgPCAwO1xuICAgICAgICBpZiAocG9zQmVmb3JlICE9IChjbXAob3RoZXIsIGFuY2hvcikgPCAwKSkge1xuICAgICAgICAgIGFuY2hvciA9IGhlYWQ7XG4gICAgICAgICAgaGVhZCA9IG90aGVyO1xuICAgICAgICB9IGVsc2UgaWYgKHBvc0JlZm9yZSAhPSAoY21wKGhlYWQsIG90aGVyKSA8IDApKSB7XG4gICAgICAgICAgaGVhZCA9IG90aGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKGFuY2hvciwgaGVhZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgUmFuZ2Uob3RoZXIgfHwgaGVhZCwgaGVhZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gRXh0ZW5kIHRoZSBwcmltYXJ5IHNlbGVjdGlvbiByYW5nZSwgZGlzY2FyZCB0aGUgcmVzdC5cbiAgZnVuY3Rpb24gZXh0ZW5kU2VsZWN0aW9uKGRvYywgaGVhZCwgb3RoZXIsIG9wdGlvbnMpIHtcbiAgICBzZXRTZWxlY3Rpb24oZG9jLCBuZXcgU2VsZWN0aW9uKFtleHRlbmRSYW5nZShkb2MsIGRvYy5zZWwucHJpbWFyeSgpLCBoZWFkLCBvdGhlcildLCAwKSwgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBFeHRlbmQgYWxsIHNlbGVjdGlvbnMgKHBvcyBpcyBhbiBhcnJheSBvZiBzZWxlY3Rpb25zIHdpdGggbGVuZ3RoXG4gIC8vIGVxdWFsIHRoZSBudW1iZXIgb2Ygc2VsZWN0aW9ucylcbiAgZnVuY3Rpb24gZXh0ZW5kU2VsZWN0aW9ucyhkb2MsIGhlYWRzLCBvcHRpb25zKSB7XG4gICAgZm9yICh2YXIgb3V0ID0gW10sIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICBvdXRbaV0gPSBleHRlbmRSYW5nZShkb2MsIGRvYy5zZWwucmFuZ2VzW2ldLCBoZWFkc1tpXSwgbnVsbCk7XG4gICAgdmFyIG5ld1NlbCA9IG5vcm1hbGl6ZVNlbGVjdGlvbihvdXQsIGRvYy5zZWwucHJpbUluZGV4KTtcbiAgICBzZXRTZWxlY3Rpb24oZG9jLCBuZXdTZWwsIG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gVXBkYXRlcyBhIHNpbmdsZSByYW5nZSBpbiB0aGUgc2VsZWN0aW9uLlxuICBmdW5jdGlvbiByZXBsYWNlT25lU2VsZWN0aW9uKGRvYywgaSwgcmFuZ2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgcmFuZ2VzID0gZG9jLnNlbC5yYW5nZXMuc2xpY2UoMCk7XG4gICAgcmFuZ2VzW2ldID0gcmFuZ2U7XG4gICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcywgZG9jLnNlbC5wcmltSW5kZXgpLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIFJlc2V0IHRoZSBzZWxlY3Rpb24gdG8gYSBzaW5nbGUgcmFuZ2UuXG4gIGZ1bmN0aW9uIHNldFNpbXBsZVNlbGVjdGlvbihkb2MsIGFuY2hvciwgaGVhZCwgb3B0aW9ucykge1xuICAgIHNldFNlbGVjdGlvbihkb2MsIHNpbXBsZVNlbGVjdGlvbihhbmNob3IsIGhlYWQpLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIEdpdmUgYmVmb3JlU2VsZWN0aW9uQ2hhbmdlIGhhbmRsZXJzIGEgY2hhbmdlIHRvIGluZmx1ZW5jZSBhXG4gIC8vIHNlbGVjdGlvbiB1cGRhdGUuXG4gIGZ1bmN0aW9uIGZpbHRlclNlbGVjdGlvbkNoYW5nZShkb2MsIHNlbCwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSB7XG4gICAgICByYW5nZXM6IHNlbC5yYW5nZXMsXG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uKHJhbmdlcykge1xuICAgICAgICB0aGlzLnJhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICB0aGlzLnJhbmdlc1tpXSA9IG5ldyBSYW5nZShjbGlwUG9zKGRvYywgcmFuZ2VzW2ldLmFuY2hvciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcFBvcyhkb2MsIHJhbmdlc1tpXS5oZWFkKSk7XG4gICAgICB9LFxuICAgICAgb3JpZ2luOiBvcHRpb25zICYmIG9wdGlvbnMub3JpZ2luXG4gICAgfTtcbiAgICBzaWduYWwoZG9jLCBcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiLCBkb2MsIG9iaik7XG4gICAgaWYgKGRvYy5jbSkgc2lnbmFsKGRvYy5jbSwgXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIiwgZG9jLmNtLCBvYmopO1xuICAgIGlmIChvYmoucmFuZ2VzICE9IHNlbC5yYW5nZXMpIHJldHVybiBub3JtYWxpemVTZWxlY3Rpb24ob2JqLnJhbmdlcywgb2JqLnJhbmdlcy5sZW5ndGggLSAxKTtcbiAgICBlbHNlIHJldHVybiBzZWw7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTZWxlY3Rpb25SZXBsYWNlSGlzdG9yeShkb2MsIHNlbCwgb3B0aW9ucykge1xuICAgIHZhciBkb25lID0gZG9jLmhpc3RvcnkuZG9uZSwgbGFzdCA9IGxzdChkb25lKTtcbiAgICBpZiAobGFzdCAmJiBsYXN0LnJhbmdlcykge1xuICAgICAgZG9uZVtkb25lLmxlbmd0aCAtIDFdID0gc2VsO1xuICAgICAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2VsZWN0aW9uKGRvYywgc2VsLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICAvLyBTZXQgYSBuZXcgc2VsZWN0aW9uLlxuICBmdW5jdGlvbiBzZXRTZWxlY3Rpb24oZG9jLCBzZWwsIG9wdGlvbnMpIHtcbiAgICBzZXRTZWxlY3Rpb25Ob1VuZG8oZG9jLCBzZWwsIG9wdGlvbnMpO1xuICAgIGFkZFNlbGVjdGlvblRvSGlzdG9yeShkb2MsIGRvYy5zZWwsIGRvYy5jbSA/IGRvYy5jbS5jdXJPcC5pZCA6IE5hTiwgb3B0aW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTZWxlY3Rpb25Ob1VuZG8oZG9jLCBzZWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoaGFzSGFuZGxlcihkb2MsIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIpIHx8IGRvYy5jbSAmJiBoYXNIYW5kbGVyKGRvYy5jbSwgXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIikpXG4gICAgICBzZWwgPSBmaWx0ZXJTZWxlY3Rpb25DaGFuZ2UoZG9jLCBzZWwsIG9wdGlvbnMpO1xuXG4gICAgdmFyIGJpYXMgPSBvcHRpb25zICYmIG9wdGlvbnMuYmlhcyB8fFxuICAgICAgKGNtcChzZWwucHJpbWFyeSgpLmhlYWQsIGRvYy5zZWwucHJpbWFyeSgpLmhlYWQpIDwgMCA/IC0xIDogMSk7XG4gICAgc2V0U2VsZWN0aW9uSW5uZXIoZG9jLCBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBzZWwsIGJpYXMsIHRydWUpKTtcblxuICAgIGlmICghKG9wdGlvbnMgJiYgb3B0aW9ucy5zY3JvbGwgPT09IGZhbHNlKSAmJiBkb2MuY20pXG4gICAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGRvYy5jbSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTZWxlY3Rpb25Jbm5lcihkb2MsIHNlbCkge1xuICAgIGlmIChzZWwuZXF1YWxzKGRvYy5zZWwpKSByZXR1cm47XG5cbiAgICBkb2Muc2VsID0gc2VsO1xuXG4gICAgaWYgKGRvYy5jbSkge1xuICAgICAgZG9jLmNtLmN1ck9wLnVwZGF0ZUlucHV0ID0gZG9jLmNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlO1xuICAgICAgc2lnbmFsQ3Vyc29yQWN0aXZpdHkoZG9jLmNtKTtcbiAgICB9XG4gICAgc2lnbmFsTGF0ZXIoZG9jLCBcImN1cnNvckFjdGl2aXR5XCIsIGRvYyk7XG4gIH1cblxuICAvLyBWZXJpZnkgdGhhdCB0aGUgc2VsZWN0aW9uIGRvZXMgbm90IHBhcnRpYWxseSBzZWxlY3QgYW55IGF0b21pY1xuICAvLyBtYXJrZWQgcmFuZ2VzLlxuICBmdW5jdGlvbiByZUNoZWNrU2VsZWN0aW9uKGRvYykge1xuICAgIHNldFNlbGVjdGlvbklubmVyKGRvYywgc2tpcEF0b21pY0luU2VsZWN0aW9uKGRvYywgZG9jLnNlbCwgbnVsbCwgZmFsc2UpLCBzZWxfZG9udFNjcm9sbCk7XG4gIH1cblxuICAvLyBSZXR1cm4gYSBzZWxlY3Rpb24gdGhhdCBkb2VzIG5vdCBwYXJ0aWFsbHkgc2VsZWN0IGFueSBhdG9taWNcbiAgLy8gcmFuZ2VzLlxuICBmdW5jdGlvbiBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBzZWwsIGJpYXMsIG1heUNsZWFyKSB7XG4gICAgdmFyIG91dDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByYW5nZSA9IHNlbC5yYW5nZXNbaV07XG4gICAgICB2YXIgb2xkID0gc2VsLnJhbmdlcy5sZW5ndGggPT0gZG9jLnNlbC5yYW5nZXMubGVuZ3RoICYmIGRvYy5zZWwucmFuZ2VzW2ldO1xuICAgICAgdmFyIG5ld0FuY2hvciA9IHNraXBBdG9taWMoZG9jLCByYW5nZS5hbmNob3IsIG9sZCAmJiBvbGQuYW5jaG9yLCBiaWFzLCBtYXlDbGVhcik7XG4gICAgICB2YXIgbmV3SGVhZCA9IHNraXBBdG9taWMoZG9jLCByYW5nZS5oZWFkLCBvbGQgJiYgb2xkLmhlYWQsIGJpYXMsIG1heUNsZWFyKTtcbiAgICAgIGlmIChvdXQgfHwgbmV3QW5jaG9yICE9IHJhbmdlLmFuY2hvciB8fCBuZXdIZWFkICE9IHJhbmdlLmhlYWQpIHtcbiAgICAgICAgaWYgKCFvdXQpIG91dCA9IHNlbC5yYW5nZXMuc2xpY2UoMCwgaSk7XG4gICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShuZXdBbmNob3IsIG5ld0hlYWQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0ID8gbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgc2VsLnByaW1JbmRleCkgOiBzZWw7XG4gIH1cblxuICBmdW5jdGlvbiBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgZGlyLCBtYXlDbGVhcikge1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIHBvcy5saW5lKTtcbiAgICBpZiAobGluZS5tYXJrZWRTcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLm1hcmtlZFNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3AgPSBsaW5lLm1hcmtlZFNwYW5zW2ldLCBtID0gc3AubWFya2VyO1xuICAgICAgaWYgKChzcC5mcm9tID09IG51bGwgfHwgKG0uaW5jbHVzaXZlTGVmdCA/IHNwLmZyb20gPD0gcG9zLmNoIDogc3AuZnJvbSA8IHBvcy5jaCkpICYmXG4gICAgICAgICAgKHNwLnRvID09IG51bGwgfHwgKG0uaW5jbHVzaXZlUmlnaHQgPyBzcC50byA+PSBwb3MuY2ggOiBzcC50byA+IHBvcy5jaCkpKSB7XG4gICAgICAgIGlmIChtYXlDbGVhcikge1xuICAgICAgICAgIHNpZ25hbChtLCBcImJlZm9yZUN1cnNvckVudGVyXCIpO1xuICAgICAgICAgIGlmIChtLmV4cGxpY2l0bHlDbGVhcmVkKSB7XG4gICAgICAgICAgICBpZiAoIWxpbmUubWFya2VkU3BhbnMpIGJyZWFrO1xuICAgICAgICAgICAgZWxzZSB7LS1pOyBjb250aW51ZTt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbS5hdG9taWMpIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmIChvbGRQb3MpIHtcbiAgICAgICAgICB2YXIgbmVhciA9IG0uZmluZChkaXIgPCAwID8gMSA6IC0xKSwgZGlmZjtcbiAgICAgICAgICBpZiAoZGlyIDwgMCA/IG0uaW5jbHVzaXZlUmlnaHQgOiBtLmluY2x1c2l2ZUxlZnQpXG4gICAgICAgICAgICBuZWFyID0gbW92ZVBvcyhkb2MsIG5lYXIsIC1kaXIsIG5lYXIgJiYgbmVhci5saW5lID09IHBvcy5saW5lID8gbGluZSA6IG51bGwpO1xuICAgICAgICAgIGlmIChuZWFyICYmIG5lYXIubGluZSA9PSBwb3MubGluZSAmJiAoZGlmZiA9IGNtcChuZWFyLCBvbGRQb3MpKSAmJiAoZGlyIDwgMCA/IGRpZmYgPCAwIDogZGlmZiA+IDApKVxuICAgICAgICAgICAgcmV0dXJuIHNraXBBdG9taWNJbm5lcihkb2MsIG5lYXIsIHBvcywgZGlyLCBtYXlDbGVhcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmFyID0gbS5maW5kKGRpciA8IDAgPyAtMSA6IDEpO1xuICAgICAgICBpZiAoZGlyIDwgMCA/IG0uaW5jbHVzaXZlTGVmdCA6IG0uaW5jbHVzaXZlUmlnaHQpXG4gICAgICAgICAgZmFyID0gbW92ZVBvcyhkb2MsIGZhciwgZGlyLCBmYXIubGluZSA9PSBwb3MubGluZSA/IGxpbmUgOiBudWxsKTtcbiAgICAgICAgcmV0dXJuIGZhciA/IHNraXBBdG9taWNJbm5lcihkb2MsIGZhciwgcG9zLCBkaXIsIG1heUNsZWFyKSA6IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICAvLyBFbnN1cmUgYSBnaXZlbiBwb3NpdGlvbiBpcyBub3QgaW5zaWRlIGFuIGF0b21pYyByYW5nZS5cbiAgZnVuY3Rpb24gc2tpcEF0b21pYyhkb2MsIHBvcywgb2xkUG9zLCBiaWFzLCBtYXlDbGVhcikge1xuICAgIHZhciBkaXIgPSBiaWFzIHx8IDE7XG4gICAgdmFyIGZvdW5kID0gc2tpcEF0b21pY0lubmVyKGRvYywgcG9zLCBvbGRQb3MsIGRpciwgbWF5Q2xlYXIpIHx8XG4gICAgICAgICghbWF5Q2xlYXIgJiYgc2tpcEF0b21pY0lubmVyKGRvYywgcG9zLCBvbGRQb3MsIGRpciwgdHJ1ZSkpIHx8XG4gICAgICAgIHNraXBBdG9taWNJbm5lcihkb2MsIHBvcywgb2xkUG9zLCAtZGlyLCBtYXlDbGVhcikgfHxcbiAgICAgICAgKCFtYXlDbGVhciAmJiBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgLWRpciwgdHJ1ZSkpO1xuICAgIGlmICghZm91bmQpIHtcbiAgICAgIGRvYy5jYW50RWRpdCA9IHRydWU7XG4gICAgICByZXR1cm4gUG9zKGRvYy5maXJzdCwgMCk7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVQb3MoZG9jLCBwb3MsIGRpciwgbGluZSkge1xuICAgIGlmIChkaXIgPCAwICYmIHBvcy5jaCA9PSAwKSB7XG4gICAgICBpZiAocG9zLmxpbmUgPiBkb2MuZmlyc3QpIHJldHVybiBjbGlwUG9zKGRvYywgUG9zKHBvcy5saW5lIC0gMSkpO1xuICAgICAgZWxzZSByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGRpciA+IDAgJiYgcG9zLmNoID09IChsaW5lIHx8IGdldExpbmUoZG9jLCBwb3MubGluZSkpLnRleHQubGVuZ3RoKSB7XG4gICAgICBpZiAocG9zLmxpbmUgPCBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEpIHJldHVybiBQb3MocG9zLmxpbmUgKyAxLCAwKTtcbiAgICAgIGVsc2UgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgUG9zKHBvcy5saW5lLCBwb3MuY2ggKyBkaXIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNFTEVDVElPTiBEUkFXSU5HXG5cbiAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKGNtKSB7XG4gICAgY20uZGlzcGxheS5pbnB1dC5zaG93U2VsZWN0aW9uKGNtLmRpc3BsYXkuaW5wdXQucHJlcGFyZVNlbGVjdGlvbigpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXBhcmVTZWxlY3Rpb24oY20sIHByaW1hcnkpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCByZXN1bHQgPSB7fTtcbiAgICB2YXIgY3VyRnJhZ21lbnQgPSByZXN1bHQuY3Vyc29ycyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICB2YXIgc2VsRnJhZ21lbnQgPSByZXN1bHQuc2VsZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHByaW1hcnkgPT09IGZhbHNlICYmIGkgPT0gZG9jLnNlbC5wcmltSW5kZXgpIGNvbnRpbnVlO1xuICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV07XG4gICAgICBpZiAocmFuZ2UuZnJvbSgpLmxpbmUgPj0gY20uZGlzcGxheS52aWV3VG8gfHwgcmFuZ2UudG8oKS5saW5lIDwgY20uZGlzcGxheS52aWV3RnJvbSkgY29udGludWU7XG4gICAgICB2YXIgY29sbGFwc2VkID0gcmFuZ2UuZW1wdHkoKTtcbiAgICAgIGlmIChjb2xsYXBzZWQgfHwgY20ub3B0aW9ucy5zaG93Q3Vyc29yV2hlblNlbGVjdGluZylcbiAgICAgICAgZHJhd1NlbGVjdGlvbkN1cnNvcihjbSwgcmFuZ2UuaGVhZCwgY3VyRnJhZ21lbnQpO1xuICAgICAgaWYgKCFjb2xsYXBzZWQpXG4gICAgICAgIGRyYXdTZWxlY3Rpb25SYW5nZShjbSwgcmFuZ2UsIHNlbEZyYWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIERyYXdzIGEgY3Vyc29yIGZvciB0aGUgZ2l2ZW4gcmFuZ2VcbiAgZnVuY3Rpb24gZHJhd1NlbGVjdGlvbkN1cnNvcihjbSwgaGVhZCwgb3V0cHV0KSB7XG4gICAgdmFyIHBvcyA9IGN1cnNvckNvb3JkcyhjbSwgaGVhZCwgXCJkaXZcIiwgbnVsbCwgbnVsbCwgIWNtLm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZSk7XG5cbiAgICB2YXIgY3Vyc29yID0gb3V0cHV0LmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBcIlxcdTAwYTBcIiwgXCJDb2RlTWlycm9yLWN1cnNvclwiKSk7XG4gICAgY3Vyc29yLnN0eWxlLmxlZnQgPSBwb3MubGVmdCArIFwicHhcIjtcbiAgICBjdXJzb3Iuc3R5bGUudG9wID0gcG9zLnRvcCArIFwicHhcIjtcbiAgICBjdXJzb3Iuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoMCwgcG9zLmJvdHRvbSAtIHBvcy50b3ApICogY20ub3B0aW9ucy5jdXJzb3JIZWlnaHQgKyBcInB4XCI7XG5cbiAgICBpZiAocG9zLm90aGVyKSB7XG4gICAgICAvLyBTZWNvbmRhcnkgY3Vyc29yLCBzaG93biB3aGVuIG9uIGEgJ2p1bXAnIGluIGJpLWRpcmVjdGlvbmFsIHRleHRcbiAgICAgIHZhciBvdGhlckN1cnNvciA9IG91dHB1dC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgXCJcXHUwMGEwXCIsIFwiQ29kZU1pcnJvci1jdXJzb3IgQ29kZU1pcnJvci1zZWNvbmRhcnljdXJzb3JcIikpO1xuICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICBvdGhlckN1cnNvci5zdHlsZS5sZWZ0ID0gcG9zLm90aGVyLmxlZnQgKyBcInB4XCI7XG4gICAgICBvdGhlckN1cnNvci5zdHlsZS50b3AgPSBwb3Mub3RoZXIudG9wICsgXCJweFwiO1xuICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUuaGVpZ2h0ID0gKHBvcy5vdGhlci5ib3R0b20gLSBwb3Mub3RoZXIudG9wKSAqIC44NSArIFwicHhcIjtcbiAgICB9XG4gIH1cblxuICAvLyBEcmF3cyB0aGUgZ2l2ZW4gcmFuZ2UgYXMgYSBoaWdobGlnaHRlZCBzZWxlY3Rpb25cbiAgZnVuY3Rpb24gZHJhd1NlbGVjdGlvblJhbmdlKGNtLCByYW5nZSwgb3V0cHV0KSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBkb2MgPSBjbS5kb2M7XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIHZhciBwYWRkaW5nID0gcGFkZGluZ0goY20uZGlzcGxheSksIGxlZnRTaWRlID0gcGFkZGluZy5sZWZ0O1xuICAgIHZhciByaWdodFNpZGUgPSBNYXRoLm1heChkaXNwbGF5LnNpemVyV2lkdGgsIGRpc3BsYXlXaWR0aChjbSkgLSBkaXNwbGF5LnNpemVyLm9mZnNldExlZnQpIC0gcGFkZGluZy5yaWdodDtcblxuICAgIGZ1bmN0aW9uIGFkZChsZWZ0LCB0b3AsIHdpZHRoLCBib3R0b20pIHtcbiAgICAgIGlmICh0b3AgPCAwKSB0b3AgPSAwO1xuICAgICAgdG9wID0gTWF0aC5yb3VuZCh0b3ApO1xuICAgICAgYm90dG9tID0gTWF0aC5yb3VuZChib3R0b20pO1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1zZWxlY3RlZFwiLCBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogXCIgKyBsZWZ0ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInB4OyB0b3A6IFwiICsgdG9wICsgXCJweDsgd2lkdGg6IFwiICsgKHdpZHRoID09IG51bGwgPyByaWdodFNpZGUgLSBsZWZ0IDogd2lkdGgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInB4OyBoZWlnaHQ6IFwiICsgKGJvdHRvbSAtIHRvcCkgKyBcInB4XCIpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmF3Rm9yTGluZShsaW5lLCBmcm9tQXJnLCB0b0FyZykge1xuICAgICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZSk7XG4gICAgICB2YXIgbGluZUxlbiA9IGxpbmVPYmoudGV4dC5sZW5ndGg7XG4gICAgICB2YXIgc3RhcnQsIGVuZDtcbiAgICAgIGZ1bmN0aW9uIGNvb3JkcyhjaCwgYmlhcykge1xuICAgICAgICByZXR1cm4gY2hhckNvb3JkcyhjbSwgUG9zKGxpbmUsIGNoKSwgXCJkaXZcIiwgbGluZU9iaiwgYmlhcyk7XG4gICAgICB9XG5cbiAgICAgIGl0ZXJhdGVCaWRpU2VjdGlvbnMoZ2V0T3JkZXIobGluZU9iaiksIGZyb21BcmcgfHwgMCwgdG9BcmcgPT0gbnVsbCA/IGxpbmVMZW4gOiB0b0FyZywgZnVuY3Rpb24oZnJvbSwgdG8sIGRpcikge1xuICAgICAgICB2YXIgbGVmdFBvcyA9IGNvb3Jkcyhmcm9tLCBcImxlZnRcIiksIHJpZ2h0UG9zLCBsZWZ0LCByaWdodDtcbiAgICAgICAgaWYgKGZyb20gPT0gdG8pIHtcbiAgICAgICAgICByaWdodFBvcyA9IGxlZnRQb3M7XG4gICAgICAgICAgbGVmdCA9IHJpZ2h0ID0gbGVmdFBvcy5sZWZ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJpZ2h0UG9zID0gY29vcmRzKHRvIC0gMSwgXCJyaWdodFwiKTtcbiAgICAgICAgICBpZiAoZGlyID09IFwicnRsXCIpIHsgdmFyIHRtcCA9IGxlZnRQb3M7IGxlZnRQb3MgPSByaWdodFBvczsgcmlnaHRQb3MgPSB0bXA7IH1cbiAgICAgICAgICBsZWZ0ID0gbGVmdFBvcy5sZWZ0O1xuICAgICAgICAgIHJpZ2h0ID0gcmlnaHRQb3MucmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb21BcmcgPT0gbnVsbCAmJiBmcm9tID09IDApIGxlZnQgPSBsZWZ0U2lkZTtcbiAgICAgICAgaWYgKHJpZ2h0UG9zLnRvcCAtIGxlZnRQb3MudG9wID4gMykgeyAvLyBEaWZmZXJlbnQgbGluZXMsIGRyYXcgdG9wIHBhcnRcbiAgICAgICAgICBhZGQobGVmdCwgbGVmdFBvcy50b3AsIG51bGwsIGxlZnRQb3MuYm90dG9tKTtcbiAgICAgICAgICBsZWZ0ID0gbGVmdFNpZGU7XG4gICAgICAgICAgaWYgKGxlZnRQb3MuYm90dG9tIDwgcmlnaHRQb3MudG9wKSBhZGQobGVmdCwgbGVmdFBvcy5ib3R0b20sIG51bGwsIHJpZ2h0UG9zLnRvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvQXJnID09IG51bGwgJiYgdG8gPT0gbGluZUxlbikgcmlnaHQgPSByaWdodFNpZGU7XG4gICAgICAgIGlmICghc3RhcnQgfHwgbGVmdFBvcy50b3AgPCBzdGFydC50b3AgfHwgbGVmdFBvcy50b3AgPT0gc3RhcnQudG9wICYmIGxlZnRQb3MubGVmdCA8IHN0YXJ0LmxlZnQpXG4gICAgICAgICAgc3RhcnQgPSBsZWZ0UG9zO1xuICAgICAgICBpZiAoIWVuZCB8fCByaWdodFBvcy5ib3R0b20gPiBlbmQuYm90dG9tIHx8IHJpZ2h0UG9zLmJvdHRvbSA9PSBlbmQuYm90dG9tICYmIHJpZ2h0UG9zLnJpZ2h0ID4gZW5kLnJpZ2h0KVxuICAgICAgICAgIGVuZCA9IHJpZ2h0UG9zO1xuICAgICAgICBpZiAobGVmdCA8IGxlZnRTaWRlICsgMSkgbGVmdCA9IGxlZnRTaWRlO1xuICAgICAgICBhZGQobGVmdCwgcmlnaHRQb3MudG9wLCByaWdodCAtIGxlZnQsIHJpZ2h0UG9zLmJvdHRvbSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7c3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZH07XG4gICAgfVxuXG4gICAgdmFyIHNGcm9tID0gcmFuZ2UuZnJvbSgpLCBzVG8gPSByYW5nZS50bygpO1xuICAgIGlmIChzRnJvbS5saW5lID09IHNUby5saW5lKSB7XG4gICAgICBkcmF3Rm9yTGluZShzRnJvbS5saW5lLCBzRnJvbS5jaCwgc1RvLmNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGZyb21MaW5lID0gZ2V0TGluZShkb2MsIHNGcm9tLmxpbmUpLCB0b0xpbmUgPSBnZXRMaW5lKGRvYywgc1RvLmxpbmUpO1xuICAgICAgdmFyIHNpbmdsZVZMaW5lID0gdmlzdWFsTGluZShmcm9tTGluZSkgPT0gdmlzdWFsTGluZSh0b0xpbmUpO1xuICAgICAgdmFyIGxlZnRFbmQgPSBkcmF3Rm9yTGluZShzRnJvbS5saW5lLCBzRnJvbS5jaCwgc2luZ2xlVkxpbmUgPyBmcm9tTGluZS50ZXh0Lmxlbmd0aCArIDEgOiBudWxsKS5lbmQ7XG4gICAgICB2YXIgcmlnaHRTdGFydCA9IGRyYXdGb3JMaW5lKHNUby5saW5lLCBzaW5nbGVWTGluZSA/IDAgOiBudWxsLCBzVG8uY2gpLnN0YXJ0O1xuICAgICAgaWYgKHNpbmdsZVZMaW5lKSB7XG4gICAgICAgIGlmIChsZWZ0RW5kLnRvcCA8IHJpZ2h0U3RhcnQudG9wIC0gMikge1xuICAgICAgICAgIGFkZChsZWZ0RW5kLnJpZ2h0LCBsZWZ0RW5kLnRvcCwgbnVsbCwgbGVmdEVuZC5ib3R0b20pO1xuICAgICAgICAgIGFkZChsZWZ0U2lkZSwgcmlnaHRTdGFydC50b3AsIHJpZ2h0U3RhcnQubGVmdCwgcmlnaHRTdGFydC5ib3R0b20pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZChsZWZ0RW5kLnJpZ2h0LCBsZWZ0RW5kLnRvcCwgcmlnaHRTdGFydC5sZWZ0IC0gbGVmdEVuZC5yaWdodCwgbGVmdEVuZC5ib3R0b20pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobGVmdEVuZC5ib3R0b20gPCByaWdodFN0YXJ0LnRvcClcbiAgICAgICAgYWRkKGxlZnRTaWRlLCBsZWZ0RW5kLmJvdHRvbSwgbnVsbCwgcmlnaHRTdGFydC50b3ApO1xuICAgIH1cblxuICAgIG91dHB1dC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gIH1cblxuICAvLyBDdXJzb3ItYmxpbmtpbmdcbiAgZnVuY3Rpb24gcmVzdGFydEJsaW5rKGNtKSB7XG4gICAgaWYgKCFjbS5zdGF0ZS5mb2N1c2VkKSByZXR1cm47XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGNsZWFySW50ZXJ2YWwoZGlzcGxheS5ibGlua2VyKTtcbiAgICB2YXIgb24gPSB0cnVlO1xuICAgIGRpc3BsYXkuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHkgPSBcIlwiO1xuICAgIGlmIChjbS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZSA+IDApXG4gICAgICBkaXNwbGF5LmJsaW5rZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgZGlzcGxheS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eSA9IChvbiA9ICFvbikgPyBcIlwiIDogXCJoaWRkZW5cIjtcbiAgICAgIH0sIGNtLm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlKTtcbiAgICBlbHNlIGlmIChjbS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZSA8IDApXG4gICAgICBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfVxuXG4gIC8vIEhJR0hMSUdIVCBXT1JLRVJcblxuICBmdW5jdGlvbiBzdGFydFdvcmtlcihjbSwgdGltZSkge1xuICAgIGlmIChjbS5kb2MubW9kZS5zdGFydFN0YXRlICYmIGNtLmRvYy5mcm9udGllciA8IGNtLmRpc3BsYXkudmlld1RvKVxuICAgICAgY20uc3RhdGUuaGlnaGxpZ2h0LnNldCh0aW1lLCBiaW5kKGhpZ2hsaWdodFdvcmtlciwgY20pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZ2hsaWdodFdvcmtlcihjbSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2M7XG4gICAgaWYgKGRvYy5mcm9udGllciA8IGRvYy5maXJzdCkgZG9jLmZyb250aWVyID0gZG9jLmZpcnN0O1xuICAgIGlmIChkb2MuZnJvbnRpZXIgPj0gY20uZGlzcGxheS52aWV3VG8pIHJldHVybjtcbiAgICB2YXIgZW5kID0gK25ldyBEYXRlICsgY20ub3B0aW9ucy53b3JrVGltZTtcbiAgICB2YXIgc3RhdGUgPSBjb3B5U3RhdGUoZG9jLm1vZGUsIGdldFN0YXRlQmVmb3JlKGNtLCBkb2MuZnJvbnRpZXIpKTtcbiAgICB2YXIgY2hhbmdlZExpbmVzID0gW107XG5cbiAgICBkb2MuaXRlcihkb2MuZnJvbnRpZXIsIE1hdGgubWluKGRvYy5maXJzdCArIGRvYy5zaXplLCBjbS5kaXNwbGF5LnZpZXdUbyArIDUwMCksIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChkb2MuZnJvbnRpZXIgPj0gY20uZGlzcGxheS52aWV3RnJvbSkgeyAvLyBWaXNpYmxlXG4gICAgICAgIHZhciBvbGRTdHlsZXMgPSBsaW5lLnN0eWxlcywgdG9vTG9uZyA9IGxpbmUudGV4dC5sZW5ndGggPiBjbS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aDtcbiAgICAgICAgdmFyIGhpZ2hsaWdodGVkID0gaGlnaGxpZ2h0TGluZShjbSwgbGluZSwgdG9vTG9uZyA/IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpIDogc3RhdGUsIHRydWUpO1xuICAgICAgICBsaW5lLnN0eWxlcyA9IGhpZ2hsaWdodGVkLnN0eWxlcztcbiAgICAgICAgdmFyIG9sZENscyA9IGxpbmUuc3R5bGVDbGFzc2VzLCBuZXdDbHMgPSBoaWdobGlnaHRlZC5jbGFzc2VzO1xuICAgICAgICBpZiAobmV3Q2xzKSBsaW5lLnN0eWxlQ2xhc3NlcyA9IG5ld0NscztcbiAgICAgICAgZWxzZSBpZiAob2xkQ2xzKSBsaW5lLnN0eWxlQ2xhc3NlcyA9IG51bGw7XG4gICAgICAgIHZhciBpc2NoYW5nZSA9ICFvbGRTdHlsZXMgfHwgb2xkU3R5bGVzLmxlbmd0aCAhPSBsaW5lLnN0eWxlcy5sZW5ndGggfHxcbiAgICAgICAgICBvbGRDbHMgIT0gbmV3Q2xzICYmICghb2xkQ2xzIHx8ICFuZXdDbHMgfHwgb2xkQ2xzLmJnQ2xhc3MgIT0gbmV3Q2xzLmJnQ2xhc3MgfHwgb2xkQ2xzLnRleHRDbGFzcyAhPSBuZXdDbHMudGV4dENsYXNzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7ICFpc2NoYW5nZSAmJiBpIDwgb2xkU3R5bGVzLmxlbmd0aDsgKytpKSBpc2NoYW5nZSA9IG9sZFN0eWxlc1tpXSAhPSBsaW5lLnN0eWxlc1tpXTtcbiAgICAgICAgaWYgKGlzY2hhbmdlKSBjaGFuZ2VkTGluZXMucHVzaChkb2MuZnJvbnRpZXIpO1xuICAgICAgICBsaW5lLnN0YXRlQWZ0ZXIgPSB0b29Mb25nID8gc3RhdGUgOiBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsaW5lLnRleHQubGVuZ3RoIDw9IGNtLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoKVxuICAgICAgICAgIHByb2Nlc3NMaW5lKGNtLCBsaW5lLnRleHQsIHN0YXRlKTtcbiAgICAgICAgbGluZS5zdGF0ZUFmdGVyID0gZG9jLmZyb250aWVyICUgNSA9PSAwID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBudWxsO1xuICAgICAgfVxuICAgICAgKytkb2MuZnJvbnRpZXI7XG4gICAgICBpZiAoK25ldyBEYXRlID4gZW5kKSB7XG4gICAgICAgIHN0YXJ0V29ya2VyKGNtLCBjbS5vcHRpb25zLndvcmtEZWxheSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChjaGFuZ2VkTGluZXMubGVuZ3RoKSBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlZExpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICByZWdMaW5lQ2hhbmdlKGNtLCBjaGFuZ2VkTGluZXNbaV0sIFwidGV4dFwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEZpbmRzIHRoZSBsaW5lIHRvIHN0YXJ0IHdpdGggd2hlbiBzdGFydGluZyBhIHBhcnNlLiBUcmllcyB0b1xuICAvLyBmaW5kIGEgbGluZSB3aXRoIGEgc3RhdGVBZnRlciwgc28gdGhhdCBpdCBjYW4gc3RhcnQgd2l0aCBhXG4gIC8vIHZhbGlkIHN0YXRlLiBJZiB0aGF0IGZhaWxzLCBpdCByZXR1cm5zIHRoZSBsaW5lIHdpdGggdGhlXG4gIC8vIHNtYWxsZXN0IGluZGVudGF0aW9uLCB3aGljaCB0ZW5kcyB0byBuZWVkIHRoZSBsZWFzdCBjb250ZXh0IHRvXG4gIC8vIHBhcnNlIGNvcnJlY3RseS5cbiAgZnVuY3Rpb24gZmluZFN0YXJ0TGluZShjbSwgbiwgcHJlY2lzZSkge1xuICAgIHZhciBtaW5pbmRlbnQsIG1pbmxpbmUsIGRvYyA9IGNtLmRvYztcbiAgICB2YXIgbGltID0gcHJlY2lzZSA/IC0xIDogbiAtIChjbS5kb2MubW9kZS5pbm5lck1vZGUgPyAxMDAwIDogMTAwKTtcbiAgICBmb3IgKHZhciBzZWFyY2ggPSBuOyBzZWFyY2ggPiBsaW07IC0tc2VhcmNoKSB7XG4gICAgICBpZiAoc2VhcmNoIDw9IGRvYy5maXJzdCkgcmV0dXJuIGRvYy5maXJzdDtcbiAgICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIHNlYXJjaCAtIDEpO1xuICAgICAgaWYgKGxpbmUuc3RhdGVBZnRlciAmJiAoIXByZWNpc2UgfHwgc2VhcmNoIDw9IGRvYy5mcm9udGllcikpIHJldHVybiBzZWFyY2g7XG4gICAgICB2YXIgaW5kZW50ZWQgPSBjb3VudENvbHVtbihsaW5lLnRleHQsIG51bGwsIGNtLm9wdGlvbnMudGFiU2l6ZSk7XG4gICAgICBpZiAobWlubGluZSA9PSBudWxsIHx8IG1pbmluZGVudCA+IGluZGVudGVkKSB7XG4gICAgICAgIG1pbmxpbmUgPSBzZWFyY2ggLSAxO1xuICAgICAgICBtaW5pbmRlbnQgPSBpbmRlbnRlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1pbmxpbmU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdGF0ZUJlZm9yZShjbSwgbiwgcHJlY2lzZSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmICghZG9jLm1vZGUuc3RhcnRTdGF0ZSkgcmV0dXJuIHRydWU7XG4gICAgdmFyIHBvcyA9IGZpbmRTdGFydExpbmUoY20sIG4sIHByZWNpc2UpLCBzdGF0ZSA9IHBvcyA+IGRvYy5maXJzdCAmJiBnZXRMaW5lKGRvYywgcG9zLTEpLnN0YXRlQWZ0ZXI7XG4gICAgaWYgKCFzdGF0ZSkgc3RhdGUgPSBzdGFydFN0YXRlKGRvYy5tb2RlKTtcbiAgICBlbHNlIHN0YXRlID0gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSk7XG4gICAgZG9jLml0ZXIocG9zLCBuLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBwcm9jZXNzTGluZShjbSwgbGluZS50ZXh0LCBzdGF0ZSk7XG4gICAgICB2YXIgc2F2ZSA9IHBvcyA9PSBuIC0gMSB8fCBwb3MgJSA1ID09IDAgfHwgcG9zID49IGRpc3BsYXkudmlld0Zyb20gJiYgcG9zIDwgZGlzcGxheS52aWV3VG87XG4gICAgICBsaW5lLnN0YXRlQWZ0ZXIgPSBzYXZlID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBudWxsO1xuICAgICAgKytwb3M7XG4gICAgfSk7XG4gICAgaWYgKHByZWNpc2UpIGRvYy5mcm9udGllciA9IHBvcztcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICAvLyBQT1NJVElPTiBNRUFTVVJFTUVOVFxuXG4gIGZ1bmN0aW9uIHBhZGRpbmdUb3AoZGlzcGxheSkge3JldHVybiBkaXNwbGF5LmxpbmVTcGFjZS5vZmZzZXRUb3A7fVxuICBmdW5jdGlvbiBwYWRkaW5nVmVydChkaXNwbGF5KSB7cmV0dXJuIGRpc3BsYXkubW92ZXIub2Zmc2V0SGVpZ2h0IC0gZGlzcGxheS5saW5lU3BhY2Uub2Zmc2V0SGVpZ2h0O31cbiAgZnVuY3Rpb24gcGFkZGluZ0goZGlzcGxheSkge1xuICAgIGlmIChkaXNwbGF5LmNhY2hlZFBhZGRpbmdIKSByZXR1cm4gZGlzcGxheS5jYWNoZWRQYWRkaW5nSDtcbiAgICB2YXIgZSA9IHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkubWVhc3VyZSwgZWx0KFwicHJlXCIsIFwieFwiKSk7XG4gICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKSA6IGUuY3VycmVudFN0eWxlO1xuICAgIHZhciBkYXRhID0ge2xlZnQ6IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdMZWZ0KSwgcmlnaHQ6IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdSaWdodCl9O1xuICAgIGlmICghaXNOYU4oZGF0YS5sZWZ0KSAmJiAhaXNOYU4oZGF0YS5yaWdodCkpIGRpc3BsYXkuY2FjaGVkUGFkZGluZ0ggPSBkYXRhO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Nyb2xsR2FwKGNtKSB7IHJldHVybiBzY3JvbGxlckdhcCAtIGNtLmRpc3BsYXkubmF0aXZlQmFyV2lkdGg7IH1cbiAgZnVuY3Rpb24gZGlzcGxheVdpZHRoKGNtKSB7XG4gICAgcmV0dXJuIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGggLSBzY3JvbGxHYXAoY20pIC0gY20uZGlzcGxheS5iYXJXaWR0aDtcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5SGVpZ2h0KGNtKSB7XG4gICAgcmV0dXJuIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0IC0gc2Nyb2xsR2FwKGNtKSAtIGNtLmRpc3BsYXkuYmFySGVpZ2h0O1xuICB9XG5cbiAgLy8gRW5zdXJlIHRoZSBsaW5lVmlldy53cmFwcGluZy5oZWlnaHRzIGFycmF5IGlzIHBvcHVsYXRlZC4gVGhpcyBpc1xuICAvLyBhbiBhcnJheSBvZiBib3R0b20gb2Zmc2V0cyBmb3IgdGhlIGxpbmVzIHRoYXQgbWFrZSB1cCBhIGRyYXduXG4gIC8vIGxpbmUuIFdoZW4gbGluZVdyYXBwaW5nIGlzIG9uLCB0aGVyZSBtaWdodCBiZSBtb3JlIHRoYW4gb25lXG4gIC8vIGhlaWdodC5cbiAgZnVuY3Rpb24gZW5zdXJlTGluZUhlaWdodHMoY20sIGxpbmVWaWV3LCByZWN0KSB7XG4gICAgdmFyIHdyYXBwaW5nID0gY20ub3B0aW9ucy5saW5lV3JhcHBpbmc7XG4gICAgdmFyIGN1cldpZHRoID0gd3JhcHBpbmcgJiYgZGlzcGxheVdpZHRoKGNtKTtcbiAgICBpZiAoIWxpbmVWaWV3Lm1lYXN1cmUuaGVpZ2h0cyB8fCB3cmFwcGluZyAmJiBsaW5lVmlldy5tZWFzdXJlLndpZHRoICE9IGN1cldpZHRoKSB7XG4gICAgICB2YXIgaGVpZ2h0cyA9IGxpbmVWaWV3Lm1lYXN1cmUuaGVpZ2h0cyA9IFtdO1xuICAgICAgaWYgKHdyYXBwaW5nKSB7XG4gICAgICAgIGxpbmVWaWV3Lm1lYXN1cmUud2lkdGggPSBjdXJXaWR0aDtcbiAgICAgICAgdmFyIHJlY3RzID0gbGluZVZpZXcudGV4dC5maXJzdENoaWxkLmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgdmFyIGN1ciA9IHJlY3RzW2ldLCBuZXh0ID0gcmVjdHNbaSArIDFdO1xuICAgICAgICAgIGlmIChNYXRoLmFicyhjdXIuYm90dG9tIC0gbmV4dC5ib3R0b20pID4gMilcbiAgICAgICAgICAgIGhlaWdodHMucHVzaCgoY3VyLmJvdHRvbSArIG5leHQudG9wKSAvIDIgLSByZWN0LnRvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhlaWdodHMucHVzaChyZWN0LmJvdHRvbSAtIHJlY3QudG9wKTtcbiAgICB9XG4gIH1cblxuICAvLyBGaW5kIGEgbGluZSBtYXAgKG1hcHBpbmcgY2hhcmFjdGVyIG9mZnNldHMgdG8gdGV4dCBub2RlcykgYW5kIGFcbiAgLy8gbWVhc3VyZW1lbnQgY2FjaGUgZm9yIHRoZSBnaXZlbiBsaW5lIG51bWJlci4gKEEgbGluZSB2aWV3IG1pZ2h0XG4gIC8vIGNvbnRhaW4gbXVsdGlwbGUgbGluZXMgd2hlbiBjb2xsYXBzZWQgcmFuZ2VzIGFyZSBwcmVzZW50LilcbiAgZnVuY3Rpb24gbWFwRnJvbUxpbmVWaWV3KGxpbmVWaWV3LCBsaW5lLCBsaW5lTikge1xuICAgIGlmIChsaW5lVmlldy5saW5lID09IGxpbmUpXG4gICAgICByZXR1cm4ge21hcDogbGluZVZpZXcubWVhc3VyZS5tYXAsIGNhY2hlOiBsaW5lVmlldy5tZWFzdXJlLmNhY2hlfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspXG4gICAgICBpZiAobGluZVZpZXcucmVzdFtpXSA9PSBsaW5lKVxuICAgICAgICByZXR1cm4ge21hcDogbGluZVZpZXcubWVhc3VyZS5tYXBzW2ldLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaV19O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZVZpZXcucmVzdC5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChsaW5lTm8obGluZVZpZXcucmVzdFtpXSkgPiBsaW5lTilcbiAgICAgICAgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwc1tpXSwgY2FjaGU6IGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzW2ldLCBiZWZvcmU6IHRydWV9O1xuICB9XG5cbiAgLy8gUmVuZGVyIGEgbGluZSBpbnRvIHRoZSBoaWRkZW4gbm9kZSBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQuIFVzZWRcbiAgLy8gd2hlbiBtZWFzdXJlbWVudCBpcyBuZWVkZWQgZm9yIGEgbGluZSB0aGF0J3Mgbm90IGluIHRoZSB2aWV3cG9ydC5cbiAgZnVuY3Rpb24gdXBkYXRlRXh0ZXJuYWxNZWFzdXJlbWVudChjbSwgbGluZSkge1xuICAgIGxpbmUgPSB2aXN1YWxMaW5lKGxpbmUpO1xuICAgIHZhciBsaW5lTiA9IGxpbmVObyhsaW5lKTtcbiAgICB2YXIgdmlldyA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCA9IG5ldyBMaW5lVmlldyhjbS5kb2MsIGxpbmUsIGxpbmVOKTtcbiAgICB2aWV3LmxpbmVOID0gbGluZU47XG4gICAgdmFyIGJ1aWx0ID0gdmlldy5idWlsdCA9IGJ1aWxkTGluZUNvbnRlbnQoY20sIHZpZXcpO1xuICAgIHZpZXcudGV4dCA9IGJ1aWx0LnByZTtcbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChjbS5kaXNwbGF5LmxpbmVNZWFzdXJlLCBidWlsdC5wcmUpO1xuICAgIHJldHVybiB2aWV3O1xuICB9XG5cbiAgLy8gR2V0IGEge3RvcCwgYm90dG9tLCBsZWZ0LCByaWdodH0gYm94IChpbiBsaW5lLWxvY2FsIGNvb3JkaW5hdGVzKVxuICAvLyBmb3IgYSBnaXZlbiBjaGFyYWN0ZXIuXG4gIGZ1bmN0aW9uIG1lYXN1cmVDaGFyKGNtLCBsaW5lLCBjaCwgYmlhcykge1xuICAgIHJldHVybiBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmUpLCBjaCwgYmlhcyk7XG4gIH1cblxuICAvLyBGaW5kIGEgbGluZSB2aWV3IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGdpdmVuIGxpbmUgbnVtYmVyLlxuICBmdW5jdGlvbiBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKSB7XG4gICAgaWYgKGxpbmVOID49IGNtLmRpc3BsYXkudmlld0Zyb20gJiYgbGluZU4gPCBjbS5kaXNwbGF5LnZpZXdUbylcbiAgICAgIHJldHVybiBjbS5kaXNwbGF5LnZpZXdbZmluZFZpZXdJbmRleChjbSwgbGluZU4pXTtcbiAgICB2YXIgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQgJiYgbGluZU4gPj0gZXh0LmxpbmVOICYmIGxpbmVOIDwgZXh0LmxpbmVOICsgZXh0LnNpemUpXG4gICAgICByZXR1cm4gZXh0O1xuICB9XG5cbiAgLy8gTWVhc3VyZW1lbnQgY2FuIGJlIHNwbGl0IGluIHR3byBzdGVwcywgdGhlIHNldC11cCB3b3JrIHRoYXRcbiAgLy8gYXBwbGllcyB0byB0aGUgd2hvbGUgbGluZSwgYW5kIHRoZSBtZWFzdXJlbWVudCBvZiB0aGUgYWN0dWFsXG4gIC8vIGNoYXJhY3Rlci4gRnVuY3Rpb25zIGxpa2UgY29vcmRzQ2hhciwgdGhhdCBuZWVkIHRvIGRvIGEgbG90IG9mXG4gIC8vIG1lYXN1cmVtZW50cyBpbiBhIHJvdywgY2FuIHRodXMgZW5zdXJlIHRoYXQgdGhlIHNldC11cCB3b3JrIGlzXG4gIC8vIG9ubHkgZG9uZSBvbmNlLlxuICBmdW5jdGlvbiBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmUpIHtcbiAgICB2YXIgbGluZU4gPSBsaW5lTm8obGluZSk7XG4gICAgdmFyIHZpZXcgPSBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKTtcbiAgICBpZiAodmlldyAmJiAhdmlldy50ZXh0KSB7XG4gICAgICB2aWV3ID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHZpZXcgJiYgdmlldy5jaGFuZ2VzKSB7XG4gICAgICB1cGRhdGVMaW5lRm9yQ2hhbmdlcyhjbSwgdmlldywgbGluZU4sIGdldERpbWVuc2lvbnMoY20pKTtcbiAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF2aWV3KVxuICAgICAgdmlldyA9IHVwZGF0ZUV4dGVybmFsTWVhc3VyZW1lbnQoY20sIGxpbmUpO1xuXG4gICAgdmFyIGluZm8gPSBtYXBGcm9tTGluZVZpZXcodmlldywgbGluZSwgbGluZU4pO1xuICAgIHJldHVybiB7XG4gICAgICBsaW5lOiBsaW5lLCB2aWV3OiB2aWV3LCByZWN0OiBudWxsLFxuICAgICAgbWFwOiBpbmZvLm1hcCwgY2FjaGU6IGluZm8uY2FjaGUsIGJlZm9yZTogaW5mby5iZWZvcmUsXG4gICAgICBoYXNIZWlnaHRzOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvLyBHaXZlbiBhIHByZXBhcmVkIG1lYXN1cmVtZW50IG9iamVjdCwgbWVhc3VyZXMgdGhlIHBvc2l0aW9uIG9mIGFuXG4gIC8vIGFjdHVhbCBjaGFyYWN0ZXIgKG9yIGZldGNoZXMgaXQgZnJvbSB0aGUgY2FjaGUpLlxuICBmdW5jdGlvbiBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMsIHZhckhlaWdodCkge1xuICAgIGlmIChwcmVwYXJlZC5iZWZvcmUpIGNoID0gLTE7XG4gICAgdmFyIGtleSA9IGNoICsgKGJpYXMgfHwgXCJcIiksIGZvdW5kO1xuICAgIGlmIChwcmVwYXJlZC5jYWNoZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBmb3VuZCA9IHByZXBhcmVkLmNhY2hlW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcHJlcGFyZWQucmVjdClcbiAgICAgICAgcHJlcGFyZWQucmVjdCA9IHByZXBhcmVkLnZpZXcudGV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGlmICghcHJlcGFyZWQuaGFzSGVpZ2h0cykge1xuICAgICAgICBlbnN1cmVMaW5lSGVpZ2h0cyhjbSwgcHJlcGFyZWQudmlldywgcHJlcGFyZWQucmVjdCk7XG4gICAgICAgIHByZXBhcmVkLmhhc0hlaWdodHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZm91bmQgPSBtZWFzdXJlQ2hhcklubmVyKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMpO1xuICAgICAgaWYgKCFmb3VuZC5ib2d1cykgcHJlcGFyZWQuY2FjaGVba2V5XSA9IGZvdW5kO1xuICAgIH1cbiAgICByZXR1cm4ge2xlZnQ6IGZvdW5kLmxlZnQsIHJpZ2h0OiBmb3VuZC5yaWdodCxcbiAgICAgICAgICAgIHRvcDogdmFySGVpZ2h0ID8gZm91bmQucnRvcCA6IGZvdW5kLnRvcCxcbiAgICAgICAgICAgIGJvdHRvbTogdmFySGVpZ2h0ID8gZm91bmQucmJvdHRvbSA6IGZvdW5kLmJvdHRvbX07XG4gIH1cblxuICB2YXIgbnVsbFJlY3QgPSB7bGVmdDogMCwgcmlnaHQ6IDAsIHRvcDogMCwgYm90dG9tOiAwfTtcblxuICBmdW5jdGlvbiBub2RlQW5kT2Zmc2V0SW5MaW5lTWFwKG1hcCwgY2gsIGJpYXMpIHtcbiAgICB2YXIgbm9kZSwgc3RhcnQsIGVuZCwgY29sbGFwc2U7XG4gICAgLy8gRmlyc3QsIHNlYXJjaCB0aGUgbGluZSBtYXAgZm9yIHRoZSB0ZXh0IG5vZGUgY29ycmVzcG9uZGluZyB0byxcbiAgICAvLyBvciBjbG9zZXN0IHRvLCB0aGUgdGFyZ2V0IGNoYXJhY3Rlci5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcC5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgdmFyIG1TdGFydCA9IG1hcFtpXSwgbUVuZCA9IG1hcFtpICsgMV07XG4gICAgICBpZiAoY2ggPCBtU3RhcnQpIHtcbiAgICAgICAgc3RhcnQgPSAwOyBlbmQgPSAxO1xuICAgICAgICBjb2xsYXBzZSA9IFwibGVmdFwiO1xuICAgICAgfSBlbHNlIGlmIChjaCA8IG1FbmQpIHtcbiAgICAgICAgc3RhcnQgPSBjaCAtIG1TdGFydDtcbiAgICAgICAgZW5kID0gc3RhcnQgKyAxO1xuICAgICAgfSBlbHNlIGlmIChpID09IG1hcC5sZW5ndGggLSAzIHx8IGNoID09IG1FbmQgJiYgbWFwW2kgKyAzXSA+IGNoKSB7XG4gICAgICAgIGVuZCA9IG1FbmQgLSBtU3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gZW5kIC0gMTtcbiAgICAgICAgaWYgKGNoID49IG1FbmQpIGNvbGxhcHNlID0gXCJyaWdodFwiO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgbm9kZSA9IG1hcFtpICsgMl07XG4gICAgICAgIGlmIChtU3RhcnQgPT0gbUVuZCAmJiBiaWFzID09IChub2RlLmluc2VydExlZnQgPyBcImxlZnRcIiA6IFwicmlnaHRcIikpXG4gICAgICAgICAgY29sbGFwc2UgPSBiaWFzO1xuICAgICAgICBpZiAoYmlhcyA9PSBcImxlZnRcIiAmJiBzdGFydCA9PSAwKVxuICAgICAgICAgIHdoaWxlIChpICYmIG1hcFtpIC0gMl0gPT0gbWFwW2kgLSAzXSAmJiBtYXBbaSAtIDFdLmluc2VydExlZnQpIHtcbiAgICAgICAgICAgIG5vZGUgPSBtYXBbKGkgLT0gMykgKyAyXTtcbiAgICAgICAgICAgIGNvbGxhcHNlID0gXCJsZWZ0XCI7XG4gICAgICAgICAgfVxuICAgICAgICBpZiAoYmlhcyA9PSBcInJpZ2h0XCIgJiYgc3RhcnQgPT0gbUVuZCAtIG1TdGFydClcbiAgICAgICAgICB3aGlsZSAoaSA8IG1hcC5sZW5ndGggLSAzICYmIG1hcFtpICsgM10gPT0gbWFwW2kgKyA0XSAmJiAhbWFwW2kgKyA1XS5pbnNlcnRMZWZ0KSB7XG4gICAgICAgICAgICBub2RlID0gbWFwWyhpICs9IDMpICsgMl07XG4gICAgICAgICAgICBjb2xsYXBzZSA9IFwicmlnaHRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge25vZGU6IG5vZGUsIHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQsIGNvbGxhcHNlOiBjb2xsYXBzZSwgY292ZXJTdGFydDogbVN0YXJ0LCBjb3ZlckVuZDogbUVuZH07XG4gIH1cblxuICBmdW5jdGlvbiBtZWFzdXJlQ2hhcklubmVyKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMpIHtcbiAgICB2YXIgcGxhY2UgPSBub2RlQW5kT2Zmc2V0SW5MaW5lTWFwKHByZXBhcmVkLm1hcCwgY2gsIGJpYXMpO1xuICAgIHZhciBub2RlID0gcGxhY2Uubm9kZSwgc3RhcnQgPSBwbGFjZS5zdGFydCwgZW5kID0gcGxhY2UuZW5kLCBjb2xsYXBzZSA9IHBsYWNlLmNvbGxhcHNlO1xuXG4gICAgdmFyIHJlY3Q7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykgeyAvLyBJZiBpdCBpcyBhIHRleHQgbm9kZSwgdXNlIGEgcmFuZ2UgdG8gcmV0cmlldmUgdGhlIGNvb3JkaW5hdGVzLlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHsgLy8gUmV0cnkgYSBtYXhpbXVtIG9mIDQgdGltZXMgd2hlbiBub25zZW5zZSByZWN0YW5nbGVzIGFyZSByZXR1cm5lZFxuICAgICAgICB3aGlsZSAoc3RhcnQgJiYgaXNFeHRlbmRpbmdDaGFyKHByZXBhcmVkLmxpbmUudGV4dC5jaGFyQXQocGxhY2UuY292ZXJTdGFydCArIHN0YXJ0KSkpIC0tc3RhcnQ7XG4gICAgICAgIHdoaWxlIChwbGFjZS5jb3ZlclN0YXJ0ICsgZW5kIDwgcGxhY2UuY292ZXJFbmQgJiYgaXNFeHRlbmRpbmdDaGFyKHByZXBhcmVkLmxpbmUudGV4dC5jaGFyQXQocGxhY2UuY292ZXJTdGFydCArIGVuZCkpKSArK2VuZDtcbiAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5ICYmIHN0YXJ0ID09IDAgJiYgZW5kID09IHBsYWNlLmNvdmVyRW5kIC0gcGxhY2UuY292ZXJTdGFydCkge1xuICAgICAgICAgIHJlY3QgPSBub2RlLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaWUgJiYgY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgICB2YXIgcmVjdHMgPSByYW5nZShub2RlLCBzdGFydCwgZW5kKS5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICAgIGlmIChyZWN0cy5sZW5ndGgpXG4gICAgICAgICAgICByZWN0ID0gcmVjdHNbYmlhcyA9PSBcInJpZ2h0XCIgPyByZWN0cy5sZW5ndGggLSAxIDogMF07XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVjdCA9IG51bGxSZWN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY3QgPSByYW5nZShub2RlLCBzdGFydCwgZW5kKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB8fCBudWxsUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVjdC5sZWZ0IHx8IHJlY3QucmlnaHQgfHwgc3RhcnQgPT0gMCkgYnJlYWs7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IHN0YXJ0IC0gMTtcbiAgICAgICAgY29sbGFwc2UgPSBcInJpZ2h0XCI7XG4gICAgICB9XG4gICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSByZWN0ID0gbWF5YmVVcGRhdGVSZWN0Rm9yWm9vbWluZyhjbS5kaXNwbGF5Lm1lYXN1cmUsIHJlY3QpO1xuICAgIH0gZWxzZSB7IC8vIElmIGl0IGlzIGEgd2lkZ2V0LCBzaW1wbHkgZ2V0IHRoZSBib3ggZm9yIHRoZSB3aG9sZSB3aWRnZXQuXG4gICAgICBpZiAoc3RhcnQgPiAwKSBjb2xsYXBzZSA9IGJpYXMgPSBcInJpZ2h0XCI7XG4gICAgICB2YXIgcmVjdHM7XG4gICAgICBpZiAoY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgKHJlY3RzID0gbm9kZS5nZXRDbGllbnRSZWN0cygpKS5sZW5ndGggPiAxKVxuICAgICAgICByZWN0ID0gcmVjdHNbYmlhcyA9PSBcInJpZ2h0XCIgPyByZWN0cy5sZW5ndGggLSAxIDogMF07XG4gICAgICBlbHNlXG4gICAgICAgIHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkgJiYgIXN0YXJ0ICYmICghcmVjdCB8fCAhcmVjdC5sZWZ0ICYmICFyZWN0LnJpZ2h0KSkge1xuICAgICAgdmFyIHJTcGFuID0gbm9kZS5wYXJlbnROb2RlLmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICBpZiAoclNwYW4pXG4gICAgICAgIHJlY3QgPSB7bGVmdDogclNwYW4ubGVmdCwgcmlnaHQ6IHJTcGFuLmxlZnQgKyBjaGFyV2lkdGgoY20uZGlzcGxheSksIHRvcDogclNwYW4udG9wLCBib3R0b206IHJTcGFuLmJvdHRvbX07XG4gICAgICBlbHNlXG4gICAgICAgIHJlY3QgPSBudWxsUmVjdDtcbiAgICB9XG5cbiAgICB2YXIgcnRvcCA9IHJlY3QudG9wIC0gcHJlcGFyZWQucmVjdC50b3AsIHJib3QgPSByZWN0LmJvdHRvbSAtIHByZXBhcmVkLnJlY3QudG9wO1xuICAgIHZhciBtaWQgPSAocnRvcCArIHJib3QpIC8gMjtcbiAgICB2YXIgaGVpZ2h0cyA9IHByZXBhcmVkLnZpZXcubWVhc3VyZS5oZWlnaHRzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVpZ2h0cy5sZW5ndGggLSAxOyBpKyspXG4gICAgICBpZiAobWlkIDwgaGVpZ2h0c1tpXSkgYnJlYWs7XG4gICAgdmFyIHRvcCA9IGkgPyBoZWlnaHRzW2kgLSAxXSA6IDAsIGJvdCA9IGhlaWdodHNbaV07XG4gICAgdmFyIHJlc3VsdCA9IHtsZWZ0OiAoY29sbGFwc2UgPT0gXCJyaWdodFwiID8gcmVjdC5yaWdodCA6IHJlY3QubGVmdCkgLSBwcmVwYXJlZC5yZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICByaWdodDogKGNvbGxhcHNlID09IFwibGVmdFwiID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodCkgLSBwcmVwYXJlZC5yZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICB0b3A6IHRvcCwgYm90dG9tOiBib3R9O1xuICAgIGlmICghcmVjdC5sZWZ0ICYmICFyZWN0LnJpZ2h0KSByZXN1bHQuYm9ndXMgPSB0cnVlO1xuICAgIGlmICghY20ub3B0aW9ucy5zaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lKSB7IHJlc3VsdC5ydG9wID0gcnRvcDsgcmVzdWx0LnJib3R0b20gPSByYm90OyB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gV29yayBhcm91bmQgcHJvYmxlbSB3aXRoIGJvdW5kaW5nIGNsaWVudCByZWN0cyBvbiByYW5nZXMgYmVpbmdcbiAgLy8gcmV0dXJuZWQgaW5jb3JyZWN0bHkgd2hlbiB6b29tZWQgb24gSUUxMCBhbmQgYmVsb3cuXG4gIGZ1bmN0aW9uIG1heWJlVXBkYXRlUmVjdEZvclpvb21pbmcobWVhc3VyZSwgcmVjdCkge1xuICAgIGlmICghd2luZG93LnNjcmVlbiB8fCBzY3JlZW4ubG9naWNhbFhEUEkgPT0gbnVsbCB8fFxuICAgICAgICBzY3JlZW4ubG9naWNhbFhEUEkgPT0gc2NyZWVuLmRldmljZVhEUEkgfHwgIWhhc0JhZFpvb21lZFJlY3RzKG1lYXN1cmUpKVxuICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgdmFyIHNjYWxlWCA9IHNjcmVlbi5sb2dpY2FsWERQSSAvIHNjcmVlbi5kZXZpY2VYRFBJO1xuICAgIHZhciBzY2FsZVkgPSBzY3JlZW4ubG9naWNhbFlEUEkgLyBzY3JlZW4uZGV2aWNlWURQSTtcbiAgICByZXR1cm4ge2xlZnQ6IHJlY3QubGVmdCAqIHNjYWxlWCwgcmlnaHQ6IHJlY3QucmlnaHQgKiBzY2FsZVgsXG4gICAgICAgICAgICB0b3A6IHJlY3QudG9wICogc2NhbGVZLCBib3R0b206IHJlY3QuYm90dG9tICogc2NhbGVZfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3IobGluZVZpZXcpIHtcbiAgICBpZiAobGluZVZpZXcubWVhc3VyZSkge1xuICAgICAgbGluZVZpZXcubWVhc3VyZS5jYWNoZSA9IHt9O1xuICAgICAgbGluZVZpZXcubWVhc3VyZS5oZWlnaHRzID0gbnVsbDtcbiAgICAgIGlmIChsaW5lVmlldy5yZXN0KSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspXG4gICAgICAgIGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzW2ldID0ge307XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZShjbSkge1xuICAgIGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlID0gbnVsbDtcbiAgICByZW1vdmVDaGlsZHJlbihjbS5kaXNwbGF5LmxpbmVNZWFzdXJlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRpc3BsYXkudmlldy5sZW5ndGg7IGkrKylcbiAgICAgIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3IoY20uZGlzcGxheS52aWV3W2ldKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyQ2FjaGVzKGNtKSB7XG4gICAgY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZShjbSk7XG4gICAgY20uZGlzcGxheS5jYWNoZWRDaGFyV2lkdGggPSBjbS5kaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQgPSBjbS5kaXNwbGF5LmNhY2hlZFBhZGRpbmdIID0gbnVsbDtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSBjbS5kaXNwbGF5Lm1heExpbmVDaGFuZ2VkID0gdHJ1ZTtcbiAgICBjbS5kaXNwbGF5LmxpbmVOdW1DaGFycyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBwYWdlU2Nyb2xsWCgpIHsgcmV0dXJuIHdpbmRvdy5wYWdlWE9mZnNldCB8fCAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkpLnNjcm9sbExlZnQ7IH1cbiAgZnVuY3Rpb24gcGFnZVNjcm9sbFkoKSB7IHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5KS5zY3JvbGxUb3A7IH1cblxuICAvLyBDb252ZXJ0cyBhIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9IGJveCBmcm9tIGxpbmUtbG9jYWxcbiAgLy8gY29vcmRpbmF0ZXMgaW50byBhbm90aGVyIGNvb3JkaW5hdGUgc3lzdGVtLiBDb250ZXh0IG1heSBiZSBvbmUgb2ZcbiAgLy8gXCJsaW5lXCIsIFwiZGl2XCIgKGRpc3BsYXkubGluZURpdiksIFwibG9jYWxcIi9udWxsIChlZGl0b3IpLCBcIndpbmRvd1wiLFxuICAvLyBvciBcInBhZ2VcIi5cbiAgZnVuY3Rpb24gaW50b0Nvb3JkU3lzdGVtKGNtLCBsaW5lT2JqLCByZWN0LCBjb250ZXh0KSB7XG4gICAgaWYgKGxpbmVPYmoud2lkZ2V0cykgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lT2JqLndpZGdldHMubGVuZ3RoOyArK2kpIGlmIChsaW5lT2JqLndpZGdldHNbaV0uYWJvdmUpIHtcbiAgICAgIHZhciBzaXplID0gd2lkZ2V0SGVpZ2h0KGxpbmVPYmoud2lkZ2V0c1tpXSk7XG4gICAgICByZWN0LnRvcCArPSBzaXplOyByZWN0LmJvdHRvbSArPSBzaXplO1xuICAgIH1cbiAgICBpZiAoY29udGV4dCA9PSBcImxpbmVcIikgcmV0dXJuIHJlY3Q7XG4gICAgaWYgKCFjb250ZXh0KSBjb250ZXh0ID0gXCJsb2NhbFwiO1xuICAgIHZhciB5T2ZmID0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopO1xuICAgIGlmIChjb250ZXh0ID09IFwibG9jYWxcIikgeU9mZiArPSBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpO1xuICAgIGVsc2UgeU9mZiAtPSBjbS5kaXNwbGF5LnZpZXdPZmZzZXQ7XG4gICAgaWYgKGNvbnRleHQgPT0gXCJwYWdlXCIgfHwgY29udGV4dCA9PSBcIndpbmRvd1wiKSB7XG4gICAgICB2YXIgbE9mZiA9IGNtLmRpc3BsYXkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgeU9mZiArPSBsT2ZmLnRvcCArIChjb250ZXh0ID09IFwid2luZG93XCIgPyAwIDogcGFnZVNjcm9sbFkoKSk7XG4gICAgICB2YXIgeE9mZiA9IGxPZmYubGVmdCArIChjb250ZXh0ID09IFwid2luZG93XCIgPyAwIDogcGFnZVNjcm9sbFgoKSk7XG4gICAgICByZWN0LmxlZnQgKz0geE9mZjsgcmVjdC5yaWdodCArPSB4T2ZmO1xuICAgIH1cbiAgICByZWN0LnRvcCArPSB5T2ZmOyByZWN0LmJvdHRvbSArPSB5T2ZmO1xuICAgIHJldHVybiByZWN0O1xuICB9XG5cbiAgLy8gQ292ZXJ0cyBhIGJveCBmcm9tIFwiZGl2XCIgY29vcmRzIHRvIGFub3RoZXIgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gIC8vIENvbnRleHQgbWF5IGJlIFwid2luZG93XCIsIFwicGFnZVwiLCBcImRpdlwiLCBvciBcImxvY2FsXCIvbnVsbC5cbiAgZnVuY3Rpb24gZnJvbUNvb3JkU3lzdGVtKGNtLCBjb29yZHMsIGNvbnRleHQpIHtcbiAgICBpZiAoY29udGV4dCA9PSBcImRpdlwiKSByZXR1cm4gY29vcmRzO1xuICAgIHZhciBsZWZ0ID0gY29vcmRzLmxlZnQsIHRvcCA9IGNvb3Jkcy50b3A7XG4gICAgLy8gRmlyc3QgbW92ZSBpbnRvIFwicGFnZVwiIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgaWYgKGNvbnRleHQgPT0gXCJwYWdlXCIpIHtcbiAgICAgIGxlZnQgLT0gcGFnZVNjcm9sbFgoKTtcbiAgICAgIHRvcCAtPSBwYWdlU2Nyb2xsWSgpO1xuICAgIH0gZWxzZSBpZiAoY29udGV4dCA9PSBcImxvY2FsXCIgfHwgIWNvbnRleHQpIHtcbiAgICAgIHZhciBsb2NhbEJveCA9IGNtLmRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBsZWZ0ICs9IGxvY2FsQm94LmxlZnQ7XG4gICAgICB0b3AgKz0gbG9jYWxCb3gudG9wO1xuICAgIH1cblxuICAgIHZhciBsaW5lU3BhY2VCb3ggPSBjbS5kaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge2xlZnQ6IGxlZnQgLSBsaW5lU3BhY2VCb3gubGVmdCwgdG9wOiB0b3AgLSBsaW5lU3BhY2VCb3gudG9wfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoYXJDb29yZHMoY20sIHBvcywgY29udGV4dCwgbGluZU9iaiwgYmlhcykge1xuICAgIGlmICghbGluZU9iaikgbGluZU9iaiA9IGdldExpbmUoY20uZG9jLCBwb3MubGluZSk7XG4gICAgcmV0dXJuIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgbWVhc3VyZUNoYXIoY20sIGxpbmVPYmosIHBvcy5jaCwgYmlhcyksIGNvbnRleHQpO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhIGJveCBmb3IgYSBnaXZlbiBjdXJzb3IgcG9zaXRpb24sIHdoaWNoIG1heSBoYXZlIGFuXG4gIC8vICdvdGhlcicgcHJvcGVydHkgY29udGFpbmluZyB0aGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZGFyeSBjdXJzb3JcbiAgLy8gb24gYSBiaWRpIGJvdW5kYXJ5LlxuICBmdW5jdGlvbiBjdXJzb3JDb29yZHMoY20sIHBvcywgY29udGV4dCwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlLCB2YXJIZWlnaHQpIHtcbiAgICBsaW5lT2JqID0gbGluZU9iaiB8fCBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpO1xuICAgIGlmICghcHJlcGFyZWRNZWFzdXJlKSBwcmVwYXJlZE1lYXN1cmUgPSBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmVPYmopO1xuICAgIGZ1bmN0aW9uIGdldChjaCwgcmlnaHQpIHtcbiAgICAgIHZhciBtID0gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZWRNZWFzdXJlLCBjaCwgcmlnaHQgPyBcInJpZ2h0XCIgOiBcImxlZnRcIiwgdmFySGVpZ2h0KTtcbiAgICAgIGlmIChyaWdodCkgbS5sZWZ0ID0gbS5yaWdodDsgZWxzZSBtLnJpZ2h0ID0gbS5sZWZ0O1xuICAgICAgcmV0dXJuIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgbSwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEJpZGkoY2gsIHBhcnRQb3MpIHtcbiAgICAgIHZhciBwYXJ0ID0gb3JkZXJbcGFydFBvc10sIHJpZ2h0ID0gcGFydC5sZXZlbCAlIDI7XG4gICAgICBpZiAoY2ggPT0gYmlkaUxlZnQocGFydCkgJiYgcGFydFBvcyAmJiBwYXJ0LmxldmVsIDwgb3JkZXJbcGFydFBvcyAtIDFdLmxldmVsKSB7XG4gICAgICAgIHBhcnQgPSBvcmRlclstLXBhcnRQb3NdO1xuICAgICAgICBjaCA9IGJpZGlSaWdodChwYXJ0KSAtIChwYXJ0LmxldmVsICUgMiA/IDAgOiAxKTtcbiAgICAgICAgcmlnaHQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PSBiaWRpUmlnaHQocGFydCkgJiYgcGFydFBvcyA8IG9yZGVyLmxlbmd0aCAtIDEgJiYgcGFydC5sZXZlbCA8IG9yZGVyW3BhcnRQb3MgKyAxXS5sZXZlbCkge1xuICAgICAgICBwYXJ0ID0gb3JkZXJbKytwYXJ0UG9zXTtcbiAgICAgICAgY2ggPSBiaWRpTGVmdChwYXJ0KSAtIHBhcnQubGV2ZWwgJSAyO1xuICAgICAgICByaWdodCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHJpZ2h0ICYmIGNoID09IHBhcnQudG8gJiYgY2ggPiBwYXJ0LmZyb20pIHJldHVybiBnZXQoY2ggLSAxKTtcbiAgICAgIHJldHVybiBnZXQoY2gsIHJpZ2h0KTtcbiAgICB9XG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZU9iaiksIGNoID0gcG9zLmNoO1xuICAgIGlmICghb3JkZXIpIHJldHVybiBnZXQoY2gpO1xuICAgIHZhciBwYXJ0UG9zID0gZ2V0QmlkaVBhcnRBdChvcmRlciwgY2gpO1xuICAgIHZhciB2YWwgPSBnZXRCaWRpKGNoLCBwYXJ0UG9zKTtcbiAgICBpZiAoYmlkaU90aGVyICE9IG51bGwpIHZhbC5vdGhlciA9IGdldEJpZGkoY2gsIGJpZGlPdGhlcik7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIC8vIFVzZWQgdG8gY2hlYXBseSBlc3RpbWF0ZSB0aGUgY29vcmRpbmF0ZXMgZm9yIGEgcG9zaXRpb24uIFVzZWQgZm9yXG4gIC8vIGludGVybWVkaWF0ZSBzY3JvbGwgdXBkYXRlcy5cbiAgZnVuY3Rpb24gZXN0aW1hdGVDb29yZHMoY20sIHBvcykge1xuICAgIHZhciBsZWZ0ID0gMCwgcG9zID0gY2xpcFBvcyhjbS5kb2MsIHBvcyk7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgbGVmdCA9IGNoYXJXaWR0aChjbS5kaXNwbGF5KSAqIHBvcy5jaDtcbiAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoY20uZG9jLCBwb3MubGluZSk7XG4gICAgdmFyIHRvcCA9IGhlaWdodEF0TGluZShsaW5lT2JqKSArIHBhZGRpbmdUb3AoY20uZGlzcGxheSk7XG4gICAgcmV0dXJuIHtsZWZ0OiBsZWZ0LCByaWdodDogbGVmdCwgdG9wOiB0b3AsIGJvdHRvbTogdG9wICsgbGluZU9iai5oZWlnaHR9O1xuICB9XG5cbiAgLy8gUG9zaXRpb25zIHJldHVybmVkIGJ5IGNvb3Jkc0NoYXIgY29udGFpbiBzb21lIGV4dHJhIGluZm9ybWF0aW9uLlxuICAvLyB4UmVsIGlzIHRoZSByZWxhdGl2ZSB4IHBvc2l0aW9uIG9mIHRoZSBpbnB1dCBjb29yZGluYXRlcyBjb21wYXJlZFxuICAvLyB0byB0aGUgZm91bmQgcG9zaXRpb24gKHNvIHhSZWwgPiAwIG1lYW5zIHRoZSBjb29yZGluYXRlcyBhcmUgdG9cbiAgLy8gdGhlIHJpZ2h0IG9mIHRoZSBjaGFyYWN0ZXIgcG9zaXRpb24sIGZvciBleGFtcGxlKS4gV2hlbiBvdXRzaWRlXG4gIC8vIGlzIHRydWUsIHRoYXQgbWVhbnMgdGhlIGNvb3JkaW5hdGVzIGxpZSBvdXRzaWRlIHRoZSBsaW5lJ3NcbiAgLy8gdmVydGljYWwgcmFuZ2UuXG4gIGZ1bmN0aW9uIFBvc1dpdGhJbmZvKGxpbmUsIGNoLCBvdXRzaWRlLCB4UmVsKSB7XG4gICAgdmFyIHBvcyA9IFBvcyhsaW5lLCBjaCk7XG4gICAgcG9zLnhSZWwgPSB4UmVsO1xuICAgIGlmIChvdXRzaWRlKSBwb3Mub3V0c2lkZSA9IHRydWU7XG4gICAgcmV0dXJuIHBvcztcbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGNoYXJhY3RlciBwb3NpdGlvbiBjbG9zZXN0IHRvIHRoZSBnaXZlbiBjb29yZGluYXRlcy5cbiAgLy8gSW5wdXQgbXVzdCBiZSBsaW5lU3BhY2UtbG9jYWwgKFwiZGl2XCIgY29vcmRpbmF0ZSBzeXN0ZW0pLlxuICBmdW5jdGlvbiBjb29yZHNDaGFyKGNtLCB4LCB5KSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYztcbiAgICB5ICs9IGNtLmRpc3BsYXkudmlld09mZnNldDtcbiAgICBpZiAoeSA8IDApIHJldHVybiBQb3NXaXRoSW5mbyhkb2MuZmlyc3QsIDAsIHRydWUsIC0xKTtcbiAgICB2YXIgbGluZU4gPSBsaW5lQXRIZWlnaHQoZG9jLCB5KSwgbGFzdCA9IGRvYy5maXJzdCArIGRvYy5zaXplIC0gMTtcbiAgICBpZiAobGluZU4gPiBsYXN0KVxuICAgICAgcmV0dXJuIFBvc1dpdGhJbmZvKGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSwgZ2V0TGluZShkb2MsIGxhc3QpLnRleHQubGVuZ3RoLCB0cnVlLCAxKTtcbiAgICBpZiAoeCA8IDApIHggPSAwO1xuXG4gICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZU4pO1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBmb3VuZCA9IGNvb3Jkc0NoYXJJbm5lcihjbSwgbGluZU9iaiwgbGluZU4sIHgsIHkpO1xuICAgICAgdmFyIG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lT2JqKTtcbiAgICAgIHZhciBtZXJnZWRQb3MgPSBtZXJnZWQgJiYgbWVyZ2VkLmZpbmQoMCwgdHJ1ZSk7XG4gICAgICBpZiAobWVyZ2VkICYmIChmb3VuZC5jaCA+IG1lcmdlZFBvcy5mcm9tLmNoIHx8IGZvdW5kLmNoID09IG1lcmdlZFBvcy5mcm9tLmNoICYmIGZvdW5kLnhSZWwgPiAwKSlcbiAgICAgICAgbGluZU4gPSBsaW5lTm8obGluZU9iaiA9IG1lcmdlZFBvcy50by5saW5lKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvb3Jkc0NoYXJJbm5lcihjbSwgbGluZU9iaiwgbGluZU5vLCB4LCB5KSB7XG4gICAgdmFyIGlubmVyT2ZmID0geSAtIGhlaWdodEF0TGluZShsaW5lT2JqKTtcbiAgICB2YXIgd3JvbmdMaW5lID0gZmFsc2UsIGFkanVzdCA9IDIgKiBjbS5kaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgdmFyIHByZXBhcmVkTWVhc3VyZSA9IHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZU9iaik7XG5cbiAgICBmdW5jdGlvbiBnZXRYKGNoKSB7XG4gICAgICB2YXIgc3AgPSBjdXJzb3JDb29yZHMoY20sIFBvcyhsaW5lTm8sIGNoKSwgXCJsaW5lXCIsIGxpbmVPYmosIHByZXBhcmVkTWVhc3VyZSk7XG4gICAgICB3cm9uZ0xpbmUgPSB0cnVlO1xuICAgICAgaWYgKGlubmVyT2ZmID4gc3AuYm90dG9tKSByZXR1cm4gc3AubGVmdCAtIGFkanVzdDtcbiAgICAgIGVsc2UgaWYgKGlubmVyT2ZmIDwgc3AudG9wKSByZXR1cm4gc3AubGVmdCArIGFkanVzdDtcbiAgICAgIGVsc2Ugd3JvbmdMaW5lID0gZmFsc2U7XG4gICAgICByZXR1cm4gc3AubGVmdDtcbiAgICB9XG5cbiAgICB2YXIgYmlkaSA9IGdldE9yZGVyKGxpbmVPYmopLCBkaXN0ID0gbGluZU9iai50ZXh0Lmxlbmd0aDtcbiAgICB2YXIgZnJvbSA9IGxpbmVMZWZ0KGxpbmVPYmopLCB0byA9IGxpbmVSaWdodChsaW5lT2JqKTtcbiAgICB2YXIgZnJvbVggPSBnZXRYKGZyb20pLCBmcm9tT3V0c2lkZSA9IHdyb25nTGluZSwgdG9YID0gZ2V0WCh0byksIHRvT3V0c2lkZSA9IHdyb25nTGluZTtcblxuICAgIGlmICh4ID4gdG9YKSByZXR1cm4gUG9zV2l0aEluZm8obGluZU5vLCB0bywgdG9PdXRzaWRlLCAxKTtcbiAgICAvLyBEbyBhIGJpbmFyeSBzZWFyY2ggYmV0d2VlbiB0aGVzZSBib3VuZHMuXG4gICAgZm9yICg7Oykge1xuICAgICAgaWYgKGJpZGkgPyB0byA9PSBmcm9tIHx8IHRvID09IG1vdmVWaXN1YWxseShsaW5lT2JqLCBmcm9tLCAxKSA6IHRvIC0gZnJvbSA8PSAxKSB7XG4gICAgICAgIHZhciBjaCA9IHggPCBmcm9tWCB8fCB4IC0gZnJvbVggPD0gdG9YIC0geCA/IGZyb20gOiB0bztcbiAgICAgICAgdmFyIHhEaWZmID0geCAtIChjaCA9PSBmcm9tID8gZnJvbVggOiB0b1gpO1xuICAgICAgICB3aGlsZSAoaXNFeHRlbmRpbmdDaGFyKGxpbmVPYmoudGV4dC5jaGFyQXQoY2gpKSkgKytjaDtcbiAgICAgICAgdmFyIHBvcyA9IFBvc1dpdGhJbmZvKGxpbmVObywgY2gsIGNoID09IGZyb20gPyBmcm9tT3V0c2lkZSA6IHRvT3V0c2lkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhEaWZmIDwgLTEgPyAtMSA6IHhEaWZmID4gMSA/IDEgOiAwKTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH1cbiAgICAgIHZhciBzdGVwID0gTWF0aC5jZWlsKGRpc3QgLyAyKSwgbWlkZGxlID0gZnJvbSArIHN0ZXA7XG4gICAgICBpZiAoYmlkaSkge1xuICAgICAgICBtaWRkbGUgPSBmcm9tO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXA7ICsraSkgbWlkZGxlID0gbW92ZVZpc3VhbGx5KGxpbmVPYmosIG1pZGRsZSwgMSk7XG4gICAgICB9XG4gICAgICB2YXIgbWlkZGxlWCA9IGdldFgobWlkZGxlKTtcbiAgICAgIGlmIChtaWRkbGVYID4geCkge3RvID0gbWlkZGxlOyB0b1ggPSBtaWRkbGVYOyBpZiAodG9PdXRzaWRlID0gd3JvbmdMaW5lKSB0b1ggKz0gMTAwMDsgZGlzdCA9IHN0ZXA7fVxuICAgICAgZWxzZSB7ZnJvbSA9IG1pZGRsZTsgZnJvbVggPSBtaWRkbGVYOyBmcm9tT3V0c2lkZSA9IHdyb25nTGluZTsgZGlzdCAtPSBzdGVwO31cbiAgICB9XG4gIH1cblxuICB2YXIgbWVhc3VyZVRleHQ7XG4gIC8vIENvbXB1dGUgdGhlIGRlZmF1bHQgdGV4dCBoZWlnaHQuXG4gIGZ1bmN0aW9uIHRleHRIZWlnaHQoZGlzcGxheSkge1xuICAgIGlmIChkaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQgIT0gbnVsbCkgcmV0dXJuIGRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodDtcbiAgICBpZiAobWVhc3VyZVRleHQgPT0gbnVsbCkge1xuICAgICAgbWVhc3VyZVRleHQgPSBlbHQoXCJwcmVcIik7XG4gICAgICAvLyBNZWFzdXJlIGEgYnVuY2ggb2YgbGluZXMsIGZvciBicm93c2VycyB0aGF0IGNvbXB1dGVcbiAgICAgIC8vIGZyYWN0aW9uYWwgaGVpZ2h0cy5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDk7ICsraSkge1xuICAgICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpO1xuICAgICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChlbHQoXCJiclwiKSk7XG4gICAgICB9XG4gICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpO1xuICAgIH1cbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIG1lYXN1cmVUZXh0KTtcbiAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZVRleHQub2Zmc2V0SGVpZ2h0IC8gNTA7XG4gICAgaWYgKGhlaWdodCA+IDMpIGRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodCA9IGhlaWdodDtcbiAgICByZW1vdmVDaGlsZHJlbihkaXNwbGF5Lm1lYXN1cmUpO1xuICAgIHJldHVybiBoZWlnaHQgfHwgMTtcbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGRlZmF1bHQgY2hhcmFjdGVyIHdpZHRoLlxuICBmdW5jdGlvbiBjaGFyV2lkdGgoZGlzcGxheSkge1xuICAgIGlmIChkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCAhPSBudWxsKSByZXR1cm4gZGlzcGxheS5jYWNoZWRDaGFyV2lkdGg7XG4gICAgdmFyIGFuY2hvciA9IGVsdChcInNwYW5cIiwgXCJ4eHh4eHh4eHh4XCIpO1xuICAgIHZhciBwcmUgPSBlbHQoXCJwcmVcIiwgW2FuY2hvcl0pO1xuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkubWVhc3VyZSwgcHJlKTtcbiAgICB2YXIgcmVjdCA9IGFuY2hvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgd2lkdGggPSAocmVjdC5yaWdodCAtIHJlY3QubGVmdCkgLyAxMDtcbiAgICBpZiAod2lkdGggPiAyKSBkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCA9IHdpZHRoO1xuICAgIHJldHVybiB3aWR0aCB8fCAxMDtcbiAgfVxuXG4gIC8vIE9QRVJBVElPTlNcblxuICAvLyBPcGVyYXRpb25zIGFyZSB1c2VkIHRvIHdyYXAgYSBzZXJpZXMgb2YgY2hhbmdlcyB0byB0aGUgZWRpdG9yXG4gIC8vIHN0YXRlIGluIHN1Y2ggYSB3YXkgdGhhdCBlYWNoIGNoYW5nZSB3b24ndCBoYXZlIHRvIHVwZGF0ZSB0aGVcbiAgLy8gY3Vyc29yIGFuZCBkaXNwbGF5ICh3aGljaCB3b3VsZCBiZSBhd2t3YXJkLCBzbG93LCBhbmRcbiAgLy8gZXJyb3ItcHJvbmUpLiBJbnN0ZWFkLCBkaXNwbGF5IHVwZGF0ZXMgYXJlIGJhdGNoZWQgYW5kIHRoZW4gYWxsXG4gIC8vIGNvbWJpbmVkIGFuZCBleGVjdXRlZCBhdCBvbmNlLlxuXG4gIHZhciBvcGVyYXRpb25Hcm91cCA9IG51bGw7XG5cbiAgdmFyIG5leHRPcElkID0gMDtcbiAgLy8gU3RhcnQgYSBuZXcgb3BlcmF0aW9uLlxuICBmdW5jdGlvbiBzdGFydE9wZXJhdGlvbihjbSkge1xuICAgIGNtLmN1ck9wID0ge1xuICAgICAgY206IGNtLFxuICAgICAgdmlld0NoYW5nZWQ6IGZhbHNlLCAgICAgIC8vIEZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCBsaW5lcyBtaWdodCBuZWVkIHRvIGJlIHJlZHJhd25cbiAgICAgIHN0YXJ0SGVpZ2h0OiBjbS5kb2MuaGVpZ2h0LCAvLyBVc2VkIHRvIGRldGVjdCBuZWVkIHRvIHVwZGF0ZSBzY3JvbGxiYXJcbiAgICAgIGZvcmNlVXBkYXRlOiBmYWxzZSwgICAgICAvLyBVc2VkIHRvIGZvcmNlIGEgcmVkcmF3XG4gICAgICB1cGRhdGVJbnB1dDogbnVsbCwgICAgICAgLy8gV2hldGhlciB0byByZXNldCB0aGUgaW5wdXQgdGV4dGFyZWFcbiAgICAgIHR5cGluZzogZmFsc2UsICAgICAgICAgICAvLyBXaGV0aGVyIHRoaXMgcmVzZXQgc2hvdWxkIGJlIGNhcmVmdWwgdG8gbGVhdmUgZXhpc3RpbmcgdGV4dCAoZm9yIGNvbXBvc2l0aW5nKVxuICAgICAgY2hhbmdlT2JqczogbnVsbCwgICAgICAgIC8vIEFjY3VtdWxhdGVkIGNoYW5nZXMsIGZvciBmaXJpbmcgY2hhbmdlIGV2ZW50c1xuICAgICAgY3Vyc29yQWN0aXZpdHlIYW5kbGVyczogbnVsbCwgLy8gU2V0IG9mIGhhbmRsZXJzIHRvIGZpcmUgY3Vyc29yQWN0aXZpdHkgb25cbiAgICAgIGN1cnNvckFjdGl2aXR5Q2FsbGVkOiAwLCAvLyBUcmFja3Mgd2hpY2ggY3Vyc29yQWN0aXZpdHkgaGFuZGxlcnMgaGF2ZSBiZWVuIGNhbGxlZCBhbHJlYWR5XG4gICAgICBzZWxlY3Rpb25DaGFuZ2VkOiBmYWxzZSwgLy8gV2hldGhlciB0aGUgc2VsZWN0aW9uIG5lZWRzIHRvIGJlIHJlZHJhd25cbiAgICAgIHVwZGF0ZU1heExpbmU6IGZhbHNlLCAgICAvLyBTZXQgd2hlbiB0aGUgd2lkZXN0IGxpbmUgbmVlZHMgdG8gYmUgZGV0ZXJtaW5lZCBhbmV3XG4gICAgICBzY3JvbGxMZWZ0OiBudWxsLCBzY3JvbGxUb3A6IG51bGwsIC8vIEludGVybWVkaWF0ZSBzY3JvbGwgcG9zaXRpb24sIG5vdCBwdXNoZWQgdG8gRE9NIHlldFxuICAgICAgc2Nyb2xsVG9Qb3M6IG51bGwsICAgICAgIC8vIFVzZWQgdG8gc2Nyb2xsIHRvIGEgc3BlY2lmaWMgcG9zaXRpb25cbiAgICAgIGZvY3VzOiBmYWxzZSxcbiAgICAgIGlkOiArK25leHRPcElkICAgICAgICAgICAvLyBVbmlxdWUgSURcbiAgICB9O1xuICAgIGlmIChvcGVyYXRpb25Hcm91cCkge1xuICAgICAgb3BlcmF0aW9uR3JvdXAub3BzLnB1c2goY20uY3VyT3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbS5jdXJPcC5vd25zR3JvdXAgPSBvcGVyYXRpb25Hcm91cCA9IHtcbiAgICAgICAgb3BzOiBbY20uY3VyT3BdLFxuICAgICAgICBkZWxheWVkQ2FsbGJhY2tzOiBbXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlQ2FsbGJhY2tzRm9yT3BzKGdyb3VwKSB7XG4gICAgLy8gQ2FsbHMgZGVsYXllZCBjYWxsYmFja3MgYW5kIGN1cnNvckFjdGl2aXR5IGhhbmRsZXJzIHVudGlsIG5vXG4gICAgLy8gbmV3IG9uZXMgYXBwZWFyXG4gICAgdmFyIGNhbGxiYWNrcyA9IGdyb3VwLmRlbGF5ZWRDYWxsYmFja3MsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGZvciAoOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChudWxsKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXAub3BzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBvcCA9IGdyb3VwLm9wc1tqXTtcbiAgICAgICAgaWYgKG9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMpXG4gICAgICAgICAgd2hpbGUgKG9wLmN1cnNvckFjdGl2aXR5Q2FsbGVkIDwgb3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVycy5sZW5ndGgpXG4gICAgICAgICAgICBvcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzW29wLmN1cnNvckFjdGl2aXR5Q2FsbGVkKytdLmNhbGwobnVsbCwgb3AuY20pO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGkgPCBjYWxsYmFja3MubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIEZpbmlzaCBhbiBvcGVyYXRpb24sIHVwZGF0aW5nIHRoZSBkaXNwbGF5IGFuZCBzaWduYWxsaW5nIGRlbGF5ZWQgZXZlbnRzXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbihjbSkge1xuICAgIHZhciBvcCA9IGNtLmN1ck9wLCBncm91cCA9IG9wLm93bnNHcm91cDtcbiAgICBpZiAoIWdyb3VwKSByZXR1cm47XG5cbiAgICB0cnkgeyBmaXJlQ2FsbGJhY2tzRm9yT3BzKGdyb3VwKTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgb3BlcmF0aW9uR3JvdXAgPSBudWxsO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cC5vcHMubGVuZ3RoOyBpKyspXG4gICAgICAgIGdyb3VwLm9wc1tpXS5jbS5jdXJPcCA9IG51bGw7XG4gICAgICBlbmRPcGVyYXRpb25zKGdyb3VwKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGUgRE9NIHVwZGF0ZXMgZG9uZSB3aGVuIGFuIG9wZXJhdGlvbiBmaW5pc2hlcyBhcmUgYmF0Y2hlZCBzb1xuICAvLyB0aGF0IHRoZSBtaW5pbXVtIG51bWJlciBvZiByZWxheW91dHMgYXJlIHJlcXVpcmVkLlxuICBmdW5jdGlvbiBlbmRPcGVyYXRpb25zKGdyb3VwKSB7XG4gICAgdmFyIG9wcyA9IGdyb3VwLm9wcztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gUmVhZCBET01cbiAgICAgIGVuZE9wZXJhdGlvbl9SMShvcHNbaV0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSAvLyBXcml0ZSBET00gKG1heWJlKVxuICAgICAgZW5kT3BlcmF0aW9uX1cxKG9wc1tpXSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHMubGVuZ3RoOyBpKyspIC8vIFJlYWQgRE9NXG4gICAgICBlbmRPcGVyYXRpb25fUjIob3BzW2ldKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gV3JpdGUgRE9NIChtYXliZSlcbiAgICAgIGVuZE9wZXJhdGlvbl9XMihvcHNbaV0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSAvLyBSZWFkIERPTVxuICAgICAgZW5kT3BlcmF0aW9uX2ZpbmlzaChvcHNbaV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1IxKG9wKSB7XG4gICAgdmFyIGNtID0gb3AuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIG1heWJlQ2xpcFNjcm9sbGJhcnMoY20pO1xuICAgIGlmIChvcC51cGRhdGVNYXhMaW5lKSBmaW5kTWF4TGluZShjbSk7XG5cbiAgICBvcC5tdXN0VXBkYXRlID0gb3Audmlld0NoYW5nZWQgfHwgb3AuZm9yY2VVcGRhdGUgfHwgb3Auc2Nyb2xsVG9wICE9IG51bGwgfHxcbiAgICAgIG9wLnNjcm9sbFRvUG9zICYmIChvcC5zY3JvbGxUb1Bvcy5mcm9tLmxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgb3Auc2Nyb2xsVG9Qb3MudG8ubGluZSA+PSBkaXNwbGF5LnZpZXdUbykgfHxcbiAgICAgIGRpc3BsYXkubWF4TGluZUNoYW5nZWQgJiYgY20ub3B0aW9ucy5saW5lV3JhcHBpbmc7XG4gICAgb3AudXBkYXRlID0gb3AubXVzdFVwZGF0ZSAmJlxuICAgICAgbmV3IERpc3BsYXlVcGRhdGUoY20sIG9wLm11c3RVcGRhdGUgJiYge3RvcDogb3Auc2Nyb2xsVG9wLCBlbnN1cmU6IG9wLnNjcm9sbFRvUG9zfSwgb3AuZm9yY2VVcGRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1cxKG9wKSB7XG4gICAgb3AudXBkYXRlZERpc3BsYXkgPSBvcC5tdXN0VXBkYXRlICYmIHVwZGF0ZURpc3BsYXlJZk5lZWRlZChvcC5jbSwgb3AudXBkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9SMihvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkpIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTtcblxuICAgIG9wLmJhck1lYXN1cmUgPSBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSk7XG5cbiAgICAvLyBJZiB0aGUgbWF4IGxpbmUgY2hhbmdlZCBzaW5jZSBpdCB3YXMgbGFzdCBtZWFzdXJlZCwgbWVhc3VyZSBpdCxcbiAgICAvLyBhbmQgZW5zdXJlIHRoZSBkb2N1bWVudCdzIHdpZHRoIG1hdGNoZXMgaXQuXG4gICAgLy8gdXBkYXRlRGlzcGxheV9XMiB3aWxsIHVzZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGRvIHRoZSBhY3R1YWwgcmVzaXppbmdcbiAgICBpZiAoZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIG9wLmFkanVzdFdpZHRoVG8gPSBtZWFzdXJlQ2hhcihjbSwgZGlzcGxheS5tYXhMaW5lLCBkaXNwbGF5Lm1heExpbmUudGV4dC5sZW5ndGgpLmxlZnQgKyAzO1xuICAgICAgY20uZGlzcGxheS5zaXplcldpZHRoID0gb3AuYWRqdXN0V2lkdGhUbztcbiAgICAgIG9wLmJhck1lYXN1cmUuc2Nyb2xsV2lkdGggPVxuICAgICAgICBNYXRoLm1heChkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoLCBkaXNwbGF5LnNpemVyLm9mZnNldExlZnQgKyBvcC5hZGp1c3RXaWR0aFRvICsgc2Nyb2xsR2FwKGNtKSArIGNtLmRpc3BsYXkuYmFyV2lkdGgpO1xuICAgICAgb3AubWF4U2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCArIG9wLmFkanVzdFdpZHRoVG8gLSBkaXNwbGF5V2lkdGgoY20pKTtcbiAgICB9XG5cbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkgfHwgb3Auc2VsZWN0aW9uQ2hhbmdlZClcbiAgICAgIG9wLnByZXBhcmVkU2VsZWN0aW9uID0gZGlzcGxheS5pbnB1dC5wcmVwYXJlU2VsZWN0aW9uKG9wLmZvY3VzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9XMihvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtO1xuXG4gICAgaWYgKG9wLmFkanVzdFdpZHRoVG8gIT0gbnVsbCkge1xuICAgICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aCA9IG9wLmFkanVzdFdpZHRoVG8gKyBcInB4XCI7XG4gICAgICBpZiAob3AubWF4U2Nyb2xsTGVmdCA8IGNtLmRvYy5zY3JvbGxMZWZ0KVxuICAgICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBNYXRoLm1pbihjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQsIG9wLm1heFNjcm9sbExlZnQpLCB0cnVlKTtcbiAgICAgIGNtLmRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdGFrZUZvY3VzID0gb3AuZm9jdXMgJiYgb3AuZm9jdXMgPT0gYWN0aXZlRWx0KCkgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKVxuICAgIGlmIChvcC5wcmVwYXJlZFNlbGVjdGlvbilcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQuc2hvd1NlbGVjdGlvbihvcC5wcmVwYXJlZFNlbGVjdGlvbiwgdGFrZUZvY3VzKTtcbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkgfHwgb3Auc3RhcnRIZWlnaHQgIT0gY20uZG9jLmhlaWdodClcbiAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20sIG9wLmJhck1lYXN1cmUpO1xuICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSlcbiAgICAgIHNldERvY3VtZW50SGVpZ2h0KGNtLCBvcC5iYXJNZWFzdXJlKTtcblxuICAgIGlmIChvcC5zZWxlY3Rpb25DaGFuZ2VkKSByZXN0YXJ0QmxpbmsoY20pO1xuXG4gICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQgJiYgb3AudXBkYXRlSW5wdXQpXG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KG9wLnR5cGluZyk7XG4gICAgaWYgKHRha2VGb2N1cykgZW5zdXJlRm9jdXMob3AuY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX2ZpbmlzaChvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuXG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5KSBwb3N0VXBkYXRlRGlzcGxheShjbSwgb3AudXBkYXRlKTtcblxuICAgIC8vIEFib3J0IG1vdXNlIHdoZWVsIGRlbHRhIG1lYXN1cmVtZW50LCB3aGVuIHNjcm9sbGluZyBleHBsaWNpdGx5XG4gICAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggIT0gbnVsbCAmJiAob3Auc2Nyb2xsVG9wICE9IG51bGwgfHwgb3Auc2Nyb2xsTGVmdCAhPSBudWxsIHx8IG9wLnNjcm9sbFRvUG9zKSlcbiAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBkaXNwbGF5LndoZWVsU3RhcnRZID0gbnVsbDtcblxuICAgIC8vIFByb3BhZ2F0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIHRoZSBhY3R1YWwgRE9NIHNjcm9sbGVyXG4gICAgaWYgKG9wLnNjcm9sbFRvcCAhPSBudWxsICYmIChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCAhPSBvcC5zY3JvbGxUb3AgfHwgb3AuZm9yY2VTY3JvbGwpKSB7XG4gICAgICBkb2Muc2Nyb2xsVG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS5zY3JvbGxlci5zY3JvbGxIZWlnaHQgLSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudEhlaWdodCwgb3Auc2Nyb2xsVG9wKSk7XG4gICAgICBkaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGRvYy5zY3JvbGxUb3ApO1xuICAgICAgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgPSBkb2Muc2Nyb2xsVG9wO1xuICAgIH1cbiAgICBpZiAob3Auc2Nyb2xsTGVmdCAhPSBudWxsICYmIChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgIT0gb3Auc2Nyb2xsTGVmdCB8fCBvcC5mb3JjZVNjcm9sbCkpIHtcbiAgICAgIGRvYy5zY3JvbGxMZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCAtIGRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgsIG9wLnNjcm9sbExlZnQpKTtcbiAgICAgIGRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KGRvYy5zY3JvbGxMZWZ0KTtcbiAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IGRvYy5zY3JvbGxMZWZ0O1xuICAgICAgYWxpZ25Ib3Jpem9udGFsbHkoY20pO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBuZWVkIHRvIHNjcm9sbCBhIHNwZWNpZmljIHBvc2l0aW9uIGludG8gdmlldywgZG8gc28uXG4gICAgaWYgKG9wLnNjcm9sbFRvUG9zKSB7XG4gICAgICB2YXIgY29vcmRzID0gc2Nyb2xsUG9zSW50b1ZpZXcoY20sIGNsaXBQb3MoZG9jLCBvcC5zY3JvbGxUb1Bvcy5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwUG9zKGRvYywgb3Auc2Nyb2xsVG9Qb3MudG8pLCBvcC5zY3JvbGxUb1Bvcy5tYXJnaW4pO1xuICAgICAgaWYgKG9wLnNjcm9sbFRvUG9zLmlzQ3Vyc29yICYmIGNtLnN0YXRlLmZvY3VzZWQpIG1heWJlU2Nyb2xsV2luZG93KGNtLCBjb29yZHMpO1xuICAgIH1cblxuICAgIC8vIEZpcmUgZXZlbnRzIGZvciBtYXJrZXJzIHRoYXQgYXJlIGhpZGRlbi91bmlkZGVuIGJ5IGVkaXRpbmcgb3JcbiAgICAvLyB1bmRvaW5nXG4gICAgdmFyIGhpZGRlbiA9IG9wLm1heWJlSGlkZGVuTWFya2VycywgdW5oaWRkZW4gPSBvcC5tYXliZVVuaGlkZGVuTWFya2VycztcbiAgICBpZiAoaGlkZGVuKSBmb3IgKHZhciBpID0gMDsgaSA8IGhpZGRlbi5sZW5ndGg7ICsraSlcbiAgICAgIGlmICghaGlkZGVuW2ldLmxpbmVzLmxlbmd0aCkgc2lnbmFsKGhpZGRlbltpXSwgXCJoaWRlXCIpO1xuICAgIGlmICh1bmhpZGRlbikgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmhpZGRlbi5sZW5ndGg7ICsraSlcbiAgICAgIGlmICh1bmhpZGRlbltpXS5saW5lcy5sZW5ndGgpIHNpZ25hbCh1bmhpZGRlbltpXSwgXCJ1bmhpZGVcIik7XG5cbiAgICBpZiAoZGlzcGxheS53cmFwcGVyLm9mZnNldEhlaWdodClcbiAgICAgIGRvYy5zY3JvbGxUb3AgPSBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcDtcblxuICAgIC8vIEZpcmUgY2hhbmdlIGV2ZW50cywgYW5kIGRlbGF5ZWQgZXZlbnQgaGFuZGxlcnNcbiAgICBpZiAob3AuY2hhbmdlT2JqcylcbiAgICAgIHNpZ25hbChjbSwgXCJjaGFuZ2VzXCIsIGNtLCBvcC5jaGFuZ2VPYmpzKTtcbiAgICBpZiAob3AudXBkYXRlKVxuICAgICAgb3AudXBkYXRlLmZpbmlzaCgpO1xuICB9XG5cbiAgLy8gUnVuIHRoZSBnaXZlbiBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb25cbiAgZnVuY3Rpb24gcnVuSW5PcChjbSwgZikge1xuICAgIGlmIChjbS5jdXJPcCkgcmV0dXJuIGYoKTtcbiAgICBzdGFydE9wZXJhdGlvbihjbSk7XG4gICAgdHJ5IHsgcmV0dXJuIGYoKTsgfVxuICAgIGZpbmFsbHkgeyBlbmRPcGVyYXRpb24oY20pOyB9XG4gIH1cbiAgLy8gV3JhcHMgYSBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb24uIFJldHVybnMgdGhlIHdyYXBwZWQgZnVuY3Rpb24uXG4gIGZ1bmN0aW9uIG9wZXJhdGlvbihjbSwgZikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChjbS5jdXJPcCkgcmV0dXJuIGYuYXBwbHkoY20sIGFyZ3VtZW50cyk7XG4gICAgICBzdGFydE9wZXJhdGlvbihjbSk7XG4gICAgICB0cnkgeyByZXR1cm4gZi5hcHBseShjbSwgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgICB9O1xuICB9XG4gIC8vIFVzZWQgdG8gYWRkIG1ldGhvZHMgdG8gZWRpdG9yIGFuZCBkb2MgaW5zdGFuY2VzLCB3cmFwcGluZyB0aGVtIGluXG4gIC8vIG9wZXJhdGlvbnMuXG4gIGZ1bmN0aW9uIG1ldGhvZE9wKGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJPcCkgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHN0YXJ0T3BlcmF0aW9uKHRoaXMpO1xuICAgICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbih0aGlzKTsgfVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZG9jTWV0aG9kT3AoZikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY207XG4gICAgICBpZiAoIWNtIHx8IGNtLmN1ck9wKSByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgc3RhcnRPcGVyYXRpb24oY20pO1xuICAgICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgICB9O1xuICB9XG5cbiAgLy8gVklFVyBUUkFDS0lOR1xuXG4gIC8vIFRoZXNlIG9iamVjdHMgYXJlIHVzZWQgdG8gcmVwcmVzZW50IHRoZSB2aXNpYmxlIChjdXJyZW50bHkgZHJhd24pXG4gIC8vIHBhcnQgb2YgdGhlIGRvY3VtZW50LiBBIExpbmVWaWV3IG1heSBjb3JyZXNwb25kIHRvIG11bHRpcGxlXG4gIC8vIGxvZ2ljYWwgbGluZXMsIGlmIHRob3NlIGFyZSBjb25uZWN0ZWQgYnkgY29sbGFwc2VkIHJhbmdlcy5cbiAgZnVuY3Rpb24gTGluZVZpZXcoZG9jLCBsaW5lLCBsaW5lTikge1xuICAgIC8vIFRoZSBzdGFydGluZyBsaW5lXG4gICAgdGhpcy5saW5lID0gbGluZTtcbiAgICAvLyBDb250aW51aW5nIGxpbmVzLCBpZiBhbnlcbiAgICB0aGlzLnJlc3QgPSB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpO1xuICAgIC8vIE51bWJlciBvZiBsb2dpY2FsIGxpbmVzIGluIHRoaXMgdmlzdWFsIGxpbmVcbiAgICB0aGlzLnNpemUgPSB0aGlzLnJlc3QgPyBsaW5lTm8obHN0KHRoaXMucmVzdCkpIC0gbGluZU4gKyAxIDogMTtcbiAgICB0aGlzLm5vZGUgPSB0aGlzLnRleHQgPSBudWxsO1xuICAgIHRoaXMuaGlkZGVuID0gbGluZUlzSGlkZGVuKGRvYywgbGluZSk7XG4gIH1cblxuICAvLyBDcmVhdGUgYSByYW5nZSBvZiBMaW5lVmlldyBvYmplY3RzIGZvciB0aGUgZ2l2ZW4gbGluZXMuXG4gIGZ1bmN0aW9uIGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0bykge1xuICAgIHZhciBhcnJheSA9IFtdLCBuZXh0UG9zO1xuICAgIGZvciAodmFyIHBvcyA9IGZyb207IHBvcyA8IHRvOyBwb3MgPSBuZXh0UG9zKSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBMaW5lVmlldyhjbS5kb2MsIGdldExpbmUoY20uZG9jLCBwb3MpLCBwb3MpO1xuICAgICAgbmV4dFBvcyA9IHBvcyArIHZpZXcuc2l6ZTtcbiAgICAgIGFycmF5LnB1c2godmlldyk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8vIFVwZGF0ZXMgdGhlIGRpc3BsYXkudmlldyBkYXRhIHN0cnVjdHVyZSBmb3IgYSBnaXZlbiBjaGFuZ2UgdG8gdGhlXG4gIC8vIGRvY3VtZW50LiBGcm9tIGFuZCB0byBhcmUgaW4gcHJlLWNoYW5nZSBjb29yZGluYXRlcy4gTGVuZGlmZiBpc1xuICAvLyB0aGUgYW1vdW50IG9mIGxpbmVzIGFkZGVkIG9yIHN1YnRyYWN0ZWQgYnkgdGhlIGNoYW5nZS4gVGhpcyBpc1xuICAvLyB1c2VkIGZvciBjaGFuZ2VzIHRoYXQgc3BhbiBtdWx0aXBsZSBsaW5lcywgb3IgY2hhbmdlIHRoZSB3YXlcbiAgLy8gbGluZXMgYXJlIGRpdmlkZWQgaW50byB2aXN1YWwgbGluZXMuIHJlZ0xpbmVDaGFuZ2UgKGJlbG93KVxuICAvLyByZWdpc3RlcnMgc2luZ2xlLWxpbmUgY2hhbmdlcy5cbiAgZnVuY3Rpb24gcmVnQ2hhbmdlKGNtLCBmcm9tLCB0bywgbGVuZGlmZikge1xuICAgIGlmIChmcm9tID09IG51bGwpIGZyb20gPSBjbS5kb2MuZmlyc3Q7XG4gICAgaWYgKHRvID09IG51bGwpIHRvID0gY20uZG9jLmZpcnN0ICsgY20uZG9jLnNpemU7XG4gICAgaWYgKCFsZW5kaWZmKSBsZW5kaWZmID0gMDtcblxuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAobGVuZGlmZiAmJiB0byA8IGRpc3BsYXkudmlld1RvICYmXG4gICAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+IGZyb20pKVxuICAgICAgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9IGZyb207XG5cbiAgICBjbS5jdXJPcC52aWV3Q2hhbmdlZCA9IHRydWU7XG5cbiAgICBpZiAoZnJvbSA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBDaGFuZ2UgYWZ0ZXJcbiAgICAgIGlmIChzYXdDb2xsYXBzZWRTcGFucyAmJiB2aXN1YWxMaW5lTm8oY20uZG9jLCBmcm9tKSA8IGRpc3BsYXkudmlld1RvKVxuICAgICAgICByZXNldFZpZXcoY20pO1xuICAgIH0gZWxzZSBpZiAodG8gPD0gZGlzcGxheS52aWV3RnJvbSkgeyAvLyBDaGFuZ2UgYmVmb3JlXG4gICAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMgJiYgdmlzdWFsTGluZUVuZE5vKGNtLmRvYywgdG8gKyBsZW5kaWZmKSA+IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BsYXkudmlld0Zyb20gKz0gbGVuZGlmZjtcbiAgICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZyb20gPD0gZGlzcGxheS52aWV3RnJvbSAmJiB0byA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBGdWxsIG92ZXJsYXBcbiAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgfSBlbHNlIGlmIChmcm9tIDw9IGRpc3BsYXkudmlld0Zyb20pIHsgLy8gVG9wIG92ZXJsYXBcbiAgICAgIHZhciBjdXQgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCB0bywgdG8gKyBsZW5kaWZmLCAxKTtcbiAgICAgIGlmIChjdXQpIHtcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGN1dC5pbmRleCk7XG4gICAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBjdXQubGluZU47XG4gICAgICAgIGRpc3BsYXkudmlld1RvICs9IGxlbmRpZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNldFZpZXcoY20pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodG8gPj0gZGlzcGxheS52aWV3VG8pIHsgLy8gQm90dG9tIG92ZXJsYXBcbiAgICAgIHZhciBjdXQgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCBmcm9tLCBmcm9tLCAtMSk7XG4gICAgICBpZiAoY3V0KSB7XG4gICAgICAgIGRpc3BsYXkudmlldyA9IGRpc3BsYXkudmlldy5zbGljZSgwLCBjdXQuaW5kZXgpO1xuICAgICAgICBkaXNwbGF5LnZpZXdUbyA9IGN1dC5saW5lTjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gR2FwIGluIHRoZSBtaWRkbGVcbiAgICAgIHZhciBjdXRUb3AgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCBmcm9tLCBmcm9tLCAtMSk7XG4gICAgICB2YXIgY3V0Qm90ID0gdmlld0N1dHRpbmdQb2ludChjbSwgdG8sIHRvICsgbGVuZGlmZiwgMSk7XG4gICAgICBpZiAoY3V0VG9wICYmIGN1dEJvdCkge1xuICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoMCwgY3V0VG9wLmluZGV4KVxuICAgICAgICAgIC5jb25jYXQoYnVpbGRWaWV3QXJyYXkoY20sIGN1dFRvcC5saW5lTiwgY3V0Qm90LmxpbmVOKSlcbiAgICAgICAgICAuY29uY2F0KGRpc3BsYXkudmlldy5zbGljZShjdXRCb3QuaW5kZXgpKTtcbiAgICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGV4dCA9IGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtcbiAgICBpZiAoZXh0KSB7XG4gICAgICBpZiAodG8gPCBleHQubGluZU4pXG4gICAgICAgIGV4dC5saW5lTiArPSBsZW5kaWZmO1xuICAgICAgZWxzZSBpZiAoZnJvbSA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgICBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIGEgY2hhbmdlIHRvIGEgc2luZ2xlIGxpbmUuIFR5cGUgbXVzdCBiZSBvbmUgb2YgXCJ0ZXh0XCIsXG4gIC8vIFwiZ3V0dGVyXCIsIFwiY2xhc3NcIiwgXCJ3aWRnZXRcIlxuICBmdW5jdGlvbiByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lLCB0eXBlKSB7XG4gICAgY20uY3VyT3Audmlld0NoYW5nZWQgPSB0cnVlO1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQgJiYgbGluZSA+PSBleHQubGluZU4gJiYgbGluZSA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDtcblxuICAgIGlmIChsaW5lIDwgZGlzcGxheS52aWV3RnJvbSB8fCBsaW5lID49IGRpc3BsYXkudmlld1RvKSByZXR1cm47XG4gICAgdmFyIGxpbmVWaWV3ID0gZGlzcGxheS52aWV3W2ZpbmRWaWV3SW5kZXgoY20sIGxpbmUpXTtcbiAgICBpZiAobGluZVZpZXcubm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgdmFyIGFyciA9IGxpbmVWaWV3LmNoYW5nZXMgfHwgKGxpbmVWaWV3LmNoYW5nZXMgPSBbXSk7XG4gICAgaWYgKGluZGV4T2YoYXJyLCB0eXBlKSA9PSAtMSkgYXJyLnB1c2godHlwZSk7XG4gIH1cblxuICAvLyBDbGVhciB0aGUgdmlldy5cbiAgZnVuY3Rpb24gcmVzZXRWaWV3KGNtKSB7XG4gICAgY20uZGlzcGxheS52aWV3RnJvbSA9IGNtLmRpc3BsYXkudmlld1RvID0gY20uZG9jLmZpcnN0O1xuICAgIGNtLmRpc3BsYXkudmlldyA9IFtdO1xuICAgIGNtLmRpc3BsYXkudmlld09mZnNldCA9IDA7XG4gIH1cblxuICAvLyBGaW5kIHRoZSB2aWV3IGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIGxpbmUuIFJldHVybiBudWxsXG4gIC8vIHdoZW4gdGhlIGxpbmUgaXNuJ3QgdmlzaWJsZS5cbiAgZnVuY3Rpb24gZmluZFZpZXdJbmRleChjbSwgbikge1xuICAgIGlmIChuID49IGNtLmRpc3BsYXkudmlld1RvKSByZXR1cm4gbnVsbDtcbiAgICBuIC09IGNtLmRpc3BsYXkudmlld0Zyb207XG4gICAgaWYgKG4gPCAwKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIG4gLT0gdmlld1tpXS5zaXplO1xuICAgICAgaWYgKG4gPCAwKSByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB2aWV3Q3V0dGluZ1BvaW50KGNtLCBvbGROLCBuZXdOLCBkaXIpIHtcbiAgICB2YXIgaW5kZXggPSBmaW5kVmlld0luZGV4KGNtLCBvbGROKSwgZGlmZiwgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICBpZiAoIXNhd0NvbGxhcHNlZFNwYW5zIHx8IG5ld04gPT0gY20uZG9jLmZpcnN0ICsgY20uZG9jLnNpemUpXG4gICAgICByZXR1cm4ge2luZGV4OiBpbmRleCwgbGluZU46IG5ld059O1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gY20uZGlzcGxheS52aWV3RnJvbTsgaSA8IGluZGV4OyBpKyspXG4gICAgICBuICs9IHZpZXdbaV0uc2l6ZTtcbiAgICBpZiAobiAhPSBvbGROKSB7XG4gICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICBpZiAoaW5kZXggPT0gdmlldy5sZW5ndGggLSAxKSByZXR1cm4gbnVsbDtcbiAgICAgICAgZGlmZiA9IChuICsgdmlld1tpbmRleF0uc2l6ZSkgLSBvbGROO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlmZiA9IG4gLSBvbGROO1xuICAgICAgfVxuICAgICAgb2xkTiArPSBkaWZmOyBuZXdOICs9IGRpZmY7XG4gICAgfVxuICAgIHdoaWxlICh2aXN1YWxMaW5lTm8oY20uZG9jLCBuZXdOKSAhPSBuZXdOKSB7XG4gICAgICBpZiAoaW5kZXggPT0gKGRpciA8IDAgPyAwIDogdmlldy5sZW5ndGggLSAxKSkgcmV0dXJuIG51bGw7XG4gICAgICBuZXdOICs9IGRpciAqIHZpZXdbaW5kZXggLSAoZGlyIDwgMCA/IDEgOiAwKV0uc2l6ZTtcbiAgICAgIGluZGV4ICs9IGRpcjtcbiAgICB9XG4gICAgcmV0dXJuIHtpbmRleDogaW5kZXgsIGxpbmVOOiBuZXdOfTtcbiAgfVxuXG4gIC8vIEZvcmNlIHRoZSB2aWV3IHRvIGNvdmVyIGEgZ2l2ZW4gcmFuZ2UsIGFkZGluZyBlbXB0eSB2aWV3IGVsZW1lbnRcbiAgLy8gb3IgY2xpcHBpbmcgb2ZmIGV4aXN0aW5nIG9uZXMgYXMgbmVlZGVkLlxuICBmdW5jdGlvbiBhZGp1c3RWaWV3KGNtLCBmcm9tLCB0bykge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgdmlldyA9IGRpc3BsYXkudmlldztcbiAgICBpZiAodmlldy5sZW5ndGggPT0gMCB8fCBmcm9tID49IGRpc3BsYXkudmlld1RvIHx8IHRvIDw9IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgIGRpc3BsYXkudmlldyA9IGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0byk7XG4gICAgICBkaXNwbGF5LnZpZXdGcm9tID0gZnJvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRpc3BsYXkudmlld0Zyb20gPiBmcm9tKVxuICAgICAgICBkaXNwbGF5LnZpZXcgPSBidWlsZFZpZXdBcnJheShjbSwgZnJvbSwgZGlzcGxheS52aWV3RnJvbSkuY29uY2F0KGRpc3BsYXkudmlldyk7XG4gICAgICBlbHNlIGlmIChkaXNwbGF5LnZpZXdGcm9tIDwgZnJvbSlcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGZpbmRWaWV3SW5kZXgoY20sIGZyb20pKTtcbiAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBmcm9tO1xuICAgICAgaWYgKGRpc3BsYXkudmlld1RvIDwgdG8pXG4gICAgICAgIGRpc3BsYXkudmlldyA9IGRpc3BsYXkudmlldy5jb25jYXQoYnVpbGRWaWV3QXJyYXkoY20sIGRpc3BsYXkudmlld1RvLCB0bykpO1xuICAgICAgZWxzZSBpZiAoZGlzcGxheS52aWV3VG8gPiB0bylcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGZpbmRWaWV3SW5kZXgoY20sIHRvKSk7XG4gICAgfVxuICAgIGRpc3BsYXkudmlld1RvID0gdG87XG4gIH1cblxuICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGxpbmVzIGluIHRoZSB2aWV3IHdob3NlIERPTSByZXByZXNlbnRhdGlvbiBpc1xuICAvLyBvdXQgb2YgZGF0ZSAob3Igbm9uZXhpc3RlbnQpLlxuICBmdW5jdGlvbiBjb3VudERpcnR5VmlldyhjbSkge1xuICAgIHZhciB2aWV3ID0gY20uZGlzcGxheS52aWV3LCBkaXJ0eSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGluZVZpZXcgPSB2aWV3W2ldO1xuICAgICAgaWYgKCFsaW5lVmlldy5oaWRkZW4gJiYgKCFsaW5lVmlldy5ub2RlIHx8IGxpbmVWaWV3LmNoYW5nZXMpKSArK2RpcnR5O1xuICAgIH1cbiAgICByZXR1cm4gZGlydHk7XG4gIH1cblxuICAvLyBFVkVOVCBIQU5ETEVSU1xuXG4gIC8vIEF0dGFjaCB0aGUgbmVjZXNzYXJ5IGV2ZW50IGhhbmRsZXJzIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBlZGl0b3JcbiAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudEhhbmRsZXJzKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5O1xuICAgIG9uKGQuc2Nyb2xsZXIsIFwibW91c2Vkb3duXCIsIG9wZXJhdGlvbihjbSwgb25Nb3VzZURvd24pKTtcbiAgICAvLyBPbGRlciBJRSdzIHdpbGwgbm90IGZpcmUgYSBzZWNvbmQgbW91c2Vkb3duIGZvciBhIGRvdWJsZSBjbGlja1xuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpXG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIG9wZXJhdGlvbihjbSwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpKSByZXR1cm47XG4gICAgICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpO1xuICAgICAgICBpZiAoIXBvcyB8fCBjbGlja0luR3V0dGVyKGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKSByZXR1cm47XG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIHZhciB3b3JkID0gY20uZmluZFdvcmRBdChwb3MpO1xuICAgICAgICBleHRlbmRTZWxlY3Rpb24oY20uZG9jLCB3b3JkLmFuY2hvciwgd29yZC5oZWFkKTtcbiAgICAgIH0pKTtcbiAgICBlbHNlXG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIGZ1bmN0aW9uKGUpIHsgc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGVfcHJldmVudERlZmF1bHQoZSk7IH0pO1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgZmlyZSBjb250ZXh0bWVudSAqYWZ0ZXIqIG9wZW5pbmcgdGhlIG1lbnUsIGF0XG4gICAgLy8gd2hpY2ggcG9pbnQgd2UgY2FuJ3QgbWVzcyB3aXRoIGl0IGFueW1vcmUuIENvbnRleHQgbWVudSBpc1xuICAgIC8vIGhhbmRsZWQgaW4gb25Nb3VzZURvd24gZm9yIHRoZXNlIGJyb3dzZXJzLlxuICAgIGlmICghY2FwdHVyZVJpZ2h0Q2xpY2spIG9uKGQuc2Nyb2xsZXIsIFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24oZSkge29uQ29udGV4dE1lbnUoY20sIGUpO30pO1xuXG4gICAgLy8gVXNlZCB0byBzdXBwcmVzcyBtb3VzZSBldmVudCBoYW5kbGluZyB3aGVuIGEgdG91Y2ggaGFwcGVuc1xuICAgIHZhciB0b3VjaEZpbmlzaGVkLCBwcmV2VG91Y2ggPSB7ZW5kOiAwfTtcbiAgICBmdW5jdGlvbiBmaW5pc2hUb3VjaCgpIHtcbiAgICAgIGlmIChkLmFjdGl2ZVRvdWNoKSB7XG4gICAgICAgIHRvdWNoRmluaXNoZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2QuYWN0aXZlVG91Y2ggPSBudWxsO30sIDEwMDApO1xuICAgICAgICBwcmV2VG91Y2ggPSBkLmFjdGl2ZVRvdWNoO1xuICAgICAgICBwcmV2VG91Y2guZW5kID0gK25ldyBEYXRlO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gaXNNb3VzZUxpa2VUb3VjaEV2ZW50KGUpIHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9IDEpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciB0b3VjaCA9IGUudG91Y2hlc1swXTtcbiAgICAgIHJldHVybiB0b3VjaC5yYWRpdXNYIDw9IDEgJiYgdG91Y2gucmFkaXVzWSA8PSAxO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmYXJBd2F5KHRvdWNoLCBvdGhlcikge1xuICAgICAgaWYgKG90aGVyLmxlZnQgPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgICB2YXIgZHggPSBvdGhlci5sZWZ0IC0gdG91Y2gubGVmdCwgZHkgPSBvdGhlci50b3AgLSB0b3VjaC50b3A7XG4gICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPiAyMCAqIDIwO1xuICAgIH1cbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFzaWduYWxET01FdmVudChjbSwgZSkgJiYgIWlzTW91c2VMaWtlVG91Y2hFdmVudChlKSkge1xuICAgICAgICBjbGVhclRpbWVvdXQodG91Y2hGaW5pc2hlZCk7XG4gICAgICAgIHZhciBub3cgPSArbmV3IERhdGU7XG4gICAgICAgIGQuYWN0aXZlVG91Y2ggPSB7c3RhcnQ6IG5vdywgbW92ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHByZXY6IG5vdyAtIHByZXZUb3VjaC5lbmQgPD0gMzAwID8gcHJldlRvdWNoIDogbnVsbH07XG4gICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICBkLmFjdGl2ZVRvdWNoLmxlZnQgPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgZC5hY3RpdmVUb3VjaC50b3AgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNobW92ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChkLmFjdGl2ZVRvdWNoKSBkLmFjdGl2ZVRvdWNoLm1vdmVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNoZW5kXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciB0b3VjaCA9IGQuYWN0aXZlVG91Y2g7XG4gICAgICBpZiAodG91Y2ggJiYgIWV2ZW50SW5XaWRnZXQoZCwgZSkgJiYgdG91Y2gubGVmdCAhPSBudWxsICYmXG4gICAgICAgICAgIXRvdWNoLm1vdmVkICYmIG5ldyBEYXRlIC0gdG91Y2guc3RhcnQgPCAzMDApIHtcbiAgICAgICAgdmFyIHBvcyA9IGNtLmNvb3Jkc0NoYXIoZC5hY3RpdmVUb3VjaCwgXCJwYWdlXCIpLCByYW5nZTtcbiAgICAgICAgaWYgKCF0b3VjaC5wcmV2IHx8IGZhckF3YXkodG91Y2gsIHRvdWNoLnByZXYpKSAvLyBTaW5nbGUgdGFwXG4gICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UocG9zLCBwb3MpO1xuICAgICAgICBlbHNlIGlmICghdG91Y2gucHJldi5wcmV2IHx8IGZhckF3YXkodG91Y2gsIHRvdWNoLnByZXYucHJldikpIC8vIERvdWJsZSB0YXBcbiAgICAgICAgICByYW5nZSA9IGNtLmZpbmRXb3JkQXQocG9zKTtcbiAgICAgICAgZWxzZSAvLyBUcmlwbGUgdGFwXG4gICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoUG9zKHBvcy5saW5lLCAwKSwgY2xpcFBvcyhjbS5kb2MsIFBvcyhwb3MubGluZSArIDEsIDApKSk7XG4gICAgICAgIGNtLnNldFNlbGVjdGlvbihyYW5nZS5hbmNob3IsIHJhbmdlLmhlYWQpO1xuICAgICAgICBjbS5mb2N1cygpO1xuICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgfVxuICAgICAgZmluaXNoVG91Y2goKTtcbiAgICB9KTtcbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNoY2FuY2VsXCIsIGZpbmlzaFRvdWNoKTtcblxuICAgIC8vIFN5bmMgc2Nyb2xsaW5nIGJldHdlZW4gZmFrZSBzY3JvbGxiYXJzIGFuZCByZWFsIHNjcm9sbGFibGVcbiAgICAvLyBhcmVhLCBlbnN1cmUgdmlld3BvcnQgaXMgdXBkYXRlZCB3aGVuIHNjcm9sbGluZy5cbiAgICBvbihkLnNjcm9sbGVyLCBcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChkLnNjcm9sbGVyLmNsaWVudEhlaWdodCkge1xuICAgICAgICBzZXRTY3JvbGxUb3AoY20sIGQuc2Nyb2xsZXIuc2Nyb2xsVG9wKTtcbiAgICAgICAgc2V0U2Nyb2xsTGVmdChjbSwgZC5zY3JvbGxlci5zY3JvbGxMZWZ0LCB0cnVlKTtcbiAgICAgICAgc2lnbmFsKGNtLCBcInNjcm9sbFwiLCBjbSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gdG8gd2hlZWwgZXZlbnRzIGluIG9yZGVyIHRvIHRyeSBhbmQgdXBkYXRlIHRoZSB2aWV3cG9ydCBvbiB0aW1lLlxuICAgIG9uKGQuc2Nyb2xsZXIsIFwibW91c2V3aGVlbFwiLCBmdW5jdGlvbihlKXtvblNjcm9sbFdoZWVsKGNtLCBlKTt9KTtcbiAgICBvbihkLnNjcm9sbGVyLCBcIkRPTU1vdXNlU2Nyb2xsXCIsIGZ1bmN0aW9uKGUpe29uU2Nyb2xsV2hlZWwoY20sIGUpO30pO1xuXG4gICAgLy8gUHJldmVudCB3cmFwcGVyIGZyb20gZXZlciBzY3JvbGxpbmdcbiAgICBvbihkLndyYXBwZXIsIFwic2Nyb2xsXCIsIGZ1bmN0aW9uKCkgeyBkLndyYXBwZXIuc2Nyb2xsVG9wID0gZC53cmFwcGVyLnNjcm9sbExlZnQgPSAwOyB9KTtcblxuICAgIGQuZHJhZ0Z1bmN0aW9ucyA9IHtcbiAgICAgIGVudGVyOiBmdW5jdGlvbihlKSB7aWYgKCFzaWduYWxET01FdmVudChjbSwgZSkpIGVfc3RvcChlKTt9LFxuICAgICAgb3ZlcjogZnVuY3Rpb24oZSkge2lmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IG9uRHJhZ092ZXIoY20sIGUpOyBlX3N0b3AoZSk7IH19LFxuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGUpe29uRHJhZ1N0YXJ0KGNtLCBlKTt9LFxuICAgICAgZHJvcDogb3BlcmF0aW9uKGNtLCBvbkRyb3ApLFxuICAgICAgbGVhdmU6IGZ1bmN0aW9uKGUpIHtpZiAoIXNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyBjbGVhckRyYWdDdXJzb3IoY20pOyB9fVxuICAgIH07XG5cbiAgICB2YXIgaW5wID0gZC5pbnB1dC5nZXRGaWVsZCgpO1xuICAgIG9uKGlucCwgXCJrZXl1cFwiLCBmdW5jdGlvbihlKSB7IG9uS2V5VXAuY2FsbChjbSwgZSk7IH0pO1xuICAgIG9uKGlucCwgXCJrZXlkb3duXCIsIG9wZXJhdGlvbihjbSwgb25LZXlEb3duKSk7XG4gICAgb24oaW5wLCBcImtleXByZXNzXCIsIG9wZXJhdGlvbihjbSwgb25LZXlQcmVzcykpO1xuICAgIG9uKGlucCwgXCJmb2N1c1wiLCBiaW5kKG9uRm9jdXMsIGNtKSk7XG4gICAgb24oaW5wLCBcImJsdXJcIiwgYmluZChvbkJsdXIsIGNtKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmFnRHJvcENoYW5nZWQoY20sIHZhbHVlLCBvbGQpIHtcbiAgICB2YXIgd2FzT24gPSBvbGQgJiYgb2xkICE9IENvZGVNaXJyb3IuSW5pdDtcbiAgICBpZiAoIXZhbHVlICE9ICF3YXNPbikge1xuICAgICAgdmFyIGZ1bmNzID0gY20uZGlzcGxheS5kcmFnRnVuY3Rpb25zO1xuICAgICAgdmFyIHRvZ2dsZSA9IHZhbHVlID8gb24gOiBvZmY7XG4gICAgICB0b2dnbGUoY20uZGlzcGxheS5zY3JvbGxlciwgXCJkcmFnc3RhcnRcIiwgZnVuY3Muc3RhcnQpO1xuICAgICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ2VudGVyXCIsIGZ1bmNzLmVudGVyKTtcbiAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyYWdvdmVyXCIsIGZ1bmNzLm92ZXIpO1xuICAgICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ2xlYXZlXCIsIGZ1bmNzLmxlYXZlKTtcbiAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyb3BcIiwgZnVuY3MuZHJvcCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsbGVkIHdoZW4gdGhlIHdpbmRvdyByZXNpemVzXG4gIGZ1bmN0aW9uIG9uUmVzaXplKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChkLmxhc3RXcmFwSGVpZ2h0ID09IGQud3JhcHBlci5jbGllbnRIZWlnaHQgJiYgZC5sYXN0V3JhcFdpZHRoID09IGQud3JhcHBlci5jbGllbnRXaWR0aClcbiAgICAgIHJldHVybjtcbiAgICAvLyBNaWdodCBiZSBhIHRleHQgc2NhbGluZyBvcGVyYXRpb24sIGNsZWFyIHNpemUgY2FjaGVzLlxuICAgIGQuY2FjaGVkQ2hhcldpZHRoID0gZC5jYWNoZWRUZXh0SGVpZ2h0ID0gZC5jYWNoZWRQYWRkaW5nSCA9IG51bGw7XG4gICAgZC5zY3JvbGxiYXJzQ2xpcHBlZCA9IGZhbHNlO1xuICAgIGNtLnNldFNpemUoKTtcbiAgfVxuXG4gIC8vIE1PVVNFIEVWRU5UU1xuXG4gIC8vIFJldHVybiB0cnVlIHdoZW4gdGhlIGdpdmVuIG1vdXNlIGV2ZW50IGhhcHBlbmVkIGluIGEgd2lkZ2V0XG4gIGZ1bmN0aW9uIGV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkge1xuICAgIGZvciAodmFyIG4gPSBlX3RhcmdldChlKTsgbiAhPSBkaXNwbGF5LndyYXBwZXI7IG4gPSBuLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmICghbiB8fCAobi5ub2RlVHlwZSA9PSAxICYmIG4uZ2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiKSA9PSBcInRydWVcIikgfHxcbiAgICAgICAgICAobi5wYXJlbnROb2RlID09IGRpc3BsYXkuc2l6ZXIgJiYgbiAhPSBkaXNwbGF5Lm1vdmVyKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gR2l2ZW4gYSBtb3VzZSBldmVudCwgZmluZCB0aGUgY29ycmVzcG9uZGluZyBwb3NpdGlvbi4gSWYgbGliZXJhbFxuICAvLyBpcyBmYWxzZSwgaXQgY2hlY2tzIHdoZXRoZXIgYSBndXR0ZXIgb3Igc2Nyb2xsYmFyIHdhcyBjbGlja2VkLFxuICAvLyBhbmQgcmV0dXJucyBudWxsIGlmIGl0IHdhcy4gZm9yUmVjdCBpcyB1c2VkIGJ5IHJlY3Rhbmd1bGFyXG4gIC8vIHNlbGVjdGlvbnMsIGFuZCB0cmllcyB0byBlc3RpbWF0ZSBhIGNoYXJhY3RlciBwb3NpdGlvbiBldmVuIGZvclxuICAvLyBjb29yZGluYXRlcyBiZXlvbmQgdGhlIHJpZ2h0IG9mIHRoZSB0ZXh0LlxuICBmdW5jdGlvbiBwb3NGcm9tTW91c2UoY20sIGUsIGxpYmVyYWwsIGZvclJlY3QpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgaWYgKCFsaWJlcmFsICYmIGVfdGFyZ2V0KGUpLmdldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIpID09IFwidHJ1ZVwiKSByZXR1cm4gbnVsbDtcblxuICAgIHZhciB4LCB5LCBzcGFjZSA9IGRpc3BsYXkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vIEZhaWxzIHVucHJlZGljdGFibHkgb24gSUVbNjddIHdoZW4gbW91c2UgaXMgZHJhZ2dlZCBhcm91bmQgcXVpY2tseS5cbiAgICB0cnkgeyB4ID0gZS5jbGllbnRYIC0gc3BhY2UubGVmdDsgeSA9IGUuY2xpZW50WSAtIHNwYWNlLnRvcDsgfVxuICAgIGNhdGNoIChlKSB7IHJldHVybiBudWxsOyB9XG4gICAgdmFyIGNvb3JkcyA9IGNvb3Jkc0NoYXIoY20sIHgsIHkpLCBsaW5lO1xuICAgIGlmIChmb3JSZWN0ICYmIGNvb3Jkcy54UmVsID09IDEgJiYgKGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgY29vcmRzLmxpbmUpLnRleHQpLmxlbmd0aCA9PSBjb29yZHMuY2gpIHtcbiAgICAgIHZhciBjb2xEaWZmID0gY291bnRDb2x1bW4obGluZSwgbGluZS5sZW5ndGgsIGNtLm9wdGlvbnMudGFiU2l6ZSkgLSBsaW5lLmxlbmd0aDtcbiAgICAgIGNvb3JkcyA9IFBvcyhjb29yZHMubGluZSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCgoeCAtIHBhZGRpbmdIKGNtLmRpc3BsYXkpLmxlZnQpIC8gY2hhcldpZHRoKGNtLmRpc3BsYXkpKSAtIGNvbERpZmYpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkcztcbiAgfVxuXG4gIC8vIEEgbW91c2UgZG93biBjYW4gYmUgYSBzaW5nbGUgY2xpY2ssIGRvdWJsZSBjbGljaywgdHJpcGxlIGNsaWNrLFxuICAvLyBzdGFydCBvZiBzZWxlY3Rpb24gZHJhZywgc3RhcnQgb2YgdGV4dCBkcmFnLCBuZXcgY3Vyc29yXG4gIC8vIChjdHJsLWNsaWNrKSwgcmVjdGFuZ2xlIGRyYWcgKGFsdC1kcmFnKSwgb3IgeHdpblxuICAvLyBtaWRkbGUtY2xpY2stcGFzdGUuIE9yIGl0IG1pZ2h0IGJlIGEgY2xpY2sgb24gc29tZXRoaW5nIHdlIHNob3VsZFxuICAvLyBub3QgaW50ZXJmZXJlIHdpdGgsIHN1Y2ggYXMgYSBzY3JvbGxiYXIgb3Igd2lkZ2V0LlxuICBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgdmFyIGNtID0gdGhpcywgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBkaXNwbGF5LmFjdGl2ZVRvdWNoICYmIGRpc3BsYXkuaW5wdXQuc3VwcG9ydHNUb3VjaCgpKSByZXR1cm47XG4gICAgZGlzcGxheS5zaGlmdCA9IGUuc2hpZnRLZXk7XG5cbiAgICBpZiAoZXZlbnRJbldpZGdldChkaXNwbGF5LCBlKSkge1xuICAgICAgaWYgKCF3ZWJraXQpIHtcbiAgICAgICAgLy8gQnJpZWZseSB0dXJuIG9mZiBkcmFnZ2FiaWxpdHksIHRvIGFsbG93IHdpZGdldHMgdG8gZG9cbiAgICAgICAgLy8gbm9ybWFsIGRyYWdnaW5nIHRoaW5ncy5cbiAgICAgICAgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe2Rpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTt9LCAxMDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2xpY2tJbkd1dHRlcihjbSwgZSkpIHJldHVybjtcbiAgICB2YXIgc3RhcnQgPSBwb3NGcm9tTW91c2UoY20sIGUpO1xuICAgIHdpbmRvdy5mb2N1cygpO1xuXG4gICAgc3dpdGNoIChlX2J1dHRvbihlKSkge1xuICAgIGNhc2UgMTpcbiAgICAgIC8vICMzMjYxOiBtYWtlIHN1cmUsIHRoYXQgd2UncmUgbm90IHN0YXJ0aW5nIGEgc2Vjb25kIHNlbGVjdGlvblxuICAgICAgaWYgKGNtLnN0YXRlLnNlbGVjdGluZ1RleHQpXG4gICAgICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQoZSk7XG4gICAgICBlbHNlIGlmIChzdGFydClcbiAgICAgICAgbGVmdEJ1dHRvbkRvd24oY20sIGUsIHN0YXJ0KTtcbiAgICAgIGVsc2UgaWYgKGVfdGFyZ2V0KGUpID09IGRpc3BsYXkuc2Nyb2xsZXIpXG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBpZiAod2Via2l0KSBjbS5zdGF0ZS5sYXN0TWlkZGxlRG93biA9ICtuZXcgRGF0ZTtcbiAgICAgIGlmIChzdGFydCkgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtkaXNwbGF5LmlucHV0LmZvY3VzKCk7fSwgMjApO1xuICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIGlmIChjYXB0dXJlUmlnaHRDbGljaykgb25Db250ZXh0TWVudShjbSwgZSk7XG4gICAgICBlbHNlIGRlbGF5Qmx1ckV2ZW50KGNtKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsYXN0Q2xpY2ssIGxhc3REb3VibGVDbGljaztcbiAgZnVuY3Rpb24gbGVmdEJ1dHRvbkRvd24oY20sIGUsIHN0YXJ0KSB7XG4gICAgaWYgKGllKSBzZXRUaW1lb3V0KGJpbmQoZW5zdXJlRm9jdXMsIGNtKSwgMCk7XG4gICAgZWxzZSBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdCgpO1xuXG4gICAgdmFyIG5vdyA9ICtuZXcgRGF0ZSwgdHlwZTtcbiAgICBpZiAobGFzdERvdWJsZUNsaWNrICYmIGxhc3REb3VibGVDbGljay50aW1lID4gbm93IC0gNDAwICYmIGNtcChsYXN0RG91YmxlQ2xpY2sucG9zLCBzdGFydCkgPT0gMCkge1xuICAgICAgdHlwZSA9IFwidHJpcGxlXCI7XG4gICAgfSBlbHNlIGlmIChsYXN0Q2xpY2sgJiYgbGFzdENsaWNrLnRpbWUgPiBub3cgLSA0MDAgJiYgY21wKGxhc3RDbGljay5wb3MsIHN0YXJ0KSA9PSAwKSB7XG4gICAgICB0eXBlID0gXCJkb3VibGVcIjtcbiAgICAgIGxhc3REb3VibGVDbGljayA9IHt0aW1lOiBub3csIHBvczogc3RhcnR9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gXCJzaW5nbGVcIjtcbiAgICAgIGxhc3RDbGljayA9IHt0aW1lOiBub3csIHBvczogc3RhcnR9O1xuICAgIH1cblxuICAgIHZhciBzZWwgPSBjbS5kb2Muc2VsLCBtb2RpZmllciA9IG1hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleSwgY29udGFpbmVkO1xuICAgIGlmIChjbS5vcHRpb25zLmRyYWdEcm9wICYmIGRyYWdBbmREcm9wICYmICFjbS5pc1JlYWRPbmx5KCkgJiZcbiAgICAgICAgdHlwZSA9PSBcInNpbmdsZVwiICYmIChjb250YWluZWQgPSBzZWwuY29udGFpbnMoc3RhcnQpKSA+IC0xICYmXG4gICAgICAgIChjbXAoKGNvbnRhaW5lZCA9IHNlbC5yYW5nZXNbY29udGFpbmVkXSkuZnJvbSgpLCBzdGFydCkgPCAwIHx8IHN0YXJ0LnhSZWwgPiAwKSAmJlxuICAgICAgICAoY21wKGNvbnRhaW5lZC50bygpLCBzdGFydCkgPiAwIHx8IHN0YXJ0LnhSZWwgPCAwKSlcbiAgICAgIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcik7XG4gICAgZWxzZVxuICAgICAgbGVmdEJ1dHRvblNlbGVjdChjbSwgZSwgc3RhcnQsIHR5cGUsIG1vZGlmaWVyKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IGEgdGV4dCBkcmFnLiBXaGVuIGl0IGVuZHMsIHNlZSBpZiBhbnkgZHJhZ2dpbmcgYWN0dWFsbHlcbiAgLy8gaGFwcGVuLCBhbmQgdHJlYXQgYXMgYSBjbGljayBpZiBpdCBkaWRuJ3QuXG4gIGZ1bmN0aW9uIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcikge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgc3RhcnRUaW1lID0gK25ldyBEYXRlO1xuICAgIHZhciBkcmFnRW5kID0gb3BlcmF0aW9uKGNtLCBmdW5jdGlvbihlMikge1xuICAgICAgaWYgKHdlYmtpdCkgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgIGNtLnN0YXRlLmRyYWdnaW5nVGV4dCA9IGZhbHNlO1xuICAgICAgb2ZmKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgZHJhZ0VuZCk7XG4gICAgICBvZmYoZGlzcGxheS5zY3JvbGxlciwgXCJkcm9wXCIsIGRyYWdFbmQpO1xuICAgICAgaWYgKE1hdGguYWJzKGUuY2xpZW50WCAtIGUyLmNsaWVudFgpICsgTWF0aC5hYnMoZS5jbGllbnRZIC0gZTIuY2xpZW50WSkgPCAxMCkge1xuICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUyKTtcbiAgICAgICAgaWYgKCFtb2RpZmllciAmJiArbmV3IERhdGUgLSAyMDAgPCBzdGFydFRpbWUpXG4gICAgICAgICAgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpO1xuICAgICAgICAvLyBXb3JrIGFyb3VuZCB1bmV4cGxhaW5hYmxlIGZvY3VzIHByb2JsZW0gaW4gSUU5ICgjMjEyNykgYW5kIENocm9tZSAoIzMwODEpXG4gICAgICAgIGlmICh3ZWJraXQgfHwgaWUgJiYgaWVfdmVyc2lvbiA9PSA5KVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5mb2N1cygpOyBkaXNwbGF5LmlucHV0LmZvY3VzKCk7fSwgMjApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIExldCB0aGUgZHJhZyBoYW5kbGVyIGhhbmRsZSB0aGlzLlxuICAgIGlmICh3ZWJraXQpIGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICBjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgPSBkcmFnRW5kO1xuICAgIC8vIElFJ3MgYXBwcm9hY2ggdG8gZHJhZ2dhYmxlXG4gICAgaWYgKGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ0Ryb3ApIGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ0Ryb3AoKTtcbiAgICBvbihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIGRyYWdFbmQpO1xuICAgIG9uKGRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJvcFwiLCBkcmFnRW5kKTtcbiAgfVxuXG4gIC8vIE5vcm1hbCBzZWxlY3Rpb24sIGFzIG9wcG9zZWQgdG8gdGV4dCBkcmFnZ2luZy5cbiAgZnVuY3Rpb24gbGVmdEJ1dHRvblNlbGVjdChjbSwgZSwgc3RhcnQsIHR5cGUsIGFkZE5ldykge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG5cbiAgICB2YXIgb3VyUmFuZ2UsIG91ckluZGV4LCBzdGFydFNlbCA9IGRvYy5zZWwsIHJhbmdlcyA9IHN0YXJ0U2VsLnJhbmdlcztcbiAgICBpZiAoYWRkTmV3ICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBvdXJJbmRleCA9IGRvYy5zZWwuY29udGFpbnMoc3RhcnQpO1xuICAgICAgaWYgKG91ckluZGV4ID4gLTEpXG4gICAgICAgIG91clJhbmdlID0gcmFuZ2VzW291ckluZGV4XTtcbiAgICAgIGVsc2VcbiAgICAgICAgb3VyUmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3VyUmFuZ2UgPSBkb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgIG91ckluZGV4ID0gZG9jLnNlbC5wcmltSW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKGNocm9tZU9TID8gZS5zaGlmdEtleSAmJiBlLm1ldGFLZXkgOiBlLmFsdEtleSkge1xuICAgICAgdHlwZSA9IFwicmVjdFwiO1xuICAgICAgaWYgKCFhZGROZXcpIG91clJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0LCBzdGFydCk7XG4gICAgICBzdGFydCA9IHBvc0Zyb21Nb3VzZShjbSwgZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICBvdXJJbmRleCA9IC0xO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImRvdWJsZVwiKSB7XG4gICAgICB2YXIgd29yZCA9IGNtLmZpbmRXb3JkQXQoc3RhcnQpO1xuICAgICAgaWYgKGNtLmRpc3BsYXkuc2hpZnQgfHwgZG9jLmV4dGVuZClcbiAgICAgICAgb3VyUmFuZ2UgPSBleHRlbmRSYW5nZShkb2MsIG91clJhbmdlLCB3b3JkLmFuY2hvciwgd29yZC5oZWFkKTtcbiAgICAgIGVsc2VcbiAgICAgICAgb3VyUmFuZ2UgPSB3b3JkO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcInRyaXBsZVwiKSB7XG4gICAgICB2YXIgbGluZSA9IG5ldyBSYW5nZShQb3Moc3RhcnQubGluZSwgMCksIGNsaXBQb3MoZG9jLCBQb3Moc3RhcnQubGluZSArIDEsIDApKSk7XG4gICAgICBpZiAoY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKVxuICAgICAgICBvdXJSYW5nZSA9IGV4dGVuZFJhbmdlKGRvYywgb3VyUmFuZ2UsIGxpbmUuYW5jaG9yLCBsaW5lLmhlYWQpO1xuICAgICAgZWxzZVxuICAgICAgICBvdXJSYW5nZSA9IGxpbmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91clJhbmdlID0gZXh0ZW5kUmFuZ2UoZG9jLCBvdXJSYW5nZSwgc3RhcnQpO1xuICAgIH1cblxuICAgIGlmICghYWRkTmV3KSB7XG4gICAgICBvdXJJbmRleCA9IDA7XG4gICAgICBzZXRTZWxlY3Rpb24oZG9jLCBuZXcgU2VsZWN0aW9uKFtvdXJSYW5nZV0sIDApLCBzZWxfbW91c2UpO1xuICAgICAgc3RhcnRTZWwgPSBkb2Muc2VsO1xuICAgIH0gZWxzZSBpZiAob3VySW5kZXggPT0gLTEpIHtcbiAgICAgIG91ckluZGV4ID0gcmFuZ2VzLmxlbmd0aDtcbiAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMuY29uY2F0KFtvdXJSYW5nZV0pLCBvdXJJbmRleCksXG4gICAgICAgICAgICAgICAgICAge3Njcm9sbDogZmFsc2UsIG9yaWdpbjogXCIqbW91c2VcIn0pO1xuICAgIH0gZWxzZSBpZiAocmFuZ2VzLmxlbmd0aCA+IDEgJiYgcmFuZ2VzW291ckluZGV4XS5lbXB0eSgpICYmIHR5cGUgPT0gXCJzaW5nbGVcIiAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcy5zbGljZSgwLCBvdXJJbmRleCkuY29uY2F0KHJhbmdlcy5zbGljZShvdXJJbmRleCArIDEpKSwgMCksXG4gICAgICAgICAgICAgICAgICAge3Njcm9sbDogZmFsc2UsIG9yaWdpbjogXCIqbW91c2VcIn0pO1xuICAgICAgc3RhcnRTZWwgPSBkb2Muc2VsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlT25lU2VsZWN0aW9uKGRvYywgb3VySW5kZXgsIG91clJhbmdlLCBzZWxfbW91c2UpO1xuICAgIH1cblxuICAgIHZhciBsYXN0UG9zID0gc3RhcnQ7XG4gICAgZnVuY3Rpb24gZXh0ZW5kVG8ocG9zKSB7XG4gICAgICBpZiAoY21wKGxhc3RQb3MsIHBvcykgPT0gMCkgcmV0dXJuO1xuICAgICAgbGFzdFBvcyA9IHBvcztcblxuICAgICAgaWYgKHR5cGUgPT0gXCJyZWN0XCIpIHtcbiAgICAgICAgdmFyIHJhbmdlcyA9IFtdLCB0YWJTaXplID0gY20ub3B0aW9ucy50YWJTaXplO1xuICAgICAgICB2YXIgc3RhcnRDb2wgPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgc3RhcnQubGluZSkudGV4dCwgc3RhcnQuY2gsIHRhYlNpemUpO1xuICAgICAgICB2YXIgcG9zQ29sID0gY291bnRDb2x1bW4oZ2V0TGluZShkb2MsIHBvcy5saW5lKS50ZXh0LCBwb3MuY2gsIHRhYlNpemUpO1xuICAgICAgICB2YXIgbGVmdCA9IE1hdGgubWluKHN0YXJ0Q29sLCBwb3NDb2wpLCByaWdodCA9IE1hdGgubWF4KHN0YXJ0Q29sLCBwb3NDb2wpO1xuICAgICAgICBmb3IgKHZhciBsaW5lID0gTWF0aC5taW4oc3RhcnQubGluZSwgcG9zLmxpbmUpLCBlbmQgPSBNYXRoLm1pbihjbS5sYXN0TGluZSgpLCBNYXRoLm1heChzdGFydC5saW5lLCBwb3MubGluZSkpO1xuICAgICAgICAgICAgIGxpbmUgPD0gZW5kOyBsaW5lKyspIHtcbiAgICAgICAgICB2YXIgdGV4dCA9IGdldExpbmUoZG9jLCBsaW5lKS50ZXh0LCBsZWZ0UG9zID0gZmluZENvbHVtbih0ZXh0LCBsZWZ0LCB0YWJTaXplKTtcbiAgICAgICAgICBpZiAobGVmdCA9PSByaWdodClcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKG5ldyBSYW5nZShQb3MobGluZSwgbGVmdFBvcyksIFBvcyhsaW5lLCBsZWZ0UG9zKSkpO1xuICAgICAgICAgIGVsc2UgaWYgKHRleHQubGVuZ3RoID4gbGVmdFBvcylcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKG5ldyBSYW5nZShQb3MobGluZSwgbGVmdFBvcyksIFBvcyhsaW5lLCBmaW5kQ29sdW1uKHRleHQsIHJpZ2h0LCB0YWJTaXplKSkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpIHJhbmdlcy5wdXNoKG5ldyBSYW5nZShzdGFydCwgc3RhcnQpKTtcbiAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHN0YXJ0U2VsLnJhbmdlcy5zbGljZSgwLCBvdXJJbmRleCkuY29uY2F0KHJhbmdlcyksIG91ckluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgIHtvcmlnaW46IFwiKm1vdXNlXCIsIHNjcm9sbDogZmFsc2V9KTtcbiAgICAgICAgY20uc2Nyb2xsSW50b1ZpZXcocG9zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvbGRSYW5nZSA9IG91clJhbmdlO1xuICAgICAgICB2YXIgYW5jaG9yID0gb2xkUmFuZ2UuYW5jaG9yLCBoZWFkID0gcG9zO1xuICAgICAgICBpZiAodHlwZSAhPSBcInNpbmdsZVwiKSB7XG4gICAgICAgICAgaWYgKHR5cGUgPT0gXCJkb3VibGVcIilcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGNtLmZpbmRXb3JkQXQocG9zKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UoUG9zKHBvcy5saW5lLCAwKSwgY2xpcFBvcyhkb2MsIFBvcyhwb3MubGluZSArIDEsIDApKSk7XG4gICAgICAgICAgaWYgKGNtcChyYW5nZS5hbmNob3IsIGFuY2hvcikgPiAwKSB7XG4gICAgICAgICAgICBoZWFkID0gcmFuZ2UuaGVhZDtcbiAgICAgICAgICAgIGFuY2hvciA9IG1pblBvcyhvbGRSYW5nZS5mcm9tKCksIHJhbmdlLmFuY2hvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlYWQgPSByYW5nZS5hbmNob3I7XG4gICAgICAgICAgICBhbmNob3IgPSBtYXhQb3Mob2xkUmFuZ2UudG8oKSwgcmFuZ2UuaGVhZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByYW5nZXMgPSBzdGFydFNlbC5yYW5nZXMuc2xpY2UoMCk7XG4gICAgICAgIHJhbmdlc1tvdXJJbmRleF0gPSBuZXcgUmFuZ2UoY2xpcFBvcyhkb2MsIGFuY2hvciksIGhlYWQpO1xuICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCBvdXJJbmRleCksIHNlbF9tb3VzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVkaXRvclNpemUgPSBkaXNwbGF5LndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgLy8gVXNlZCB0byBlbnN1cmUgdGltZW91dCByZS10cmllcyBkb24ndCBmaXJlIHdoZW4gYW5vdGhlciBleHRlbmRcbiAgICAvLyBoYXBwZW5lZCBpbiB0aGUgbWVhbnRpbWUgKGNsZWFyVGltZW91dCBpc24ndCByZWxpYWJsZSAtLSBhdFxuICAgIC8vIGxlYXN0IG9uIENocm9tZSwgdGhlIHRpbWVvdXRzIHN0aWxsIGhhcHBlbiBldmVuIHdoZW4gY2xlYXJlZCxcbiAgICAvLyBpZiB0aGUgY2xlYXIgaGFwcGVucyBhZnRlciB0aGVpciBzY2hlZHVsZWQgZmlyaW5nIHRpbWUpLlxuICAgIHZhciBjb3VudGVyID0gMDtcblxuICAgIGZ1bmN0aW9uIGV4dGVuZChlKSB7XG4gICAgICB2YXIgY3VyQ291bnQgPSArK2NvdW50ZXI7XG4gICAgICB2YXIgY3VyID0gcG9zRnJvbU1vdXNlKGNtLCBlLCB0cnVlLCB0eXBlID09IFwicmVjdFwiKTtcbiAgICAgIGlmICghY3VyKSByZXR1cm47XG4gICAgICBpZiAoY21wKGN1ciwgbGFzdFBvcykgIT0gMCkge1xuICAgICAgICBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdCgpO1xuICAgICAgICBleHRlbmRUbyhjdXIpO1xuICAgICAgICB2YXIgdmlzaWJsZSA9IHZpc2libGVMaW5lcyhkaXNwbGF5LCBkb2MpO1xuICAgICAgICBpZiAoY3VyLmxpbmUgPj0gdmlzaWJsZS50byB8fCBjdXIubGluZSA8IHZpc2libGUuZnJvbSlcbiAgICAgICAgICBzZXRUaW1lb3V0KG9wZXJhdGlvbihjbSwgZnVuY3Rpb24oKXtpZiAoY291bnRlciA9PSBjdXJDb3VudCkgZXh0ZW5kKGUpO30pLCAxNTApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG91dHNpZGUgPSBlLmNsaWVudFkgPCBlZGl0b3JTaXplLnRvcCA/IC0yMCA6IGUuY2xpZW50WSA+IGVkaXRvclNpemUuYm90dG9tID8gMjAgOiAwO1xuICAgICAgICBpZiAob3V0c2lkZSkgc2V0VGltZW91dChvcGVyYXRpb24oY20sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChjb3VudGVyICE9IGN1ckNvdW50KSByZXR1cm47XG4gICAgICAgICAgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgKz0gb3V0c2lkZTtcbiAgICAgICAgICBleHRlbmQoZSk7XG4gICAgICAgIH0pLCA1MCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9uZShlKSB7XG4gICAgICBjbS5zdGF0ZS5zZWxlY3RpbmdUZXh0ID0gZmFsc2U7XG4gICAgICBjb3VudGVyID0gSW5maW5pdHk7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgICAgb2ZmKGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBtb3ZlKTtcbiAgICAgIG9mZihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIHVwKTtcbiAgICAgIGRvYy5oaXN0b3J5Lmxhc3RTZWxPcmlnaW4gPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBtb3ZlID0gb3BlcmF0aW9uKGNtLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoIWVfYnV0dG9uKGUpKSBkb25lKGUpO1xuICAgICAgZWxzZSBleHRlbmQoZSk7XG4gICAgfSk7XG4gICAgdmFyIHVwID0gb3BlcmF0aW9uKGNtLCBkb25lKTtcbiAgICBjbS5zdGF0ZS5zZWxlY3RpbmdUZXh0ID0gdXA7XG4gICAgb24oZG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIsIG1vdmUpO1xuICAgIG9uKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgdXApO1xuICB9XG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGV2ZW50IGhhcHBlbmVkIGluIHRoZSBndXR0ZXIsIGFuZCBmaXJlcyB0aGVcbiAgLy8gaGFuZGxlcnMgZm9yIHRoZSBjb3JyZXNwb25kaW5nIGV2ZW50LlxuICBmdW5jdGlvbiBndXR0ZXJFdmVudChjbSwgZSwgdHlwZSwgcHJldmVudCkge1xuICAgIHRyeSB7IHZhciBtWCA9IGUuY2xpZW50WCwgbVkgPSBlLmNsaWVudFk7IH1cbiAgICBjYXRjaChlKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmIChtWCA+PSBNYXRoLmZsb29yKGNtLmRpc3BsYXkuZ3V0dGVycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAocHJldmVudCkgZV9wcmV2ZW50RGVmYXVsdChlKTtcblxuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICB2YXIgbGluZUJveCA9IGRpc3BsYXkubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGlmIChtWSA+IGxpbmVCb3guYm90dG9tIHx8ICFoYXNIYW5kbGVyKGNtLCB0eXBlKSkgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKTtcbiAgICBtWSAtPSBsaW5lQm94LnRvcCAtIGRpc3BsYXkudmlld09mZnNldDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY20ub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgZyA9IGRpc3BsYXkuZ3V0dGVycy5jaGlsZE5vZGVzW2ldO1xuICAgICAgaWYgKGcgJiYgZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCA+PSBtWCkge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVBdEhlaWdodChjbS5kb2MsIG1ZKTtcbiAgICAgICAgdmFyIGd1dHRlciA9IGNtLm9wdGlvbnMuZ3V0dGVyc1tpXTtcbiAgICAgICAgc2lnbmFsKGNtLCB0eXBlLCBjbSwgbGluZSwgZ3V0dGVyLCBlKTtcbiAgICAgICAgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGlja0luR3V0dGVyKGNtLCBlKSB7XG4gICAgcmV0dXJuIGd1dHRlckV2ZW50KGNtLCBlLCBcImd1dHRlckNsaWNrXCIsIHRydWUpO1xuICB9XG5cbiAgLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIHN0cmFuZ2UgSUUgYmVoYXZpb3Igd2hlcmUgaXQnbGwgc29tZXRpbWVzXG4gIC8vIHJlLWZpcmUgYSBzZXJpZXMgb2YgZHJhZy1yZWxhdGVkIGV2ZW50cyByaWdodCBhZnRlciB0aGUgZHJvcCAoIzE1NTEpXG4gIHZhciBsYXN0RHJvcCA9IDA7XG5cbiAgZnVuY3Rpb24gb25Ecm9wKGUpIHtcbiAgICB2YXIgY20gPSB0aGlzO1xuICAgIGNsZWFyRHJhZ0N1cnNvcihjbSk7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgaWYgKGllKSBsYXN0RHJvcCA9ICtuZXcgRGF0ZTtcbiAgICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlLCB0cnVlKSwgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBpZiAoIXBvcyB8fCBjbS5pc1JlYWRPbmx5KCkpIHJldHVybjtcbiAgICAvLyBNaWdodCBiZSBhIGZpbGUgZHJvcCwgaW4gd2hpY2ggY2FzZSB3ZSBzaW1wbHkgZXh0cmFjdCB0aGUgdGV4dFxuICAgIC8vIGFuZCBpbnNlcnQgaXQuXG4gICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZSkge1xuICAgICAgdmFyIG4gPSBmaWxlcy5sZW5ndGgsIHRleHQgPSBBcnJheShuKSwgcmVhZCA9IDA7XG4gICAgICB2YXIgbG9hZEZpbGUgPSBmdW5jdGlvbihmaWxlLCBpKSB7XG4gICAgICAgIGlmIChjbS5vcHRpb25zLmFsbG93RHJvcEZpbGVUeXBlcyAmJlxuICAgICAgICAgICAgaW5kZXhPZihjbS5vcHRpb25zLmFsbG93RHJvcEZpbGVUeXBlcywgZmlsZS50eXBlKSA9PSAtMSlcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyO1xuICAgICAgICByZWFkZXIub25sb2FkID0gb3BlcmF0aW9uKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgY29udGVudCA9IHJlYWRlci5yZXN1bHQ7XG4gICAgICAgICAgaWYgKC9bXFx4MDAtXFx4MDhcXHgwZS1cXHgxZl17Mn0vLnRlc3QoY29udGVudCkpIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgIHRleHRbaV0gPSBjb250ZW50O1xuICAgICAgICAgIGlmICgrK3JlYWQgPT0gbikge1xuICAgICAgICAgICAgcG9zID0gY2xpcFBvcyhjbS5kb2MsIHBvcyk7XG4gICAgICAgICAgICB2YXIgY2hhbmdlID0ge2Zyb206IHBvcywgdG86IHBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY20uZG9jLnNwbGl0TGluZXModGV4dC5qb2luKGNtLmRvYy5saW5lU2VwYXJhdG9yKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBcInBhc3RlXCJ9O1xuICAgICAgICAgICAgbWFrZUNoYW5nZShjbS5kb2MsIGNoYW5nZSk7XG4gICAgICAgICAgICBzZXRTZWxlY3Rpb25SZXBsYWNlSGlzdG9yeShjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihwb3MsIGNoYW5nZUVuZChjaGFuZ2UpKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgICB9O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIGxvYWRGaWxlKGZpbGVzW2ldLCBpKTtcbiAgICB9IGVsc2UgeyAvLyBOb3JtYWwgZHJvcFxuICAgICAgLy8gRG9uJ3QgZG8gYSByZXBsYWNlIGlmIHRoZSBkcm9wIGhhcHBlbmVkIGluc2lkZSBvZiB0aGUgc2VsZWN0ZWQgdGV4dC5cbiAgICAgIGlmIChjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgJiYgY20uZG9jLnNlbC5jb250YWlucyhwb3MpID4gLTEpIHtcbiAgICAgICAgY20uc3RhdGUuZHJhZ2dpbmdUZXh0KGUpO1xuICAgICAgICAvLyBFbnN1cmUgdGhlIGVkaXRvciBpcyByZS1mb2N1c2VkXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7Y20uZGlzcGxheS5pbnB1dC5mb2N1cygpO30sIDIwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHRleHQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiVGV4dFwiKTtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICBpZiAoY20uc3RhdGUuZHJhZ2dpbmdUZXh0ICYmICEobWFjID8gZS5hbHRLZXkgOiBlLmN0cmxLZXkpKVxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gY20ubGlzdFNlbGVjdGlvbnMoKTtcbiAgICAgICAgICBzZXRTZWxlY3Rpb25Ob1VuZG8oY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24ocG9zLCBwb3MpKTtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWQpIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICByZXBsYWNlUmFuZ2UoY20uZG9jLCBcIlwiLCBzZWxlY3RlZFtpXS5hbmNob3IsIHNlbGVjdGVkW2ldLmhlYWQsIFwiZHJhZ1wiKTtcbiAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKHRleHQsIFwiYXJvdW5kXCIsIFwicGFzdGVcIik7XG4gICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaChlKXt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnU3RhcnQoY20sIGUpIHtcbiAgICBpZiAoaWUgJiYgKCFjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgfHwgK25ldyBEYXRlIC0gbGFzdERyb3AgPCAxMDApKSB7IGVfc3RvcChlKTsgcmV0dXJuOyB9XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKSByZXR1cm47XG5cbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLCBjbS5nZXRTZWxlY3Rpb24oKSk7XG4gICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwiY29weU1vdmVcIlxuXG4gICAgLy8gVXNlIGR1bW15IGltYWdlIGluc3RlYWQgb2YgZGVmYXVsdCBicm93c2VycyBpbWFnZS5cbiAgICAvLyBSZWNlbnQgU2FmYXJpICh+Ni4wLjIpIGhhdmUgYSB0ZW5kZW5jeSB0byBzZWdmYXVsdCB3aGVuIHRoaXMgaGFwcGVucywgc28gd2UgZG9uJ3QgZG8gaXQgdGhlcmUuXG4gICAgaWYgKGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSAmJiAhc2FmYXJpKSB7XG4gICAgICB2YXIgaW1nID0gZWx0KFwiaW1nXCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwOyB0b3A6IDA7XCIpO1xuICAgICAgaW1nLnNyYyA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIjtcbiAgICAgIGlmIChwcmVzdG8pIHtcbiAgICAgICAgaW1nLndpZHRoID0gaW1nLmhlaWdodCA9IDE7XG4gICAgICAgIGNtLmRpc3BsYXkud3JhcHBlci5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAvLyBGb3JjZSBhIHJlbGF5b3V0LCBvciBPcGVyYSB3b24ndCB1c2Ugb3VyIGltYWdlIGZvciBzb21lIG9ic2N1cmUgcmVhc29uXG4gICAgICAgIGltZy5fdG9wID0gaW1nLm9mZnNldFRvcDtcbiAgICAgIH1cbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgaWYgKHByZXN0bykgaW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdPdmVyKGNtLCBlKSB7XG4gICAgdmFyIHBvcyA9IHBvc0Zyb21Nb3VzZShjbSwgZSk7XG4gICAgaWYgKCFwb3MpIHJldHVybjtcbiAgICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCBwb3MsIGZyYWcpO1xuICAgIGlmICghY20uZGlzcGxheS5kcmFnQ3Vyc29yKSB7XG4gICAgICBjbS5kaXNwbGF5LmRyYWdDdXJzb3IgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWN1cnNvcnMgQ29kZU1pcnJvci1kcmFnY3Vyc29yc1wiKTtcbiAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShjbS5kaXNwbGF5LmRyYWdDdXJzb3IsIGNtLmRpc3BsYXkuY3Vyc29yRGl2KTtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5kcmFnQ3Vyc29yLCBmcmFnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyRHJhZ0N1cnNvcihjbSkge1xuICAgIGlmIChjbS5kaXNwbGF5LmRyYWdDdXJzb3IpIHtcbiAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKGNtLmRpc3BsYXkuZHJhZ0N1cnNvcik7XG4gICAgICBjbS5kaXNwbGF5LmRyYWdDdXJzb3IgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNDUk9MTCBFVkVOVFNcblxuICAvLyBTeW5jIHRoZSBzY3JvbGxhYmxlIGFyZWEgYW5kIHNjcm9sbGJhcnMsIGVuc3VyZSB0aGUgdmlld3BvcnRcbiAgLy8gY292ZXJzIHRoZSB2aXNpYmxlIGFyZWEuXG4gIGZ1bmN0aW9uIHNldFNjcm9sbFRvcChjbSwgdmFsKSB7XG4gICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxUb3AgLSB2YWwpIDwgMikgcmV0dXJuO1xuICAgIGNtLmRvYy5zY3JvbGxUb3AgPSB2YWw7XG4gICAgaWYgKCFnZWNrbykgdXBkYXRlRGlzcGxheVNpbXBsZShjbSwge3RvcDogdmFsfSk7XG4gICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wICE9IHZhbCkgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgPSB2YWw7XG4gICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcCh2YWwpO1xuICAgIGlmIChnZWNrbykgdXBkYXRlRGlzcGxheVNpbXBsZShjbSk7XG4gICAgc3RhcnRXb3JrZXIoY20sIDEwMCk7XG4gIH1cbiAgLy8gU3luYyBzY3JvbGxlciBhbmQgc2Nyb2xsYmFyLCBlbnN1cmUgdGhlIGd1dHRlciBlbGVtZW50cyBhcmVcbiAgLy8gYWxpZ25lZC5cbiAgZnVuY3Rpb24gc2V0U2Nyb2xsTGVmdChjbSwgdmFsLCBpc1Njcm9sbGVyKSB7XG4gICAgaWYgKGlzU2Nyb2xsZXIgPyB2YWwgPT0gY20uZG9jLnNjcm9sbExlZnQgOiBNYXRoLmFicyhjbS5kb2Muc2Nyb2xsTGVmdCAtIHZhbCkgPCAyKSByZXR1cm47XG4gICAgdmFsID0gTWF0aC5taW4odmFsLCBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFdpZHRoIC0gY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCk7XG4gICAgY20uZG9jLnNjcm9sbExlZnQgPSB2YWw7XG4gICAgYWxpZ25Ib3Jpem9udGFsbHkoY20pO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgIT0gdmFsKSBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgPSB2YWw7XG4gICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbExlZnQodmFsKTtcbiAgfVxuXG4gIC8vIFNpbmNlIHRoZSBkZWx0YSB2YWx1ZXMgcmVwb3J0ZWQgb24gbW91c2Ugd2hlZWwgZXZlbnRzIGFyZVxuICAvLyB1bnN0YW5kYXJkaXplZCBiZXR3ZWVuIGJyb3dzZXJzIGFuZCBldmVuIGJyb3dzZXIgdmVyc2lvbnMsIGFuZFxuICAvLyBnZW5lcmFsbHkgaG9ycmlibHkgdW5wcmVkaWN0YWJsZSwgdGhpcyBjb2RlIHN0YXJ0cyBieSBtZWFzdXJpbmdcbiAgLy8gdGhlIHNjcm9sbCBlZmZlY3QgdGhhdCB0aGUgZmlyc3QgZmV3IG1vdXNlIHdoZWVsIGV2ZW50cyBoYXZlLFxuICAvLyBhbmQsIGZyb20gdGhhdCwgZGV0ZWN0cyB0aGUgd2F5IGl0IGNhbiBjb252ZXJ0IGRlbHRhcyB0byBwaXhlbFxuICAvLyBvZmZzZXRzIGFmdGVyd2FyZHMuXG4gIC8vXG4gIC8vIFRoZSByZWFzb24gd2Ugd2FudCB0byBrbm93IHRoZSBhbW91bnQgYSB3aGVlbCBldmVudCB3aWxsIHNjcm9sbFxuICAvLyBpcyB0aGF0IGl0IGdpdmVzIHVzIGEgY2hhbmNlIHRvIHVwZGF0ZSB0aGUgZGlzcGxheSBiZWZvcmUgdGhlXG4gIC8vIGFjdHVhbCBzY3JvbGxpbmcgaGFwcGVucywgcmVkdWNpbmcgZmxpY2tlcmluZy5cblxuICB2YXIgd2hlZWxTYW1wbGVzID0gMCwgd2hlZWxQaXhlbHNQZXJVbml0ID0gbnVsbDtcbiAgLy8gRmlsbCBpbiBhIGJyb3dzZXItZGV0ZWN0ZWQgc3RhcnRpbmcgdmFsdWUgb24gYnJvd3NlcnMgd2hlcmUgd2VcbiAgLy8ga25vdyBvbmUuIFRoZXNlIGRvbid0IGhhdmUgdG8gYmUgYWNjdXJhdGUgLS0gdGhlIHJlc3VsdCBvZiB0aGVtXG4gIC8vIGJlaW5nIHdyb25nIHdvdWxkIGp1c3QgYmUgYSBzbGlnaHQgZmxpY2tlciBvbiB0aGUgZmlyc3Qgd2hlZWxcbiAgLy8gc2Nyb2xsIChpZiBpdCBpcyBsYXJnZSBlbm91Z2gpLlxuICBpZiAoaWUpIHdoZWVsUGl4ZWxzUGVyVW5pdCA9IC0uNTM7XG4gIGVsc2UgaWYgKGdlY2tvKSB3aGVlbFBpeGVsc1BlclVuaXQgPSAxNTtcbiAgZWxzZSBpZiAoY2hyb21lKSB3aGVlbFBpeGVsc1BlclVuaXQgPSAtLjc7XG4gIGVsc2UgaWYgKHNhZmFyaSkgd2hlZWxQaXhlbHNQZXJVbml0ID0gLTEvMztcblxuICB2YXIgd2hlZWxFdmVudERlbHRhID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBkeCA9IGUud2hlZWxEZWx0YVgsIGR5ID0gZS53aGVlbERlbHRhWTtcbiAgICBpZiAoZHggPT0gbnVsbCAmJiBlLmRldGFpbCAmJiBlLmF4aXMgPT0gZS5IT1JJWk9OVEFMX0FYSVMpIGR4ID0gZS5kZXRhaWw7XG4gICAgaWYgKGR5ID09IG51bGwgJiYgZS5kZXRhaWwgJiYgZS5heGlzID09IGUuVkVSVElDQUxfQVhJUykgZHkgPSBlLmRldGFpbDtcbiAgICBlbHNlIGlmIChkeSA9PSBudWxsKSBkeSA9IGUud2hlZWxEZWx0YTtcbiAgICByZXR1cm4ge3g6IGR4LCB5OiBkeX07XG4gIH07XG4gIENvZGVNaXJyb3Iud2hlZWxFdmVudFBpeGVscyA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZGVsdGEgPSB3aGVlbEV2ZW50RGVsdGEoZSk7XG4gICAgZGVsdGEueCAqPSB3aGVlbFBpeGVsc1BlclVuaXQ7XG4gICAgZGVsdGEueSAqPSB3aGVlbFBpeGVsc1BlclVuaXQ7XG4gICAgcmV0dXJuIGRlbHRhO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG9uU2Nyb2xsV2hlZWwoY20sIGUpIHtcbiAgICB2YXIgZGVsdGEgPSB3aGVlbEV2ZW50RGVsdGEoZSksIGR4ID0gZGVsdGEueCwgZHkgPSBkZWx0YS55O1xuXG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzY3JvbGwgPSBkaXNwbGF5LnNjcm9sbGVyO1xuICAgIC8vIFF1aXQgaWYgdGhlcmUncyBub3RoaW5nIHRvIHNjcm9sbCBoZXJlXG4gICAgdmFyIGNhblNjcm9sbFggPSBzY3JvbGwuc2Nyb2xsV2lkdGggPiBzY3JvbGwuY2xpZW50V2lkdGg7XG4gICAgdmFyIGNhblNjcm9sbFkgPSBzY3JvbGwuc2Nyb2xsSGVpZ2h0ID4gc2Nyb2xsLmNsaWVudEhlaWdodDtcbiAgICBpZiAoIShkeCAmJiBjYW5TY3JvbGxYIHx8IGR5ICYmIGNhblNjcm9sbFkpKSByZXR1cm47XG5cbiAgICAvLyBXZWJraXQgYnJvd3NlcnMgb24gT1MgWCBhYm9ydCBtb21lbnR1bSBzY3JvbGxzIHdoZW4gdGhlIHRhcmdldFxuICAgIC8vIG9mIHRoZSBzY3JvbGwgZXZlbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBzY3JvbGxhYmxlIGVsZW1lbnQuXG4gICAgLy8gVGhpcyBoYWNrIChzZWUgcmVsYXRlZCBjb2RlIGluIHBhdGNoRGlzcGxheSkgbWFrZXMgc3VyZSB0aGVcbiAgICAvLyBlbGVtZW50IGlzIGtlcHQgYXJvdW5kLlxuICAgIGlmIChkeSAmJiBtYWMgJiYgd2Via2l0KSB7XG4gICAgICBvdXRlcjogZm9yICh2YXIgY3VyID0gZS50YXJnZXQsIHZpZXcgPSBkaXNwbGF5LnZpZXc7IGN1ciAhPSBzY3JvbGw7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh2aWV3W2ldLm5vZGUgPT0gY3VyKSB7XG4gICAgICAgICAgICBjbS5kaXNwbGF5LmN1cnJlbnRXaGVlbFRhcmdldCA9IGN1cjtcbiAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9uIHNvbWUgYnJvd3NlcnMsIGhvcml6b250YWwgc2Nyb2xsaW5nIHdpbGwgY2F1c2UgcmVkcmF3cyB0b1xuICAgIC8vIGhhcHBlbiBiZWZvcmUgdGhlIGd1dHRlciBoYXMgYmVlbiByZWFsaWduZWQsIGNhdXNpbmcgaXQgdG9cbiAgICAvLyB3cmlnZ2xlIGFyb3VuZCBpbiBhIG1vc3QgdW5zZWVtbHkgd2F5LiBXaGVuIHdlIGhhdmUgYW5cbiAgICAvLyBlc3RpbWF0ZWQgcGl4ZWxzL2RlbHRhIHZhbHVlLCB3ZSBqdXN0IGhhbmRsZSBob3Jpem9udGFsXG4gICAgLy8gc2Nyb2xsaW5nIGVudGlyZWx5IGhlcmUuIEl0J2xsIGJlIHNsaWdodGx5IG9mZiBmcm9tIG5hdGl2ZSwgYnV0XG4gICAgLy8gYmV0dGVyIHRoYW4gZ2xpdGNoaW5nIG91dC5cbiAgICBpZiAoZHggJiYgIWdlY2tvICYmICFwcmVzdG8gJiYgd2hlZWxQaXhlbHNQZXJVbml0ICE9IG51bGwpIHtcbiAgICAgIGlmIChkeSAmJiBjYW5TY3JvbGxZKVxuICAgICAgICBzZXRTY3JvbGxUb3AoY20sIE1hdGgubWF4KDAsIE1hdGgubWluKHNjcm9sbC5zY3JvbGxUb3AgKyBkeSAqIHdoZWVsUGl4ZWxzUGVyVW5pdCwgc2Nyb2xsLnNjcm9sbEhlaWdodCAtIHNjcm9sbC5jbGllbnRIZWlnaHQpKSk7XG4gICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGwuc2Nyb2xsTGVmdCArIGR4ICogd2hlZWxQaXhlbHNQZXJVbml0LCBzY3JvbGwuc2Nyb2xsV2lkdGggLSBzY3JvbGwuY2xpZW50V2lkdGgpKSk7XG4gICAgICAvLyBPbmx5IHByZXZlbnQgZGVmYXVsdCBzY3JvbGxpbmcgaWYgdmVydGljYWwgc2Nyb2xsaW5nIGlzXG4gICAgICAvLyBhY3R1YWxseSBwb3NzaWJsZS4gT3RoZXJ3aXNlLCBpdCBjYXVzZXMgdmVydGljYWwgc2Nyb2xsXG4gICAgICAvLyBqaXR0ZXIgb24gT1NYIHRyYWNrcGFkcyB3aGVuIGRlbHRhWCBpcyBzbWFsbCBhbmQgZGVsdGFZXG4gICAgICAvLyBpcyBsYXJnZSAoaXNzdWUgIzM1NzkpXG4gICAgICBpZiAoIWR5IHx8IChkeSAmJiBjYW5TY3JvbGxZKSlcbiAgICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBudWxsOyAvLyBBYm9ydCBtZWFzdXJlbWVudCwgaWYgaW4gcHJvZ3Jlc3NcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAnUHJvamVjdCcgdGhlIHZpc2libGUgdmlld3BvcnQgdG8gY292ZXIgdGhlIGFyZWEgdGhhdCBpcyBiZWluZ1xuICAgIC8vIHNjcm9sbGVkIGludG8gdmlldyAoaWYgd2Uga25vdyBlbm91Z2ggdG8gZXN0aW1hdGUgaXQpLlxuICAgIGlmIChkeSAmJiB3aGVlbFBpeGVsc1BlclVuaXQgIT0gbnVsbCkge1xuICAgICAgdmFyIHBpeGVscyA9IGR5ICogd2hlZWxQaXhlbHNQZXJVbml0O1xuICAgICAgdmFyIHRvcCA9IGNtLmRvYy5zY3JvbGxUb3AsIGJvdCA9IHRvcCArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQ7XG4gICAgICBpZiAocGl4ZWxzIDwgMCkgdG9wID0gTWF0aC5tYXgoMCwgdG9wICsgcGl4ZWxzIC0gNTApO1xuICAgICAgZWxzZSBib3QgPSBNYXRoLm1pbihjbS5kb2MuaGVpZ2h0LCBib3QgKyBwaXhlbHMgKyA1MCk7XG4gICAgICB1cGRhdGVEaXNwbGF5U2ltcGxlKGNtLCB7dG9wOiB0b3AsIGJvdHRvbTogYm90fSk7XG4gICAgfVxuXG4gICAgaWYgKHdoZWVsU2FtcGxlcyA8IDIwKSB7XG4gICAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCA9PSBudWxsKSB7XG4gICAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBzY3JvbGwuc2Nyb2xsTGVmdDsgZGlzcGxheS53aGVlbFN0YXJ0WSA9IHNjcm9sbC5zY3JvbGxUb3A7XG4gICAgICAgIGRpc3BsYXkud2hlZWxEWCA9IGR4OyBkaXNwbGF5LndoZWVsRFkgPSBkeTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgdmFyIG1vdmVkWCA9IHNjcm9sbC5zY3JvbGxMZWZ0IC0gZGlzcGxheS53aGVlbFN0YXJ0WDtcbiAgICAgICAgICB2YXIgbW92ZWRZID0gc2Nyb2xsLnNjcm9sbFRvcCAtIGRpc3BsYXkud2hlZWxTdGFydFk7XG4gICAgICAgICAgdmFyIHNhbXBsZSA9IChtb3ZlZFkgJiYgZGlzcGxheS53aGVlbERZICYmIG1vdmVkWSAvIGRpc3BsYXkud2hlZWxEWSkgfHxcbiAgICAgICAgICAgIChtb3ZlZFggJiYgZGlzcGxheS53aGVlbERYICYmIG1vdmVkWCAvIGRpc3BsYXkud2hlZWxEWCk7XG4gICAgICAgICAgZGlzcGxheS53aGVlbFN0YXJ0WCA9IGRpc3BsYXkud2hlZWxTdGFydFkgPSBudWxsO1xuICAgICAgICAgIGlmICghc2FtcGxlKSByZXR1cm47XG4gICAgICAgICAgd2hlZWxQaXhlbHNQZXJVbml0ID0gKHdoZWVsUGl4ZWxzUGVyVW5pdCAqIHdoZWVsU2FtcGxlcyArIHNhbXBsZSkgLyAod2hlZWxTYW1wbGVzICsgMSk7XG4gICAgICAgICAgKyt3aGVlbFNhbXBsZXM7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwbGF5LndoZWVsRFggKz0gZHg7IGRpc3BsYXkud2hlZWxEWSArPSBkeTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBLRVkgRVZFTlRTXG5cbiAgLy8gUnVuIGEgaGFuZGxlciB0aGF0IHdhcyBib3VuZCB0byBhIGtleS5cbiAgZnVuY3Rpb24gZG9IYW5kbGVCaW5kaW5nKGNtLCBib3VuZCwgZHJvcFNoaWZ0KSB7XG4gICAgaWYgKHR5cGVvZiBib3VuZCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBib3VuZCA9IGNvbW1hbmRzW2JvdW5kXTtcbiAgICAgIGlmICghYm91bmQpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gRW5zdXJlIHByZXZpb3VzIGlucHV0IGhhcyBiZWVuIHJlYWQsIHNvIHRoYXQgdGhlIGhhbmRsZXIgc2VlcyBhXG4gICAgLy8gY29uc2lzdGVudCB2aWV3IG9mIHRoZSBkb2N1bWVudFxuICAgIGNtLmRpc3BsYXkuaW5wdXQuZW5zdXJlUG9sbGVkKCk7XG4gICAgdmFyIHByZXZTaGlmdCA9IGNtLmRpc3BsYXkuc2hpZnQsIGRvbmUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgaWYgKGNtLmlzUmVhZE9ubHkoKSkgY20uc3RhdGUuc3VwcHJlc3NFZGl0cyA9IHRydWU7XG4gICAgICBpZiAoZHJvcFNoaWZ0KSBjbS5kaXNwbGF5LnNoaWZ0ID0gZmFsc2U7XG4gICAgICBkb25lID0gYm91bmQoY20pICE9IFBhc3M7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBwcmV2U2hpZnQ7XG4gICAgICBjbS5zdGF0ZS5zdXBwcmVzc0VkaXRzID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBkb25lO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9va3VwS2V5Rm9yRWRpdG9yKGNtLCBuYW1lLCBoYW5kbGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLnN0YXRlLmtleU1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb29rdXBLZXkobmFtZSwgY20uc3RhdGUua2V5TWFwc1tpXSwgaGFuZGxlLCBjbSk7XG4gICAgICBpZiAocmVzdWx0KSByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gKGNtLm9wdGlvbnMuZXh0cmFLZXlzICYmIGxvb2t1cEtleShuYW1lLCBjbS5vcHRpb25zLmV4dHJhS2V5cywgaGFuZGxlLCBjbSkpXG4gICAgICB8fCBsb29rdXBLZXkobmFtZSwgY20ub3B0aW9ucy5rZXlNYXAsIGhhbmRsZSwgY20pO1xuICB9XG5cbiAgdmFyIHN0b3BTZXEgPSBuZXcgRGVsYXllZDtcbiAgZnVuY3Rpb24gZGlzcGF0Y2hLZXkoY20sIG5hbWUsIGUsIGhhbmRsZSkge1xuICAgIHZhciBzZXEgPSBjbS5zdGF0ZS5rZXlTZXE7XG4gICAgaWYgKHNlcSkge1xuICAgICAgaWYgKGlzTW9kaWZpZXJLZXkobmFtZSkpIHJldHVybiBcImhhbmRsZWRcIjtcbiAgICAgIHN0b3BTZXEuc2V0KDUwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNtLnN0YXRlLmtleVNlcSA9PSBzZXEpIHtcbiAgICAgICAgICBjbS5zdGF0ZS5rZXlTZXEgPSBudWxsO1xuICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBuYW1lID0gc2VxICsgXCIgXCIgKyBuYW1lO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gbG9va3VwS2V5Rm9yRWRpdG9yKGNtLCBuYW1lLCBoYW5kbGUpO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBcIm11bHRpXCIpXG4gICAgICBjbS5zdGF0ZS5rZXlTZXEgPSBuYW1lO1xuICAgIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIpXG4gICAgICBzaWduYWxMYXRlcihjbSwgXCJrZXlIYW5kbGVkXCIsIGNtLCBuYW1lLCBlKTtcblxuICAgIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIgfHwgcmVzdWx0ID09IFwibXVsdGlcIikge1xuICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIHJlc3RhcnRCbGluayhjbSk7XG4gICAgfVxuXG4gICAgaWYgKHNlcSAmJiAhcmVzdWx0ICYmIC9cXCckLy50ZXN0KG5hbWUpKSB7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAhIXJlc3VsdDtcbiAgfVxuXG4gIC8vIEhhbmRsZSBhIGtleSBmcm9tIHRoZSBrZXlkb3duIGV2ZW50LlxuICBmdW5jdGlvbiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSB7XG4gICAgdmFyIG5hbWUgPSBrZXlOYW1lKGUsIHRydWUpO1xuICAgIGlmICghbmFtZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgIWNtLnN0YXRlLmtleVNlcSkge1xuICAgICAgLy8gRmlyc3QgdHJ5IHRvIHJlc29sdmUgZnVsbCBuYW1lIChpbmNsdWRpbmcgJ1NoaWZ0LScpLiBGYWlsaW5nXG4gICAgICAvLyB0aGF0LCBzZWUgaWYgdGhlcmUgaXMgYSBjdXJzb3ItbW90aW9uIGNvbW1hbmQgKHN0YXJ0aW5nIHdpdGhcbiAgICAgIC8vICdnbycpIGJvdW5kIHRvIHRoZSBrZXluYW1lIHdpdGhvdXQgJ1NoaWZ0LScuXG4gICAgICByZXR1cm4gZGlzcGF0Y2hLZXkoY20sIFwiU2hpZnQtXCIgKyBuYW1lLCBlLCBmdW5jdGlvbihiKSB7cmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYiwgdHJ1ZSk7fSlcbiAgICAgICAgICB8fCBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgZnVuY3Rpb24oYikge1xuICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09IFwic3RyaW5nXCIgPyAvXmdvW0EtWl0vLnRlc3QoYikgOiBiLm1vdGlvbilcbiAgICAgICAgICAgICAgICAgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYik7XG4gICAgICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgZnVuY3Rpb24oYikgeyByZXR1cm4gZG9IYW5kbGVCaW5kaW5nKGNtLCBiKTsgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIGEga2V5IGZyb20gdGhlIGtleXByZXNzIGV2ZW50XG4gIGZ1bmN0aW9uIGhhbmRsZUNoYXJCaW5kaW5nKGNtLCBlLCBjaCkge1xuICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgXCInXCIgKyBjaCArIFwiJ1wiLCBlLFxuICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihiKSB7IHJldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIsIHRydWUpOyB9KTtcbiAgfVxuXG4gIHZhciBsYXN0U3RvcHBlZEtleSA9IG51bGw7XG4gIGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgdmFyIGNtID0gdGhpcztcbiAgICBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdCgpO1xuICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHJldHVybjtcbiAgICAvLyBJRSBkb2VzIHN0cmFuZ2UgdGhpbmdzIHdpdGggZXNjYXBlLlxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEgJiYgZS5rZXlDb2RlID09IDI3KSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgdmFyIGNvZGUgPSBlLmtleUNvZGU7XG4gICAgY20uZGlzcGxheS5zaGlmdCA9IGNvZGUgPT0gMTYgfHwgZS5zaGlmdEtleTtcbiAgICB2YXIgaGFuZGxlZCA9IGhhbmRsZUtleUJpbmRpbmcoY20sIGUpO1xuICAgIGlmIChwcmVzdG8pIHtcbiAgICAgIGxhc3RTdG9wcGVkS2V5ID0gaGFuZGxlZCA/IGNvZGUgOiBudWxsO1xuICAgICAgLy8gT3BlcmEgaGFzIG5vIGN1dCBldmVudC4uLiB3ZSB0cnkgdG8gYXQgbGVhc3QgY2F0Y2ggdGhlIGtleSBjb21ib1xuICAgICAgaWYgKCFoYW5kbGVkICYmIGNvZGUgPT0gODggJiYgIWhhc0NvcHlFdmVudCAmJiAobWFjID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSlcbiAgICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbihcIlwiLCBudWxsLCBcImN1dFwiKTtcbiAgICB9XG5cbiAgICAvLyBUdXJuIG1vdXNlIGludG8gY3Jvc3NoYWlyIHdoZW4gQWx0IGlzIGhlbGQgb24gTWFjLlxuICAgIGlmIChjb2RlID09IDE4ICYmICEvXFxiQ29kZU1pcnJvci1jcm9zc2hhaXJcXGIvLnRlc3QoY20uZGlzcGxheS5saW5lRGl2LmNsYXNzTmFtZSkpXG4gICAgICBzaG93Q3Jvc3NIYWlyKGNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dDcm9zc0hhaXIoY20pIHtcbiAgICB2YXIgbGluZURpdiA9IGNtLmRpc3BsYXkubGluZURpdjtcbiAgICBhZGRDbGFzcyhsaW5lRGl2LCBcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpO1xuXG4gICAgZnVuY3Rpb24gdXAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PSAxOCB8fCAhZS5hbHRLZXkpIHtcbiAgICAgICAgcm1DbGFzcyhsaW5lRGl2LCBcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpO1xuICAgICAgICBvZmYoZG9jdW1lbnQsIFwia2V5dXBcIiwgdXApO1xuICAgICAgICBvZmYoZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIHVwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb24oZG9jdW1lbnQsIFwia2V5dXBcIiwgdXApO1xuICAgIG9uKGRvY3VtZW50LCBcIm1vdXNlb3ZlclwiLCB1cCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbktleVVwKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09IDE2KSB0aGlzLmRvYy5zZWwuc2hpZnQgPSBmYWxzZTtcbiAgICBzaWduYWxET01FdmVudCh0aGlzLCBlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uS2V5UHJlc3MoZSkge1xuICAgIHZhciBjbSA9IHRoaXM7XG4gICAgaWYgKGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkgfHwgc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGUuY3RybEtleSAmJiAhZS5hbHRLZXkgfHwgbWFjICYmIGUubWV0YUtleSkgcmV0dXJuO1xuICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlLCBjaGFyQ29kZSA9IGUuY2hhckNvZGU7XG4gICAgaWYgKHByZXN0byAmJiBrZXlDb2RlID09IGxhc3RTdG9wcGVkS2V5KSB7bGFzdFN0b3BwZWRLZXkgPSBudWxsOyBlX3ByZXZlbnREZWZhdWx0KGUpOyByZXR1cm47fVxuICAgIGlmICgocHJlc3RvICYmICghZS53aGljaCB8fCBlLndoaWNoIDwgMTApKSAmJiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSkgcmV0dXJuO1xuICAgIHZhciBjaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUgPT0gbnVsbCA/IGtleUNvZGUgOiBjaGFyQ29kZSk7XG4gICAgaWYgKGhhbmRsZUNoYXJCaW5kaW5nKGNtLCBlLCBjaCkpIHJldHVybjtcbiAgICBjbS5kaXNwbGF5LmlucHV0Lm9uS2V5UHJlc3MoZSk7XG4gIH1cblxuICAvLyBGT0NVUy9CTFVSIEVWRU5UU1xuXG4gIGZ1bmN0aW9uIGRlbGF5Qmx1ckV2ZW50KGNtKSB7XG4gICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHtcbiAgICAgICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgb25CbHVyKGNtKTtcbiAgICAgIH1cbiAgICB9LCAxMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Gb2N1cyhjbSkge1xuICAgIGlmIChjbS5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudCkgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSBmYWxzZTtcblxuICAgIGlmIChjbS5vcHRpb25zLnJlYWRPbmx5ID09IFwibm9jdXJzb3JcIikgcmV0dXJuO1xuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkge1xuICAgICAgc2lnbmFsKGNtLCBcImZvY3VzXCIsIGNtKTtcbiAgICAgIGNtLnN0YXRlLmZvY3VzZWQgPSB0cnVlO1xuICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3ItZm9jdXNlZFwiKTtcbiAgICAgIC8vIFRoaXMgdGVzdCBwcmV2ZW50cyB0aGlzIGZyb20gZmlyaW5nIHdoZW4gYSBjb250ZXh0XG4gICAgICAvLyBtZW51IGlzIGNsb3NlZCAoc2luY2UgdGhlIGlucHV0IHJlc2V0IHdvdWxkIGtpbGwgdGhlXG4gICAgICAvLyBzZWxlY3QtYWxsIGRldGVjdGlvbiBoYWNrKVxuICAgICAgaWYgKCFjbS5jdXJPcCAmJiBjbS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ICE9IGNtLmRvYy5zZWwpIHtcbiAgICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgICBpZiAod2Via2l0KSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KHRydWUpOyB9LCAyMCk7IC8vIElzc3VlICMxNzMwXG4gICAgICB9XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnJlY2VpdmVkRm9jdXMoKTtcbiAgICB9XG4gICAgcmVzdGFydEJsaW5rKGNtKTtcbiAgfVxuICBmdW5jdGlvbiBvbkJsdXIoY20pIHtcbiAgICBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHJldHVybjtcblxuICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkKSB7XG4gICAgICBzaWduYWwoY20sIFwiYmx1clwiLCBjbSk7XG4gICAgICBjbS5zdGF0ZS5mb2N1c2VkID0gZmFsc2U7XG4gICAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLWZvY3VzZWRcIik7XG4gICAgfVxuICAgIGNsZWFySW50ZXJ2YWwoY20uZGlzcGxheS5ibGlua2VyKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2lmICghY20uc3RhdGUuZm9jdXNlZCkgY20uZGlzcGxheS5zaGlmdCA9IGZhbHNlO30sIDE1MCk7XG4gIH1cblxuICAvLyBDT05URVhUIE1FTlUgSEFORExJTkdcblxuICAvLyBUbyBtYWtlIHRoZSBjb250ZXh0IG1lbnUgd29yaywgd2UgbmVlZCB0byBicmllZmx5IHVuaGlkZSB0aGVcbiAgLy8gdGV4dGFyZWEgKG1ha2luZyBpdCBhcyB1bm9idHJ1c2l2ZSBhcyBwb3NzaWJsZSkgdG8gbGV0IHRoZVxuICAvLyByaWdodC1jbGljayB0YWtlIGVmZmVjdCBvbiBpdC5cbiAgZnVuY3Rpb24gb25Db250ZXh0TWVudShjbSwgZSkge1xuICAgIGlmIChldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpIHx8IGNvbnRleHRNZW51SW5HdXR0ZXIoY20sIGUpKSByZXR1cm47XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlLCBcImNvbnRleHRtZW51XCIpKSByZXR1cm47XG4gICAgY20uZGlzcGxheS5pbnB1dC5vbkNvbnRleHRNZW51KGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udGV4dE1lbnVJbkd1dHRlcihjbSwgZSkge1xuICAgIGlmICghaGFzSGFuZGxlcihjbSwgXCJndXR0ZXJDb250ZXh0TWVudVwiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBndXR0ZXJFdmVudChjbSwgZSwgXCJndXR0ZXJDb250ZXh0TWVudVwiLCBmYWxzZSk7XG4gIH1cblxuICAvLyBVUERBVElOR1xuXG4gIC8vIENvbXB1dGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBlbmQgb2YgYSBjaGFuZ2UgKGl0cyAndG8nIHByb3BlcnR5XG4gIC8vIHJlZmVycyB0byB0aGUgcHJlLWNoYW5nZSBlbmQpLlxuICB2YXIgY2hhbmdlRW5kID0gQ29kZU1pcnJvci5jaGFuZ2VFbmQgPSBmdW5jdGlvbihjaGFuZ2UpIHtcbiAgICBpZiAoIWNoYW5nZS50ZXh0KSByZXR1cm4gY2hhbmdlLnRvO1xuICAgIHJldHVybiBQb3MoY2hhbmdlLmZyb20ubGluZSArIGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICBsc3QoY2hhbmdlLnRleHQpLmxlbmd0aCArIChjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSA/IGNoYW5nZS5mcm9tLmNoIDogMCkpO1xuICB9O1xuXG4gIC8vIEFkanVzdCBhIHBvc2l0aW9uIHRvIHJlZmVyIHRvIHRoZSBwb3N0LWNoYW5nZSBwb3NpdGlvbiBvZiB0aGVcbiAgLy8gc2FtZSB0ZXh0LCBvciB0aGUgZW5kIG9mIHRoZSBjaGFuZ2UgaWYgdGhlIGNoYW5nZSBjb3ZlcnMgaXQuXG4gIGZ1bmN0aW9uIGFkanVzdEZvckNoYW5nZShwb3MsIGNoYW5nZSkge1xuICAgIGlmIChjbXAocG9zLCBjaGFuZ2UuZnJvbSkgPCAwKSByZXR1cm4gcG9zO1xuICAgIGlmIChjbXAocG9zLCBjaGFuZ2UudG8pIDw9IDApIHJldHVybiBjaGFuZ2VFbmQoY2hhbmdlKTtcblxuICAgIHZhciBsaW5lID0gcG9zLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGggLSAoY2hhbmdlLnRvLmxpbmUgLSBjaGFuZ2UuZnJvbS5saW5lKSAtIDEsIGNoID0gcG9zLmNoO1xuICAgIGlmIChwb3MubGluZSA9PSBjaGFuZ2UudG8ubGluZSkgY2ggKz0gY2hhbmdlRW5kKGNoYW5nZSkuY2ggLSBjaGFuZ2UudG8uY2g7XG4gICAgcmV0dXJuIFBvcyhsaW5lLCBjaCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV07XG4gICAgICBvdXQucHVzaChuZXcgUmFuZ2UoYWRqdXN0Rm9yQ2hhbmdlKHJhbmdlLmFuY2hvciwgY2hhbmdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RGb3JDaGFuZ2UocmFuZ2UuaGVhZCwgY2hhbmdlKSkpO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgZG9jLnNlbC5wcmltSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gb2Zmc2V0UG9zKHBvcywgb2xkLCBudykge1xuICAgIGlmIChwb3MubGluZSA9PSBvbGQubGluZSlcbiAgICAgIHJldHVybiBQb3MobncubGluZSwgcG9zLmNoIC0gb2xkLmNoICsgbncuY2gpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBQb3MobncubGluZSArIChwb3MubGluZSAtIG9sZC5saW5lKSwgcG9zLmNoKTtcbiAgfVxuXG4gIC8vIFVzZWQgYnkgcmVwbGFjZVNlbGVjdGlvbnMgdG8gYWxsb3cgbW92aW5nIHRoZSBzZWxlY3Rpb24gdG8gdGhlXG4gIC8vIHN0YXJ0IG9yIGFyb3VuZCB0aGUgcmVwbGFjZWQgdGVzdC4gSGludCBtYXkgYmUgXCJzdGFydFwiIG9yIFwiYXJvdW5kXCIuXG4gIGZ1bmN0aW9uIGNvbXB1dGVSZXBsYWNlZFNlbChkb2MsIGNoYW5nZXMsIGhpbnQpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIG9sZFByZXYgPSBQb3MoZG9jLmZpcnN0LCAwKSwgbmV3UHJldiA9IG9sZFByZXY7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hhbmdlID0gY2hhbmdlc1tpXTtcbiAgICAgIHZhciBmcm9tID0gb2Zmc2V0UG9zKGNoYW5nZS5mcm9tLCBvbGRQcmV2LCBuZXdQcmV2KTtcbiAgICAgIHZhciB0byA9IG9mZnNldFBvcyhjaGFuZ2VFbmQoY2hhbmdlKSwgb2xkUHJldiwgbmV3UHJldik7XG4gICAgICBvbGRQcmV2ID0gY2hhbmdlLnRvO1xuICAgICAgbmV3UHJldiA9IHRvO1xuICAgICAgaWYgKGhpbnQgPT0gXCJhcm91bmRcIikge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tpXSwgaW52ID0gY21wKHJhbmdlLmhlYWQsIHJhbmdlLmFuY2hvcikgPCAwO1xuICAgICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UoaW52ID8gdG8gOiBmcm9tLCBpbnYgPyBmcm9tIDogdG8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGZyb20sIGZyb20pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihvdXQsIGRvYy5zZWwucHJpbUluZGV4KTtcbiAgfVxuXG4gIC8vIEFsbG93IFwiYmVmb3JlQ2hhbmdlXCIgZXZlbnQgaGFuZGxlcnMgdG8gaW5mbHVlbmNlIGEgY2hhbmdlXG4gIGZ1bmN0aW9uIGZpbHRlckNoYW5nZShkb2MsIGNoYW5nZSwgdXBkYXRlKSB7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNhbmNlbGVkOiBmYWxzZSxcbiAgICAgIGZyb206IGNoYW5nZS5mcm9tLFxuICAgICAgdG86IGNoYW5nZS50byxcbiAgICAgIHRleHQ6IGNoYW5nZS50ZXh0LFxuICAgICAgb3JpZ2luOiBjaGFuZ2Uub3JpZ2luLFxuICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHsgdGhpcy5jYW5jZWxlZCA9IHRydWU7IH1cbiAgICB9O1xuICAgIGlmICh1cGRhdGUpIG9iai51cGRhdGUgPSBmdW5jdGlvbihmcm9tLCB0bywgdGV4dCwgb3JpZ2luKSB7XG4gICAgICBpZiAoZnJvbSkgdGhpcy5mcm9tID0gY2xpcFBvcyhkb2MsIGZyb20pO1xuICAgICAgaWYgKHRvKSB0aGlzLnRvID0gY2xpcFBvcyhkb2MsIHRvKTtcbiAgICAgIGlmICh0ZXh0KSB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgaWYgKG9yaWdpbiAhPT0gdW5kZWZpbmVkKSB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB9O1xuICAgIHNpZ25hbChkb2MsIFwiYmVmb3JlQ2hhbmdlXCIsIGRvYywgb2JqKTtcbiAgICBpZiAoZG9jLmNtKSBzaWduYWwoZG9jLmNtLCBcImJlZm9yZUNoYW5nZVwiLCBkb2MuY20sIG9iaik7XG5cbiAgICBpZiAob2JqLmNhbmNlbGVkKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge2Zyb206IG9iai5mcm9tLCB0bzogb2JqLnRvLCB0ZXh0OiBvYmoudGV4dCwgb3JpZ2luOiBvYmoub3JpZ2lufTtcbiAgfVxuXG4gIC8vIEFwcGx5IGEgY2hhbmdlIHRvIGEgZG9jdW1lbnQsIGFuZCBhZGQgaXQgdG8gdGhlIGRvY3VtZW50J3NcbiAgLy8gaGlzdG9yeSwgYW5kIHByb3BhZ2F0aW5nIGl0IHRvIGFsbCBsaW5rZWQgZG9jdW1lbnRzLlxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlKGRvYywgY2hhbmdlLCBpZ25vcmVSZWFkT25seSkge1xuICAgIGlmIChkb2MuY20pIHtcbiAgICAgIGlmICghZG9jLmNtLmN1ck9wKSByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFrZUNoYW5nZSkoZG9jLCBjaGFuZ2UsIGlnbm9yZVJlYWRPbmx5KTtcbiAgICAgIGlmIChkb2MuY20uc3RhdGUuc3VwcHJlc3NFZGl0cykgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChoYXNIYW5kbGVyKGRvYywgXCJiZWZvcmVDaGFuZ2VcIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCBcImJlZm9yZUNoYW5nZVwiKSkge1xuICAgICAgY2hhbmdlID0gZmlsdGVyQ2hhbmdlKGRvYywgY2hhbmdlLCB0cnVlKTtcbiAgICAgIGlmICghY2hhbmdlKSByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUG9zc2libHkgc3BsaXQgb3Igc3VwcHJlc3MgdGhlIHVwZGF0ZSBiYXNlZCBvbiB0aGUgcHJlc2VuY2VcbiAgICAvLyBvZiByZWFkLW9ubHkgc3BhbnMgaW4gaXRzIHJhbmdlLlxuICAgIHZhciBzcGxpdCA9IHNhd1JlYWRPbmx5U3BhbnMgJiYgIWlnbm9yZVJlYWRPbmx5ICYmIHJlbW92ZVJlYWRPbmx5UmFuZ2VzKGRvYywgY2hhbmdlLmZyb20sIGNoYW5nZS50byk7XG4gICAgaWYgKHNwbGl0KSB7XG4gICAgICBmb3IgKHZhciBpID0gc3BsaXQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpXG4gICAgICAgIG1ha2VDaGFuZ2VJbm5lcihkb2MsIHtmcm9tOiBzcGxpdFtpXS5mcm9tLCB0bzogc3BsaXRbaV0udG8sIHRleHQ6IGkgPyBbXCJcIl0gOiBjaGFuZ2UudGV4dH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYWtlQ2hhbmdlSW5uZXIoZG9jLCBjaGFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2VJbm5lcihkb2MsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSAmJiBjaGFuZ2UudGV4dFswXSA9PSBcIlwiICYmIGNtcChjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKSA9PSAwKSByZXR1cm47XG4gICAgdmFyIHNlbEFmdGVyID0gY29tcHV0ZVNlbEFmdGVyQ2hhbmdlKGRvYywgY2hhbmdlKTtcbiAgICBhZGRDaGFuZ2VUb0hpc3RvcnkoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBkb2MuY20gPyBkb2MuY20uY3VyT3AuaWQgOiBOYU4pO1xuXG4gICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpKTtcbiAgICB2YXIgcmViYXNlZCA9IFtdO1xuXG4gICAgbGlua2VkRG9jcyhkb2MsIGZ1bmN0aW9uKGRvYywgc2hhcmVkSGlzdCkge1xuICAgICAgaWYgKCFzaGFyZWRIaXN0ICYmIGluZGV4T2YocmViYXNlZCwgZG9jLmhpc3RvcnkpID09IC0xKSB7XG4gICAgICAgIHJlYmFzZUhpc3QoZG9jLmhpc3RvcnksIGNoYW5nZSk7XG4gICAgICAgIHJlYmFzZWQucHVzaChkb2MuaGlzdG9yeSk7XG4gICAgICB9XG4gICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBudWxsLCBzdHJldGNoU3BhbnNPdmVyQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBSZXZlcnQgYSBjaGFuZ2Ugc3RvcmVkIGluIGEgZG9jdW1lbnQncyBoaXN0b3J5LlxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlRnJvbUhpc3RvcnkoZG9jLCB0eXBlLCBhbGxvd1NlbGVjdGlvbk9ubHkpIHtcbiAgICBpZiAoZG9jLmNtICYmIGRvYy5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzKSByZXR1cm47XG5cbiAgICB2YXIgaGlzdCA9IGRvYy5oaXN0b3J5LCBldmVudCwgc2VsQWZ0ZXIgPSBkb2Muc2VsO1xuICAgIHZhciBzb3VyY2UgPSB0eXBlID09IFwidW5kb1wiID8gaGlzdC5kb25lIDogaGlzdC51bmRvbmUsIGRlc3QgPSB0eXBlID09IFwidW5kb1wiID8gaGlzdC51bmRvbmUgOiBoaXN0LmRvbmU7XG5cbiAgICAvLyBWZXJpZnkgdGhhdCB0aGVyZSBpcyBhIHVzZWFibGUgZXZlbnQgKHNvIHRoYXQgY3RybC16IHdvbid0XG4gICAgLy8gbmVlZGxlc3NseSBjbGVhciBzZWxlY3Rpb24gZXZlbnRzKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBldmVudCA9IHNvdXJjZVtpXTtcbiAgICAgIGlmIChhbGxvd1NlbGVjdGlvbk9ubHkgPyBldmVudC5yYW5nZXMgJiYgIWV2ZW50LmVxdWFscyhkb2Muc2VsKSA6ICFldmVudC5yYW5nZXMpXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoaSA9PSBzb3VyY2UubGVuZ3RoKSByZXR1cm47XG4gICAgaGlzdC5sYXN0T3JpZ2luID0gaGlzdC5sYXN0U2VsT3JpZ2luID0gbnVsbDtcblxuICAgIGZvciAoOzspIHtcbiAgICAgIGV2ZW50ID0gc291cmNlLnBvcCgpO1xuICAgICAgaWYgKGV2ZW50LnJhbmdlcykge1xuICAgICAgICBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KGV2ZW50LCBkZXN0KTtcbiAgICAgICAgaWYgKGFsbG93U2VsZWN0aW9uT25seSAmJiAhZXZlbnQuZXF1YWxzKGRvYy5zZWwpKSB7XG4gICAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgZXZlbnQsIHtjbGVhclJlZG86IGZhbHNlfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbEFmdGVyID0gZXZlbnQ7XG4gICAgICB9XG4gICAgICBlbHNlIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIEJ1aWxkIHVwIGEgcmV2ZXJzZSBjaGFuZ2Ugb2JqZWN0IHRvIGFkZCB0byB0aGUgb3Bwb3NpdGUgaGlzdG9yeVxuICAgIC8vIHN0YWNrIChyZWRvIHdoZW4gdW5kb2luZywgYW5kIHZpY2UgdmVyc2EpLlxuICAgIHZhciBhbnRpQ2hhbmdlcyA9IFtdO1xuICAgIHB1c2hTZWxlY3Rpb25Ub0hpc3Rvcnkoc2VsQWZ0ZXIsIGRlc3QpO1xuICAgIGRlc3QucHVzaCh7Y2hhbmdlczogYW50aUNoYW5nZXMsIGdlbmVyYXRpb246IGhpc3QuZ2VuZXJhdGlvbn0pO1xuICAgIGhpc3QuZ2VuZXJhdGlvbiA9IGV2ZW50LmdlbmVyYXRpb24gfHwgKytoaXN0Lm1heEdlbmVyYXRpb247XG5cbiAgICB2YXIgZmlsdGVyID0gaGFzSGFuZGxlcihkb2MsIFwiYmVmb3JlQ2hhbmdlXCIpIHx8IGRvYy5jbSAmJiBoYXNIYW5kbGVyKGRvYy5jbSwgXCJiZWZvcmVDaGFuZ2VcIik7XG5cbiAgICBmb3IgKHZhciBpID0gZXZlbnQuY2hhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdmFyIGNoYW5nZSA9IGV2ZW50LmNoYW5nZXNbaV07XG4gICAgICBjaGFuZ2Uub3JpZ2luID0gdHlwZTtcbiAgICAgIGlmIChmaWx0ZXIgJiYgIWZpbHRlckNoYW5nZShkb2MsIGNoYW5nZSwgZmFsc2UpKSB7XG4gICAgICAgIHNvdXJjZS5sZW5ndGggPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFudGlDaGFuZ2VzLnB1c2goaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpKTtcblxuICAgICAgdmFyIGFmdGVyID0gaSA/IGNvbXB1dGVTZWxBZnRlckNoYW5nZShkb2MsIGNoYW5nZSkgOiBsc3Qoc291cmNlKTtcbiAgICAgIG1ha2VDaGFuZ2VTaW5nbGVEb2MoZG9jLCBjaGFuZ2UsIGFmdGVyLCBtZXJnZU9sZFNwYW5zKGRvYywgY2hhbmdlKSk7XG4gICAgICBpZiAoIWkgJiYgZG9jLmNtKSBkb2MuY20uc2Nyb2xsSW50b1ZpZXcoe2Zyb206IGNoYW5nZS5mcm9tLCB0bzogY2hhbmdlRW5kKGNoYW5nZSl9KTtcbiAgICAgIHZhciByZWJhc2VkID0gW107XG5cbiAgICAgIC8vIFByb3BhZ2F0ZSB0byB0aGUgbGlua2VkIGRvY3VtZW50c1xuICAgICAgbGlua2VkRG9jcyhkb2MsIGZ1bmN0aW9uKGRvYywgc2hhcmVkSGlzdCkge1xuICAgICAgICBpZiAoIXNoYXJlZEhpc3QgJiYgaW5kZXhPZihyZWJhc2VkLCBkb2MuaGlzdG9yeSkgPT0gLTEpIHtcbiAgICAgICAgICByZWJhc2VIaXN0KGRvYy5oaXN0b3J5LCBjaGFuZ2UpO1xuICAgICAgICAgIHJlYmFzZWQucHVzaChkb2MuaGlzdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgbnVsbCwgbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU3ViLXZpZXdzIG5lZWQgdGhlaXIgbGluZSBudW1iZXJzIHNoaWZ0ZWQgd2hlbiB0ZXh0IGlzIGFkZGVkXG4gIC8vIGFib3ZlIG9yIGJlbG93IHRoZW0gaW4gdGhlIHBhcmVudCBkb2N1bWVudC5cbiAgZnVuY3Rpb24gc2hpZnREb2MoZG9jLCBkaXN0YW5jZSkge1xuICAgIGlmIChkaXN0YW5jZSA9PSAwKSByZXR1cm47XG4gICAgZG9jLmZpcnN0ICs9IGRpc3RhbmNlO1xuICAgIGRvYy5zZWwgPSBuZXcgU2VsZWN0aW9uKG1hcChkb2Muc2VsLnJhbmdlcywgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoUG9zKHJhbmdlLmFuY2hvci5saW5lICsgZGlzdGFuY2UsIHJhbmdlLmFuY2hvci5jaCksXG4gICAgICAgICAgICAgICAgICAgICAgIFBvcyhyYW5nZS5oZWFkLmxpbmUgKyBkaXN0YW5jZSwgcmFuZ2UuaGVhZC5jaCkpO1xuICAgIH0pLCBkb2Muc2VsLnByaW1JbmRleCk7XG4gICAgaWYgKGRvYy5jbSkge1xuICAgICAgcmVnQ2hhbmdlKGRvYy5jbSwgZG9jLmZpcnN0LCBkb2MuZmlyc3QgLSBkaXN0YW5jZSwgZGlzdGFuY2UpO1xuICAgICAgZm9yICh2YXIgZCA9IGRvYy5jbS5kaXNwbGF5LCBsID0gZC52aWV3RnJvbTsgbCA8IGQudmlld1RvOyBsKyspXG4gICAgICAgIHJlZ0xpbmVDaGFuZ2UoZG9jLmNtLCBsLCBcImd1dHRlclwiKTtcbiAgICB9XG4gIH1cblxuICAvLyBNb3JlIGxvd2VyLWxldmVsIGNoYW5nZSBmdW5jdGlvbiwgaGFuZGxpbmcgb25seSBhIHNpbmdsZSBkb2N1bWVudFxuICAvLyAobm90IGxpbmtlZCBvbmVzKS5cbiAgZnVuY3Rpb24gbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIHNwYW5zKSB7XG4gICAgaWYgKGRvYy5jbSAmJiAhZG9jLmNtLmN1ck9wKVxuICAgICAgcmV0dXJuIG9wZXJhdGlvbihkb2MuY20sIG1ha2VDaGFuZ2VTaW5nbGVEb2MpKGRvYywgY2hhbmdlLCBzZWxBZnRlciwgc3BhbnMpO1xuXG4gICAgaWYgKGNoYW5nZS50by5saW5lIDwgZG9jLmZpcnN0KSB7XG4gICAgICBzaGlmdERvYyhkb2MsIGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEgLSAoY2hhbmdlLnRvLmxpbmUgLSBjaGFuZ2UuZnJvbS5saW5lKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjaGFuZ2UuZnJvbS5saW5lID4gZG9jLmxhc3RMaW5lKCkpIHJldHVybjtcblxuICAgIC8vIENsaXAgdGhlIGNoYW5nZSB0byB0aGUgc2l6ZSBvZiB0aGlzIGRvY1xuICAgIGlmIChjaGFuZ2UuZnJvbS5saW5lIDwgZG9jLmZpcnN0KSB7XG4gICAgICB2YXIgc2hpZnQgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAxIC0gKGRvYy5maXJzdCAtIGNoYW5nZS5mcm9tLmxpbmUpO1xuICAgICAgc2hpZnREb2MoZG9jLCBzaGlmdCk7XG4gICAgICBjaGFuZ2UgPSB7ZnJvbTogUG9zKGRvYy5maXJzdCwgMCksIHRvOiBQb3MoY2hhbmdlLnRvLmxpbmUgKyBzaGlmdCwgY2hhbmdlLnRvLmNoKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBbbHN0KGNoYW5nZS50ZXh0KV0sIG9yaWdpbjogY2hhbmdlLm9yaWdpbn07XG4gICAgfVxuICAgIHZhciBsYXN0ID0gZG9jLmxhc3RMaW5lKCk7XG4gICAgaWYgKGNoYW5nZS50by5saW5lID4gbGFzdCkge1xuICAgICAgY2hhbmdlID0ge2Zyb206IGNoYW5nZS5mcm9tLCB0bzogUG9zKGxhc3QsIGdldExpbmUoZG9jLCBsYXN0KS50ZXh0Lmxlbmd0aCksXG4gICAgICAgICAgICAgICAgdGV4dDogW2NoYW5nZS50ZXh0WzBdXSwgb3JpZ2luOiBjaGFuZ2Uub3JpZ2lufTtcbiAgICB9XG5cbiAgICBjaGFuZ2UucmVtb3ZlZCA9IGdldEJldHdlZW4oZG9jLCBjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKTtcblxuICAgIGlmICghc2VsQWZ0ZXIpIHNlbEFmdGVyID0gY29tcHV0ZVNlbEFmdGVyQ2hhbmdlKGRvYywgY2hhbmdlKTtcbiAgICBpZiAoZG9jLmNtKSBtYWtlQ2hhbmdlU2luZ2xlRG9jSW5FZGl0b3IoZG9jLmNtLCBjaGFuZ2UsIHNwYW5zKTtcbiAgICBlbHNlIHVwZGF0ZURvYyhkb2MsIGNoYW5nZSwgc3BhbnMpO1xuICAgIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbEFmdGVyLCBzZWxfZG9udFNjcm9sbCk7XG4gIH1cblxuICAvLyBIYW5kbGUgdGhlIGludGVyYWN0aW9uIG9mIGEgY2hhbmdlIHRvIGEgZG9jdW1lbnQgd2l0aCB0aGUgZWRpdG9yXG4gIC8vIHRoYXQgdGhpcyBkb2N1bWVudCBpcyBwYXJ0IG9mLlxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlU2luZ2xlRG9jSW5FZGl0b3IoY20sIGNoYW5nZSwgc3BhbnMpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZnJvbSA9IGNoYW5nZS5mcm9tLCB0byA9IGNoYW5nZS50bztcblxuICAgIHZhciByZWNvbXB1dGVNYXhMZW5ndGggPSBmYWxzZSwgY2hlY2tXaWR0aFN0YXJ0ID0gZnJvbS5saW5lO1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIGNoZWNrV2lkdGhTdGFydCA9IGxpbmVObyh2aXN1YWxMaW5lKGdldExpbmUoZG9jLCBmcm9tLmxpbmUpKSk7XG4gICAgICBkb2MuaXRlcihjaGVja1dpZHRoU3RhcnQsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lID09IGRpc3BsYXkubWF4TGluZSkge1xuICAgICAgICAgIHJlY29tcHV0ZU1heExlbmd0aCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChkb2Muc2VsLmNvbnRhaW5zKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID4gLTEpXG4gICAgICBzaWduYWxDdXJzb3JBY3Rpdml0eShjbSk7XG5cbiAgICB1cGRhdGVEb2MoZG9jLCBjaGFuZ2UsIHNwYW5zLCBlc3RpbWF0ZUhlaWdodChjbSkpO1xuXG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgZG9jLml0ZXIoY2hlY2tXaWR0aFN0YXJ0LCBmcm9tLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGgsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgdmFyIGxlbiA9IGxpbmVMZW5ndGgobGluZSk7XG4gICAgICAgIGlmIChsZW4gPiBkaXNwbGF5Lm1heExpbmVMZW5ndGgpIHtcbiAgICAgICAgICBkaXNwbGF5Lm1heExpbmUgPSBsaW5lO1xuICAgICAgICAgIGRpc3BsYXkubWF4TGluZUxlbmd0aCA9IGxlbjtcbiAgICAgICAgICBkaXNwbGF5Lm1heExpbmVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICByZWNvbXB1dGVNYXhMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocmVjb21wdXRlTWF4TGVuZ3RoKSBjbS5jdXJPcC51cGRhdGVNYXhMaW5lID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGp1c3QgZnJvbnRpZXIsIHNjaGVkdWxlIHdvcmtlclxuICAgIGRvYy5mcm9udGllciA9IE1hdGgubWluKGRvYy5mcm9udGllciwgZnJvbS5saW5lKTtcbiAgICBzdGFydFdvcmtlcihjbSwgNDAwKTtcblxuICAgIHZhciBsZW5kaWZmID0gY2hhbmdlLnRleHQubGVuZ3RoIC0gKHRvLmxpbmUgLSBmcm9tLmxpbmUpIC0gMTtcbiAgICAvLyBSZW1lbWJlciB0aGF0IHRoZXNlIGxpbmVzIGNoYW5nZWQsIGZvciB1cGRhdGluZyB0aGUgZGlzcGxheVxuICAgIGlmIChjaGFuZ2UuZnVsbClcbiAgICAgIHJlZ0NoYW5nZShjbSk7XG4gICAgZWxzZSBpZiAoZnJvbS5saW5lID09IHRvLmxpbmUgJiYgY2hhbmdlLnRleHQubGVuZ3RoID09IDEgJiYgIWlzV2hvbGVMaW5lVXBkYXRlKGNtLmRvYywgY2hhbmdlKSlcbiAgICAgIHJlZ0xpbmVDaGFuZ2UoY20sIGZyb20ubGluZSwgXCJ0ZXh0XCIpO1xuICAgIGVsc2VcbiAgICAgIHJlZ0NoYW5nZShjbSwgZnJvbS5saW5lLCB0by5saW5lICsgMSwgbGVuZGlmZik7XG5cbiAgICB2YXIgY2hhbmdlc0hhbmRsZXIgPSBoYXNIYW5kbGVyKGNtLCBcImNoYW5nZXNcIiksIGNoYW5nZUhhbmRsZXIgPSBoYXNIYW5kbGVyKGNtLCBcImNoYW5nZVwiKTtcbiAgICBpZiAoY2hhbmdlSGFuZGxlciB8fCBjaGFuZ2VzSGFuZGxlcikge1xuICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgZnJvbTogZnJvbSwgdG86IHRvLFxuICAgICAgICB0ZXh0OiBjaGFuZ2UudGV4dCxcbiAgICAgICAgcmVtb3ZlZDogY2hhbmdlLnJlbW92ZWQsXG4gICAgICAgIG9yaWdpbjogY2hhbmdlLm9yaWdpblxuICAgICAgfTtcbiAgICAgIGlmIChjaGFuZ2VIYW5kbGVyKSBzaWduYWxMYXRlcihjbSwgXCJjaGFuZ2VcIiwgY20sIG9iaik7XG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIpIChjbS5jdXJPcC5jaGFuZ2VPYmpzIHx8IChjbS5jdXJPcC5jaGFuZ2VPYmpzID0gW10pKS5wdXNoKG9iaik7XG4gICAgfVxuICAgIGNtLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZVJhbmdlKGRvYywgY29kZSwgZnJvbSwgdG8sIG9yaWdpbikge1xuICAgIGlmICghdG8pIHRvID0gZnJvbTtcbiAgICBpZiAoY21wKHRvLCBmcm9tKSA8IDApIHsgdmFyIHRtcCA9IHRvOyB0byA9IGZyb207IGZyb20gPSB0bXA7IH1cbiAgICBpZiAodHlwZW9mIGNvZGUgPT0gXCJzdHJpbmdcIikgY29kZSA9IGRvYy5zcGxpdExpbmVzKGNvZGUpO1xuICAgIG1ha2VDaGFuZ2UoZG9jLCB7ZnJvbTogZnJvbSwgdG86IHRvLCB0ZXh0OiBjb2RlLCBvcmlnaW46IG9yaWdpbn0pO1xuICB9XG5cbiAgLy8gU0NST0xMSU5HIFRISU5HUyBJTlRPIFZJRVdcblxuICAvLyBJZiBhbiBlZGl0b3Igc2l0cyBvbiB0aGUgdG9wIG9yIGJvdHRvbSBvZiB0aGUgd2luZG93LCBwYXJ0aWFsbHlcbiAgLy8gc2Nyb2xsZWQgb3V0IG9mIHZpZXcsIHRoaXMgZW5zdXJlcyB0aGF0IHRoZSBjdXJzb3IgaXMgdmlzaWJsZS5cbiAgZnVuY3Rpb24gbWF5YmVTY3JvbGxXaW5kb3coY20sIGNvb3Jkcykge1xuICAgIGlmIChzaWduYWxET01FdmVudChjbSwgXCJzY3JvbGxDdXJzb3JJbnRvVmlld1wiKSkgcmV0dXJuO1xuXG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBib3ggPSBkaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBkb1Njcm9sbCA9IG51bGw7XG4gICAgaWYgKGNvb3Jkcy50b3AgKyBib3gudG9wIDwgMCkgZG9TY3JvbGwgPSB0cnVlO1xuICAgIGVsc2UgaWYgKGNvb3Jkcy5ib3R0b20gKyBib3gudG9wID4gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSkgZG9TY3JvbGwgPSBmYWxzZTtcbiAgICBpZiAoZG9TY3JvbGwgIT0gbnVsbCAmJiAhcGhhbnRvbSkge1xuICAgICAgdmFyIHNjcm9sbE5vZGUgPSBlbHQoXCJkaXZcIiwgXCJcXHUyMDBiXCIsIG51bGwsIFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb29yZHMudG9wIC0gZGlzcGxheS52aWV3T2Zmc2V0IC0gcGFkZGluZ1RvcChjbS5kaXNwbGF5KSkgKyBcInB4OyBoZWlnaHQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb29yZHMuYm90dG9tIC0gY29vcmRzLnRvcCArIHNjcm9sbEdhcChjbSkgKyBkaXNwbGF5LmJhckhlaWdodCkgKyBcInB4OyBsZWZ0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMubGVmdCArIFwicHg7IHdpZHRoOiAycHg7XCIpO1xuICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UuYXBwZW5kQ2hpbGQoc2Nyb2xsTm9kZSk7XG4gICAgICBzY3JvbGxOb2RlLnNjcm9sbEludG9WaWV3KGRvU2Nyb2xsKTtcbiAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKHNjcm9sbE5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNjcm9sbCBhIGdpdmVuIHBvc2l0aW9uIGludG8gdmlldyAoaW1tZWRpYXRlbHkpLCB2ZXJpZnlpbmcgdGhhdFxuICAvLyBpdCBhY3R1YWxseSBiZWNhbWUgdmlzaWJsZSAoYXMgbGluZSBoZWlnaHRzIGFyZSBhY2N1cmF0ZWx5XG4gIC8vIG1lYXN1cmVkLCB0aGUgcG9zaXRpb24gb2Ygc29tZXRoaW5nIG1heSAnZHJpZnQnIGR1cmluZyBkcmF3aW5nKS5cbiAgZnVuY3Rpb24gc2Nyb2xsUG9zSW50b1ZpZXcoY20sIHBvcywgZW5kLCBtYXJnaW4pIHtcbiAgICBpZiAobWFyZ2luID09IG51bGwpIG1hcmdpbiA9IDA7XG4gICAgZm9yICh2YXIgbGltaXQgPSAwOyBsaW1pdCA8IDU7IGxpbWl0KyspIHtcbiAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2UsIGNvb3JkcyA9IGN1cnNvckNvb3JkcyhjbSwgcG9zKTtcbiAgICAgIHZhciBlbmRDb29yZHMgPSAhZW5kIHx8IGVuZCA9PSBwb3MgPyBjb29yZHMgOiBjdXJzb3JDb29yZHMoY20sIGVuZCk7XG4gICAgICB2YXIgc2Nyb2xsUG9zID0gY2FsY3VsYXRlU2Nyb2xsUG9zKGNtLCBNYXRoLm1pbihjb29yZHMubGVmdCwgZW5kQ29vcmRzLmxlZnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihjb29yZHMudG9wLCBlbmRDb29yZHMudG9wKSAtIG1hcmdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoY29vcmRzLmxlZnQsIGVuZENvb3Jkcy5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoY29vcmRzLmJvdHRvbSwgZW5kQ29vcmRzLmJvdHRvbSkgKyBtYXJnaW4pO1xuICAgICAgdmFyIHN0YXJ0VG9wID0gY20uZG9jLnNjcm9sbFRvcCwgc3RhcnRMZWZ0ID0gY20uZG9jLnNjcm9sbExlZnQ7XG4gICAgICBpZiAoc2Nyb2xsUG9zLnNjcm9sbFRvcCAhPSBudWxsKSB7XG4gICAgICAgIHNldFNjcm9sbFRvcChjbSwgc2Nyb2xsUG9zLnNjcm9sbFRvcCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhjbS5kb2Muc2Nyb2xsVG9wIC0gc3RhcnRUb3ApID4gMSkgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2Nyb2xsUG9zLnNjcm9sbExlZnQgIT0gbnVsbCkge1xuICAgICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBzY3JvbGxQb3Muc2Nyb2xsTGVmdCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhjbS5kb2Muc2Nyb2xsTGVmdCAtIHN0YXJ0TGVmdCkgPiAxKSBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghY2hhbmdlZCkgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjb29yZHM7XG4gIH1cblxuICAvLyBTY3JvbGwgYSBnaXZlbiBzZXQgb2YgY29vcmRpbmF0ZXMgaW50byB2aWV3IChpbW1lZGlhdGVseSkuXG4gIGZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KGNtLCB4MSwgeTEsIHgyLCB5Mikge1xuICAgIHZhciBzY3JvbGxQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIHgxLCB5MSwgeDIsIHkyKTtcbiAgICBpZiAoc2Nyb2xsUG9zLnNjcm9sbFRvcCAhPSBudWxsKSBzZXRTY3JvbGxUb3AoY20sIHNjcm9sbFBvcy5zY3JvbGxUb3ApO1xuICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsTGVmdCAhPSBudWxsKSBzZXRTY3JvbGxMZWZ0KGNtLCBzY3JvbGxQb3Muc2Nyb2xsTGVmdCk7XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgYSBuZXcgc2Nyb2xsIHBvc2l0aW9uIG5lZWRlZCB0byBzY3JvbGwgdGhlIGdpdmVuXG4gIC8vIHJlY3RhbmdsZSBpbnRvIHZpZXcuIFJldHVybnMgYW4gb2JqZWN0IHdpdGggc2Nyb2xsVG9wIGFuZFxuICAvLyBzY3JvbGxMZWZ0IHByb3BlcnRpZXMuIFdoZW4gdGhlc2UgYXJlIHVuZGVmaW5lZCwgdGhlXG4gIC8vIHZlcnRpY2FsL2hvcml6b250YWwgcG9zaXRpb24gZG9lcyBub3QgbmVlZCB0byBiZSBhZGp1c3RlZC5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlU2Nyb2xsUG9zKGNtLCB4MSwgeTEsIHgyLCB5Mikge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgc25hcE1hcmdpbiA9IHRleHRIZWlnaHQoY20uZGlzcGxheSk7XG4gICAgaWYgKHkxIDwgMCkgeTEgPSAwO1xuICAgIHZhciBzY3JlZW50b3AgPSBjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxUb3AgIT0gbnVsbCA/IGNtLmN1ck9wLnNjcm9sbFRvcCA6IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wO1xuICAgIHZhciBzY3JlZW4gPSBkaXNwbGF5SGVpZ2h0KGNtKSwgcmVzdWx0ID0ge307XG4gICAgaWYgKHkyIC0geTEgPiBzY3JlZW4pIHkyID0geTEgKyBzY3JlZW47XG4gICAgdmFyIGRvY0JvdHRvbSA9IGNtLmRvYy5oZWlnaHQgKyBwYWRkaW5nVmVydChkaXNwbGF5KTtcbiAgICB2YXIgYXRUb3AgPSB5MSA8IHNuYXBNYXJnaW4sIGF0Qm90dG9tID0geTIgPiBkb2NCb3R0b20gLSBzbmFwTWFyZ2luO1xuICAgIGlmICh5MSA8IHNjcmVlbnRvcCkge1xuICAgICAgcmVzdWx0LnNjcm9sbFRvcCA9IGF0VG9wID8gMCA6IHkxO1xuICAgIH0gZWxzZSBpZiAoeTIgPiBzY3JlZW50b3AgKyBzY3JlZW4pIHtcbiAgICAgIHZhciBuZXdUb3AgPSBNYXRoLm1pbih5MSwgKGF0Qm90dG9tID8gZG9jQm90dG9tIDogeTIpIC0gc2NyZWVuKTtcbiAgICAgIGlmIChuZXdUb3AgIT0gc2NyZWVudG9wKSByZXN1bHQuc2Nyb2xsVG9wID0gbmV3VG9wO1xuICAgIH1cblxuICAgIHZhciBzY3JlZW5sZWZ0ID0gY20uY3VyT3AgJiYgY20uY3VyT3Auc2Nyb2xsTGVmdCAhPSBudWxsID8gY20uY3VyT3Auc2Nyb2xsTGVmdCA6IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdDtcbiAgICB2YXIgc2NyZWVudyA9IGRpc3BsYXlXaWR0aChjbSkgLSAoY20ub3B0aW9ucy5maXhlZEd1dHRlciA/IGRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCA6IDApO1xuICAgIHZhciB0b29XaWRlID0geDIgLSB4MSA+IHNjcmVlbnc7XG4gICAgaWYgKHRvb1dpZGUpIHgyID0geDEgKyBzY3JlZW53O1xuICAgIGlmICh4MSA8IDEwKVxuICAgICAgcmVzdWx0LnNjcm9sbExlZnQgPSAwO1xuICAgIGVsc2UgaWYgKHgxIDwgc2NyZWVubGVmdClcbiAgICAgIHJlc3VsdC5zY3JvbGxMZWZ0ID0gTWF0aC5tYXgoMCwgeDEgLSAodG9vV2lkZSA/IDAgOiAxMCkpO1xuICAgIGVsc2UgaWYgKHgyID4gc2NyZWVudyArIHNjcmVlbmxlZnQgLSAzKVxuICAgICAgcmVzdWx0LnNjcm9sbExlZnQgPSB4MiArICh0b29XaWRlID8gMCA6IDEwKSAtIHNjcmVlbnc7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIFN0b3JlIGEgcmVsYXRpdmUgYWRqdXN0bWVudCB0byB0aGUgc2Nyb2xsIHBvc2l0aW9uIGluIHRoZSBjdXJyZW50XG4gIC8vIG9wZXJhdGlvbiAodG8gYmUgYXBwbGllZCB3aGVuIHRoZSBvcGVyYXRpb24gZmluaXNoZXMpLlxuICBmdW5jdGlvbiBhZGRUb1Njcm9sbFBvcyhjbSwgbGVmdCwgdG9wKSB7XG4gICAgaWYgKGxlZnQgIT0gbnVsbCB8fCB0b3AgIT0gbnVsbCkgcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKTtcbiAgICBpZiAobGVmdCAhPSBudWxsKVxuICAgICAgY20uY3VyT3Auc2Nyb2xsTGVmdCA9IChjbS5jdXJPcC5zY3JvbGxMZWZ0ID09IG51bGwgPyBjbS5kb2Muc2Nyb2xsTGVmdCA6IGNtLmN1ck9wLnNjcm9sbExlZnQpICsgbGVmdDtcbiAgICBpZiAodG9wICE9IG51bGwpXG4gICAgICBjbS5jdXJPcC5zY3JvbGxUb3AgPSAoY20uY3VyT3Auc2Nyb2xsVG9wID09IG51bGwgPyBjbS5kb2Muc2Nyb2xsVG9wIDogY20uY3VyT3Auc2Nyb2xsVG9wKSArIHRvcDtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSB0aGF0IGF0IHRoZSBlbmQgb2YgdGhlIG9wZXJhdGlvbiB0aGUgY3VycmVudCBjdXJzb3IgaXNcbiAgLy8gc2hvd24uXG4gIGZ1bmN0aW9uIGVuc3VyZUN1cnNvclZpc2libGUoY20pIHtcbiAgICByZXNvbHZlU2Nyb2xsVG9Qb3MoY20pO1xuICAgIHZhciBjdXIgPSBjbS5nZXRDdXJzb3IoKSwgZnJvbSA9IGN1ciwgdG8gPSBjdXI7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgZnJvbSA9IGN1ci5jaCA/IFBvcyhjdXIubGluZSwgY3VyLmNoIC0gMSkgOiBjdXI7XG4gICAgICB0byA9IFBvcyhjdXIubGluZSwgY3VyLmNoICsgMSk7XG4gICAgfVxuICAgIGNtLmN1ck9wLnNjcm9sbFRvUG9zID0ge2Zyb206IGZyb20sIHRvOiB0bywgbWFyZ2luOiBjbS5vcHRpb25zLmN1cnNvclNjcm9sbE1hcmdpbiwgaXNDdXJzb3I6IHRydWV9O1xuICB9XG5cbiAgLy8gV2hlbiBhbiBvcGVyYXRpb24gaGFzIGl0cyBzY3JvbGxUb1BvcyBwcm9wZXJ0eSBzZXQsIGFuZCBhbm90aGVyXG4gIC8vIHNjcm9sbCBhY3Rpb24gaXMgYXBwbGllZCBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgb3BlcmF0aW9uLCB0aGlzXG4gIC8vICdzaW11bGF0ZXMnIHNjcm9sbGluZyB0aGF0IHBvc2l0aW9uIGludG8gdmlldyBpbiBhIGNoZWFwIHdheSwgc29cbiAgLy8gdGhhdCB0aGUgZWZmZWN0IG9mIGludGVybWVkaWF0ZSBzY3JvbGwgY29tbWFuZHMgaXMgbm90IGlnbm9yZWQuXG4gIGZ1bmN0aW9uIHJlc29sdmVTY3JvbGxUb1BvcyhjbSkge1xuICAgIHZhciByYW5nZSA9IGNtLmN1ck9wLnNjcm9sbFRvUG9zO1xuICAgIGlmIChyYW5nZSkge1xuICAgICAgY20uY3VyT3Auc2Nyb2xsVG9Qb3MgPSBudWxsO1xuICAgICAgdmFyIGZyb20gPSBlc3RpbWF0ZUNvb3JkcyhjbSwgcmFuZ2UuZnJvbSksIHRvID0gZXN0aW1hdGVDb29yZHMoY20sIHJhbmdlLnRvKTtcbiAgICAgIHZhciBzUG9zID0gY2FsY3VsYXRlU2Nyb2xsUG9zKGNtLCBNYXRoLm1pbihmcm9tLmxlZnQsIHRvLmxlZnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oZnJvbS50b3AsIHRvLnRvcCkgLSByYW5nZS5tYXJnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChmcm9tLnJpZ2h0LCB0by5yaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChmcm9tLmJvdHRvbSwgdG8uYm90dG9tKSArIHJhbmdlLm1hcmdpbik7XG4gICAgICBjbS5zY3JvbGxUbyhzUG9zLnNjcm9sbExlZnQsIHNQb3Muc2Nyb2xsVG9wKTtcbiAgICB9XG4gIH1cblxuICAvLyBBUEkgVVRJTElUSUVTXG5cbiAgLy8gSW5kZW50IHRoZSBnaXZlbiBsaW5lLiBUaGUgaG93IHBhcmFtZXRlciBjYW4gYmUgXCJzbWFydFwiLFxuICAvLyBcImFkZFwiL251bGwsIFwic3VidHJhY3RcIiwgb3IgXCJwcmV2XCIuIFdoZW4gYWdncmVzc2l2ZSBpcyBmYWxzZVxuICAvLyAodHlwaWNhbGx5IHNldCB0byB0cnVlIGZvciBmb3JjZWQgc2luZ2xlLWxpbmUgaW5kZW50cyksIGVtcHR5XG4gIC8vIGxpbmVzIGFyZSBub3QgaW5kZW50ZWQsIGFuZCBwbGFjZXMgd2hlcmUgdGhlIG1vZGUgcmV0dXJucyBQYXNzXG4gIC8vIGFyZSBsZWZ0IGFsb25lLlxuICBmdW5jdGlvbiBpbmRlbnRMaW5lKGNtLCBuLCBob3csIGFnZ3Jlc3NpdmUpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBzdGF0ZTtcbiAgICBpZiAoaG93ID09IG51bGwpIGhvdyA9IFwiYWRkXCI7XG4gICAgaWYgKGhvdyA9PSBcInNtYXJ0XCIpIHtcbiAgICAgIC8vIEZhbGwgYmFjayB0byBcInByZXZcIiB3aGVuIHRoZSBtb2RlIGRvZXNuJ3QgaGF2ZSBhbiBpbmRlbnRhdGlvblxuICAgICAgLy8gbWV0aG9kLlxuICAgICAgaWYgKCFkb2MubW9kZS5pbmRlbnQpIGhvdyA9IFwicHJldlwiO1xuICAgICAgZWxzZSBzdGF0ZSA9IGdldFN0YXRlQmVmb3JlKGNtLCBuKTtcbiAgICB9XG5cbiAgICB2YXIgdGFiU2l6ZSA9IGNtLm9wdGlvbnMudGFiU2l6ZTtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBuKSwgY3VyU3BhY2UgPSBjb3VudENvbHVtbihsaW5lLnRleHQsIG51bGwsIHRhYlNpemUpO1xuICAgIGlmIChsaW5lLnN0YXRlQWZ0ZXIpIGxpbmUuc3RhdGVBZnRlciA9IG51bGw7XG4gICAgdmFyIGN1clNwYWNlU3RyaW5nID0gbGluZS50ZXh0Lm1hdGNoKC9eXFxzKi8pWzBdLCBpbmRlbnRhdGlvbjtcbiAgICBpZiAoIWFnZ3Jlc3NpdmUgJiYgIS9cXFMvLnRlc3QobGluZS50ZXh0KSkge1xuICAgICAgaW5kZW50YXRpb24gPSAwO1xuICAgICAgaG93ID0gXCJub3RcIjtcbiAgICB9IGVsc2UgaWYgKGhvdyA9PSBcInNtYXJ0XCIpIHtcbiAgICAgIGluZGVudGF0aW9uID0gZG9jLm1vZGUuaW5kZW50KHN0YXRlLCBsaW5lLnRleHQuc2xpY2UoY3VyU3BhY2VTdHJpbmcubGVuZ3RoKSwgbGluZS50ZXh0KTtcbiAgICAgIGlmIChpbmRlbnRhdGlvbiA9PSBQYXNzIHx8IGluZGVudGF0aW9uID4gMTUwKSB7XG4gICAgICAgIGlmICghYWdncmVzc2l2ZSkgcmV0dXJuO1xuICAgICAgICBob3cgPSBcInByZXZcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhvdyA9PSBcInByZXZcIikge1xuICAgICAgaWYgKG4gPiBkb2MuZmlyc3QpIGluZGVudGF0aW9uID0gY291bnRDb2x1bW4oZ2V0TGluZShkb2MsIG4tMSkudGV4dCwgbnVsbCwgdGFiU2l6ZSk7XG4gICAgICBlbHNlIGluZGVudGF0aW9uID0gMDtcbiAgICB9IGVsc2UgaWYgKGhvdyA9PSBcImFkZFwiKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlICsgY20ub3B0aW9ucy5pbmRlbnRVbml0O1xuICAgIH0gZWxzZSBpZiAoaG93ID09IFwic3VidHJhY3RcIikge1xuICAgICAgaW5kZW50YXRpb24gPSBjdXJTcGFjZSAtIGNtLm9wdGlvbnMuaW5kZW50VW5pdDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBob3cgPT0gXCJudW1iZXJcIikge1xuICAgICAgaW5kZW50YXRpb24gPSBjdXJTcGFjZSArIGhvdztcbiAgICB9XG4gICAgaW5kZW50YXRpb24gPSBNYXRoLm1heCgwLCBpbmRlbnRhdGlvbik7XG5cbiAgICB2YXIgaW5kZW50U3RyaW5nID0gXCJcIiwgcG9zID0gMDtcbiAgICBpZiAoY20ub3B0aW9ucy5pbmRlbnRXaXRoVGFicylcbiAgICAgIGZvciAodmFyIGkgPSBNYXRoLmZsb29yKGluZGVudGF0aW9uIC8gdGFiU2l6ZSk7IGk7IC0taSkge3BvcyArPSB0YWJTaXplOyBpbmRlbnRTdHJpbmcgKz0gXCJcXHRcIjt9XG4gICAgaWYgKHBvcyA8IGluZGVudGF0aW9uKSBpbmRlbnRTdHJpbmcgKz0gc3BhY2VTdHIoaW5kZW50YXRpb24gLSBwb3MpO1xuXG4gICAgaWYgKGluZGVudFN0cmluZyAhPSBjdXJTcGFjZVN0cmluZykge1xuICAgICAgcmVwbGFjZVJhbmdlKGRvYywgaW5kZW50U3RyaW5nLCBQb3MobiwgMCksIFBvcyhuLCBjdXJTcGFjZVN0cmluZy5sZW5ndGgpLCBcIitpbnB1dFwiKTtcbiAgICAgIGxpbmUuc3RhdGVBZnRlciA9IG51bGw7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRW5zdXJlIHRoYXQsIGlmIHRoZSBjdXJzb3Igd2FzIGluIHRoZSB3aGl0ZXNwYWNlIGF0IHRoZSBzdGFydFxuICAgICAgLy8gb2YgdGhlIGxpbmUsIGl0IGlzIG1vdmVkIHRvIHRoZSBlbmQgb2YgdGhhdCBzcGFjZS5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV07XG4gICAgICAgIGlmIChyYW5nZS5oZWFkLmxpbmUgPT0gbiAmJiByYW5nZS5oZWFkLmNoIDwgY3VyU3BhY2VTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHBvcyA9IFBvcyhuLCBjdXJTcGFjZVN0cmluZy5sZW5ndGgpO1xuICAgICAgICAgIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBpLCBuZXcgUmFuZ2UocG9zLCBwb3MpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFV0aWxpdHkgZm9yIGFwcGx5aW5nIGEgY2hhbmdlIHRvIGEgbGluZSBieSBoYW5kbGUgb3IgbnVtYmVyLFxuICAvLyByZXR1cm5pbmcgdGhlIG51bWJlciBhbmQgb3B0aW9uYWxseSByZWdpc3RlcmluZyB0aGUgbGluZSBhc1xuICAvLyBjaGFuZ2VkLlxuICBmdW5jdGlvbiBjaGFuZ2VMaW5lKGRvYywgaGFuZGxlLCBjaGFuZ2VUeXBlLCBvcCkge1xuICAgIHZhciBubyA9IGhhbmRsZSwgbGluZSA9IGhhbmRsZTtcbiAgICBpZiAodHlwZW9mIGhhbmRsZSA9PSBcIm51bWJlclwiKSBsaW5lID0gZ2V0TGluZShkb2MsIGNsaXBMaW5lKGRvYywgaGFuZGxlKSk7XG4gICAgZWxzZSBubyA9IGxpbmVObyhoYW5kbGUpO1xuICAgIGlmIChubyA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBpZiAob3AobGluZSwgbm8pICYmIGRvYy5jbSkgcmVnTGluZUNoYW5nZShkb2MuY20sIG5vLCBjaGFuZ2VUeXBlKTtcbiAgICByZXR1cm4gbGluZTtcbiAgfVxuXG4gIC8vIEhlbHBlciBmb3IgZGVsZXRpbmcgdGV4dCBuZWFyIHRoZSBzZWxlY3Rpb24ocyksIHVzZWQgdG8gaW1wbGVtZW50XG4gIC8vIGJhY2tzcGFjZSwgZGVsZXRlLCBhbmQgc2ltaWxhciBmdW5jdGlvbmFsaXR5LlxuICBmdW5jdGlvbiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBjb21wdXRlKSB7XG4gICAgdmFyIHJhbmdlcyA9IGNtLmRvYy5zZWwucmFuZ2VzLCBraWxsID0gW107XG4gICAgLy8gQnVpbGQgdXAgYSBzZXQgb2YgcmFuZ2VzIHRvIGtpbGwgZmlyc3QsIG1lcmdpbmcgb3ZlcmxhcHBpbmdcbiAgICAvLyByYW5nZXMuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0b0tpbGwgPSBjb21wdXRlKHJhbmdlc1tpXSk7XG4gICAgICB3aGlsZSAoa2lsbC5sZW5ndGggJiYgY21wKHRvS2lsbC5mcm9tLCBsc3Qoa2lsbCkudG8pIDw9IDApIHtcbiAgICAgICAgdmFyIHJlcGxhY2VkID0ga2lsbC5wb3AoKTtcbiAgICAgICAgaWYgKGNtcChyZXBsYWNlZC5mcm9tLCB0b0tpbGwuZnJvbSkgPCAwKSB7XG4gICAgICAgICAgdG9LaWxsLmZyb20gPSByZXBsYWNlZC5mcm9tO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBraWxsLnB1c2godG9LaWxsKTtcbiAgICB9XG4gICAgLy8gTmV4dCwgcmVtb3ZlIHRob3NlIGFjdHVhbCByYW5nZXMuXG4gICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0ga2lsbC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgcmVwbGFjZVJhbmdlKGNtLmRvYywgXCJcIiwga2lsbFtpXS5mcm9tLCBraWxsW2ldLnRvLCBcIitkZWxldGVcIik7XG4gICAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIGhvcml6b250YWwgcmVsYXRpdmUgbW90aW9uLiBEaXIgaXMgLTEgb3IgMSAobGVmdCBvclxuICAvLyByaWdodCksIHVuaXQgY2FuIGJlIFwiY2hhclwiLCBcImNvbHVtblwiIChsaWtlIGNoYXIsIGJ1dCBkb2Vzbid0XG4gIC8vIGNyb3NzIGxpbmUgYm91bmRhcmllcyksIFwid29yZFwiIChhY3Jvc3MgbmV4dCB3b3JkKSwgb3IgXCJncm91cFwiICh0b1xuICAvLyB0aGUgc3RhcnQgb2YgbmV4dCBncm91cCBvZiB3b3JkIG9yIG5vbi13b3JkLW5vbi13aGl0ZXNwYWNlXG4gIC8vIGNoYXJzKS4gVGhlIHZpc3VhbGx5IHBhcmFtIGNvbnRyb2xzIHdoZXRoZXIsIGluIHJpZ2h0LXRvLWxlZnRcbiAgLy8gdGV4dCwgZGlyZWN0aW9uIDEgbWVhbnMgdG8gbW92ZSB0b3dhcmRzIHRoZSBuZXh0IGluZGV4IGluIHRoZVxuICAvLyBzdHJpbmcsIG9yIHRvd2FyZHMgdGhlIGNoYXJhY3RlciB0byB0aGUgcmlnaHQgb2YgdGhlIGN1cnJlbnRcbiAgLy8gcG9zaXRpb24uIFRoZSByZXN1bHRpbmcgcG9zaXRpb24gd2lsbCBoYXZlIGEgaGl0U2lkZT10cnVlXG4gIC8vIHByb3BlcnR5IGlmIGl0IHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIGZpbmRQb3NIKGRvYywgcG9zLCBkaXIsIHVuaXQsIHZpc3VhbGx5KSB7XG4gICAgdmFyIGxpbmUgPSBwb3MubGluZSwgY2ggPSBwb3MuY2gsIG9yaWdEaXIgPSBkaXI7XG4gICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZSk7XG4gICAgZnVuY3Rpb24gZmluZE5leHRMaW5lKCkge1xuICAgICAgdmFyIGwgPSBsaW5lICsgZGlyO1xuICAgICAgaWYgKGwgPCBkb2MuZmlyc3QgfHwgbCA+PSBkb2MuZmlyc3QgKyBkb2Muc2l6ZSkgcmV0dXJuIGZhbHNlXG4gICAgICBsaW5lID0gbDtcbiAgICAgIHJldHVybiBsaW5lT2JqID0gZ2V0TGluZShkb2MsIGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3ZlT25jZShib3VuZFRvTGluZSkge1xuICAgICAgdmFyIG5leHQgPSAodmlzdWFsbHkgPyBtb3ZlVmlzdWFsbHkgOiBtb3ZlTG9naWNhbGx5KShsaW5lT2JqLCBjaCwgZGlyLCB0cnVlKTtcbiAgICAgIGlmIChuZXh0ID09IG51bGwpIHtcbiAgICAgICAgaWYgKCFib3VuZFRvTGluZSAmJiBmaW5kTmV4dExpbmUoKSkge1xuICAgICAgICAgIGlmICh2aXN1YWxseSkgY2ggPSAoZGlyIDwgMCA/IGxpbmVSaWdodCA6IGxpbmVMZWZ0KShsaW5lT2JqKTtcbiAgICAgICAgICBlbHNlIGNoID0gZGlyIDwgMCA/IGxpbmVPYmoudGV4dC5sZW5ndGggOiAwO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlXG4gICAgICB9IGVsc2UgY2ggPSBuZXh0O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHVuaXQgPT0gXCJjaGFyXCIpIHtcbiAgICAgIG1vdmVPbmNlKClcbiAgICB9IGVsc2UgaWYgKHVuaXQgPT0gXCJjb2x1bW5cIikge1xuICAgICAgbW92ZU9uY2UodHJ1ZSlcbiAgICB9IGVsc2UgaWYgKHVuaXQgPT0gXCJ3b3JkXCIgfHwgdW5pdCA9PSBcImdyb3VwXCIpIHtcbiAgICAgIHZhciBzYXdUeXBlID0gbnVsbCwgZ3JvdXAgPSB1bml0ID09IFwiZ3JvdXBcIjtcbiAgICAgIHZhciBoZWxwZXIgPSBkb2MuY20gJiYgZG9jLmNtLmdldEhlbHBlcihwb3MsIFwid29yZENoYXJzXCIpO1xuICAgICAgZm9yICh2YXIgZmlyc3QgPSB0cnVlOzsgZmlyc3QgPSBmYWxzZSkge1xuICAgICAgICBpZiAoZGlyIDwgMCAmJiAhbW92ZU9uY2UoIWZpcnN0KSkgYnJlYWs7XG4gICAgICAgIHZhciBjdXIgPSBsaW5lT2JqLnRleHQuY2hhckF0KGNoKSB8fCBcIlxcblwiO1xuICAgICAgICB2YXIgdHlwZSA9IGlzV29yZENoYXIoY3VyLCBoZWxwZXIpID8gXCJ3XCJcbiAgICAgICAgICA6IGdyb3VwICYmIGN1ciA9PSBcIlxcblwiID8gXCJuXCJcbiAgICAgICAgICA6ICFncm91cCB8fCAvXFxzLy50ZXN0KGN1cikgPyBudWxsXG4gICAgICAgICAgOiBcInBcIjtcbiAgICAgICAgaWYgKGdyb3VwICYmICFmaXJzdCAmJiAhdHlwZSkgdHlwZSA9IFwic1wiO1xuICAgICAgICBpZiAoc2F3VHlwZSAmJiBzYXdUeXBlICE9IHR5cGUpIHtcbiAgICAgICAgICBpZiAoZGlyIDwgMCkge2RpciA9IDE7IG1vdmVPbmNlKCk7fVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUpIHNhd1R5cGUgPSB0eXBlO1xuICAgICAgICBpZiAoZGlyID4gMCAmJiAhbW92ZU9uY2UoIWZpcnN0KSkgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBza2lwQXRvbWljKGRvYywgUG9zKGxpbmUsIGNoKSwgcG9zLCBvcmlnRGlyLCB0cnVlKTtcbiAgICBpZiAoIWNtcChwb3MsIHJlc3VsdCkpIHJlc3VsdC5oaXRTaWRlID0gdHJ1ZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gRm9yIHJlbGF0aXZlIHZlcnRpY2FsIG1vdmVtZW50LiBEaXIgbWF5IGJlIC0xIG9yIDEuIFVuaXQgY2FuIGJlXG4gIC8vIFwicGFnZVwiIG9yIFwibGluZVwiLiBUaGUgcmVzdWx0aW5nIHBvc2l0aW9uIHdpbGwgaGF2ZSBhIGhpdFNpZGU9dHJ1ZVxuICAvLyBwcm9wZXJ0eSBpZiBpdCByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50LlxuICBmdW5jdGlvbiBmaW5kUG9zVihjbSwgcG9zLCBkaXIsIHVuaXQpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCB4ID0gcG9zLmxlZnQsIHk7XG4gICAgaWYgKHVuaXQgPT0gXCJwYWdlXCIpIHtcbiAgICAgIHZhciBwYWdlU2l6ZSA9IE1hdGgubWluKGNtLmRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTtcbiAgICAgIHkgPSBwb3MudG9wICsgZGlyICogKHBhZ2VTaXplIC0gKGRpciA8IDAgPyAxLjUgOiAuNSkgKiB0ZXh0SGVpZ2h0KGNtLmRpc3BsYXkpKTtcbiAgICB9IGVsc2UgaWYgKHVuaXQgPT0gXCJsaW5lXCIpIHtcbiAgICAgIHkgPSBkaXIgPiAwID8gcG9zLmJvdHRvbSArIDMgOiBwb3MudG9wIC0gMztcbiAgICB9XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIHRhcmdldCA9IGNvb3Jkc0NoYXIoY20sIHgsIHkpO1xuICAgICAgaWYgKCF0YXJnZXQub3V0c2lkZSkgYnJlYWs7XG4gICAgICBpZiAoZGlyIDwgMCA/IHkgPD0gMCA6IHkgPj0gZG9jLmhlaWdodCkgeyB0YXJnZXQuaGl0U2lkZSA9IHRydWU7IGJyZWFrOyB9XG4gICAgICB5ICs9IGRpciAqIDU7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICAvLyBFRElUT1IgTUVUSE9EU1xuXG4gIC8vIFRoZSBwdWJsaWNseSB2aXNpYmxlIEFQSS4gTm90ZSB0aGF0IG1ldGhvZE9wKGYpIG1lYW5zXG4gIC8vICd3cmFwIGYgaW4gYW4gb3BlcmF0aW9uLCBwZXJmb3JtZWQgb24gaXRzIGB0aGlzYCBwYXJhbWV0ZXInLlxuXG4gIC8vIFRoaXMgaXMgbm90IHRoZSBjb21wbGV0ZSBzZXQgb2YgZWRpdG9yIG1ldGhvZHMuIE1vc3Qgb2YgdGhlXG4gIC8vIG1ldGhvZHMgZGVmaW5lZCBvbiB0aGUgRG9jIHR5cGUgYXJlIGFsc28gaW5qZWN0ZWQgaW50b1xuICAvLyBDb2RlTWlycm9yLnByb3RvdHlwZSwgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGFuZFxuICAvLyBjb252ZW5pZW5jZS5cblxuICBDb2RlTWlycm9yLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29kZU1pcnJvcixcbiAgICBmb2N1czogZnVuY3Rpb24oKXt3aW5kb3cuZm9jdXMoKTsgdGhpcy5kaXNwbGF5LmlucHV0LmZvY3VzKCk7fSxcblxuICAgIHNldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uLCB2YWx1ZSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsIG9sZCA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIGlmIChvcHRpb25zW29wdGlvbl0gPT0gdmFsdWUgJiYgb3B0aW9uICE9IFwibW9kZVwiKSByZXR1cm47XG4gICAgICBvcHRpb25zW29wdGlvbl0gPSB2YWx1ZTtcbiAgICAgIGlmIChvcHRpb25IYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKVxuICAgICAgICBvcGVyYXRpb24odGhpcywgb3B0aW9uSGFuZGxlcnNbb3B0aW9uXSkodGhpcywgdmFsdWUsIG9sZCk7XG4gICAgfSxcblxuICAgIGdldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uKSB7cmV0dXJuIHRoaXMub3B0aW9uc1tvcHRpb25dO30sXG4gICAgZ2V0RG9jOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5kb2M7fSxcblxuICAgIGFkZEtleU1hcDogZnVuY3Rpb24obWFwLCBib3R0b20pIHtcbiAgICAgIHRoaXMuc3RhdGUua2V5TWFwc1tib3R0b20gPyBcInB1c2hcIiA6IFwidW5zaGlmdFwiXShnZXRLZXlNYXAobWFwKSk7XG4gICAgfSxcbiAgICByZW1vdmVLZXlNYXA6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgdmFyIG1hcHMgPSB0aGlzLnN0YXRlLmtleU1hcHM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcHMubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmIChtYXBzW2ldID09IG1hcCB8fCBtYXBzW2ldLm5hbWUgPT0gbWFwKSB7XG4gICAgICAgICAgbWFwcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYWRkT3ZlcmxheTogbWV0aG9kT3AoZnVuY3Rpb24oc3BlYywgb3B0aW9ucykge1xuICAgICAgdmFyIG1vZGUgPSBzcGVjLnRva2VuID8gc3BlYyA6IENvZGVNaXJyb3IuZ2V0TW9kZSh0aGlzLm9wdGlvbnMsIHNwZWMpO1xuICAgICAgaWYgKG1vZGUuc3RhcnRTdGF0ZSkgdGhyb3cgbmV3IEVycm9yKFwiT3ZlcmxheXMgbWF5IG5vdCBiZSBzdGF0ZWZ1bC5cIik7XG4gICAgICB0aGlzLnN0YXRlLm92ZXJsYXlzLnB1c2goe21vZGU6IG1vZGUsIG1vZGVTcGVjOiBzcGVjLCBvcGFxdWU6IG9wdGlvbnMgJiYgb3B0aW9ucy5vcGFxdWV9KTtcbiAgICAgIHRoaXMuc3RhdGUubW9kZUdlbisrO1xuICAgICAgcmVnQ2hhbmdlKHRoaXMpO1xuICAgIH0pLFxuICAgIHJlbW92ZU92ZXJsYXk6IG1ldGhvZE9wKGZ1bmN0aW9uKHNwZWMpIHtcbiAgICAgIHZhciBvdmVybGF5cyA9IHRoaXMuc3RhdGUub3ZlcmxheXM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG92ZXJsYXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjdXIgPSBvdmVybGF5c1tpXS5tb2RlU3BlYztcbiAgICAgICAgaWYgKGN1ciA9PSBzcGVjIHx8IHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIgJiYgY3VyLm5hbWUgPT0gc3BlYykge1xuICAgICAgICAgIG92ZXJsYXlzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLm1vZGVHZW4rKztcbiAgICAgICAgICByZWdDaGFuZ2UodGhpcyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG5cbiAgICBpbmRlbnRMaW5lOiBtZXRob2RPcChmdW5jdGlvbihuLCBkaXIsIGFnZ3Jlc3NpdmUpIHtcbiAgICAgIGlmICh0eXBlb2YgZGlyICE9IFwic3RyaW5nXCIgJiYgdHlwZW9mIGRpciAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgIGlmIChkaXIgPT0gbnVsbCkgZGlyID0gdGhpcy5vcHRpb25zLnNtYXJ0SW5kZW50ID8gXCJzbWFydFwiIDogXCJwcmV2XCI7XG4gICAgICAgIGVsc2UgZGlyID0gZGlyID8gXCJhZGRcIiA6IFwic3VidHJhY3RcIjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0xpbmUodGhpcy5kb2MsIG4pKSBpbmRlbnRMaW5lKHRoaXMsIG4sIGRpciwgYWdncmVzc2l2ZSk7XG4gICAgfSksXG4gICAgaW5kZW50U2VsZWN0aW9uOiBtZXRob2RPcChmdW5jdGlvbihob3cpIHtcbiAgICAgIHZhciByYW5nZXMgPSB0aGlzLmRvYy5zZWwucmFuZ2VzLCBlbmQgPSAtMTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSgpKSB7XG4gICAgICAgICAgdmFyIGZyb20gPSByYW5nZS5mcm9tKCksIHRvID0gcmFuZ2UudG8oKTtcbiAgICAgICAgICB2YXIgc3RhcnQgPSBNYXRoLm1heChlbmQsIGZyb20ubGluZSk7XG4gICAgICAgICAgZW5kID0gTWF0aC5taW4odGhpcy5sYXN0TGluZSgpLCB0by5saW5lIC0gKHRvLmNoID8gMCA6IDEpKSArIDE7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0OyBqIDwgZW5kOyArK2opXG4gICAgICAgICAgICBpbmRlbnRMaW5lKHRoaXMsIGosIGhvdyk7XG4gICAgICAgICAgdmFyIG5ld1JhbmdlcyA9IHRoaXMuZG9jLnNlbC5yYW5nZXM7XG4gICAgICAgICAgaWYgKGZyb20uY2ggPT0gMCAmJiByYW5nZXMubGVuZ3RoID09IG5ld1Jhbmdlcy5sZW5ndGggJiYgbmV3UmFuZ2VzW2ldLmZyb20oKS5jaCA+IDApXG4gICAgICAgICAgICByZXBsYWNlT25lU2VsZWN0aW9uKHRoaXMuZG9jLCBpLCBuZXcgUmFuZ2UoZnJvbSwgbmV3UmFuZ2VzW2ldLnRvKCkpLCBzZWxfZG9udFNjcm9sbCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZ2UuaGVhZC5saW5lID4gZW5kKSB7XG4gICAgICAgICAgaW5kZW50TGluZSh0aGlzLCByYW5nZS5oZWFkLmxpbmUsIGhvdywgdHJ1ZSk7XG4gICAgICAgICAgZW5kID0gcmFuZ2UuaGVhZC5saW5lO1xuICAgICAgICAgIGlmIChpID09IHRoaXMuZG9jLnNlbC5wcmltSW5kZXgpIGVuc3VyZUN1cnNvclZpc2libGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIC8vIEZldGNoIHRoZSBwYXJzZXIgdG9rZW4gZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyLiBVc2VmdWwgZm9yIGhhY2tzXG4gICAgLy8gdGhhdCB3YW50IHRvIGluc3BlY3QgdGhlIG1vZGUgc3RhdGUgKHNheSwgZm9yIGNvbXBsZXRpb24pLlxuICAgIGdldFRva2VuQXQ6IGZ1bmN0aW9uKHBvcywgcHJlY2lzZSkge1xuICAgICAgcmV0dXJuIHRha2VUb2tlbih0aGlzLCBwb3MsIHByZWNpc2UpO1xuICAgIH0sXG5cbiAgICBnZXRMaW5lVG9rZW5zOiBmdW5jdGlvbihsaW5lLCBwcmVjaXNlKSB7XG4gICAgICByZXR1cm4gdGFrZVRva2VuKHRoaXMsIFBvcyhsaW5lKSwgcHJlY2lzZSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIGdldFRva2VuVHlwZUF0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIHBvcyA9IGNsaXBQb3ModGhpcy5kb2MsIHBvcyk7XG4gICAgICB2YXIgc3R5bGVzID0gZ2V0TGluZVN0eWxlcyh0aGlzLCBnZXRMaW5lKHRoaXMuZG9jLCBwb3MubGluZSkpO1xuICAgICAgdmFyIGJlZm9yZSA9IDAsIGFmdGVyID0gKHN0eWxlcy5sZW5ndGggLSAxKSAvIDIsIGNoID0gcG9zLmNoO1xuICAgICAgdmFyIHR5cGU7XG4gICAgICBpZiAoY2ggPT0gMCkgdHlwZSA9IHN0eWxlc1syXTtcbiAgICAgIGVsc2UgZm9yICg7Oykge1xuICAgICAgICB2YXIgbWlkID0gKGJlZm9yZSArIGFmdGVyKSA+PiAxO1xuICAgICAgICBpZiAoKG1pZCA/IHN0eWxlc1ttaWQgKiAyIC0gMV0gOiAwKSA+PSBjaCkgYWZ0ZXIgPSBtaWQ7XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlc1ttaWQgKiAyICsgMV0gPCBjaCkgYmVmb3JlID0gbWlkICsgMTtcbiAgICAgICAgZWxzZSB7IHR5cGUgPSBzdHlsZXNbbWlkICogMiArIDJdOyBicmVhazsgfVxuICAgICAgfVxuICAgICAgdmFyIGN1dCA9IHR5cGUgPyB0eXBlLmluZGV4T2YoXCJjbS1vdmVybGF5IFwiKSA6IC0xO1xuICAgICAgcmV0dXJuIGN1dCA8IDAgPyB0eXBlIDogY3V0ID09IDAgPyBudWxsIDogdHlwZS5zbGljZSgwLCBjdXQgLSAxKTtcbiAgICB9LFxuXG4gICAgZ2V0TW9kZUF0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIHZhciBtb2RlID0gdGhpcy5kb2MubW9kZTtcbiAgICAgIGlmICghbW9kZS5pbm5lck1vZGUpIHJldHVybiBtb2RlO1xuICAgICAgcmV0dXJuIENvZGVNaXJyb3IuaW5uZXJNb2RlKG1vZGUsIHRoaXMuZ2V0VG9rZW5BdChwb3MpLnN0YXRlKS5tb2RlO1xuICAgIH0sXG5cbiAgICBnZXRIZWxwZXI6IGZ1bmN0aW9uKHBvcywgdHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SGVscGVycyhwb3MsIHR5cGUpWzBdO1xuICAgIH0sXG5cbiAgICBnZXRIZWxwZXJzOiBmdW5jdGlvbihwb3MsIHR5cGUpIHtcbiAgICAgIHZhciBmb3VuZCA9IFtdO1xuICAgICAgaWYgKCFoZWxwZXJzLmhhc093blByb3BlcnR5KHR5cGUpKSByZXR1cm4gZm91bmQ7XG4gICAgICB2YXIgaGVscCA9IGhlbHBlcnNbdHlwZV0sIG1vZGUgPSB0aGlzLmdldE1vZGVBdChwb3MpO1xuICAgICAgaWYgKHR5cGVvZiBtb2RlW3R5cGVdID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKGhlbHBbbW9kZVt0eXBlXV0pIGZvdW5kLnB1c2goaGVscFttb2RlW3R5cGVdXSk7XG4gICAgICB9IGVsc2UgaWYgKG1vZGVbdHlwZV0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb2RlW3R5cGVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHZhbCA9IGhlbHBbbW9kZVt0eXBlXVtpXV07XG4gICAgICAgICAgaWYgKHZhbCkgZm91bmQucHVzaCh2YWwpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG1vZGUuaGVscGVyVHlwZSAmJiBoZWxwW21vZGUuaGVscGVyVHlwZV0pIHtcbiAgICAgICAgZm91bmQucHVzaChoZWxwW21vZGUuaGVscGVyVHlwZV0pO1xuICAgICAgfSBlbHNlIGlmIChoZWxwW21vZGUubmFtZV0pIHtcbiAgICAgICAgZm91bmQucHVzaChoZWxwW21vZGUubmFtZV0pO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWxwLl9nbG9iYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1ciA9IGhlbHAuX2dsb2JhbFtpXTtcbiAgICAgICAgaWYgKGN1ci5wcmVkKG1vZGUsIHRoaXMpICYmIGluZGV4T2YoZm91bmQsIGN1ci52YWwpID09IC0xKVxuICAgICAgICAgIGZvdW5kLnB1c2goY3VyLnZhbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZm91bmQ7XG4gICAgfSxcblxuICAgIGdldFN0YXRlQWZ0ZXI6IGZ1bmN0aW9uKGxpbmUsIHByZWNpc2UpIHtcbiAgICAgIHZhciBkb2MgPSB0aGlzLmRvYztcbiAgICAgIGxpbmUgPSBjbGlwTGluZShkb2MsIGxpbmUgPT0gbnVsbCA/IGRvYy5maXJzdCArIGRvYy5zaXplIC0gMTogbGluZSk7XG4gICAgICByZXR1cm4gZ2V0U3RhdGVCZWZvcmUodGhpcywgbGluZSArIDEsIHByZWNpc2UpO1xuICAgIH0sXG5cbiAgICBjdXJzb3JDb29yZHM6IGZ1bmN0aW9uKHN0YXJ0LCBtb2RlKSB7XG4gICAgICB2YXIgcG9zLCByYW5nZSA9IHRoaXMuZG9jLnNlbC5wcmltYXJ5KCk7XG4gICAgICBpZiAoc3RhcnQgPT0gbnVsbCkgcG9zID0gcmFuZ2UuaGVhZDtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdGFydCA9PSBcIm9iamVjdFwiKSBwb3MgPSBjbGlwUG9zKHRoaXMuZG9jLCBzdGFydCk7XG4gICAgICBlbHNlIHBvcyA9IHN0YXJ0ID8gcmFuZ2UuZnJvbSgpIDogcmFuZ2UudG8oKTtcbiAgICAgIHJldHVybiBjdXJzb3JDb29yZHModGhpcywgcG9zLCBtb2RlIHx8IFwicGFnZVwiKTtcbiAgICB9LFxuXG4gICAgY2hhckNvb3JkczogZnVuY3Rpb24ocG9zLCBtb2RlKSB7XG4gICAgICByZXR1cm4gY2hhckNvb3Jkcyh0aGlzLCBjbGlwUG9zKHRoaXMuZG9jLCBwb3MpLCBtb2RlIHx8IFwicGFnZVwiKTtcbiAgICB9LFxuXG4gICAgY29vcmRzQ2hhcjogZnVuY3Rpb24oY29vcmRzLCBtb2RlKSB7XG4gICAgICBjb29yZHMgPSBmcm9tQ29vcmRTeXN0ZW0odGhpcywgY29vcmRzLCBtb2RlIHx8IFwicGFnZVwiKTtcbiAgICAgIHJldHVybiBjb29yZHNDaGFyKHRoaXMsIGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKTtcbiAgICB9LFxuXG4gICAgbGluZUF0SGVpZ2h0OiBmdW5jdGlvbihoZWlnaHQsIG1vZGUpIHtcbiAgICAgIGhlaWdodCA9IGZyb21Db29yZFN5c3RlbSh0aGlzLCB7dG9wOiBoZWlnaHQsIGxlZnQ6IDB9LCBtb2RlIHx8IFwicGFnZVwiKS50b3A7XG4gICAgICByZXR1cm4gbGluZUF0SGVpZ2h0KHRoaXMuZG9jLCBoZWlnaHQgKyB0aGlzLmRpc3BsYXkudmlld09mZnNldCk7XG4gICAgfSxcbiAgICBoZWlnaHRBdExpbmU6IGZ1bmN0aW9uKGxpbmUsIG1vZGUpIHtcbiAgICAgIHZhciBlbmQgPSBmYWxzZSwgbGluZU9iajtcbiAgICAgIGlmICh0eXBlb2YgbGluZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHZhciBsYXN0ID0gdGhpcy5kb2MuZmlyc3QgKyB0aGlzLmRvYy5zaXplIC0gMTtcbiAgICAgICAgaWYgKGxpbmUgPCB0aGlzLmRvYy5maXJzdCkgbGluZSA9IHRoaXMuZG9jLmZpcnN0O1xuICAgICAgICBlbHNlIGlmIChsaW5lID4gbGFzdCkgeyBsaW5lID0gbGFzdDsgZW5kID0gdHJ1ZTsgfVxuICAgICAgICBsaW5lT2JqID0gZ2V0TGluZSh0aGlzLmRvYywgbGluZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lT2JqID0gbGluZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnRvQ29vcmRTeXN0ZW0odGhpcywgbGluZU9iaiwge3RvcDogMCwgbGVmdDogMH0sIG1vZGUgfHwgXCJwYWdlXCIpLnRvcCArXG4gICAgICAgIChlbmQgPyB0aGlzLmRvYy5oZWlnaHQgLSBoZWlnaHRBdExpbmUobGluZU9iaikgOiAwKTtcbiAgICB9LFxuXG4gICAgZGVmYXVsdFRleHRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGV4dEhlaWdodCh0aGlzLmRpc3BsYXkpOyB9LFxuICAgIGRlZmF1bHRDaGFyV2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2hhcldpZHRoKHRoaXMuZGlzcGxheSk7IH0sXG5cbiAgICBzZXRHdXR0ZXJNYXJrZXI6IG1ldGhvZE9wKGZ1bmN0aW9uKGxpbmUsIGd1dHRlcklELCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNoYW5nZUxpbmUodGhpcy5kb2MsIGxpbmUsIFwiZ3V0dGVyXCIsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgdmFyIG1hcmtlcnMgPSBsaW5lLmd1dHRlck1hcmtlcnMgfHwgKGxpbmUuZ3V0dGVyTWFya2VycyA9IHt9KTtcbiAgICAgICAgbWFya2Vyc1tndXR0ZXJJRF0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKCF2YWx1ZSAmJiBpc0VtcHR5KG1hcmtlcnMpKSBsaW5lLmd1dHRlck1hcmtlcnMgPSBudWxsO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pLFxuXG4gICAgY2xlYXJHdXR0ZXI6IG1ldGhvZE9wKGZ1bmN0aW9uKGd1dHRlcklEKSB7XG4gICAgICB2YXIgY20gPSB0aGlzLCBkb2MgPSBjbS5kb2MsIGkgPSBkb2MuZmlyc3Q7XG4gICAgICBkb2MuaXRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lLmd1dHRlck1hcmtlcnMgJiYgbGluZS5ndXR0ZXJNYXJrZXJzW2d1dHRlcklEXSkge1xuICAgICAgICAgIGxpbmUuZ3V0dGVyTWFya2Vyc1tndXR0ZXJJRF0gPSBudWxsO1xuICAgICAgICAgIHJlZ0xpbmVDaGFuZ2UoY20sIGksIFwiZ3V0dGVyXCIpO1xuICAgICAgICAgIGlmIChpc0VtcHR5KGxpbmUuZ3V0dGVyTWFya2VycykpIGxpbmUuZ3V0dGVyTWFya2VycyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgKytpO1xuICAgICAgfSk7XG4gICAgfSksXG5cbiAgICBsaW5lSW5mbzogZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKCFpc0xpbmUodGhpcy5kb2MsIGxpbmUpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIG4gPSBsaW5lO1xuICAgICAgICBsaW5lID0gZ2V0TGluZSh0aGlzLmRvYywgbGluZSk7XG4gICAgICAgIGlmICghbGluZSkgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbiA9IGxpbmVObyhsaW5lKTtcbiAgICAgICAgaWYgKG4gPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge2xpbmU6IG4sIGhhbmRsZTogbGluZSwgdGV4dDogbGluZS50ZXh0LCBndXR0ZXJNYXJrZXJzOiBsaW5lLmd1dHRlck1hcmtlcnMsXG4gICAgICAgICAgICAgIHRleHRDbGFzczogbGluZS50ZXh0Q2xhc3MsIGJnQ2xhc3M6IGxpbmUuYmdDbGFzcywgd3JhcENsYXNzOiBsaW5lLndyYXBDbGFzcyxcbiAgICAgICAgICAgICAgd2lkZ2V0czogbGluZS53aWRnZXRzfTtcbiAgICB9LFxuXG4gICAgZ2V0Vmlld3BvcnQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4ge2Zyb206IHRoaXMuZGlzcGxheS52aWV3RnJvbSwgdG86IHRoaXMuZGlzcGxheS52aWV3VG99O30sXG5cbiAgICBhZGRXaWRnZXQ6IGZ1bmN0aW9uKHBvcywgbm9kZSwgc2Nyb2xsLCB2ZXJ0LCBob3Jpeikge1xuICAgICAgdmFyIGRpc3BsYXkgPSB0aGlzLmRpc3BsYXk7XG4gICAgICBwb3MgPSBjdXJzb3JDb29yZHModGhpcywgY2xpcFBvcyh0aGlzLmRvYywgcG9zKSk7XG4gICAgICB2YXIgdG9wID0gcG9zLmJvdHRvbSwgbGVmdCA9IHBvcy5sZWZ0O1xuICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiLCBcInRydWVcIik7XG4gICAgICB0aGlzLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShub2RlKTtcbiAgICAgIGRpc3BsYXkuc2l6ZXIuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICBpZiAodmVydCA9PSBcIm92ZXJcIikge1xuICAgICAgICB0b3AgPSBwb3MudG9wO1xuICAgICAgfSBlbHNlIGlmICh2ZXJ0ID09IFwiYWJvdmVcIiB8fCB2ZXJ0ID09IFwibmVhclwiKSB7XG4gICAgICAgIHZhciB2c3BhY2UgPSBNYXRoLm1heChkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0LCB0aGlzLmRvYy5oZWlnaHQpLFxuICAgICAgICBoc3BhY2UgPSBNYXRoLm1heChkaXNwbGF5LnNpemVyLmNsaWVudFdpZHRoLCBkaXNwbGF5LmxpbmVTcGFjZS5jbGllbnRXaWR0aCk7XG4gICAgICAgIC8vIERlZmF1bHQgdG8gcG9zaXRpb25pbmcgYWJvdmUgKGlmIHNwZWNpZmllZCBhbmQgcG9zc2libGUpOyBvdGhlcndpc2UgZGVmYXVsdCB0byBwb3NpdGlvbmluZyBiZWxvd1xuICAgICAgICBpZiAoKHZlcnQgPT0gJ2Fib3ZlJyB8fCBwb3MuYm90dG9tICsgbm9kZS5vZmZzZXRIZWlnaHQgPiB2c3BhY2UpICYmIHBvcy50b3AgPiBub2RlLm9mZnNldEhlaWdodClcbiAgICAgICAgICB0b3AgPSBwb3MudG9wIC0gbm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGVsc2UgaWYgKHBvcy5ib3R0b20gKyBub2RlLm9mZnNldEhlaWdodCA8PSB2c3BhY2UpXG4gICAgICAgICAgdG9wID0gcG9zLmJvdHRvbTtcbiAgICAgICAgaWYgKGxlZnQgKyBub2RlLm9mZnNldFdpZHRoID4gaHNwYWNlKVxuICAgICAgICAgIGxlZnQgPSBoc3BhY2UgLSBub2RlLm9mZnNldFdpZHRoO1xuICAgICAgfVxuICAgICAgbm9kZS5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7XG4gICAgICBub2RlLnN0eWxlLmxlZnQgPSBub2RlLnN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICAgIGlmIChob3JpeiA9PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgbGVmdCA9IGRpc3BsYXkuc2l6ZXIuY2xpZW50V2lkdGggLSBub2RlLm9mZnNldFdpZHRoO1xuICAgICAgICBub2RlLnN0eWxlLnJpZ2h0ID0gXCIwcHhcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChob3JpeiA9PSBcImxlZnRcIikgbGVmdCA9IDA7XG4gICAgICAgIGVsc2UgaWYgKGhvcml6ID09IFwibWlkZGxlXCIpIGxlZnQgPSAoZGlzcGxheS5zaXplci5jbGllbnRXaWR0aCAtIG5vZGUub2Zmc2V0V2lkdGgpIC8gMjtcbiAgICAgICAgbm9kZS5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgIH1cbiAgICAgIGlmIChzY3JvbGwpXG4gICAgICAgIHNjcm9sbEludG9WaWV3KHRoaXMsIGxlZnQsIHRvcCwgbGVmdCArIG5vZGUub2Zmc2V0V2lkdGgsIHRvcCArIG5vZGUub2Zmc2V0SGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgdHJpZ2dlck9uS2V5RG93bjogbWV0aG9kT3Aob25LZXlEb3duKSxcbiAgICB0cmlnZ2VyT25LZXlQcmVzczogbWV0aG9kT3Aob25LZXlQcmVzcyksXG4gICAgdHJpZ2dlck9uS2V5VXA6IG9uS2V5VXAsXG5cbiAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24oY21kKSB7XG4gICAgICBpZiAoY29tbWFuZHMuaGFzT3duUHJvcGVydHkoY21kKSlcbiAgICAgICAgcmV0dXJuIGNvbW1hbmRzW2NtZF0uY2FsbChudWxsLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgdHJpZ2dlckVsZWN0cmljOiBtZXRob2RPcChmdW5jdGlvbih0ZXh0KSB7IHRyaWdnZXJFbGVjdHJpYyh0aGlzLCB0ZXh0KTsgfSksXG5cbiAgICBmaW5kUG9zSDogZnVuY3Rpb24oZnJvbSwgYW1vdW50LCB1bml0LCB2aXN1YWxseSkge1xuICAgICAgdmFyIGRpciA9IDE7XG4gICAgICBpZiAoYW1vdW50IDwgMCkgeyBkaXIgPSAtMTsgYW1vdW50ID0gLWFtb3VudDsgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGN1ciA9IGNsaXBQb3ModGhpcy5kb2MsIGZyb20pOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgY3VyID0gZmluZFBvc0godGhpcy5kb2MsIGN1ciwgZGlyLCB1bml0LCB2aXN1YWxseSk7XG4gICAgICAgIGlmIChjdXIuaGl0U2lkZSkgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VyO1xuICAgIH0sXG5cbiAgICBtb3ZlSDogbWV0aG9kT3AoZnVuY3Rpb24oZGlyLCB1bml0KSB7XG4gICAgICB2YXIgY20gPSB0aGlzO1xuICAgICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIGlmIChjbS5kaXNwbGF5LnNoaWZ0IHx8IGNtLmRvYy5leHRlbmQgfHwgcmFuZ2UuZW1wdHkoKSlcbiAgICAgICAgICByZXR1cm4gZmluZFBvc0goY20uZG9jLCByYW5nZS5oZWFkLCBkaXIsIHVuaXQsIGNtLm9wdGlvbnMucnRsTW92ZVZpc3VhbGx5KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBkaXIgPCAwID8gcmFuZ2UuZnJvbSgpIDogcmFuZ2UudG8oKTtcbiAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICB9KSxcblxuICAgIGRlbGV0ZUg6IG1ldGhvZE9wKGZ1bmN0aW9uKGRpciwgdW5pdCkge1xuICAgICAgdmFyIHNlbCA9IHRoaXMuZG9jLnNlbCwgZG9jID0gdGhpcy5kb2M7XG4gICAgICBpZiAoc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCkpXG4gICAgICAgIGRvYy5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsIG51bGwsIFwiK2RlbGV0ZVwiKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZGVsZXRlTmVhclNlbGVjdGlvbih0aGlzLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICAgIHZhciBvdGhlciA9IGZpbmRQb3NIKGRvYywgcmFuZ2UuaGVhZCwgZGlyLCB1bml0LCBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIGRpciA8IDAgPyB7ZnJvbTogb3RoZXIsIHRvOiByYW5nZS5oZWFkfSA6IHtmcm9tOiByYW5nZS5oZWFkLCB0bzogb3RoZXJ9O1xuICAgICAgICB9KTtcbiAgICB9KSxcblxuICAgIGZpbmRQb3NWOiBmdW5jdGlvbihmcm9tLCBhbW91bnQsIHVuaXQsIGdvYWxDb2x1bW4pIHtcbiAgICAgIHZhciBkaXIgPSAxLCB4ID0gZ29hbENvbHVtbjtcbiAgICAgIGlmIChhbW91bnQgPCAwKSB7IGRpciA9IC0xOyBhbW91bnQgPSAtYW1vdW50OyB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgY3VyID0gY2xpcFBvcyh0aGlzLmRvYywgZnJvbSk7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICB2YXIgY29vcmRzID0gY3Vyc29yQ29vcmRzKHRoaXMsIGN1ciwgXCJkaXZcIik7XG4gICAgICAgIGlmICh4ID09IG51bGwpIHggPSBjb29yZHMubGVmdDtcbiAgICAgICAgZWxzZSBjb29yZHMubGVmdCA9IHg7XG4gICAgICAgIGN1ciA9IGZpbmRQb3NWKHRoaXMsIGNvb3JkcywgZGlyLCB1bml0KTtcbiAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXI7XG4gICAgfSxcblxuICAgIG1vdmVWOiBtZXRob2RPcChmdW5jdGlvbihkaXIsIHVuaXQpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMsIGRvYyA9IHRoaXMuZG9jLCBnb2FscyA9IFtdO1xuICAgICAgdmFyIGNvbGxhcHNlID0gIWNtLmRpc3BsYXkuc2hpZnQgJiYgIWRvYy5leHRlbmQgJiYgZG9jLnNlbC5zb21ldGhpbmdTZWxlY3RlZCgpO1xuICAgICAgZG9jLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICBpZiAoY29sbGFwc2UpXG4gICAgICAgICAgcmV0dXJuIGRpciA8IDAgPyByYW5nZS5mcm9tKCkgOiByYW5nZS50bygpO1xuICAgICAgICB2YXIgaGVhZFBvcyA9IGN1cnNvckNvb3JkcyhjbSwgcmFuZ2UuaGVhZCwgXCJkaXZcIik7XG4gICAgICAgIGlmIChyYW5nZS5nb2FsQ29sdW1uICE9IG51bGwpIGhlYWRQb3MubGVmdCA9IHJhbmdlLmdvYWxDb2x1bW47XG4gICAgICAgIGdvYWxzLnB1c2goaGVhZFBvcy5sZWZ0KTtcbiAgICAgICAgdmFyIHBvcyA9IGZpbmRQb3NWKGNtLCBoZWFkUG9zLCBkaXIsIHVuaXQpO1xuICAgICAgICBpZiAodW5pdCA9PSBcInBhZ2VcIiAmJiByYW5nZSA9PSBkb2Muc2VsLnByaW1hcnkoKSlcbiAgICAgICAgICBhZGRUb1Njcm9sbFBvcyhjbSwgbnVsbCwgY2hhckNvb3JkcyhjbSwgcG9zLCBcImRpdlwiKS50b3AgLSBoZWFkUG9zLnRvcCk7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgICB9LCBzZWxfbW92ZSk7XG4gICAgICBpZiAoZ29hbHMubGVuZ3RoKSBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICBkb2Muc2VsLnJhbmdlc1tpXS5nb2FsQ29sdW1uID0gZ29hbHNbaV07XG4gICAgfSksXG5cbiAgICAvLyBGaW5kIHRoZSB3b3JkIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiAoYXMgcmV0dXJuZWQgYnkgY29vcmRzQ2hhcikuXG4gICAgZmluZFdvcmRBdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICB2YXIgZG9jID0gdGhpcy5kb2MsIGxpbmUgPSBnZXRMaW5lKGRvYywgcG9zLmxpbmUpLnRleHQ7XG4gICAgICB2YXIgc3RhcnQgPSBwb3MuY2gsIGVuZCA9IHBvcy5jaDtcbiAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgIHZhciBoZWxwZXIgPSB0aGlzLmdldEhlbHBlcihwb3MsIFwid29yZENoYXJzXCIpO1xuICAgICAgICBpZiAoKHBvcy54UmVsIDwgMCB8fCBlbmQgPT0gbGluZS5sZW5ndGgpICYmIHN0YXJ0KSAtLXN0YXJ0OyBlbHNlICsrZW5kO1xuICAgICAgICB2YXIgc3RhcnRDaGFyID0gbGluZS5jaGFyQXQoc3RhcnQpO1xuICAgICAgICB2YXIgY2hlY2sgPSBpc1dvcmRDaGFyKHN0YXJ0Q2hhciwgaGVscGVyKVxuICAgICAgICAgID8gZnVuY3Rpb24oY2gpIHsgcmV0dXJuIGlzV29yZENoYXIoY2gsIGhlbHBlcik7IH1cbiAgICAgICAgICA6IC9cXHMvLnRlc3Qoc3RhcnRDaGFyKSA/IGZ1bmN0aW9uKGNoKSB7cmV0dXJuIC9cXHMvLnRlc3QoY2gpO31cbiAgICAgICAgICA6IGZ1bmN0aW9uKGNoKSB7cmV0dXJuICEvXFxzLy50ZXN0KGNoKSAmJiAhaXNXb3JkQ2hhcihjaCk7fTtcbiAgICAgICAgd2hpbGUgKHN0YXJ0ID4gMCAmJiBjaGVjayhsaW5lLmNoYXJBdChzdGFydCAtIDEpKSkgLS1zdGFydDtcbiAgICAgICAgd2hpbGUgKGVuZCA8IGxpbmUubGVuZ3RoICYmIGNoZWNrKGxpbmUuY2hhckF0KGVuZCkpKSArK2VuZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoUG9zKHBvcy5saW5lLCBzdGFydCksIFBvcyhwb3MubGluZSwgZW5kKSk7XG4gICAgfSxcblxuICAgIHRvZ2dsZU92ZXJ3cml0ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlID09IHRoaXMuc3RhdGUub3ZlcndyaXRlKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5zdGF0ZS5vdmVyd3JpdGUgPSAhdGhpcy5zdGF0ZS5vdmVyd3JpdGUpXG4gICAgICAgIGFkZENsYXNzKHRoaXMuZGlzcGxheS5jdXJzb3JEaXYsIFwiQ29kZU1pcnJvci1vdmVyd3JpdGVcIik7XG4gICAgICBlbHNlXG4gICAgICAgIHJtQ2xhc3ModGhpcy5kaXNwbGF5LmN1cnNvckRpdiwgXCJDb2RlTWlycm9yLW92ZXJ3cml0ZVwiKTtcblxuICAgICAgc2lnbmFsKHRoaXMsIFwib3ZlcndyaXRlVG9nZ2xlXCIsIHRoaXMsIHRoaXMuc3RhdGUub3ZlcndyaXRlKTtcbiAgICB9LFxuICAgIGhhc0ZvY3VzOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpID09IGFjdGl2ZUVsdCgpOyB9LFxuICAgIGlzUmVhZE9ubHk6IGZ1bmN0aW9uKCkgeyByZXR1cm4gISEodGhpcy5vcHRpb25zLnJlYWRPbmx5IHx8IHRoaXMuZG9jLmNhbnRFZGl0KTsgfSxcblxuICAgIHNjcm9sbFRvOiBtZXRob2RPcChmdW5jdGlvbih4LCB5KSB7XG4gICAgICBpZiAoeCAhPSBudWxsIHx8IHkgIT0gbnVsbCkgcmVzb2x2ZVNjcm9sbFRvUG9zKHRoaXMpO1xuICAgICAgaWYgKHggIT0gbnVsbCkgdGhpcy5jdXJPcC5zY3JvbGxMZWZ0ID0geDtcbiAgICAgIGlmICh5ICE9IG51bGwpIHRoaXMuY3VyT3Auc2Nyb2xsVG9wID0geTtcbiAgICB9KSxcbiAgICBnZXRTY3JvbGxJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuZGlzcGxheS5zY3JvbGxlcjtcbiAgICAgIHJldHVybiB7bGVmdDogc2Nyb2xsZXIuc2Nyb2xsTGVmdCwgdG9wOiBzY3JvbGxlci5zY3JvbGxUb3AsXG4gICAgICAgICAgICAgIGhlaWdodDogc2Nyb2xsZXIuc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsR2FwKHRoaXMpIC0gdGhpcy5kaXNwbGF5LmJhckhlaWdodCxcbiAgICAgICAgICAgICAgd2lkdGg6IHNjcm9sbGVyLnNjcm9sbFdpZHRoIC0gc2Nyb2xsR2FwKHRoaXMpIC0gdGhpcy5kaXNwbGF5LmJhcldpZHRoLFxuICAgICAgICAgICAgICBjbGllbnRIZWlnaHQ6IGRpc3BsYXlIZWlnaHQodGhpcyksIGNsaWVudFdpZHRoOiBkaXNwbGF5V2lkdGgodGhpcyl9O1xuICAgIH0sXG5cbiAgICBzY3JvbGxJbnRvVmlldzogbWV0aG9kT3AoZnVuY3Rpb24ocmFuZ2UsIG1hcmdpbikge1xuICAgICAgaWYgKHJhbmdlID09IG51bGwpIHtcbiAgICAgICAgcmFuZ2UgPSB7ZnJvbTogdGhpcy5kb2Muc2VsLnByaW1hcnkoKS5oZWFkLCB0bzogbnVsbH07XG4gICAgICAgIGlmIChtYXJnaW4gPT0gbnVsbCkgbWFyZ2luID0gdGhpcy5vcHRpb25zLmN1cnNvclNjcm9sbE1hcmdpbjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJhbmdlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmFuZ2UgPSB7ZnJvbTogUG9zKHJhbmdlLCAwKSwgdG86IG51bGx9O1xuICAgICAgfSBlbHNlIGlmIChyYW5nZS5mcm9tID09IG51bGwpIHtcbiAgICAgICAgcmFuZ2UgPSB7ZnJvbTogcmFuZ2UsIHRvOiBudWxsfTtcbiAgICAgIH1cbiAgICAgIGlmICghcmFuZ2UudG8pIHJhbmdlLnRvID0gcmFuZ2UuZnJvbTtcbiAgICAgIHJhbmdlLm1hcmdpbiA9IG1hcmdpbiB8fCAwO1xuXG4gICAgICBpZiAocmFuZ2UuZnJvbS5saW5lICE9IG51bGwpIHtcbiAgICAgICAgcmVzb2x2ZVNjcm9sbFRvUG9zKHRoaXMpO1xuICAgICAgICB0aGlzLmN1ck9wLnNjcm9sbFRvUG9zID0gcmFuZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc1BvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyh0aGlzLCBNYXRoLm1pbihyYW5nZS5mcm9tLmxlZnQsIHJhbmdlLnRvLmxlZnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihyYW5nZS5mcm9tLnRvcCwgcmFuZ2UudG8udG9wKSAtIHJhbmdlLm1hcmdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgocmFuZ2UuZnJvbS5yaWdodCwgcmFuZ2UudG8ucmlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChyYW5nZS5mcm9tLmJvdHRvbSwgcmFuZ2UudG8uYm90dG9tKSArIHJhbmdlLm1hcmdpbik7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG8oc1Bvcy5zY3JvbGxMZWZ0LCBzUG9zLnNjcm9sbFRvcCk7XG4gICAgICB9XG4gICAgfSksXG5cbiAgICBzZXRTaXplOiBtZXRob2RPcChmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgY20gPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaW50ZXJwcmV0KHZhbCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PSBcIm51bWJlclwiIHx8IC9eXFxkKyQvLnRlc3QoU3RyaW5nKHZhbCkpID8gdmFsICsgXCJweFwiIDogdmFsO1xuICAgICAgfVxuICAgICAgaWYgKHdpZHRoICE9IG51bGwpIGNtLmRpc3BsYXkud3JhcHBlci5zdHlsZS53aWR0aCA9IGludGVycHJldCh3aWR0aCk7XG4gICAgICBpZiAoaGVpZ2h0ICE9IG51bGwpIGNtLmRpc3BsYXkud3JhcHBlci5zdHlsZS5oZWlnaHQgPSBpbnRlcnByZXQoaGVpZ2h0KTtcbiAgICAgIGlmIChjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZSh0aGlzKTtcbiAgICAgIHZhciBsaW5lTm8gPSBjbS5kaXNwbGF5LnZpZXdGcm9tO1xuICAgICAgY20uZG9jLml0ZXIobGluZU5vLCBjbS5kaXNwbGF5LnZpZXdUbywgZnVuY3Rpb24obGluZSkge1xuICAgICAgICBpZiAobGluZS53aWRnZXRzKSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUud2lkZ2V0cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICBpZiAobGluZS53aWRnZXRzW2ldLm5vSFNjcm9sbCkgeyByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lTm8sIFwid2lkZ2V0XCIpOyBicmVhazsgfVxuICAgICAgICArK2xpbmVObztcbiAgICAgIH0pO1xuICAgICAgY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgc2lnbmFsKGNtLCBcInJlZnJlc2hcIiwgdGhpcyk7XG4gICAgfSksXG5cbiAgICBvcGVyYXRpb246IGZ1bmN0aW9uKGYpe3JldHVybiBydW5Jbk9wKHRoaXMsIGYpO30sXG5cbiAgICByZWZyZXNoOiBtZXRob2RPcChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvbGRIZWlnaHQgPSB0aGlzLmRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodDtcbiAgICAgIHJlZ0NoYW5nZSh0aGlzKTtcbiAgICAgIHRoaXMuY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgY2xlYXJDYWNoZXModGhpcyk7XG4gICAgICB0aGlzLnNjcm9sbFRvKHRoaXMuZG9jLnNjcm9sbExlZnQsIHRoaXMuZG9jLnNjcm9sbFRvcCk7XG4gICAgICB1cGRhdGVHdXR0ZXJTcGFjZSh0aGlzKTtcbiAgICAgIGlmIChvbGRIZWlnaHQgPT0gbnVsbCB8fCBNYXRoLmFicyhvbGRIZWlnaHQgLSB0ZXh0SGVpZ2h0KHRoaXMuZGlzcGxheSkpID4gLjUpXG4gICAgICAgIGVzdGltYXRlTGluZUhlaWdodHModGhpcyk7XG4gICAgICBzaWduYWwodGhpcywgXCJyZWZyZXNoXCIsIHRoaXMpO1xuICAgIH0pLFxuXG4gICAgc3dhcERvYzogbWV0aG9kT3AoZnVuY3Rpb24oZG9jKSB7XG4gICAgICB2YXIgb2xkID0gdGhpcy5kb2M7XG4gICAgICBvbGQuY20gPSBudWxsO1xuICAgICAgYXR0YWNoRG9jKHRoaXMsIGRvYyk7XG4gICAgICBjbGVhckNhY2hlcyh0aGlzKTtcbiAgICAgIHRoaXMuZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgdGhpcy5zY3JvbGxUbyhkb2Muc2Nyb2xsTGVmdCwgZG9jLnNjcm9sbFRvcCk7XG4gICAgICB0aGlzLmN1ck9wLmZvcmNlU2Nyb2xsID0gdHJ1ZTtcbiAgICAgIHNpZ25hbExhdGVyKHRoaXMsIFwic3dhcERvY1wiLCB0aGlzLCBvbGQpO1xuICAgICAgcmV0dXJuIG9sZDtcbiAgICB9KSxcblxuICAgIGdldElucHV0RmllbGQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpO30sXG4gICAgZ2V0V3JhcHBlckVsZW1lbnQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS53cmFwcGVyO30sXG4gICAgZ2V0U2Nyb2xsZXJFbGVtZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuc2Nyb2xsZXI7fSxcbiAgICBnZXRHdXR0ZXJFbGVtZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuZ3V0dGVyczt9XG4gIH07XG4gIGV2ZW50TWl4aW4oQ29kZU1pcnJvcik7XG5cbiAgLy8gT1BUSU9OIERFRkFVTFRTXG5cbiAgLy8gVGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICB2YXIgZGVmYXVsdHMgPSBDb2RlTWlycm9yLmRlZmF1bHRzID0ge307XG4gIC8vIEZ1bmN0aW9ucyB0byBydW4gd2hlbiBvcHRpb25zIGFyZSBjaGFuZ2VkLlxuICB2YXIgb3B0aW9uSGFuZGxlcnMgPSBDb2RlTWlycm9yLm9wdGlvbkhhbmRsZXJzID0ge307XG5cbiAgZnVuY3Rpb24gb3B0aW9uKG5hbWUsIGRlZmx0LCBoYW5kbGUsIG5vdE9uSW5pdCkge1xuICAgIENvZGVNaXJyb3IuZGVmYXVsdHNbbmFtZV0gPSBkZWZsdDtcbiAgICBpZiAoaGFuZGxlKSBvcHRpb25IYW5kbGVyc1tuYW1lXSA9XG4gICAgICBub3RPbkluaXQgPyBmdW5jdGlvbihjbSwgdmFsLCBvbGQpIHtpZiAob2xkICE9IEluaXQpIGhhbmRsZShjbSwgdmFsLCBvbGQpO30gOiBoYW5kbGU7XG4gIH1cblxuICAvLyBQYXNzZWQgdG8gb3B0aW9uIGhhbmRsZXJzIHdoZW4gdGhlcmUgaXMgbm8gb2xkIHZhbHVlLlxuICB2YXIgSW5pdCA9IENvZGVNaXJyb3IuSW5pdCA9IHt0b1N0cmluZzogZnVuY3Rpb24oKXtyZXR1cm4gXCJDb2RlTWlycm9yLkluaXRcIjt9fTtcblxuICAvLyBUaGVzZSB0d28gYXJlLCBvbiBpbml0LCBjYWxsZWQgZnJvbSB0aGUgY29uc3RydWN0b3IgYmVjYXVzZSB0aGV5XG4gIC8vIGhhdmUgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIHRoZSBlZGl0b3IgY2FuIHN0YXJ0IGF0IGFsbC5cbiAgb3B0aW9uKFwidmFsdWVcIiwgXCJcIiwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGNtLnNldFZhbHVlKHZhbCk7XG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJtb2RlXCIsIG51bGwsIGZ1bmN0aW9uKGNtLCB2YWwpIHtcbiAgICBjbS5kb2MubW9kZU9wdGlvbiA9IHZhbDtcbiAgICBsb2FkTW9kZShjbSk7XG4gIH0sIHRydWUpO1xuXG4gIG9wdGlvbihcImluZGVudFVuaXRcIiwgMiwgbG9hZE1vZGUsIHRydWUpO1xuICBvcHRpb24oXCJpbmRlbnRXaXRoVGFic1wiLCBmYWxzZSk7XG4gIG9wdGlvbihcInNtYXJ0SW5kZW50XCIsIHRydWUpO1xuICBvcHRpb24oXCJ0YWJTaXplXCIsIDQsIGZ1bmN0aW9uKGNtKSB7XG4gICAgcmVzZXRNb2RlU3RhdGUoY20pO1xuICAgIGNsZWFyQ2FjaGVzKGNtKTtcbiAgICByZWdDaGFuZ2UoY20pO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwibGluZVNlcGFyYXRvclwiLCBudWxsLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgY20uZG9jLmxpbmVTZXAgPSB2YWw7XG4gICAgaWYgKCF2YWwpIHJldHVybjtcbiAgICB2YXIgbmV3QnJlYWtzID0gW10sIGxpbmVObyA9IGNtLmRvYy5maXJzdDtcbiAgICBjbS5kb2MuaXRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICBmb3IgKHZhciBwb3MgPSAwOzspIHtcbiAgICAgICAgdmFyIGZvdW5kID0gbGluZS50ZXh0LmluZGV4T2YodmFsLCBwb3MpO1xuICAgICAgICBpZiAoZm91bmQgPT0gLTEpIGJyZWFrO1xuICAgICAgICBwb3MgPSBmb3VuZCArIHZhbC5sZW5ndGg7XG4gICAgICAgIG5ld0JyZWFrcy5wdXNoKFBvcyhsaW5lTm8sIGZvdW5kKSk7XG4gICAgICB9XG4gICAgICBsaW5lTm8rKztcbiAgICB9KTtcbiAgICBmb3IgKHZhciBpID0gbmV3QnJlYWtzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgcmVwbGFjZVJhbmdlKGNtLmRvYywgdmFsLCBuZXdCcmVha3NbaV0sIFBvcyhuZXdCcmVha3NbaV0ubGluZSwgbmV3QnJlYWtzW2ldLmNoICsgdmFsLmxlbmd0aCkpXG4gIH0pO1xuICBvcHRpb24oXCJzcGVjaWFsQ2hhcnNcIiwgL1tcXHUwMDAwLVxcdTAwMWZcXHUwMDdmXFx1MDBhZFxcdTIwMGItXFx1MjAwZlxcdTIwMjhcXHUyMDI5XFx1ZmVmZl0vZywgZnVuY3Rpb24oY20sIHZhbCwgb2xkKSB7XG4gICAgY20uc3RhdGUuc3BlY2lhbENoYXJzID0gbmV3IFJlZ0V4cCh2YWwuc291cmNlICsgKHZhbC50ZXN0KFwiXFx0XCIpID8gXCJcIiA6IFwifFxcdFwiKSwgXCJnXCIpO1xuICAgIGlmIChvbGQgIT0gQ29kZU1pcnJvci5Jbml0KSBjbS5yZWZyZXNoKCk7XG4gIH0pO1xuICBvcHRpb24oXCJzcGVjaWFsQ2hhclBsYWNlaG9sZGVyXCIsIGRlZmF1bHRTcGVjaWFsQ2hhclBsYWNlaG9sZGVyLCBmdW5jdGlvbihjbSkge2NtLnJlZnJlc2goKTt9LCB0cnVlKTtcbiAgb3B0aW9uKFwiZWxlY3RyaWNDaGFyc1wiLCB0cnVlKTtcbiAgb3B0aW9uKFwiaW5wdXRTdHlsZVwiLCBtb2JpbGUgPyBcImNvbnRlbnRlZGl0YWJsZVwiIDogXCJ0ZXh0YXJlYVwiLCBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnB1dFN0eWxlIGNhbiBub3QgKHlldCkgYmUgY2hhbmdlZCBpbiBhIHJ1bm5pbmcgZWRpdG9yXCIpOyAvLyBGSVhNRVxuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwicnRsTW92ZVZpc3VhbGx5XCIsICF3aW5kb3dzKTtcbiAgb3B0aW9uKFwid2hvbGVMaW5lVXBkYXRlQmVmb3JlXCIsIHRydWUpO1xuXG4gIG9wdGlvbihcInRoZW1lXCIsIFwiZGVmYXVsdFwiLCBmdW5jdGlvbihjbSkge1xuICAgIHRoZW1lQ2hhbmdlZChjbSk7XG4gICAgZ3V0dGVyc0NoYW5nZWQoY20pO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwia2V5TWFwXCIsIFwiZGVmYXVsdFwiLCBmdW5jdGlvbihjbSwgdmFsLCBvbGQpIHtcbiAgICB2YXIgbmV4dCA9IGdldEtleU1hcCh2YWwpO1xuICAgIHZhciBwcmV2ID0gb2xkICE9IENvZGVNaXJyb3IuSW5pdCAmJiBnZXRLZXlNYXAob2xkKTtcbiAgICBpZiAocHJldiAmJiBwcmV2LmRldGFjaCkgcHJldi5kZXRhY2goY20sIG5leHQpO1xuICAgIGlmIChuZXh0LmF0dGFjaCkgbmV4dC5hdHRhY2goY20sIHByZXYgfHwgbnVsbCk7XG4gIH0pO1xuICBvcHRpb24oXCJleHRyYUtleXNcIiwgbnVsbCk7XG5cbiAgb3B0aW9uKFwibGluZVdyYXBwaW5nXCIsIGZhbHNlLCB3cmFwcGluZ0NoYW5nZWQsIHRydWUpO1xuICBvcHRpb24oXCJndXR0ZXJzXCIsIFtdLCBmdW5jdGlvbihjbSkge1xuICAgIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhjbS5vcHRpb25zKTtcbiAgICBndXR0ZXJzQ2hhbmdlZChjbSk7XG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJmaXhlZEd1dHRlclwiLCB0cnVlLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgY20uZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmxlZnQgPSB2YWwgPyBjb21wZW5zYXRlRm9ySFNjcm9sbChjbS5kaXNwbGF5KSArIFwicHhcIiA6IFwiMFwiO1xuICAgIGNtLnJlZnJlc2goKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyXCIsIGZhbHNlLCBmdW5jdGlvbihjbSkge3VwZGF0ZVNjcm9sbGJhcnMoY20pO30sIHRydWUpO1xuICBvcHRpb24oXCJzY3JvbGxiYXJTdHlsZVwiLCBcIm5hdGl2ZVwiLCBmdW5jdGlvbihjbSkge1xuICAgIGluaXRTY3JvbGxiYXJzKGNtKTtcbiAgICB1cGRhdGVTY3JvbGxiYXJzKGNtKTtcbiAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGNtLmRvYy5zY3JvbGxUb3ApO1xuICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KGNtLmRvYy5zY3JvbGxMZWZ0KTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImxpbmVOdW1iZXJzXCIsIGZhbHNlLCBmdW5jdGlvbihjbSkge1xuICAgIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhjbS5vcHRpb25zKTtcbiAgICBndXR0ZXJzQ2hhbmdlZChjbSk7XG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJmaXJzdExpbmVOdW1iZXJcIiwgMSwgZ3V0dGVyc0NoYW5nZWQsIHRydWUpO1xuICBvcHRpb24oXCJsaW5lTnVtYmVyRm9ybWF0dGVyXCIsIGZ1bmN0aW9uKGludGVnZXIpIHtyZXR1cm4gaW50ZWdlcjt9LCBndXR0ZXJzQ2hhbmdlZCwgdHJ1ZSk7XG4gIG9wdGlvbihcInNob3dDdXJzb3JXaGVuU2VsZWN0aW5nXCIsIGZhbHNlLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpO1xuXG4gIG9wdGlvbihcInJlc2V0U2VsZWN0aW9uT25Db250ZXh0TWVudVwiLCB0cnVlKTtcbiAgb3B0aW9uKFwibGluZVdpc2VDb3B5Q3V0XCIsIHRydWUpO1xuXG4gIG9wdGlvbihcInJlYWRPbmx5XCIsIGZhbHNlLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgaWYgKHZhbCA9PSBcIm5vY3Vyc29yXCIpIHtcbiAgICAgIG9uQmx1cihjbSk7XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LmJsdXIoKTtcbiAgICAgIGNtLmRpc3BsYXkuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbS5kaXNwbGF5LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGNtLmRpc3BsYXkuaW5wdXQucmVhZE9ubHlDaGFuZ2VkKHZhbClcbiAgfSk7XG4gIG9wdGlvbihcImRpc2FibGVJbnB1dFwiLCBmYWxzZSwgZnVuY3Rpb24oY20sIHZhbCkge2lmICghdmFsKSBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KCk7fSwgdHJ1ZSk7XG4gIG9wdGlvbihcImRyYWdEcm9wXCIsIHRydWUsIGRyYWdEcm9wQ2hhbmdlZCk7XG4gIG9wdGlvbihcImFsbG93RHJvcEZpbGVUeXBlc1wiLCBudWxsKTtcblxuICBvcHRpb24oXCJjdXJzb3JCbGlua1JhdGVcIiwgNTMwKTtcbiAgb3B0aW9uKFwiY3Vyc29yU2Nyb2xsTWFyZ2luXCIsIDApO1xuICBvcHRpb24oXCJjdXJzb3JIZWlnaHRcIiwgMSwgdXBkYXRlU2VsZWN0aW9uLCB0cnVlKTtcbiAgb3B0aW9uKFwic2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZVwiLCB0cnVlLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpO1xuICBvcHRpb24oXCJ3b3JrVGltZVwiLCAxMDApO1xuICBvcHRpb24oXCJ3b3JrRGVsYXlcIiwgMTAwKTtcbiAgb3B0aW9uKFwiZmxhdHRlblNwYW5zXCIsIHRydWUsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKTtcbiAgb3B0aW9uKFwiYWRkTW9kZUNsYXNzXCIsIGZhbHNlLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSk7XG4gIG9wdGlvbihcInBvbGxJbnRlcnZhbFwiLCAxMDApO1xuICBvcHRpb24oXCJ1bmRvRGVwdGhcIiwgMjAwLCBmdW5jdGlvbihjbSwgdmFsKXtjbS5kb2MuaGlzdG9yeS51bmRvRGVwdGggPSB2YWw7fSk7XG4gIG9wdGlvbihcImhpc3RvcnlFdmVudERlbGF5XCIsIDEyNTApO1xuICBvcHRpb24oXCJ2aWV3cG9ydE1hcmdpblwiLCAxMCwgZnVuY3Rpb24oY20pe2NtLnJlZnJlc2goKTt9LCB0cnVlKTtcbiAgb3B0aW9uKFwibWF4SGlnaGxpZ2h0TGVuZ3RoXCIsIDEwMDAwLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSk7XG4gIG9wdGlvbihcIm1vdmVJbnB1dFdpdGhDdXJzb3JcIiwgdHJ1ZSwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGlmICghdmFsKSBjbS5kaXNwbGF5LmlucHV0LnJlc2V0UG9zaXRpb24oKTtcbiAgfSk7XG5cbiAgb3B0aW9uKFwidGFiaW5kZXhcIiwgbnVsbCwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGNtLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKS50YWJJbmRleCA9IHZhbCB8fCBcIlwiO1xuICB9KTtcbiAgb3B0aW9uKFwiYXV0b2ZvY3VzXCIsIG51bGwpO1xuXG4gIC8vIE1PREUgREVGSU5JVElPTiBBTkQgUVVFUllJTkdcblxuICAvLyBLbm93biBtb2RlcywgYnkgbmFtZSBhbmQgYnkgTUlNRVxuICB2YXIgbW9kZXMgPSBDb2RlTWlycm9yLm1vZGVzID0ge30sIG1pbWVNb2RlcyA9IENvZGVNaXJyb3IubWltZU1vZGVzID0ge307XG5cbiAgLy8gRXh0cmEgYXJndW1lbnRzIGFyZSBzdG9yZWQgYXMgdGhlIG1vZGUncyBkZXBlbmRlbmNpZXMsIHdoaWNoIGlzXG4gIC8vIHVzZWQgYnkgKGxlZ2FjeSkgbWVjaGFuaXNtcyBsaWtlIGxvYWRtb2RlLmpzIHRvIGF1dG9tYXRpY2FsbHlcbiAgLy8gbG9hZCBhIG1vZGUuIChQcmVmZXJyZWQgbWVjaGFuaXNtIGlzIHRoZSByZXF1aXJlL2RlZmluZSBjYWxscy4pXG4gIENvZGVNaXJyb3IuZGVmaW5lTW9kZSA9IGZ1bmN0aW9uKG5hbWUsIG1vZGUpIHtcbiAgICBpZiAoIUNvZGVNaXJyb3IuZGVmYXVsdHMubW9kZSAmJiBuYW1lICE9IFwibnVsbFwiKSBDb2RlTWlycm9yLmRlZmF1bHRzLm1vZGUgPSBuYW1lO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMilcbiAgICAgIG1vZGUuZGVwZW5kZW5jaWVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICBtb2Rlc1tuYW1lXSA9IG1vZGU7XG4gIH07XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNSU1FID0gZnVuY3Rpb24obWltZSwgc3BlYykge1xuICAgIG1pbWVNb2Rlc1ttaW1lXSA9IHNwZWM7XG4gIH07XG5cbiAgLy8gR2l2ZW4gYSBNSU1FIHR5cGUsIGEge25hbWUsIC4uLm9wdGlvbnN9IGNvbmZpZyBvYmplY3QsIG9yIGEgbmFtZVxuICAvLyBzdHJpbmcsIHJldHVybiBhIG1vZGUgY29uZmlnIG9iamVjdC5cbiAgQ29kZU1pcnJvci5yZXNvbHZlTW9kZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICBpZiAodHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiBtaW1lTW9kZXMuaGFzT3duUHJvcGVydHkoc3BlYykpIHtcbiAgICAgIHNwZWMgPSBtaW1lTW9kZXNbc3BlY107XG4gICAgfSBlbHNlIGlmIChzcGVjICYmIHR5cGVvZiBzcGVjLm5hbWUgPT0gXCJzdHJpbmdcIiAmJiBtaW1lTW9kZXMuaGFzT3duUHJvcGVydHkoc3BlYy5uYW1lKSkge1xuICAgICAgdmFyIGZvdW5kID0gbWltZU1vZGVzW3NwZWMubmFtZV07XG4gICAgICBpZiAodHlwZW9mIGZvdW5kID09IFwic3RyaW5nXCIpIGZvdW5kID0ge25hbWU6IGZvdW5kfTtcbiAgICAgIHNwZWMgPSBjcmVhdGVPYmooZm91bmQsIHNwZWMpO1xuICAgICAgc3BlYy5uYW1lID0gZm91bmQubmFtZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIgJiYgL15bXFx3XFwtXStcXC9bXFx3XFwtXStcXCt4bWwkLy50ZXN0KHNwZWMpKSB7XG4gICAgICByZXR1cm4gQ29kZU1pcnJvci5yZXNvbHZlTW9kZShcImFwcGxpY2F0aW9uL3htbFwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIpIHJldHVybiB7bmFtZTogc3BlY307XG4gICAgZWxzZSByZXR1cm4gc3BlYyB8fCB7bmFtZTogXCJudWxsXCJ9O1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgbW9kZSBzcGVjIChhbnl0aGluZyB0aGF0IHJlc29sdmVNb2RlIGFjY2VwdHMpLCBmaW5kIGFuZFxuICAvLyBpbml0aWFsaXplIGFuIGFjdHVhbCBtb2RlIG9iamVjdC5cbiAgQ29kZU1pcnJvci5nZXRNb2RlID0gZnVuY3Rpb24ob3B0aW9ucywgc3BlYykge1xuICAgIHZhciBzcGVjID0gQ29kZU1pcnJvci5yZXNvbHZlTW9kZShzcGVjKTtcbiAgICB2YXIgbWZhY3RvcnkgPSBtb2Rlc1tzcGVjLm5hbWVdO1xuICAgIGlmICghbWZhY3RvcnkpIHJldHVybiBDb2RlTWlycm9yLmdldE1vZGUob3B0aW9ucywgXCJ0ZXh0L3BsYWluXCIpO1xuICAgIHZhciBtb2RlT2JqID0gbWZhY3Rvcnkob3B0aW9ucywgc3BlYyk7XG4gICAgaWYgKG1vZGVFeHRlbnNpb25zLmhhc093blByb3BlcnR5KHNwZWMubmFtZSkpIHtcbiAgICAgIHZhciBleHRzID0gbW9kZUV4dGVuc2lvbnNbc3BlYy5uYW1lXTtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gZXh0cykge1xuICAgICAgICBpZiAoIWV4dHMuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAobW9kZU9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgbW9kZU9ialtcIl9cIiArIHByb3BdID0gbW9kZU9ialtwcm9wXTtcbiAgICAgICAgbW9kZU9ialtwcm9wXSA9IGV4dHNbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIG1vZGVPYmoubmFtZSA9IHNwZWMubmFtZTtcbiAgICBpZiAoc3BlYy5oZWxwZXJUeXBlKSBtb2RlT2JqLmhlbHBlclR5cGUgPSBzcGVjLmhlbHBlclR5cGU7XG4gICAgaWYgKHNwZWMubW9kZVByb3BzKSBmb3IgKHZhciBwcm9wIGluIHNwZWMubW9kZVByb3BzKVxuICAgICAgbW9kZU9ialtwcm9wXSA9IHNwZWMubW9kZVByb3BzW3Byb3BdO1xuXG4gICAgcmV0dXJuIG1vZGVPYmo7XG4gIH07XG5cbiAgLy8gTWluaW1hbCBkZWZhdWx0IG1vZGUuXG4gIENvZGVNaXJyb3IuZGVmaW5lTW9kZShcIm51bGxcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHt0b2tlbjogZnVuY3Rpb24oc3RyZWFtKSB7c3RyZWFtLnNraXBUb0VuZCgpO319O1xuICB9KTtcbiAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC9wbGFpblwiLCBcIm51bGxcIik7XG5cbiAgLy8gVGhpcyBjYW4gYmUgdXNlZCB0byBhdHRhY2ggcHJvcGVydGllcyB0byBtb2RlIG9iamVjdHMgZnJvbVxuICAvLyBvdXRzaWRlIHRoZSBhY3R1YWwgbW9kZSBkZWZpbml0aW9uLlxuICB2YXIgbW9kZUV4dGVuc2lvbnMgPSBDb2RlTWlycm9yLm1vZGVFeHRlbnNpb25zID0ge307XG4gIENvZGVNaXJyb3IuZXh0ZW5kTW9kZSA9IGZ1bmN0aW9uKG1vZGUsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgZXh0cyA9IG1vZGVFeHRlbnNpb25zLmhhc093blByb3BlcnR5KG1vZGUpID8gbW9kZUV4dGVuc2lvbnNbbW9kZV0gOiAobW9kZUV4dGVuc2lvbnNbbW9kZV0gPSB7fSk7XG4gICAgY29weU9iaihwcm9wZXJ0aWVzLCBleHRzKTtcbiAgfTtcblxuICAvLyBFWFRFTlNJT05TXG5cbiAgQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24gPSBmdW5jdGlvbihuYW1lLCBmdW5jKSB7XG4gICAgQ29kZU1pcnJvci5wcm90b3R5cGVbbmFtZV0gPSBmdW5jO1xuICB9O1xuICBDb2RlTWlycm9yLmRlZmluZURvY0V4dGVuc2lvbiA9IGZ1bmN0aW9uKG5hbWUsIGZ1bmMpIHtcbiAgICBEb2MucHJvdG90eXBlW25hbWVdID0gZnVuYztcbiAgfTtcbiAgQ29kZU1pcnJvci5kZWZpbmVPcHRpb24gPSBvcHRpb247XG5cbiAgdmFyIGluaXRIb29rcyA9IFtdO1xuICBDb2RlTWlycm9yLmRlZmluZUluaXRIb29rID0gZnVuY3Rpb24oZikge2luaXRIb29rcy5wdXNoKGYpO307XG5cbiAgdmFyIGhlbHBlcnMgPSBDb2RlTWlycm9yLmhlbHBlcnMgPSB7fTtcbiAgQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlciA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKCFoZWxwZXJzLmhhc093blByb3BlcnR5KHR5cGUpKSBoZWxwZXJzW3R5cGVdID0gQ29kZU1pcnJvclt0eXBlXSA9IHtfZ2xvYmFsOiBbXX07XG4gICAgaGVscGVyc1t0eXBlXVtuYW1lXSA9IHZhbHVlO1xuICB9O1xuICBDb2RlTWlycm9yLnJlZ2lzdGVyR2xvYmFsSGVscGVyID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgcHJlZGljYXRlLCB2YWx1ZSkge1xuICAgIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIodHlwZSwgbmFtZSwgdmFsdWUpO1xuICAgIGhlbHBlcnNbdHlwZV0uX2dsb2JhbC5wdXNoKHtwcmVkOiBwcmVkaWNhdGUsIHZhbDogdmFsdWV9KTtcbiAgfTtcblxuICAvLyBNT0RFIFNUQVRFIEhBTkRMSU5HXG5cbiAgLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBzdGF0ZS4gRXhwb3J0ZWQgYmVjYXVzZSBuZXN0ZWRcbiAgLy8gbW9kZXMgbmVlZCB0byBkbyB0aGlzIGZvciB0aGVpciBpbm5lciBtb2Rlcy5cblxuICB2YXIgY29weVN0YXRlID0gQ29kZU1pcnJvci5jb3B5U3RhdGUgPSBmdW5jdGlvbihtb2RlLCBzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkgcmV0dXJuIHN0YXRlO1xuICAgIGlmIChtb2RlLmNvcHlTdGF0ZSkgcmV0dXJuIG1vZGUuY29weVN0YXRlKHN0YXRlKTtcbiAgICB2YXIgbnN0YXRlID0ge307XG4gICAgZm9yICh2YXIgbiBpbiBzdGF0ZSkge1xuICAgICAgdmFyIHZhbCA9IHN0YXRlW25dO1xuICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5KSB2YWwgPSB2YWwuY29uY2F0KFtdKTtcbiAgICAgIG5zdGF0ZVtuXSA9IHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIG5zdGF0ZTtcbiAgfTtcblxuICB2YXIgc3RhcnRTdGF0ZSA9IENvZGVNaXJyb3Iuc3RhcnRTdGF0ZSA9IGZ1bmN0aW9uKG1vZGUsIGExLCBhMikge1xuICAgIHJldHVybiBtb2RlLnN0YXJ0U3RhdGUgPyBtb2RlLnN0YXJ0U3RhdGUoYTEsIGEyKSA6IHRydWU7XG4gIH07XG5cbiAgLy8gR2l2ZW4gYSBtb2RlIGFuZCBhIHN0YXRlIChmb3IgdGhhdCBtb2RlKSwgZmluZCB0aGUgaW5uZXIgbW9kZSBhbmRcbiAgLy8gc3RhdGUgYXQgdGhlIHBvc2l0aW9uIHRoYXQgdGhlIHN0YXRlIHJlZmVycyB0by5cbiAgQ29kZU1pcnJvci5pbm5lck1vZGUgPSBmdW5jdGlvbihtb2RlLCBzdGF0ZSkge1xuICAgIHdoaWxlIChtb2RlLmlubmVyTW9kZSkge1xuICAgICAgdmFyIGluZm8gPSBtb2RlLmlubmVyTW9kZShzdGF0ZSk7XG4gICAgICBpZiAoIWluZm8gfHwgaW5mby5tb2RlID09IG1vZGUpIGJyZWFrO1xuICAgICAgc3RhdGUgPSBpbmZvLnN0YXRlO1xuICAgICAgbW9kZSA9IGluZm8ubW9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGluZm8gfHwge21vZGU6IG1vZGUsIHN0YXRlOiBzdGF0ZX07XG4gIH07XG5cbiAgLy8gU1RBTkRBUkQgQ09NTUFORFNcblxuICAvLyBDb21tYW5kcyBhcmUgcGFyYW1ldGVyLWxlc3MgYWN0aW9ucyB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgb24gYW5cbiAgLy8gZWRpdG9yLCBtb3N0bHkgdXNlZCBmb3Iga2V5YmluZGluZ3MuXG4gIHZhciBjb21tYW5kcyA9IENvZGVNaXJyb3IuY29tbWFuZHMgPSB7XG4gICAgc2VsZWN0QWxsOiBmdW5jdGlvbihjbSkge2NtLnNldFNlbGVjdGlvbihQb3MoY20uZmlyc3RMaW5lKCksIDApLCBQb3MoY20ubGFzdExpbmUoKSksIHNlbF9kb250U2Nyb2xsKTt9LFxuICAgIHNpbmdsZVNlbGVjdGlvbjogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLnNldFNlbGVjdGlvbihjbS5nZXRDdXJzb3IoXCJhbmNob3JcIiksIGNtLmdldEN1cnNvcihcImhlYWRcIiksIHNlbF9kb250U2Nyb2xsKTtcbiAgICB9LFxuICAgIGtpbGxMaW5lOiBmdW5jdGlvbihjbSkge1xuICAgICAgZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgaWYgKHJhbmdlLmVtcHR5KCkpIHtcbiAgICAgICAgICB2YXIgbGVuID0gZ2V0TGluZShjbS5kb2MsIHJhbmdlLmhlYWQubGluZSkudGV4dC5sZW5ndGg7XG4gICAgICAgICAgaWYgKHJhbmdlLmhlYWQuY2ggPT0gbGVuICYmIHJhbmdlLmhlYWQubGluZSA8IGNtLmxhc3RMaW5lKCkpXG4gICAgICAgICAgICByZXR1cm4ge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBQb3MocmFuZ2UuaGVhZC5saW5lICsgMSwgMCl9O1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiB7ZnJvbTogcmFuZ2UuaGVhZCwgdG86IFBvcyhyYW5nZS5oZWFkLmxpbmUsIGxlbil9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7ZnJvbTogcmFuZ2UuZnJvbSgpLCB0bzogcmFuZ2UudG8oKX07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlTGluZTogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB7ZnJvbTogUG9zKHJhbmdlLmZyb20oKS5saW5lLCAwKSxcbiAgICAgICAgICAgICAgICB0bzogY2xpcFBvcyhjbS5kb2MsIFBvcyhyYW5nZS50bygpLmxpbmUgKyAxLCAwKSl9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBkZWxMaW5lTGVmdDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB7ZnJvbTogUG9zKHJhbmdlLmZyb20oKS5saW5lLCAwKSwgdG86IHJhbmdlLmZyb20oKX07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbFdyYXBwZWRMaW5lTGVmdDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICAgIHZhciBsZWZ0UG9zID0gY20uY29vcmRzQ2hhcih7bGVmdDogMCwgdG9wOiB0b3B9LCBcImRpdlwiKTtcbiAgICAgICAgcmV0dXJuIHtmcm9tOiBsZWZ0UG9zLCB0bzogcmFuZ2UuZnJvbSgpfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsV3JhcHBlZExpbmVSaWdodDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICAgIHZhciByaWdodFBvcyA9IGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IGNtLmRpc3BsYXkubGluZURpdi5vZmZzZXRXaWR0aCArIDEwMCwgdG9wOiB0b3B9LCBcImRpdlwiKTtcbiAgICAgICAgcmV0dXJuIHtmcm9tOiByYW5nZS5mcm9tKCksIHRvOiByaWdodFBvcyB9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmRvOiBmdW5jdGlvbihjbSkge2NtLnVuZG8oKTt9LFxuICAgIHJlZG86IGZ1bmN0aW9uKGNtKSB7Y20ucmVkbygpO30sXG4gICAgdW5kb1NlbGVjdGlvbjogZnVuY3Rpb24oY20pIHtjbS51bmRvU2VsZWN0aW9uKCk7fSxcbiAgICByZWRvU2VsZWN0aW9uOiBmdW5jdGlvbihjbSkge2NtLnJlZG9TZWxlY3Rpb24oKTt9LFxuICAgIGdvRG9jU3RhcnQ6IGZ1bmN0aW9uKGNtKSB7Y20uZXh0ZW5kU2VsZWN0aW9uKFBvcyhjbS5maXJzdExpbmUoKSwgMCkpO30sXG4gICAgZ29Eb2NFbmQ6IGZ1bmN0aW9uKGNtKSB7Y20uZXh0ZW5kU2VsZWN0aW9uKFBvcyhjbS5sYXN0TGluZSgpKSk7fSxcbiAgICBnb0xpbmVTdGFydDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkgeyByZXR1cm4gbGluZVN0YXJ0KGNtLCByYW5nZS5oZWFkLmxpbmUpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcmlnaW46IFwiK21vdmVcIiwgYmlhczogMX0pO1xuICAgIH0sXG4gICAgZ29MaW5lU3RhcnRTbWFydDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gbGluZVN0YXJ0U21hcnQoY20sIHJhbmdlLmhlYWQpO1xuICAgICAgfSwge29yaWdpbjogXCIrbW92ZVwiLCBiaWFzOiAxfSk7XG4gICAgfSxcbiAgICBnb0xpbmVFbmQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHsgcmV0dXJuIGxpbmVFbmQoY20sIHJhbmdlLmhlYWQubGluZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge29yaWdpbjogXCIrbW92ZVwiLCBiaWFzOiAtMX0pO1xuICAgIH0sXG4gICAgZ29MaW5lUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgICAgcmV0dXJuIGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IGNtLmRpc3BsYXkubGluZURpdi5vZmZzZXRXaWR0aCArIDEwMCwgdG9wOiB0b3B9LCBcImRpdlwiKTtcbiAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICB9LFxuICAgIGdvTGluZUxlZnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgICAgcmV0dXJuIGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICB9LCBzZWxfbW92ZSk7XG4gICAgfSxcbiAgICBnb0xpbmVMZWZ0U21hcnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgICAgdmFyIHBvcyA9IGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICAgIGlmIChwb3MuY2ggPCBjbS5nZXRMaW5lKHBvcy5saW5lKS5zZWFyY2goL1xcUy8pKSByZXR1cm4gbGluZVN0YXJ0U21hcnQoY20sIHJhbmdlLmhlYWQpO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgfSwgc2VsX21vdmUpO1xuICAgIH0sXG4gICAgZ29MaW5lVXA6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZVYoLTEsIFwibGluZVwiKTt9LFxuICAgIGdvTGluZURvd246IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZVYoMSwgXCJsaW5lXCIpO30sXG4gICAgZ29QYWdlVXA6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZVYoLTEsIFwicGFnZVwiKTt9LFxuICAgIGdvUGFnZURvd246IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZVYoMSwgXCJwYWdlXCIpO30sXG4gICAgZ29DaGFyTGVmdDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgtMSwgXCJjaGFyXCIpO30sXG4gICAgZ29DaGFyUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoMSwgXCJjaGFyXCIpO30sXG4gICAgZ29Db2x1bW5MZWZ0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKC0xLCBcImNvbHVtblwiKTt9LFxuICAgIGdvQ29sdW1uUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoMSwgXCJjb2x1bW5cIik7fSxcbiAgICBnb1dvcmRMZWZ0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKC0xLCBcIndvcmRcIik7fSxcbiAgICBnb0dyb3VwUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoMSwgXCJncm91cFwiKTt9LFxuICAgIGdvR3JvdXBMZWZ0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKC0xLCBcImdyb3VwXCIpO30sXG4gICAgZ29Xb3JkUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoMSwgXCJ3b3JkXCIpO30sXG4gICAgZGVsQ2hhckJlZm9yZTogZnVuY3Rpb24oY20pIHtjbS5kZWxldGVIKC0xLCBcImNoYXJcIik7fSxcbiAgICBkZWxDaGFyQWZ0ZXI6IGZ1bmN0aW9uKGNtKSB7Y20uZGVsZXRlSCgxLCBcImNoYXJcIik7fSxcbiAgICBkZWxXb3JkQmVmb3JlOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoLTEsIFwid29yZFwiKTt9LFxuICAgIGRlbFdvcmRBZnRlcjogZnVuY3Rpb24oY20pIHtjbS5kZWxldGVIKDEsIFwid29yZFwiKTt9LFxuICAgIGRlbEdyb3VwQmVmb3JlOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoLTEsIFwiZ3JvdXBcIik7fSxcbiAgICBkZWxHcm91cEFmdGVyOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoMSwgXCJncm91cFwiKTt9LFxuICAgIGluZGVudEF1dG86IGZ1bmN0aW9uKGNtKSB7Y20uaW5kZW50U2VsZWN0aW9uKFwic21hcnRcIik7fSxcbiAgICBpbmRlbnRNb3JlOiBmdW5jdGlvbihjbSkge2NtLmluZGVudFNlbGVjdGlvbihcImFkZFwiKTt9LFxuICAgIGluZGVudExlc3M6IGZ1bmN0aW9uKGNtKSB7Y20uaW5kZW50U2VsZWN0aW9uKFwic3VidHJhY3RcIik7fSxcbiAgICBpbnNlcnRUYWI6IGZ1bmN0aW9uKGNtKSB7Y20ucmVwbGFjZVNlbGVjdGlvbihcIlxcdFwiKTt9LFxuICAgIGluc2VydFNvZnRUYWI6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICB2YXIgc3BhY2VzID0gW10sIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemU7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcG9zID0gcmFuZ2VzW2ldLmZyb20oKTtcbiAgICAgICAgdmFyIGNvbCA9IGNvdW50Q29sdW1uKGNtLmdldExpbmUocG9zLmxpbmUpLCBwb3MuY2gsIHRhYlNpemUpO1xuICAgICAgICBzcGFjZXMucHVzaChzcGFjZVN0cih0YWJTaXplIC0gY29sICUgdGFiU2l6ZSkpO1xuICAgICAgfVxuICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbnMoc3BhY2VzKTtcbiAgICB9LFxuICAgIGRlZmF1bHRUYWI6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgY20uaW5kZW50U2VsZWN0aW9uKFwiYWRkXCIpO1xuICAgICAgZWxzZSBjbS5leGVjQ29tbWFuZChcImluc2VydFRhYlwiKTtcbiAgICB9LFxuICAgIHRyYW5zcG9zZUNoYXJzOiBmdW5jdGlvbihjbSkge1xuICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpLCBuZXdTZWwgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY3VyID0gcmFuZ2VzW2ldLmhlYWQsIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgY3VyLmxpbmUpLnRleHQ7XG4gICAgICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgICAgIGlmIChjdXIuY2ggPT0gbGluZS5sZW5ndGgpIGN1ciA9IG5ldyBQb3MoY3VyLmxpbmUsIGN1ci5jaCAtIDEpO1xuICAgICAgICAgICAgaWYgKGN1ci5jaCA+IDApIHtcbiAgICAgICAgICAgICAgY3VyID0gbmV3IFBvcyhjdXIubGluZSwgY3VyLmNoICsgMSk7XG4gICAgICAgICAgICAgIGNtLnJlcGxhY2VSYW5nZShsaW5lLmNoYXJBdChjdXIuY2ggLSAxKSArIGxpbmUuY2hhckF0KGN1ci5jaCAtIDIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAyKSwgY3VyLCBcIit0cmFuc3Bvc2VcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5saW5lID4gY20uZG9jLmZpcnN0KSB7XG4gICAgICAgICAgICAgIHZhciBwcmV2ID0gZ2V0TGluZShjbS5kb2MsIGN1ci5saW5lIC0gMSkudGV4dDtcbiAgICAgICAgICAgICAgaWYgKHByZXYpXG4gICAgICAgICAgICAgICAgY20ucmVwbGFjZVJhbmdlKGxpbmUuY2hhckF0KDApICsgY20uZG9jLmxpbmVTZXBhcmF0b3IoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuY2hhckF0KHByZXYubGVuZ3RoIC0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcyhjdXIubGluZSAtIDEsIHByZXYubGVuZ3RoIC0gMSksIFBvcyhjdXIubGluZSwgMSksIFwiK3RyYW5zcG9zZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3U2VsLnB1c2gobmV3IFJhbmdlKGN1ciwgY3VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhuZXdTZWwpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBuZXdsaW5lQW5kSW5kZW50OiBmdW5jdGlvbihjbSkge1xuICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsZW4gPSBjbS5saXN0U2VsZWN0aW9ucygpLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIHZhciByYW5nZSA9IGNtLmxpc3RTZWxlY3Rpb25zKClbaV07XG4gICAgICAgICAgY20ucmVwbGFjZVJhbmdlKGNtLmRvYy5saW5lU2VwYXJhdG9yKCksIHJhbmdlLmFuY2hvciwgcmFuZ2UuaGVhZCwgXCIraW5wdXRcIik7XG4gICAgICAgICAgY20uaW5kZW50TGluZShyYW5nZS5mcm9tKCkubGluZSArIDEsIG51bGwsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUN1cnNvclZpc2libGUoY20pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvcGVuTGluZTogZnVuY3Rpb24oY20pIHtjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXFxuXCIsIFwic3RhcnRcIil9LFxuICAgIHRvZ2dsZU92ZXJ3cml0ZTogZnVuY3Rpb24oY20pIHtjbS50b2dnbGVPdmVyd3JpdGUoKTt9XG4gIH07XG5cblxuICAvLyBTVEFOREFSRCBLRVlNQVBTXG5cbiAgdmFyIGtleU1hcCA9IENvZGVNaXJyb3Iua2V5TWFwID0ge307XG5cbiAga2V5TWFwLmJhc2ljID0ge1xuICAgIFwiTGVmdFwiOiBcImdvQ2hhckxlZnRcIiwgXCJSaWdodFwiOiBcImdvQ2hhclJpZ2h0XCIsIFwiVXBcIjogXCJnb0xpbmVVcFwiLCBcIkRvd25cIjogXCJnb0xpbmVEb3duXCIsXG4gICAgXCJFbmRcIjogXCJnb0xpbmVFbmRcIiwgXCJIb21lXCI6IFwiZ29MaW5lU3RhcnRTbWFydFwiLCBcIlBhZ2VVcFwiOiBcImdvUGFnZVVwXCIsIFwiUGFnZURvd25cIjogXCJnb1BhZ2VEb3duXCIsXG4gICAgXCJEZWxldGVcIjogXCJkZWxDaGFyQWZ0ZXJcIiwgXCJCYWNrc3BhY2VcIjogXCJkZWxDaGFyQmVmb3JlXCIsIFwiU2hpZnQtQmFja3NwYWNlXCI6IFwiZGVsQ2hhckJlZm9yZVwiLFxuICAgIFwiVGFiXCI6IFwiZGVmYXVsdFRhYlwiLCBcIlNoaWZ0LVRhYlwiOiBcImluZGVudEF1dG9cIixcbiAgICBcIkVudGVyXCI6IFwibmV3bGluZUFuZEluZGVudFwiLCBcIkluc2VydFwiOiBcInRvZ2dsZU92ZXJ3cml0ZVwiLFxuICAgIFwiRXNjXCI6IFwic2luZ2xlU2VsZWN0aW9uXCJcbiAgfTtcbiAgLy8gTm90ZSB0aGF0IHRoZSBzYXZlIGFuZCBmaW5kLXJlbGF0ZWQgY29tbWFuZHMgYXJlbid0IGRlZmluZWQgYnlcbiAgLy8gZGVmYXVsdC4gVXNlciBjb2RlIG9yIGFkZG9ucyBjYW4gZGVmaW5lIHRoZW0uIFVua25vd24gY29tbWFuZHNcbiAgLy8gYXJlIHNpbXBseSBpZ25vcmVkLlxuICBrZXlNYXAucGNEZWZhdWx0ID0ge1xuICAgIFwiQ3RybC1BXCI6IFwic2VsZWN0QWxsXCIsIFwiQ3RybC1EXCI6IFwiZGVsZXRlTGluZVwiLCBcIkN0cmwtWlwiOiBcInVuZG9cIiwgXCJTaGlmdC1DdHJsLVpcIjogXCJyZWRvXCIsIFwiQ3RybC1ZXCI6IFwicmVkb1wiLFxuICAgIFwiQ3RybC1Ib21lXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkN0cmwtRW5kXCI6IFwiZ29Eb2NFbmRcIiwgXCJDdHJsLVVwXCI6IFwiZ29MaW5lVXBcIiwgXCJDdHJsLURvd25cIjogXCJnb0xpbmVEb3duXCIsXG4gICAgXCJDdHJsLUxlZnRcIjogXCJnb0dyb3VwTGVmdFwiLCBcIkN0cmwtUmlnaHRcIjogXCJnb0dyb3VwUmlnaHRcIiwgXCJBbHQtTGVmdFwiOiBcImdvTGluZVN0YXJ0XCIsIFwiQWx0LVJpZ2h0XCI6IFwiZ29MaW5lRW5kXCIsXG4gICAgXCJDdHJsLUJhY2tzcGFjZVwiOiBcImRlbEdyb3VwQmVmb3JlXCIsIFwiQ3RybC1EZWxldGVcIjogXCJkZWxHcm91cEFmdGVyXCIsIFwiQ3RybC1TXCI6IFwic2F2ZVwiLCBcIkN0cmwtRlwiOiBcImZpbmRcIixcbiAgICBcIkN0cmwtR1wiOiBcImZpbmROZXh0XCIsIFwiU2hpZnQtQ3RybC1HXCI6IFwiZmluZFByZXZcIiwgXCJTaGlmdC1DdHJsLUZcIjogXCJyZXBsYWNlXCIsIFwiU2hpZnQtQ3RybC1SXCI6IFwicmVwbGFjZUFsbFwiLFxuICAgIFwiQ3RybC1bXCI6IFwiaW5kZW50TGVzc1wiLCBcIkN0cmwtXVwiOiBcImluZGVudE1vcmVcIixcbiAgICBcIkN0cmwtVVwiOiBcInVuZG9TZWxlY3Rpb25cIiwgXCJTaGlmdC1DdHJsLVVcIjogXCJyZWRvU2VsZWN0aW9uXCIsIFwiQWx0LVVcIjogXCJyZWRvU2VsZWN0aW9uXCIsXG4gICAgZmFsbHRocm91Z2g6IFwiYmFzaWNcIlxuICB9O1xuICAvLyBWZXJ5IGJhc2ljIHJlYWRsaW5lL2VtYWNzLXN0eWxlIGJpbmRpbmdzLCB3aGljaCBhcmUgc3RhbmRhcmQgb24gTWFjLlxuICBrZXlNYXAuZW1hY3N5ID0ge1xuICAgIFwiQ3RybC1GXCI6IFwiZ29DaGFyUmlnaHRcIiwgXCJDdHJsLUJcIjogXCJnb0NoYXJMZWZ0XCIsIFwiQ3RybC1QXCI6IFwiZ29MaW5lVXBcIiwgXCJDdHJsLU5cIjogXCJnb0xpbmVEb3duXCIsXG4gICAgXCJBbHQtRlwiOiBcImdvV29yZFJpZ2h0XCIsIFwiQWx0LUJcIjogXCJnb1dvcmRMZWZ0XCIsIFwiQ3RybC1BXCI6IFwiZ29MaW5lU3RhcnRcIiwgXCJDdHJsLUVcIjogXCJnb0xpbmVFbmRcIixcbiAgICBcIkN0cmwtVlwiOiBcImdvUGFnZURvd25cIiwgXCJTaGlmdC1DdHJsLVZcIjogXCJnb1BhZ2VVcFwiLCBcIkN0cmwtRFwiOiBcImRlbENoYXJBZnRlclwiLCBcIkN0cmwtSFwiOiBcImRlbENoYXJCZWZvcmVcIixcbiAgICBcIkFsdC1EXCI6IFwiZGVsV29yZEFmdGVyXCIsIFwiQWx0LUJhY2tzcGFjZVwiOiBcImRlbFdvcmRCZWZvcmVcIiwgXCJDdHJsLUtcIjogXCJraWxsTGluZVwiLCBcIkN0cmwtVFwiOiBcInRyYW5zcG9zZUNoYXJzXCIsXG4gICAgXCJDdHJsLU9cIjogXCJvcGVuTGluZVwiXG4gIH07XG4gIGtleU1hcC5tYWNEZWZhdWx0ID0ge1xuICAgIFwiQ21kLUFcIjogXCJzZWxlY3RBbGxcIiwgXCJDbWQtRFwiOiBcImRlbGV0ZUxpbmVcIiwgXCJDbWQtWlwiOiBcInVuZG9cIiwgXCJTaGlmdC1DbWQtWlwiOiBcInJlZG9cIiwgXCJDbWQtWVwiOiBcInJlZG9cIixcbiAgICBcIkNtZC1Ib21lXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkNtZC1VcFwiOiBcImdvRG9jU3RhcnRcIiwgXCJDbWQtRW5kXCI6IFwiZ29Eb2NFbmRcIiwgXCJDbWQtRG93blwiOiBcImdvRG9jRW5kXCIsIFwiQWx0LUxlZnRcIjogXCJnb0dyb3VwTGVmdFwiLFxuICAgIFwiQWx0LVJpZ2h0XCI6IFwiZ29Hcm91cFJpZ2h0XCIsIFwiQ21kLUxlZnRcIjogXCJnb0xpbmVMZWZ0XCIsIFwiQ21kLVJpZ2h0XCI6IFwiZ29MaW5lUmlnaHRcIiwgXCJBbHQtQmFja3NwYWNlXCI6IFwiZGVsR3JvdXBCZWZvcmVcIixcbiAgICBcIkN0cmwtQWx0LUJhY2tzcGFjZVwiOiBcImRlbEdyb3VwQWZ0ZXJcIiwgXCJBbHQtRGVsZXRlXCI6IFwiZGVsR3JvdXBBZnRlclwiLCBcIkNtZC1TXCI6IFwic2F2ZVwiLCBcIkNtZC1GXCI6IFwiZmluZFwiLFxuICAgIFwiQ21kLUdcIjogXCJmaW5kTmV4dFwiLCBcIlNoaWZ0LUNtZC1HXCI6IFwiZmluZFByZXZcIiwgXCJDbWQtQWx0LUZcIjogXCJyZXBsYWNlXCIsIFwiU2hpZnQtQ21kLUFsdC1GXCI6IFwicmVwbGFjZUFsbFwiLFxuICAgIFwiQ21kLVtcIjogXCJpbmRlbnRMZXNzXCIsIFwiQ21kLV1cIjogXCJpbmRlbnRNb3JlXCIsIFwiQ21kLUJhY2tzcGFjZVwiOiBcImRlbFdyYXBwZWRMaW5lTGVmdFwiLCBcIkNtZC1EZWxldGVcIjogXCJkZWxXcmFwcGVkTGluZVJpZ2h0XCIsXG4gICAgXCJDbWQtVVwiOiBcInVuZG9TZWxlY3Rpb25cIiwgXCJTaGlmdC1DbWQtVVwiOiBcInJlZG9TZWxlY3Rpb25cIiwgXCJDdHJsLVVwXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkN0cmwtRG93blwiOiBcImdvRG9jRW5kXCIsXG4gICAgZmFsbHRocm91Z2g6IFtcImJhc2ljXCIsIFwiZW1hY3N5XCJdXG4gIH07XG4gIGtleU1hcFtcImRlZmF1bHRcIl0gPSBtYWMgPyBrZXlNYXAubWFjRGVmYXVsdCA6IGtleU1hcC5wY0RlZmF1bHQ7XG5cbiAgLy8gS0VZTUFQIERJU1BBVENIXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplS2V5TmFtZShuYW1lKSB7XG4gICAgdmFyIHBhcnRzID0gbmFtZS5zcGxpdCgvLSg/ISQpLyksIG5hbWUgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcbiAgICB2YXIgYWx0LCBjdHJsLCBzaGlmdCwgY21kO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICB2YXIgbW9kID0gcGFydHNbaV07XG4gICAgICBpZiAoL14oY21kfG1ldGF8bSkkL2kudGVzdChtb2QpKSBjbWQgPSB0cnVlO1xuICAgICAgZWxzZSBpZiAoL15hKGx0KT8kL2kudGVzdChtb2QpKSBhbHQgPSB0cnVlO1xuICAgICAgZWxzZSBpZiAoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QobW9kKSkgY3RybCA9IHRydWU7XG4gICAgICBlbHNlIGlmICgvXnMoaGlmdCkkL2kudGVzdChtb2QpKSBzaGlmdCA9IHRydWU7XG4gICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiBcIiArIG1vZCk7XG4gICAgfVxuICAgIGlmIChhbHQpIG5hbWUgPSBcIkFsdC1cIiArIG5hbWU7XG4gICAgaWYgKGN0cmwpIG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lO1xuICAgIGlmIChjbWQpIG5hbWUgPSBcIkNtZC1cIiArIG5hbWU7XG4gICAgaWYgKHNoaWZ0KSBuYW1lID0gXCJTaGlmdC1cIiArIG5hbWU7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cblxuICAvLyBUaGlzIGlzIGEga2x1ZGdlIHRvIGtlZXAga2V5bWFwcyBtb3N0bHkgd29ya2luZyBhcyByYXcgb2JqZWN0c1xuICAvLyAoYmFja3dhcmRzIGNvbXBhdGliaWxpdHkpIHdoaWxlIGF0IHRoZSBzYW1lIHRpbWUgc3VwcG9ydCBmZWF0dXJlc1xuICAvLyBsaWtlIG5vcm1hbGl6YXRpb24gYW5kIG11bHRpLXN0cm9rZSBrZXkgYmluZGluZ3MuIEl0IGNvbXBpbGVzIGFcbiAgLy8gbmV3IG5vcm1hbGl6ZWQga2V5bWFwLCBhbmQgdGhlbiB1cGRhdGVzIHRoZSBvbGQgb2JqZWN0IHRvIHJlZmxlY3RcbiAgLy8gdGhpcy5cbiAgQ29kZU1pcnJvci5ub3JtYWxpemVLZXlNYXAgPSBmdW5jdGlvbihrZXltYXApIHtcbiAgICB2YXIgY29weSA9IHt9O1xuICAgIGZvciAodmFyIGtleW5hbWUgaW4ga2V5bWFwKSBpZiAoa2V5bWFwLmhhc093blByb3BlcnR5KGtleW5hbWUpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBrZXltYXBba2V5bmFtZV07XG4gICAgICBpZiAoL14obmFtZXxmYWxsdGhyb3VnaHwoZGV8YXQpdGFjaCkkLy50ZXN0KGtleW5hbWUpKSBjb250aW51ZTtcbiAgICAgIGlmICh2YWx1ZSA9PSBcIi4uLlwiKSB7IGRlbGV0ZSBrZXltYXBba2V5bmFtZV07IGNvbnRpbnVlOyB9XG5cbiAgICAgIHZhciBrZXlzID0gbWFwKGtleW5hbWUuc3BsaXQoXCIgXCIpLCBub3JtYWxpemVLZXlOYW1lKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdmFsLCBuYW1lO1xuICAgICAgICBpZiAoaSA9PSBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBuYW1lID0ga2V5cy5qb2luKFwiIFwiKTtcbiAgICAgICAgICB2YWwgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYW1lID0ga2V5cy5zbGljZSgwLCBpICsgMSkuam9pbihcIiBcIik7XG4gICAgICAgICAgdmFsID0gXCIuLi5cIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldiA9IGNvcHlbbmFtZV07XG4gICAgICAgIGlmICghcHJldikgY29weVtuYW1lXSA9IHZhbDtcbiAgICAgICAgZWxzZSBpZiAocHJldiAhPSB2YWwpIHRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBiaW5kaW5ncyBmb3IgXCIgKyBuYW1lKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBrZXltYXBba2V5bmFtZV07XG4gICAgfVxuICAgIGZvciAodmFyIHByb3AgaW4gY29weSkga2V5bWFwW3Byb3BdID0gY29weVtwcm9wXTtcbiAgICByZXR1cm4ga2V5bWFwO1xuICB9O1xuXG4gIHZhciBsb29rdXBLZXkgPSBDb2RlTWlycm9yLmxvb2t1cEtleSA9IGZ1bmN0aW9uKGtleSwgbWFwLCBoYW5kbGUsIGNvbnRleHQpIHtcbiAgICBtYXAgPSBnZXRLZXlNYXAobWFwKTtcbiAgICB2YXIgZm91bmQgPSBtYXAuY2FsbCA/IG1hcC5jYWxsKGtleSwgY29udGV4dCkgOiBtYXBba2V5XTtcbiAgICBpZiAoZm91bmQgPT09IGZhbHNlKSByZXR1cm4gXCJub3RoaW5nXCI7XG4gICAgaWYgKGZvdW5kID09PSBcIi4uLlwiKSByZXR1cm4gXCJtdWx0aVwiO1xuICAgIGlmIChmb3VuZCAhPSBudWxsICYmIGhhbmRsZShmb3VuZCkpIHJldHVybiBcImhhbmRsZWRcIjtcblxuICAgIGlmIChtYXAuZmFsbHRocm91Z2gpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobWFwLmZhbGx0aHJvdWdoKSAhPSBcIltvYmplY3QgQXJyYXldXCIpXG4gICAgICAgIHJldHVybiBsb29rdXBLZXkoa2V5LCBtYXAuZmFsbHRocm91Z2gsIGhhbmRsZSwgY29udGV4dCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcC5mYWxsdGhyb3VnaC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbG9va3VwS2V5KGtleSwgbWFwLmZhbGx0aHJvdWdoW2ldLCBoYW5kbGUsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVzdWx0KSByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBNb2RpZmllciBrZXkgcHJlc3NlcyBkb24ndCBjb3VudCBhcyAncmVhbCcga2V5IHByZXNzZXMgZm9yIHRoZVxuICAvLyBwdXJwb3NlIG9mIGtleW1hcCBmYWxsdGhyb3VnaC5cbiAgdmFyIGlzTW9kaWZpZXJLZXkgPSBDb2RlTWlycm9yLmlzTW9kaWZpZXJLZXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBuYW1lID0gdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IGtleU5hbWVzW3ZhbHVlLmtleUNvZGVdO1xuICAgIHJldHVybiBuYW1lID09IFwiQ3RybFwiIHx8IG5hbWUgPT0gXCJBbHRcIiB8fCBuYW1lID09IFwiU2hpZnRcIiB8fCBuYW1lID09IFwiTW9kXCI7XG4gIH07XG5cbiAgLy8gTG9vayB1cCB0aGUgbmFtZSBvZiBhIGtleSBhcyBpbmRpY2F0ZWQgYnkgYW4gZXZlbnQgb2JqZWN0LlxuICB2YXIga2V5TmFtZSA9IENvZGVNaXJyb3Iua2V5TmFtZSA9IGZ1bmN0aW9uKGV2ZW50LCBub1NoaWZ0KSB7XG4gICAgaWYgKHByZXN0byAmJiBldmVudC5rZXlDb2RlID09IDM0ICYmIGV2ZW50W1wiY2hhclwiXSkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBiYXNlID0ga2V5TmFtZXNbZXZlbnQua2V5Q29kZV0sIG5hbWUgPSBiYXNlO1xuICAgIGlmIChuYW1lID09IG51bGwgfHwgZXZlbnQuYWx0R3JhcGhLZXkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIGJhc2UgIT0gXCJBbHRcIikgbmFtZSA9IFwiQWx0LVwiICsgbmFtZTtcbiAgICBpZiAoKGZsaXBDdHJsQ21kID8gZXZlbnQubWV0YUtleSA6IGV2ZW50LmN0cmxLZXkpICYmIGJhc2UgIT0gXCJDdHJsXCIpIG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lO1xuICAgIGlmICgoZmxpcEN0cmxDbWQgPyBldmVudC5jdHJsS2V5IDogZXZlbnQubWV0YUtleSkgJiYgYmFzZSAhPSBcIkNtZFwiKSBuYW1lID0gXCJDbWQtXCIgKyBuYW1lO1xuICAgIGlmICghbm9TaGlmdCAmJiBldmVudC5zaGlmdEtleSAmJiBiYXNlICE9IFwiU2hpZnRcIikgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lO1xuICAgIHJldHVybiBuYW1lO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldEtleU1hcCh2YWwpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbCA9PSBcInN0cmluZ1wiID8ga2V5TWFwW3ZhbF0gOiB2YWw7XG4gIH1cblxuICAvLyBGUk9NVEVYVEFSRUFcblxuICBDb2RlTWlycm9yLmZyb21UZXh0QXJlYSA9IGZ1bmN0aW9uKHRleHRhcmVhLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBjb3B5T2JqKG9wdGlvbnMpIDoge307XG4gICAgb3B0aW9ucy52YWx1ZSA9IHRleHRhcmVhLnZhbHVlO1xuICAgIGlmICghb3B0aW9ucy50YWJpbmRleCAmJiB0ZXh0YXJlYS50YWJJbmRleClcbiAgICAgIG9wdGlvbnMudGFiaW5kZXggPSB0ZXh0YXJlYS50YWJJbmRleDtcbiAgICBpZiAoIW9wdGlvbnMucGxhY2Vob2xkZXIgJiYgdGV4dGFyZWEucGxhY2Vob2xkZXIpXG4gICAgICBvcHRpb25zLnBsYWNlaG9sZGVyID0gdGV4dGFyZWEucGxhY2Vob2xkZXI7XG4gICAgLy8gU2V0IGF1dG9mb2N1cyB0byB0cnVlIGlmIHRoaXMgdGV4dGFyZWEgaXMgZm9jdXNlZCwgb3IgaWYgaXQgaGFzXG4gICAgLy8gYXV0b2ZvY3VzIGFuZCBubyBvdGhlciBlbGVtZW50IGlzIGZvY3VzZWQuXG4gICAgaWYgKG9wdGlvbnMuYXV0b2ZvY3VzID09IG51bGwpIHtcbiAgICAgIHZhciBoYXNGb2N1cyA9IGFjdGl2ZUVsdCgpO1xuICAgICAgb3B0aW9ucy5hdXRvZm9jdXMgPSBoYXNGb2N1cyA9PSB0ZXh0YXJlYSB8fFxuICAgICAgICB0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoXCJhdXRvZm9jdXNcIikgIT0gbnVsbCAmJiBoYXNGb2N1cyA9PSBkb2N1bWVudC5ib2R5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNhdmUoKSB7dGV4dGFyZWEudmFsdWUgPSBjbS5nZXRWYWx1ZSgpO31cbiAgICBpZiAodGV4dGFyZWEuZm9ybSkge1xuICAgICAgb24odGV4dGFyZWEuZm9ybSwgXCJzdWJtaXRcIiwgc2F2ZSk7XG4gICAgICAvLyBEZXBsb3JhYmxlIGhhY2sgdG8gbWFrZSB0aGUgc3VibWl0IG1ldGhvZCBkbyB0aGUgcmlnaHQgdGhpbmcuXG4gICAgICBpZiAoIW9wdGlvbnMubGVhdmVTdWJtaXRNZXRob2RBbG9uZSkge1xuICAgICAgICB2YXIgZm9ybSA9IHRleHRhcmVhLmZvcm0sIHJlYWxTdWJtaXQgPSBmb3JtLnN1Ym1pdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgd3JhcHBlZFN1Ym1pdCA9IGZvcm0uc3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzYXZlKCk7XG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCA9IHJlYWxTdWJtaXQ7XG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgZm9ybS5zdWJtaXQgPSB3cmFwcGVkU3VibWl0O1xuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICBvcHRpb25zLmZpbmlzaEluaXQgPSBmdW5jdGlvbihjbSkge1xuICAgICAgY20uc2F2ZSA9IHNhdmU7XG4gICAgICBjbS5nZXRUZXh0QXJlYSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGV4dGFyZWE7IH07XG4gICAgICBjbS50b1RleHRBcmVhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNtLnRvVGV4dEFyZWEgPSBpc05hTjsgLy8gUHJldmVudCB0aGlzIGZyb20gYmVpbmcgcmFuIHR3aWNlXG4gICAgICAgIHNhdmUoKTtcbiAgICAgICAgdGV4dGFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbS5nZXRXcmFwcGVyRWxlbWVudCgpKTtcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7XG4gICAgICAgICAgb2ZmKHRleHRhcmVhLmZvcm0sIFwic3VibWl0XCIsIHNhdmUpO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGV4dGFyZWEuZm9ybS5zdWJtaXQgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgdGV4dGFyZWEuZm9ybS5zdWJtaXQgPSByZWFsU3VibWl0O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICB0ZXh0YXJlYS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdmFyIGNtID0gQ29kZU1pcnJvcihmdW5jdGlvbihub2RlKSB7XG4gICAgICB0ZXh0YXJlYS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCB0ZXh0YXJlYS5uZXh0U2libGluZyk7XG4gICAgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGNtO1xuICB9O1xuXG4gIC8vIFNUUklORyBTVFJFQU1cblxuICAvLyBGZWQgdG8gdGhlIG1vZGUgcGFyc2VycywgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byBtYWtlXG4gIC8vIHBhcnNlcnMgbW9yZSBzdWNjaW5jdC5cblxuICB2YXIgU3RyaW5nU3RyZWFtID0gQ29kZU1pcnJvci5TdHJpbmdTdHJlYW0gPSBmdW5jdGlvbihzdHJpbmcsIHRhYlNpemUpIHtcbiAgICB0aGlzLnBvcyA9IHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xuICAgIHRoaXMudGFiU2l6ZSA9IHRhYlNpemUgfHwgODtcbiAgICB0aGlzLmxhc3RDb2x1bW5Qb3MgPSB0aGlzLmxhc3RDb2x1bW5WYWx1ZSA9IDA7XG4gICAgdGhpcy5saW5lU3RhcnQgPSAwO1xuICB9O1xuXG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUgPSB7XG4gICAgZW9sOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5wb3MgPj0gdGhpcy5zdHJpbmcubGVuZ3RoO30sXG4gICAgc29sOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5wb3MgPT0gdGhpcy5saW5lU3RhcnQ7fSxcbiAgICBwZWVrOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKSB8fCB1bmRlZmluZWQ7fSxcbiAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnBvcyA8IHRoaXMuc3RyaW5nLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcysrKTtcbiAgICB9LFxuICAgIGVhdDogZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcyk7XG4gICAgICBpZiAodHlwZW9mIG1hdGNoID09IFwic3RyaW5nXCIpIHZhciBvayA9IGNoID09IG1hdGNoO1xuICAgICAgZWxzZSB2YXIgb2sgPSBjaCAmJiAobWF0Y2gudGVzdCA/IG1hdGNoLnRlc3QoY2gpIDogbWF0Y2goY2gpKTtcbiAgICAgIGlmIChvaykgeysrdGhpcy5wb3M7IHJldHVybiBjaDt9XG4gICAgfSxcbiAgICBlYXRXaGlsZTogZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgd2hpbGUgKHRoaXMuZWF0KG1hdGNoKSl7fVxuICAgICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnQ7XG4gICAgfSxcbiAgICBlYXRTcGFjZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgIHdoaWxlICgvW1xcc1xcdTAwYTBdLy50ZXN0KHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykpKSArK3RoaXMucG9zO1xuICAgICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnQ7XG4gICAgfSxcbiAgICBza2lwVG9FbmQ6IGZ1bmN0aW9uKCkge3RoaXMucG9zID0gdGhpcy5zdHJpbmcubGVuZ3RoO30sXG4gICAgc2tpcFRvOiBmdW5jdGlvbihjaCkge1xuICAgICAgdmFyIGZvdW5kID0gdGhpcy5zdHJpbmcuaW5kZXhPZihjaCwgdGhpcy5wb3MpO1xuICAgICAgaWYgKGZvdW5kID4gLTEpIHt0aGlzLnBvcyA9IGZvdW5kOyByZXR1cm4gdHJ1ZTt9XG4gICAgfSxcbiAgICBiYWNrVXA6IGZ1bmN0aW9uKG4pIHt0aGlzLnBvcyAtPSBuO30sXG4gICAgY29sdW1uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmxhc3RDb2x1bW5Qb3MgPCB0aGlzLnN0YXJ0KSB7XG4gICAgICAgIHRoaXMubGFzdENvbHVtblZhbHVlID0gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMuc3RhcnQsIHRoaXMudGFiU2l6ZSwgdGhpcy5sYXN0Q29sdW1uUG9zLCB0aGlzLmxhc3RDb2x1bW5WYWx1ZSk7XG4gICAgICAgIHRoaXMubGFzdENvbHVtblBvcyA9IHRoaXMuc3RhcnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5sYXN0Q29sdW1uVmFsdWUgLSAodGhpcy5saW5lU3RhcnQgPyBjb3VudENvbHVtbih0aGlzLnN0cmluZywgdGhpcy5saW5lU3RhcnQsIHRoaXMudGFiU2l6ZSkgOiAwKTtcbiAgICB9LFxuICAgIGluZGVudGF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjb3VudENvbHVtbih0aGlzLnN0cmluZywgbnVsbCwgdGhpcy50YWJTaXplKSAtXG4gICAgICAgICh0aGlzLmxpbmVTdGFydCA/IGNvdW50Q29sdW1uKHRoaXMuc3RyaW5nLCB0aGlzLmxpbmVTdGFydCwgdGhpcy50YWJTaXplKSA6IDApO1xuICAgIH0sXG4gICAgbWF0Y2g6IGZ1bmN0aW9uKHBhdHRlcm4sIGNvbnN1bWUsIGNhc2VJbnNlbnNpdGl2ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFyIGNhc2VkID0gZnVuY3Rpb24oc3RyKSB7cmV0dXJuIGNhc2VJbnNlbnNpdGl2ZSA/IHN0ci50b0xvd2VyQ2FzZSgpIDogc3RyO307XG4gICAgICAgIHZhciBzdWJzdHIgPSB0aGlzLnN0cmluZy5zdWJzdHIodGhpcy5wb3MsIHBhdHRlcm4ubGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhc2VkKHN1YnN0cikgPT0gY2FzZWQocGF0dGVybikpIHtcbiAgICAgICAgICBpZiAoY29uc3VtZSAhPT0gZmFsc2UpIHRoaXMucG9zICs9IHBhdHRlcm4ubGVuZ3RoO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWF0Y2ggPSB0aGlzLnN0cmluZy5zbGljZSh0aGlzLnBvcykubWF0Y2gocGF0dGVybik7XG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5pbmRleCA+IDApIHJldHVybiBudWxsO1xuICAgICAgICBpZiAobWF0Y2ggJiYgY29uc3VtZSAhPT0gZmFsc2UpIHRoaXMucG9zICs9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfVxuICAgIH0sXG4gICAgY3VycmVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UodGhpcy5zdGFydCwgdGhpcy5wb3MpO30sXG4gICAgaGlkZUZpcnN0Q2hhcnM6IGZ1bmN0aW9uKG4sIGlubmVyKSB7XG4gICAgICB0aGlzLmxpbmVTdGFydCArPSBuO1xuICAgICAgdHJ5IHsgcmV0dXJuIGlubmVyKCk7IH1cbiAgICAgIGZpbmFsbHkgeyB0aGlzLmxpbmVTdGFydCAtPSBuOyB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFRFWFRNQVJLRVJTXG5cbiAgLy8gQ3JlYXRlZCB3aXRoIG1hcmtUZXh0IGFuZCBzZXRCb29rbWFyayBtZXRob2RzLiBBIFRleHRNYXJrZXIgaXMgYVxuICAvLyBoYW5kbGUgdGhhdCBjYW4gYmUgdXNlZCB0byBjbGVhciBvciBmaW5kIGEgbWFya2VkIHBvc2l0aW9uIGluIHRoZVxuICAvLyBkb2N1bWVudC4gTGluZSBvYmplY3RzIGhvbGQgYXJyYXlzIChtYXJrZWRTcGFucykgY29udGFpbmluZ1xuICAvLyB7ZnJvbSwgdG8sIG1hcmtlcn0gb2JqZWN0IHBvaW50aW5nIHRvIHN1Y2ggbWFya2VyIG9iamVjdHMsIGFuZFxuICAvLyBpbmRpY2F0aW5nIHRoYXQgc3VjaCBhIG1hcmtlciBpcyBwcmVzZW50IG9uIHRoYXQgbGluZS4gTXVsdGlwbGVcbiAgLy8gbGluZXMgbWF5IHBvaW50IHRvIHRoZSBzYW1lIG1hcmtlciB3aGVuIGl0IHNwYW5zIGFjcm9zcyBsaW5lcy5cbiAgLy8gVGhlIHNwYW5zIHdpbGwgaGF2ZSBudWxsIGZvciB0aGVpciBmcm9tL3RvIHByb3BlcnRpZXMgd2hlbiB0aGVcbiAgLy8gbWFya2VyIGNvbnRpbnVlcyBiZXlvbmQgdGhlIHN0YXJ0L2VuZCBvZiB0aGUgbGluZS4gTWFya2VycyBoYXZlXG4gIC8vIGxpbmtzIGJhY2sgdG8gdGhlIGxpbmVzIHRoZXkgY3VycmVudGx5IHRvdWNoLlxuXG4gIHZhciBuZXh0TWFya2VySWQgPSAwO1xuXG4gIHZhciBUZXh0TWFya2VyID0gQ29kZU1pcnJvci5UZXh0TWFya2VyID0gZnVuY3Rpb24oZG9jLCB0eXBlKSB7XG4gICAgdGhpcy5saW5lcyA9IFtdO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgdGhpcy5pZCA9ICsrbmV4dE1hcmtlcklkO1xuICB9O1xuICBldmVudE1peGluKFRleHRNYXJrZXIpO1xuXG4gIC8vIENsZWFyIHRoZSBtYXJrZXIuXG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZXhwbGljaXRseUNsZWFyZWQpIHJldHVybjtcbiAgICB2YXIgY20gPSB0aGlzLmRvYy5jbSwgd2l0aE9wID0gY20gJiYgIWNtLmN1ck9wO1xuICAgIGlmICh3aXRoT3ApIHN0YXJ0T3BlcmF0aW9uKGNtKTtcbiAgICBpZiAoaGFzSGFuZGxlcih0aGlzLCBcImNsZWFyXCIpKSB7XG4gICAgICB2YXIgZm91bmQgPSB0aGlzLmZpbmQoKTtcbiAgICAgIGlmIChmb3VuZCkgc2lnbmFsTGF0ZXIodGhpcywgXCJjbGVhclwiLCBmb3VuZC5mcm9tLCBmb3VuZC50byk7XG4gICAgfVxuICAgIHZhciBtaW4gPSBudWxsLCBtYXggPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGxpbmUgPSB0aGlzLmxpbmVzW2ldO1xuICAgICAgdmFyIHNwYW4gPSBnZXRNYXJrZWRTcGFuRm9yKGxpbmUubWFya2VkU3BhbnMsIHRoaXMpO1xuICAgICAgaWYgKGNtICYmICF0aGlzLmNvbGxhcHNlZCkgcmVnTGluZUNoYW5nZShjbSwgbGluZU5vKGxpbmUpLCBcInRleHRcIik7XG4gICAgICBlbHNlIGlmIChjbSkge1xuICAgICAgICBpZiAoc3Bhbi50byAhPSBudWxsKSBtYXggPSBsaW5lTm8obGluZSk7XG4gICAgICAgIGlmIChzcGFuLmZyb20gIT0gbnVsbCkgbWluID0gbGluZU5vKGxpbmUpO1xuICAgICAgfVxuICAgICAgbGluZS5tYXJrZWRTcGFucyA9IHJlbW92ZU1hcmtlZFNwYW4obGluZS5tYXJrZWRTcGFucywgc3Bhbik7XG4gICAgICBpZiAoc3Bhbi5mcm9tID09IG51bGwgJiYgdGhpcy5jb2xsYXBzZWQgJiYgIWxpbmVJc0hpZGRlbih0aGlzLmRvYywgbGluZSkgJiYgY20pXG4gICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgdGV4dEhlaWdodChjbS5kaXNwbGF5KSk7XG4gICAgfVxuICAgIGlmIChjbSAmJiB0aGlzLmNvbGxhcHNlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHZpc3VhbCA9IHZpc3VhbExpbmUodGhpcy5saW5lc1tpXSksIGxlbiA9IGxpbmVMZW5ndGgodmlzdWFsKTtcbiAgICAgIGlmIChsZW4gPiBjbS5kaXNwbGF5Lm1heExpbmVMZW5ndGgpIHtcbiAgICAgICAgY20uZGlzcGxheS5tYXhMaW5lID0gdmlzdWFsO1xuICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmVMZW5ndGggPSBsZW47XG4gICAgICAgIGNtLmRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtaW4gIT0gbnVsbCAmJiBjbSAmJiB0aGlzLmNvbGxhcHNlZCkgcmVnQ2hhbmdlKGNtLCBtaW4sIG1heCArIDEpO1xuICAgIHRoaXMubGluZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmV4cGxpY2l0bHlDbGVhcmVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5hdG9taWMgJiYgdGhpcy5kb2MuY2FudEVkaXQpIHtcbiAgICAgIHRoaXMuZG9jLmNhbnRFZGl0ID0gZmFsc2U7XG4gICAgICBpZiAoY20pIHJlQ2hlY2tTZWxlY3Rpb24oY20uZG9jKTtcbiAgICB9XG4gICAgaWYgKGNtKSBzaWduYWxMYXRlcihjbSwgXCJtYXJrZXJDbGVhcmVkXCIsIGNtLCB0aGlzKTtcbiAgICBpZiAod2l0aE9wKSBlbmRPcGVyYXRpb24oY20pO1xuICAgIGlmICh0aGlzLnBhcmVudCkgdGhpcy5wYXJlbnQuY2xlYXIoKTtcbiAgfTtcblxuICAvLyBGaW5kIHRoZSBwb3NpdGlvbiBvZiB0aGUgbWFya2VyIGluIHRoZSBkb2N1bWVudC4gUmV0dXJucyBhIHtmcm9tLFxuICAvLyB0b30gb2JqZWN0IGJ5IGRlZmF1bHQuIFNpZGUgY2FuIGJlIHBhc3NlZCB0byBnZXQgYSBzcGVjaWZpYyBzaWRlXG4gIC8vIC0tIDAgKGJvdGgpLCAtMSAobGVmdCksIG9yIDEgKHJpZ2h0KS4gV2hlbiBsaW5lT2JqIGlzIHRydWUsIHRoZVxuICAvLyBQb3Mgb2JqZWN0cyByZXR1cm5lZCBjb250YWluIGEgbGluZSBvYmplY3QsIHJhdGhlciB0aGFuIGEgbGluZVxuICAvLyBudW1iZXIgKHVzZWQgdG8gcHJldmVudCBsb29raW5nIHVwIHRoZSBzYW1lIGxpbmUgdHdpY2UpLlxuICBUZXh0TWFya2VyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24oc2lkZSwgbGluZU9iaikge1xuICAgIGlmIChzaWRlID09IG51bGwgJiYgdGhpcy50eXBlID09IFwiYm9va21hcmtcIikgc2lkZSA9IDE7XG4gICAgdmFyIGZyb20sIHRvO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGxpbmUgPSB0aGlzLmxpbmVzW2ldO1xuICAgICAgdmFyIHNwYW4gPSBnZXRNYXJrZWRTcGFuRm9yKGxpbmUubWFya2VkU3BhbnMsIHRoaXMpO1xuICAgICAgaWYgKHNwYW4uZnJvbSAhPSBudWxsKSB7XG4gICAgICAgIGZyb20gPSBQb3MobGluZU9iaiA/IGxpbmUgOiBsaW5lTm8obGluZSksIHNwYW4uZnJvbSk7XG4gICAgICAgIGlmIChzaWRlID09IC0xKSByZXR1cm4gZnJvbTtcbiAgICAgIH1cbiAgICAgIGlmIChzcGFuLnRvICE9IG51bGwpIHtcbiAgICAgICAgdG8gPSBQb3MobGluZU9iaiA/IGxpbmUgOiBsaW5lTm8obGluZSksIHNwYW4udG8pO1xuICAgICAgICBpZiAoc2lkZSA9PSAxKSByZXR1cm4gdG87XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmcm9tICYmIHtmcm9tOiBmcm9tLCB0bzogdG99O1xuICB9O1xuXG4gIC8vIFNpZ25hbHMgdGhhdCB0aGUgbWFya2VyJ3Mgd2lkZ2V0IGNoYW5nZWQsIGFuZCBzdXJyb3VuZGluZyBsYXlvdXRcbiAgLy8gc2hvdWxkIGJlIHJlY29tcHV0ZWQuXG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmNoYW5nZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcG9zID0gdGhpcy5maW5kKC0xLCB0cnVlKSwgd2lkZ2V0ID0gdGhpcywgY20gPSB0aGlzLmRvYy5jbTtcbiAgICBpZiAoIXBvcyB8fCAhY20pIHJldHVybjtcbiAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsaW5lID0gcG9zLmxpbmUsIGxpbmVOID0gbGluZU5vKHBvcy5saW5lKTtcbiAgICAgIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBsaW5lTik7XG4gICAgICBpZiAodmlldykge1xuICAgICAgICBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlRm9yKHZpZXcpO1xuICAgICAgICBjbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY20uY3VyT3AudXBkYXRlTWF4TGluZSA9IHRydWU7XG4gICAgICBpZiAoIWxpbmVJc0hpZGRlbih3aWRnZXQuZG9jLCBsaW5lKSAmJiB3aWRnZXQuaGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG9sZEhlaWdodCA9IHdpZGdldC5oZWlnaHQ7XG4gICAgICAgIHdpZGdldC5oZWlnaHQgPSBudWxsO1xuICAgICAgICB2YXIgZEhlaWdodCA9IHdpZGdldEhlaWdodCh3aWRnZXQpIC0gb2xkSGVpZ2h0O1xuICAgICAgICBpZiAoZEhlaWdodClcbiAgICAgICAgICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGxpbmUuaGVpZ2h0ICsgZEhlaWdodCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgVGV4dE1hcmtlci5wcm90b3R5cGUuYXR0YWNoTGluZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICBpZiAoIXRoaXMubGluZXMubGVuZ3RoICYmIHRoaXMuZG9jLmNtKSB7XG4gICAgICB2YXIgb3AgPSB0aGlzLmRvYy5jbS5jdXJPcDtcbiAgICAgIGlmICghb3AubWF5YmVIaWRkZW5NYXJrZXJzIHx8IGluZGV4T2Yob3AubWF5YmVIaWRkZW5NYXJrZXJzLCB0aGlzKSA9PSAtMSlcbiAgICAgICAgKG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzIHx8IChvcC5tYXliZVVuaGlkZGVuTWFya2VycyA9IFtdKSkucHVzaCh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5saW5lcy5wdXNoKGxpbmUpO1xuICB9O1xuICBUZXh0TWFya2VyLnByb3RvdHlwZS5kZXRhY2hMaW5lID0gZnVuY3Rpb24obGluZSkge1xuICAgIHRoaXMubGluZXMuc3BsaWNlKGluZGV4T2YodGhpcy5saW5lcywgbGluZSksIDEpO1xuICAgIGlmICghdGhpcy5saW5lcy5sZW5ndGggJiYgdGhpcy5kb2MuY20pIHtcbiAgICAgIHZhciBvcCA9IHRoaXMuZG9jLmNtLmN1ck9wO1xuICAgICAgKG9wLm1heWJlSGlkZGVuTWFya2VycyB8fCAob3AubWF5YmVIaWRkZW5NYXJrZXJzID0gW10pKS5wdXNoKHRoaXMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDb2xsYXBzZWQgbWFya2VycyBoYXZlIHVuaXF1ZSBpZHMsIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gb3JkZXJcbiAgLy8gdGhlbSwgd2hpY2ggaXMgbmVlZGVkIGZvciB1bmlxdWVseSBkZXRlcm1pbmluZyBhbiBvdXRlciBtYXJrZXJcbiAgLy8gd2hlbiB0aGV5IG92ZXJsYXAgKHRoZXkgbWF5IG5lc3QsIGJ1dCBub3QgcGFydGlhbGx5IG92ZXJsYXApLlxuICB2YXIgbmV4dE1hcmtlcklkID0gMDtcblxuICAvLyBDcmVhdGUgYSBtYXJrZXIsIHdpcmUgaXQgdXAgdG8gdGhlIHJpZ2h0IGxpbmVzLCBhbmRcbiAgZnVuY3Rpb24gbWFya1RleHQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSkge1xuICAgIC8vIFNoYXJlZCBtYXJrZXJzIChhY3Jvc3MgbGlua2VkIGRvY3VtZW50cykgYXJlIGhhbmRsZWQgc2VwYXJhdGVseVxuICAgIC8vIChtYXJrVGV4dFNoYXJlZCB3aWxsIGNhbGwgb3V0IHRvIHRoaXMgYWdhaW4sIG9uY2UgcGVyXG4gICAgLy8gZG9jdW1lbnQpLlxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkKSByZXR1cm4gbWFya1RleHRTaGFyZWQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSk7XG4gICAgLy8gRW5zdXJlIHdlIGFyZSBpbiBhbiBvcGVyYXRpb24uXG4gICAgaWYgKGRvYy5jbSAmJiAhZG9jLmNtLmN1ck9wKSByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFya1RleHQpKGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpO1xuXG4gICAgdmFyIG1hcmtlciA9IG5ldyBUZXh0TWFya2VyKGRvYywgdHlwZSksIGRpZmYgPSBjbXAoZnJvbSwgdG8pO1xuICAgIGlmIChvcHRpb25zKSBjb3B5T2JqKG9wdGlvbnMsIG1hcmtlciwgZmFsc2UpO1xuICAgIC8vIERvbid0IGNvbm5lY3QgZW1wdHkgbWFya2VycyB1bmxlc3MgY2xlYXJXaGVuRW1wdHkgaXMgZmFsc2VcbiAgICBpZiAoZGlmZiA+IDAgfHwgZGlmZiA9PSAwICYmIG1hcmtlci5jbGVhcldoZW5FbXB0eSAhPT0gZmFsc2UpXG4gICAgICByZXR1cm4gbWFya2VyO1xuICAgIGlmIChtYXJrZXIucmVwbGFjZWRXaXRoKSB7XG4gICAgICAvLyBTaG93aW5nIHVwIGFzIGEgd2lkZ2V0IGltcGxpZXMgY29sbGFwc2VkICh3aWRnZXQgcmVwbGFjZXMgdGV4dClcbiAgICAgIG1hcmtlci5jb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgbWFya2VyLndpZGdldE5vZGUgPSBlbHQoXCJzcGFuXCIsIFttYXJrZXIucmVwbGFjZWRXaXRoXSwgXCJDb2RlTWlycm9yLXdpZGdldFwiKTtcbiAgICAgIGlmICghb3B0aW9ucy5oYW5kbGVNb3VzZUV2ZW50cykgbWFya2VyLndpZGdldE5vZGUuc2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiLCBcInRydWVcIik7XG4gICAgICBpZiAob3B0aW9ucy5pbnNlcnRMZWZ0KSBtYXJrZXIud2lkZ2V0Tm9kZS5pbnNlcnRMZWZ0ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG1hcmtlci5jb2xsYXBzZWQpIHtcbiAgICAgIGlmIChjb25mbGljdGluZ0NvbGxhcHNlZFJhbmdlKGRvYywgZnJvbS5saW5lLCBmcm9tLCB0bywgbWFya2VyKSB8fFxuICAgICAgICAgIGZyb20ubGluZSAhPSB0by5saW5lICYmIGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCB0by5saW5lLCBmcm9tLCB0bywgbWFya2VyKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5zZXJ0aW5nIGNvbGxhcHNlZCBtYXJrZXIgcGFydGlhbGx5IG92ZXJsYXBwaW5nIGFuIGV4aXN0aW5nIG9uZVwiKTtcbiAgICAgIHNhd0NvbGxhcHNlZFNwYW5zID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobWFya2VyLmFkZFRvSGlzdG9yeSlcbiAgICAgIGFkZENoYW5nZVRvSGlzdG9yeShkb2MsIHtmcm9tOiBmcm9tLCB0bzogdG8sIG9yaWdpbjogXCJtYXJrVGV4dFwifSwgZG9jLnNlbCwgTmFOKTtcblxuICAgIHZhciBjdXJMaW5lID0gZnJvbS5saW5lLCBjbSA9IGRvYy5jbSwgdXBkYXRlTWF4TGluZTtcbiAgICBkb2MuaXRlcihjdXJMaW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKGNtICYmIG1hcmtlci5jb2xsYXBzZWQgJiYgIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nICYmIHZpc3VhbExpbmUobGluZSkgPT0gY20uZGlzcGxheS5tYXhMaW5lKVxuICAgICAgICB1cGRhdGVNYXhMaW5lID0gdHJ1ZTtcbiAgICAgIGlmIChtYXJrZXIuY29sbGFwc2VkICYmIGN1ckxpbmUgIT0gZnJvbS5saW5lKSB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIDApO1xuICAgICAgYWRkTWFya2VkU3BhbihsaW5lLCBuZXcgTWFya2VkU3BhbihtYXJrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxpbmUgPT0gZnJvbS5saW5lID8gZnJvbS5jaCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxpbmUgPT0gdG8ubGluZSA/IHRvLmNoIDogbnVsbCkpO1xuICAgICAgKytjdXJMaW5lO1xuICAgIH0pO1xuICAgIC8vIGxpbmVJc0hpZGRlbiBkZXBlbmRzIG9uIHRoZSBwcmVzZW5jZSBvZiB0aGUgc3BhbnMsIHNvIG5lZWRzIGEgc2Vjb25kIHBhc3NcbiAgICBpZiAobWFya2VyLmNvbGxhcHNlZCkgZG9jLml0ZXIoZnJvbS5saW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKGxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIDApO1xuICAgIH0pO1xuXG4gICAgaWYgKG1hcmtlci5jbGVhck9uRW50ZXIpIG9uKG1hcmtlciwgXCJiZWZvcmVDdXJzb3JFbnRlclwiLCBmdW5jdGlvbigpIHsgbWFya2VyLmNsZWFyKCk7IH0pO1xuXG4gICAgaWYgKG1hcmtlci5yZWFkT25seSkge1xuICAgICAgc2F3UmVhZE9ubHlTcGFucyA9IHRydWU7XG4gICAgICBpZiAoZG9jLmhpc3RvcnkuZG9uZS5sZW5ndGggfHwgZG9jLmhpc3RvcnkudW5kb25lLmxlbmd0aClcbiAgICAgICAgZG9jLmNsZWFySGlzdG9yeSgpO1xuICAgIH1cbiAgICBpZiAobWFya2VyLmNvbGxhcHNlZCkge1xuICAgICAgbWFya2VyLmlkID0gKytuZXh0TWFya2VySWQ7XG4gICAgICBtYXJrZXIuYXRvbWljID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNtKSB7XG4gICAgICAvLyBTeW5jIGVkaXRvciBzdGF0ZVxuICAgICAgaWYgKHVwZGF0ZU1heExpbmUpIGNtLmN1ck9wLnVwZGF0ZU1heExpbmUgPSB0cnVlO1xuICAgICAgaWYgKG1hcmtlci5jb2xsYXBzZWQpXG4gICAgICAgIHJlZ0NoYW5nZShjbSwgZnJvbS5saW5lLCB0by5saW5lICsgMSk7XG4gICAgICBlbHNlIGlmIChtYXJrZXIuY2xhc3NOYW1lIHx8IG1hcmtlci50aXRsZSB8fCBtYXJrZXIuc3RhcnRTdHlsZSB8fCBtYXJrZXIuZW5kU3R5bGUgfHwgbWFya2VyLmNzcylcbiAgICAgICAgZm9yICh2YXIgaSA9IGZyb20ubGluZTsgaSA8PSB0by5saW5lOyBpKyspIHJlZ0xpbmVDaGFuZ2UoY20sIGksIFwidGV4dFwiKTtcbiAgICAgIGlmIChtYXJrZXIuYXRvbWljKSByZUNoZWNrU2VsZWN0aW9uKGNtLmRvYyk7XG4gICAgICBzaWduYWxMYXRlcihjbSwgXCJtYXJrZXJBZGRlZFwiLCBjbSwgbWFya2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfVxuXG4gIC8vIFNIQVJFRCBURVhUTUFSS0VSU1xuXG4gIC8vIEEgc2hhcmVkIG1hcmtlciBzcGFucyBtdWx0aXBsZSBsaW5rZWQgZG9jdW1lbnRzLiBJdCBpc1xuICAvLyBpbXBsZW1lbnRlZCBhcyBhIG1ldGEtbWFya2VyLW9iamVjdCBjb250cm9sbGluZyBtdWx0aXBsZSBub3JtYWxcbiAgLy8gbWFya2Vycy5cbiAgdmFyIFNoYXJlZFRleHRNYXJrZXIgPSBDb2RlTWlycm9yLlNoYXJlZFRleHRNYXJrZXIgPSBmdW5jdGlvbihtYXJrZXJzLCBwcmltYXJ5KSB7XG4gICAgdGhpcy5tYXJrZXJzID0gbWFya2VycztcbiAgICB0aGlzLnByaW1hcnkgPSBwcmltYXJ5O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7ICsraSlcbiAgICAgIG1hcmtlcnNbaV0ucGFyZW50ID0gdGhpcztcbiAgfTtcbiAgZXZlbnRNaXhpbihTaGFyZWRUZXh0TWFya2VyKTtcblxuICBTaGFyZWRUZXh0TWFya2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmV4cGxpY2l0bHlDbGVhcmVkKSByZXR1cm47XG4gICAgdGhpcy5leHBsaWNpdGx5Q2xlYXJlZCA9IHRydWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcmtlcnMubGVuZ3RoOyArK2kpXG4gICAgICB0aGlzLm1hcmtlcnNbaV0uY2xlYXIoKTtcbiAgICBzaWduYWxMYXRlcih0aGlzLCBcImNsZWFyXCIpO1xuICB9O1xuICBTaGFyZWRUZXh0TWFya2VyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24oc2lkZSwgbGluZU9iaikge1xuICAgIHJldHVybiB0aGlzLnByaW1hcnkuZmluZChzaWRlLCBsaW5lT2JqKTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYXJrVGV4dFNoYXJlZChkb2MsIGZyb20sIHRvLCBvcHRpb25zLCB0eXBlKSB7XG4gICAgb3B0aW9ucyA9IGNvcHlPYmoob3B0aW9ucyk7XG4gICAgb3B0aW9ucy5zaGFyZWQgPSBmYWxzZTtcbiAgICB2YXIgbWFya2VycyA9IFttYXJrVGV4dChkb2MsIGZyb20sIHRvLCBvcHRpb25zLCB0eXBlKV0sIHByaW1hcnkgPSBtYXJrZXJzWzBdO1xuICAgIHZhciB3aWRnZXQgPSBvcHRpb25zLndpZGdldE5vZGU7XG4gICAgbGlua2VkRG9jcyhkb2MsIGZ1bmN0aW9uKGRvYykge1xuICAgICAgaWYgKHdpZGdldCkgb3B0aW9ucy53aWRnZXROb2RlID0gd2lkZ2V0LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIG1hcmtlcnMucHVzaChtYXJrVGV4dChkb2MsIGNsaXBQb3MoZG9jLCBmcm9tKSwgY2xpcFBvcyhkb2MsIHRvKSwgb3B0aW9ucywgdHlwZSkpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2MubGlua2VkLmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAoZG9jLmxpbmtlZFtpXS5pc1BhcmVudCkgcmV0dXJuO1xuICAgICAgcHJpbWFyeSA9IGxzdChtYXJrZXJzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFNoYXJlZFRleHRNYXJrZXIobWFya2VycywgcHJpbWFyeSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kU2hhcmVkTWFya2Vycyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLmZpbmRNYXJrcyhQb3MoZG9jLmZpcnN0LCAwKSwgZG9jLmNsaXBQb3MoUG9zKGRvYy5sYXN0TGluZSgpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24obSkgeyByZXR1cm4gbS5wYXJlbnQ7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY29weVNoYXJlZE1hcmtlcnMoZG9jLCBtYXJrZXJzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbWFya2VyID0gbWFya2Vyc1tpXSwgcG9zID0gbWFya2VyLmZpbmQoKTtcbiAgICAgIHZhciBtRnJvbSA9IGRvYy5jbGlwUG9zKHBvcy5mcm9tKSwgbVRvID0gZG9jLmNsaXBQb3MocG9zLnRvKTtcbiAgICAgIGlmIChjbXAobUZyb20sIG1UbykpIHtcbiAgICAgICAgdmFyIHN1Yk1hcmsgPSBtYXJrVGV4dChkb2MsIG1Gcm9tLCBtVG8sIG1hcmtlci5wcmltYXJ5LCBtYXJrZXIucHJpbWFyeS50eXBlKTtcbiAgICAgICAgbWFya2VyLm1hcmtlcnMucHVzaChzdWJNYXJrKTtcbiAgICAgICAgc3ViTWFyay5wYXJlbnQgPSBtYXJrZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGV0YWNoU2hhcmVkTWFya2VycyhtYXJrZXJzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbWFya2VyID0gbWFya2Vyc1tpXSwgbGlua2VkID0gW21hcmtlci5wcmltYXJ5LmRvY107O1xuICAgICAgbGlua2VkRG9jcyhtYXJrZXIucHJpbWFyeS5kb2MsIGZ1bmN0aW9uKGQpIHsgbGlua2VkLnB1c2goZCk7IH0pO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXJrZXIubWFya2Vycy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgc3ViTWFya2VyID0gbWFya2VyLm1hcmtlcnNbal07XG4gICAgICAgIGlmIChpbmRleE9mKGxpbmtlZCwgc3ViTWFya2VyLmRvYykgPT0gLTEpIHtcbiAgICAgICAgICBzdWJNYXJrZXIucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICBtYXJrZXIubWFya2Vycy5zcGxpY2Uoai0tLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFRFWFRNQVJLRVIgU1BBTlNcblxuICBmdW5jdGlvbiBNYXJrZWRTcGFuKG1hcmtlciwgZnJvbSwgdG8pIHtcbiAgICB0aGlzLm1hcmtlciA9IG1hcmtlcjtcbiAgICB0aGlzLmZyb20gPSBmcm9tOyB0aGlzLnRvID0gdG87XG4gIH1cblxuICAvLyBTZWFyY2ggYW4gYXJyYXkgb2Ygc3BhbnMgZm9yIGEgc3BhbiBtYXRjaGluZyB0aGUgZ2l2ZW4gbWFya2VyLlxuICBmdW5jdGlvbiBnZXRNYXJrZWRTcGFuRm9yKHNwYW5zLCBtYXJrZXIpIHtcbiAgICBpZiAoc3BhbnMpIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcGFuID0gc3BhbnNbaV07XG4gICAgICBpZiAoc3Bhbi5tYXJrZXIgPT0gbWFya2VyKSByZXR1cm4gc3BhbjtcbiAgICB9XG4gIH1cbiAgLy8gUmVtb3ZlIGEgc3BhbiBmcm9tIGFuIGFycmF5LCByZXR1cm5pbmcgdW5kZWZpbmVkIGlmIG5vIHNwYW5zIGFyZVxuICAvLyBsZWZ0ICh3ZSBkb24ndCBzdG9yZSBhcnJheXMgZm9yIGxpbmVzIHdpdGhvdXQgc3BhbnMpLlxuICBmdW5jdGlvbiByZW1vdmVNYXJrZWRTcGFuKHNwYW5zLCBzcGFuKSB7XG4gICAgZm9yICh2YXIgciwgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSlcbiAgICAgIGlmIChzcGFuc1tpXSAhPSBzcGFuKSAociB8fCAociA9IFtdKSkucHVzaChzcGFuc1tpXSk7XG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgLy8gQWRkIGEgc3BhbiB0byBhIGxpbmUuXG4gIGZ1bmN0aW9uIGFkZE1hcmtlZFNwYW4obGluZSwgc3Bhbikge1xuICAgIGxpbmUubWFya2VkU3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zID8gbGluZS5tYXJrZWRTcGFucy5jb25jYXQoW3NwYW5dKSA6IFtzcGFuXTtcbiAgICBzcGFuLm1hcmtlci5hdHRhY2hMaW5lKGxpbmUpO1xuICB9XG5cbiAgLy8gVXNlZCBmb3IgdGhlIGFsZ29yaXRobSB0aGF0IGFkanVzdHMgbWFya2VycyBmb3IgYSBjaGFuZ2UgaW4gdGhlXG4gIC8vIGRvY3VtZW50LiBUaGVzZSBmdW5jdGlvbnMgY3V0IGFuIGFycmF5IG9mIHNwYW5zIGF0IGEgZ2l2ZW5cbiAgLy8gY2hhcmFjdGVyIHBvc2l0aW9uLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgcmVtYWluaW5nIGNodW5rcyAob3JcbiAgLy8gdW5kZWZpbmVkIGlmIG5vdGhpbmcgcmVtYWlucykuXG4gIGZ1bmN0aW9uIG1hcmtlZFNwYW5zQmVmb3JlKG9sZCwgc3RhcnRDaCwgaXNJbnNlcnQpIHtcbiAgICBpZiAob2xkKSBmb3IgKHZhciBpID0gMCwgbnc7IGkgPCBvbGQubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcGFuID0gb2xkW2ldLCBtYXJrZXIgPSBzcGFuLm1hcmtlcjtcbiAgICAgIHZhciBzdGFydHNCZWZvcmUgPSBzcGFuLmZyb20gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZUxlZnQgPyBzcGFuLmZyb20gPD0gc3RhcnRDaCA6IHNwYW4uZnJvbSA8IHN0YXJ0Q2gpO1xuICAgICAgaWYgKHN0YXJ0c0JlZm9yZSB8fCBzcGFuLmZyb20gPT0gc3RhcnRDaCAmJiBtYXJrZXIudHlwZSA9PSBcImJvb2ttYXJrXCIgJiYgKCFpc0luc2VydCB8fCAhc3Bhbi5tYXJrZXIuaW5zZXJ0TGVmdCkpIHtcbiAgICAgICAgdmFyIGVuZHNBZnRlciA9IHNwYW4udG8gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gc3Bhbi50byA+PSBzdGFydENoIDogc3Bhbi50byA+IHN0YXJ0Q2gpO1xuICAgICAgICAobncgfHwgKG53ID0gW10pKS5wdXNoKG5ldyBNYXJrZWRTcGFuKG1hcmtlciwgc3Bhbi5mcm9tLCBlbmRzQWZ0ZXIgPyBudWxsIDogc3Bhbi50bykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnc7XG4gIH1cbiAgZnVuY3Rpb24gbWFya2VkU3BhbnNBZnRlcihvbGQsIGVuZENoLCBpc0luc2VydCkge1xuICAgIGlmIChvbGQpIGZvciAodmFyIGkgPSAwLCBudzsgaSA8IG9sZC5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwYW4gPSBvbGRbaV0sIG1hcmtlciA9IHNwYW4ubWFya2VyO1xuICAgICAgdmFyIGVuZHNBZnRlciA9IHNwYW4udG8gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gc3Bhbi50byA+PSBlbmRDaCA6IHNwYW4udG8gPiBlbmRDaCk7XG4gICAgICBpZiAoZW5kc0FmdGVyIHx8IHNwYW4uZnJvbSA9PSBlbmRDaCAmJiBtYXJrZXIudHlwZSA9PSBcImJvb2ttYXJrXCIgJiYgKCFpc0luc2VydCB8fCBzcGFuLm1hcmtlci5pbnNlcnRMZWZ0KSkge1xuICAgICAgICB2YXIgc3RhcnRzQmVmb3JlID0gc3Bhbi5mcm9tID09IG51bGwgfHwgKG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gc3Bhbi5mcm9tIDw9IGVuZENoIDogc3Bhbi5mcm9tIDwgZW5kQ2gpO1xuICAgICAgICAobncgfHwgKG53ID0gW10pKS5wdXNoKG5ldyBNYXJrZWRTcGFuKG1hcmtlciwgc3RhcnRzQmVmb3JlID8gbnVsbCA6IHNwYW4uZnJvbSAtIGVuZENoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4udG8gPT0gbnVsbCA/IG51bGwgOiBzcGFuLnRvIC0gZW5kQ2gpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG53O1xuICB9XG5cbiAgLy8gR2l2ZW4gYSBjaGFuZ2Ugb2JqZWN0LCBjb21wdXRlIHRoZSBuZXcgc2V0IG9mIG1hcmtlciBzcGFucyB0aGF0XG4gIC8vIGNvdmVyIHRoZSBsaW5lIGluIHdoaWNoIHRoZSBjaGFuZ2UgdG9vayBwbGFjZS4gUmVtb3ZlcyBzcGFuc1xuICAvLyBlbnRpcmVseSB3aXRoaW4gdGhlIGNoYW5nZSwgcmVjb25uZWN0cyBzcGFucyBiZWxvbmdpbmcgdG8gdGhlXG4gIC8vIHNhbWUgbWFya2VyIHRoYXQgYXBwZWFyIG9uIGJvdGggc2lkZXMgb2YgdGhlIGNoYW5nZSwgYW5kIGN1dHMgb2ZmXG4gIC8vIHNwYW5zIHBhcnRpYWxseSB3aXRoaW4gdGhlIGNoYW5nZS4gUmV0dXJucyBhbiBhcnJheSBvZiBzcGFuXG4gIC8vIGFycmF5cyB3aXRoIG9uZSBlbGVtZW50IGZvciBlYWNoIGxpbmUgaW4gKGFmdGVyKSB0aGUgY2hhbmdlLlxuICBmdW5jdGlvbiBzdHJldGNoU3BhbnNPdmVyQ2hhbmdlKGRvYywgY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS5mdWxsKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgb2xkRmlyc3QgPSBpc0xpbmUoZG9jLCBjaGFuZ2UuZnJvbS5saW5lKSAmJiBnZXRMaW5lKGRvYywgY2hhbmdlLmZyb20ubGluZSkubWFya2VkU3BhbnM7XG4gICAgdmFyIG9sZExhc3QgPSBpc0xpbmUoZG9jLCBjaGFuZ2UudG8ubGluZSkgJiYgZ2V0TGluZShkb2MsIGNoYW5nZS50by5saW5lKS5tYXJrZWRTcGFucztcbiAgICBpZiAoIW9sZEZpcnN0ICYmICFvbGRMYXN0KSByZXR1cm4gbnVsbDtcblxuICAgIHZhciBzdGFydENoID0gY2hhbmdlLmZyb20uY2gsIGVuZENoID0gY2hhbmdlLnRvLmNoLCBpc0luc2VydCA9IGNtcChjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKSA9PSAwO1xuICAgIC8vIEdldCB0aGUgc3BhbnMgdGhhdCAnc3RpY2sgb3V0JyBvbiBib3RoIHNpZGVzXG4gICAgdmFyIGZpcnN0ID0gbWFya2VkU3BhbnNCZWZvcmUob2xkRmlyc3QsIHN0YXJ0Q2gsIGlzSW5zZXJ0KTtcbiAgICB2YXIgbGFzdCA9IG1hcmtlZFNwYW5zQWZ0ZXIob2xkTGFzdCwgZW5kQ2gsIGlzSW5zZXJ0KTtcblxuICAgIC8vIE5leHQsIG1lcmdlIHRob3NlIHR3byBlbmRzXG4gICAgdmFyIHNhbWVMaW5lID0gY2hhbmdlLnRleHQubGVuZ3RoID09IDEsIG9mZnNldCA9IGxzdChjaGFuZ2UudGV4dCkubGVuZ3RoICsgKHNhbWVMaW5lID8gc3RhcnRDaCA6IDApO1xuICAgIGlmIChmaXJzdCkge1xuICAgICAgLy8gRml4IHVwIC50byBwcm9wZXJ0aWVzIG9mIGZpcnN0XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpcnN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBzcGFuID0gZmlyc3RbaV07XG4gICAgICAgIGlmIChzcGFuLnRvID09IG51bGwpIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBnZXRNYXJrZWRTcGFuRm9yKGxhc3QsIHNwYW4ubWFya2VyKTtcbiAgICAgICAgICBpZiAoIWZvdW5kKSBzcGFuLnRvID0gc3RhcnRDaDtcbiAgICAgICAgICBlbHNlIGlmIChzYW1lTGluZSkgc3Bhbi50byA9IGZvdW5kLnRvID09IG51bGwgPyBudWxsIDogZm91bmQudG8gKyBvZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhc3QpIHtcbiAgICAgIC8vIEZpeCB1cCAuZnJvbSBpbiBsYXN0IChvciBtb3ZlIHRoZW0gaW50byBmaXJzdCBpbiBjYXNlIG9mIHNhbWVMaW5lKVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBzcGFuID0gbGFzdFtpXTtcbiAgICAgICAgaWYgKHNwYW4udG8gIT0gbnVsbCkgc3Bhbi50byArPSBvZmZzZXQ7XG4gICAgICAgIGlmIChzcGFuLmZyb20gPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGdldE1hcmtlZFNwYW5Gb3IoZmlyc3QsIHNwYW4ubWFya2VyKTtcbiAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICBzcGFuLmZyb20gPSBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAoc2FtZUxpbmUpIChmaXJzdCB8fCAoZmlyc3QgPSBbXSkpLnB1c2goc3Bhbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwYW4uZnJvbSArPSBvZmZzZXQ7XG4gICAgICAgICAgaWYgKHNhbWVMaW5lKSAoZmlyc3QgfHwgKGZpcnN0ID0gW10pKS5wdXNoKHNwYW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSB3ZSBkaWRuJ3QgY3JlYXRlIGFueSB6ZXJvLWxlbmd0aCBzcGFuc1xuICAgIGlmIChmaXJzdCkgZmlyc3QgPSBjbGVhckVtcHR5U3BhbnMoZmlyc3QpO1xuICAgIGlmIChsYXN0ICYmIGxhc3QgIT0gZmlyc3QpIGxhc3QgPSBjbGVhckVtcHR5U3BhbnMobGFzdCk7XG5cbiAgICB2YXIgbmV3TWFya2VycyA9IFtmaXJzdF07XG4gICAgaWYgKCFzYW1lTGluZSkge1xuICAgICAgLy8gRmlsbCBnYXAgd2l0aCB3aG9sZS1saW5lLXNwYW5zXG4gICAgICB2YXIgZ2FwID0gY2hhbmdlLnRleHQubGVuZ3RoIC0gMiwgZ2FwTWFya2VycztcbiAgICAgIGlmIChnYXAgPiAwICYmIGZpcnN0KVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpcnN0Lmxlbmd0aDsgKytpKVxuICAgICAgICAgIGlmIChmaXJzdFtpXS50byA9PSBudWxsKVxuICAgICAgICAgICAgKGdhcE1hcmtlcnMgfHwgKGdhcE1hcmtlcnMgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4oZmlyc3RbaV0ubWFya2VyLCBudWxsLCBudWxsKSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhcDsgKytpKVxuICAgICAgICBuZXdNYXJrZXJzLnB1c2goZ2FwTWFya2Vycyk7XG4gICAgICBuZXdNYXJrZXJzLnB1c2gobGFzdCk7XG4gICAgfVxuICAgIHJldHVybiBuZXdNYXJrZXJzO1xuICB9XG5cbiAgLy8gUmVtb3ZlIHNwYW5zIHRoYXQgYXJlIGVtcHR5IGFuZCBkb24ndCBoYXZlIGEgY2xlYXJXaGVuRW1wdHlcbiAgLy8gb3B0aW9uIG9mIGZhbHNlLlxuICBmdW5jdGlvbiBjbGVhckVtcHR5U3BhbnMoc3BhbnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldO1xuICAgICAgaWYgKHNwYW4uZnJvbSAhPSBudWxsICYmIHNwYW4uZnJvbSA9PSBzcGFuLnRvICYmIHNwYW4ubWFya2VyLmNsZWFyV2hlbkVtcHR5ICE9PSBmYWxzZSlcbiAgICAgICAgc3BhbnMuc3BsaWNlKGktLSwgMSk7XG4gICAgfVxuICAgIGlmICghc3BhbnMubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gc3BhbnM7XG4gIH1cblxuICAvLyBVc2VkIGZvciB1bi9yZS1kb2luZyBjaGFuZ2VzIGZyb20gdGhlIGhpc3RvcnkuIENvbWJpbmVzIHRoZVxuICAvLyByZXN1bHQgb2YgY29tcHV0aW5nIHRoZSBleGlzdGluZyBzcGFucyB3aXRoIHRoZSBzZXQgb2Ygc3BhbnMgdGhhdFxuICAvLyBleGlzdGVkIGluIHRoZSBoaXN0b3J5IChzbyB0aGF0IGRlbGV0aW5nIGFyb3VuZCBhIHNwYW4gYW5kIHRoZW5cbiAgLy8gdW5kb2luZyBicmluZ3MgYmFjayB0aGUgc3BhbikuXG4gIGZ1bmN0aW9uIG1lcmdlT2xkU3BhbnMoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgb2xkID0gZ2V0T2xkU3BhbnMoZG9jLCBjaGFuZ2UpO1xuICAgIHZhciBzdHJldGNoZWQgPSBzdHJldGNoU3BhbnNPdmVyQ2hhbmdlKGRvYywgY2hhbmdlKTtcbiAgICBpZiAoIW9sZCkgcmV0dXJuIHN0cmV0Y2hlZDtcbiAgICBpZiAoIXN0cmV0Y2hlZCkgcmV0dXJuIG9sZDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgb2xkQ3VyID0gb2xkW2ldLCBzdHJldGNoQ3VyID0gc3RyZXRjaGVkW2ldO1xuICAgICAgaWYgKG9sZEN1ciAmJiBzdHJldGNoQ3VyKSB7XG4gICAgICAgIHNwYW5zOiBmb3IgKHZhciBqID0gMDsgaiA8IHN0cmV0Y2hDdXIubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICB2YXIgc3BhbiA9IHN0cmV0Y2hDdXJbal07XG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvbGRDdXIubGVuZ3RoOyArK2spXG4gICAgICAgICAgICBpZiAob2xkQ3VyW2tdLm1hcmtlciA9PSBzcGFuLm1hcmtlcikgY29udGludWUgc3BhbnM7XG4gICAgICAgICAgb2xkQ3VyLnB1c2goc3Bhbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyZXRjaEN1cikge1xuICAgICAgICBvbGRbaV0gPSBzdHJldGNoQ3VyO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2xkO1xuICB9XG5cbiAgLy8gVXNlZCB0byAnY2xpcCcgb3V0IHJlYWRPbmx5IHJhbmdlcyB3aGVuIG1ha2luZyBhIGNoYW5nZS5cbiAgZnVuY3Rpb24gcmVtb3ZlUmVhZE9ubHlSYW5nZXMoZG9jLCBmcm9tLCB0bykge1xuICAgIHZhciBtYXJrZXJzID0gbnVsbDtcbiAgICBkb2MuaXRlcihmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAobGluZS5tYXJrZWRTcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLm1hcmtlZFNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBtYXJrID0gbGluZS5tYXJrZWRTcGFuc1tpXS5tYXJrZXI7XG4gICAgICAgIGlmIChtYXJrLnJlYWRPbmx5ICYmICghbWFya2VycyB8fCBpbmRleE9mKG1hcmtlcnMsIG1hcmspID09IC0xKSlcbiAgICAgICAgICAobWFya2VycyB8fCAobWFya2VycyA9IFtdKSkucHVzaChtYXJrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIW1hcmtlcnMpIHJldHVybiBudWxsO1xuICAgIHZhciBwYXJ0cyA9IFt7ZnJvbTogZnJvbSwgdG86IHRvfV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbWsgPSBtYXJrZXJzW2ldLCBtID0gbWsuZmluZCgwKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGFydHMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdmFyIHAgPSBwYXJ0c1tqXTtcbiAgICAgICAgaWYgKGNtcChwLnRvLCBtLmZyb20pIDwgMCB8fCBjbXAocC5mcm9tLCBtLnRvKSA+IDApIGNvbnRpbnVlO1xuICAgICAgICB2YXIgbmV3UGFydHMgPSBbaiwgMV0sIGRmcm9tID0gY21wKHAuZnJvbSwgbS5mcm9tKSwgZHRvID0gY21wKHAudG8sIG0udG8pO1xuICAgICAgICBpZiAoZGZyb20gPCAwIHx8ICFtay5pbmNsdXNpdmVMZWZ0ICYmICFkZnJvbSlcbiAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBwLmZyb20sIHRvOiBtLmZyb219KTtcbiAgICAgICAgaWYgKGR0byA+IDAgfHwgIW1rLmluY2x1c2l2ZVJpZ2h0ICYmICFkdG8pXG4gICAgICAgICAgbmV3UGFydHMucHVzaCh7ZnJvbTogbS50bywgdG86IHAudG99KTtcbiAgICAgICAgcGFydHMuc3BsaWNlLmFwcGx5KHBhcnRzLCBuZXdQYXJ0cyk7XG4gICAgICAgIGogKz0gbmV3UGFydHMubGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzO1xuICB9XG5cbiAgLy8gQ29ubmVjdCBvciBkaXNjb25uZWN0IHNwYW5zIGZyb20gYSBsaW5lLlxuICBmdW5jdGlvbiBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKSB7XG4gICAgdmFyIHNwYW5zID0gbGluZS5tYXJrZWRTcGFucztcbiAgICBpZiAoIXNwYW5zKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSlcbiAgICAgIHNwYW5zW2ldLm1hcmtlci5kZXRhY2hMaW5lKGxpbmUpO1xuICAgIGxpbmUubWFya2VkU3BhbnMgPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGF0dGFjaE1hcmtlZFNwYW5zKGxpbmUsIHNwYW5zKSB7XG4gICAgaWYgKCFzcGFucykgcmV0dXJuO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpXG4gICAgICBzcGFuc1tpXS5tYXJrZXIuYXR0YWNoTGluZShsaW5lKTtcbiAgICBsaW5lLm1hcmtlZFNwYW5zID0gc3BhbnM7XG4gIH1cblxuICAvLyBIZWxwZXJzIHVzZWQgd2hlbiBjb21wdXRpbmcgd2hpY2ggb3ZlcmxhcHBpbmcgY29sbGFwc2VkIHNwYW5cbiAgLy8gY291bnRzIGFzIHRoZSBsYXJnZXIgb25lLlxuICBmdW5jdGlvbiBleHRyYUxlZnQobWFya2VyKSB7IHJldHVybiBtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IC0xIDogMDsgfVxuICBmdW5jdGlvbiBleHRyYVJpZ2h0KG1hcmtlcikgeyByZXR1cm4gbWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gMSA6IDA7IH1cblxuICAvLyBSZXR1cm5zIGEgbnVtYmVyIGluZGljYXRpbmcgd2hpY2ggb2YgdHdvIG92ZXJsYXBwaW5nIGNvbGxhcHNlZFxuICAvLyBzcGFucyBpcyBsYXJnZXIgKGFuZCB0aHVzIGluY2x1ZGVzIHRoZSBvdGhlcikuIEZhbGxzIGJhY2sgdG9cbiAgLy8gY29tcGFyaW5nIGlkcyB3aGVuIHRoZSBzcGFucyBjb3ZlciBleGFjdGx5IHRoZSBzYW1lIHJhbmdlLlxuICBmdW5jdGlvbiBjb21wYXJlQ29sbGFwc2VkTWFya2VycyhhLCBiKSB7XG4gICAgdmFyIGxlbkRpZmYgPSBhLmxpbmVzLmxlbmd0aCAtIGIubGluZXMubGVuZ3RoO1xuICAgIGlmIChsZW5EaWZmICE9IDApIHJldHVybiBsZW5EaWZmO1xuICAgIHZhciBhUG9zID0gYS5maW5kKCksIGJQb3MgPSBiLmZpbmQoKTtcbiAgICB2YXIgZnJvbUNtcCA9IGNtcChhUG9zLmZyb20sIGJQb3MuZnJvbSkgfHwgZXh0cmFMZWZ0KGEpIC0gZXh0cmFMZWZ0KGIpO1xuICAgIGlmIChmcm9tQ21wKSByZXR1cm4gLWZyb21DbXA7XG4gICAgdmFyIHRvQ21wID0gY21wKGFQb3MudG8sIGJQb3MudG8pIHx8IGV4dHJhUmlnaHQoYSkgLSBleHRyYVJpZ2h0KGIpO1xuICAgIGlmICh0b0NtcCkgcmV0dXJuIHRvQ21wO1xuICAgIHJldHVybiBiLmlkIC0gYS5pZDtcbiAgfVxuXG4gIC8vIEZpbmQgb3V0IHdoZXRoZXIgYSBsaW5lIGVuZHMgb3Igc3RhcnRzIGluIGEgY29sbGFwc2VkIHNwYW4uIElmXG4gIC8vIHNvLCByZXR1cm4gdGhlIG1hcmtlciBmb3IgdGhhdCBzcGFuLlxuICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIHN0YXJ0KSB7XG4gICAgdmFyIHNwcyA9IHNhd0NvbGxhcHNlZFNwYW5zICYmIGxpbmUubWFya2VkU3BhbnMsIGZvdW5kO1xuICAgIGlmIChzcHMpIGZvciAodmFyIHNwLCBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSkge1xuICAgICAgc3AgPSBzcHNbaV07XG4gICAgICBpZiAoc3AubWFya2VyLmNvbGxhcHNlZCAmJiAoc3RhcnQgPyBzcC5mcm9tIDogc3AudG8pID09IG51bGwgJiZcbiAgICAgICAgICAoIWZvdW5kIHx8IGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGZvdW5kLCBzcC5tYXJrZXIpIDwgMCkpXG4gICAgICAgIGZvdW5kID0gc3AubWFya2VyO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbiAgZnVuY3Rpb24gY29sbGFwc2VkU3BhbkF0U3RhcnQobGluZSkgeyByZXR1cm4gY29sbGFwc2VkU3BhbkF0U2lkZShsaW5lLCB0cnVlKTsgfVxuICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkgeyByZXR1cm4gY29sbGFwc2VkU3BhbkF0U2lkZShsaW5lLCBmYWxzZSk7IH1cblxuICAvLyBUZXN0IHdoZXRoZXIgdGhlcmUgZXhpc3RzIGEgY29sbGFwc2VkIHNwYW4gdGhhdCBwYXJ0aWFsbHlcbiAgLy8gb3ZlcmxhcHMgKGNvdmVycyB0aGUgc3RhcnQgb3IgZW5kLCBidXQgbm90IGJvdGgpIG9mIGEgbmV3IHNwYW4uXG4gIC8vIFN1Y2ggb3ZlcmxhcCBpcyBub3QgYWxsb3dlZC5cbiAgZnVuY3Rpb24gY29uZmxpY3RpbmdDb2xsYXBzZWRSYW5nZShkb2MsIGxpbmVObywgZnJvbSwgdG8sIG1hcmtlcikge1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIGxpbmVObyk7XG4gICAgdmFyIHNwcyA9IHNhd0NvbGxhcHNlZFNwYW5zICYmIGxpbmUubWFya2VkU3BhbnM7XG4gICAgaWYgKHNwcykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcCA9IHNwc1tpXTtcbiAgICAgIGlmICghc3AubWFya2VyLmNvbGxhcHNlZCkgY29udGludWU7XG4gICAgICB2YXIgZm91bmQgPSBzcC5tYXJrZXIuZmluZCgwKTtcbiAgICAgIHZhciBmcm9tQ21wID0gY21wKGZvdW5kLmZyb20sIGZyb20pIHx8IGV4dHJhTGVmdChzcC5tYXJrZXIpIC0gZXh0cmFMZWZ0KG1hcmtlcik7XG4gICAgICB2YXIgdG9DbXAgPSBjbXAoZm91bmQudG8sIHRvKSB8fCBleHRyYVJpZ2h0KHNwLm1hcmtlcikgLSBleHRyYVJpZ2h0KG1hcmtlcik7XG4gICAgICBpZiAoZnJvbUNtcCA+PSAwICYmIHRvQ21wIDw9IDAgfHwgZnJvbUNtcCA8PSAwICYmIHRvQ21wID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKGZyb21DbXAgPD0gMCAmJiAoc3AubWFya2VyLmluY2x1c2l2ZVJpZ2h0ICYmIG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gY21wKGZvdW5kLnRvLCBmcm9tKSA+PSAwIDogY21wKGZvdW5kLnRvLCBmcm9tKSA+IDApIHx8XG4gICAgICAgICAgZnJvbUNtcCA+PSAwICYmIChzcC5tYXJrZXIuaW5jbHVzaXZlUmlnaHQgJiYgbWFya2VyLmluY2x1c2l2ZUxlZnQgPyBjbXAoZm91bmQuZnJvbSwgdG8pIDw9IDAgOiBjbXAoZm91bmQuZnJvbSwgdG8pIDwgMCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEEgdmlzdWFsIGxpbmUgaXMgYSBsaW5lIGFzIGRyYXduIG9uIHRoZSBzY3JlZW4uIEZvbGRpbmcsIGZvclxuICAvLyBleGFtcGxlLCBjYW4gY2F1c2UgbXVsdGlwbGUgbG9naWNhbCBsaW5lcyB0byBhcHBlYXIgb24gdGhlIHNhbWVcbiAgLy8gdmlzdWFsIGxpbmUuIFRoaXMgZmluZHMgdGhlIHN0YXJ0IG9mIHRoZSB2aXN1YWwgbGluZSB0aGF0IHRoZVxuICAvLyBnaXZlbiBsaW5lIGlzIHBhcnQgb2YgKHVzdWFsbHkgdGhhdCBpcyB0aGUgbGluZSBpdHNlbGYpLlxuICBmdW5jdGlvbiB2aXN1YWxMaW5lKGxpbmUpIHtcbiAgICB2YXIgbWVyZ2VkO1xuICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRTdGFydChsaW5lKSlcbiAgICAgIGxpbmUgPSBtZXJnZWQuZmluZCgtMSwgdHJ1ZSkubGluZTtcbiAgICByZXR1cm4gbGluZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYW4gYXJyYXkgb2YgbG9naWNhbCBsaW5lcyB0aGF0IGNvbnRpbnVlIHRoZSB2aXN1YWwgbGluZVxuICAvLyBzdGFydGVkIGJ5IHRoZSBhcmd1bWVudCwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBubyBzdWNoIGxpbmVzLlxuICBmdW5jdGlvbiB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpIHtcbiAgICB2YXIgbWVyZ2VkLCBsaW5lcztcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpKSB7XG4gICAgICBsaW5lID0gbWVyZ2VkLmZpbmQoMSwgdHJ1ZSkubGluZTtcbiAgICAgIChsaW5lcyB8fCAobGluZXMgPSBbXSkpLnB1c2gobGluZSk7XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbiAgfVxuXG4gIC8vIEdldCB0aGUgbGluZSBudW1iZXIgb2YgdGhlIHN0YXJ0IG9mIHRoZSB2aXN1YWwgbGluZSB0aGF0IHRoZVxuICAvLyBnaXZlbiBsaW5lIG51bWJlciBpcyBwYXJ0IG9mLlxuICBmdW5jdGlvbiB2aXN1YWxMaW5lTm8oZG9jLCBsaW5lTikge1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIGxpbmVOKSwgdmlzID0gdmlzdWFsTGluZShsaW5lKTtcbiAgICBpZiAobGluZSA9PSB2aXMpIHJldHVybiBsaW5lTjtcbiAgICByZXR1cm4gbGluZU5vKHZpcyk7XG4gIH1cbiAgLy8gR2V0IHRoZSBsaW5lIG51bWJlciBvZiB0aGUgc3RhcnQgb2YgdGhlIG5leHQgdmlzdWFsIGxpbmUgYWZ0ZXJcbiAgLy8gdGhlIGdpdmVuIGxpbmUuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmVFbmRObyhkb2MsIGxpbmVOKSB7XG4gICAgaWYgKGxpbmVOID4gZG9jLmxhc3RMaW5lKCkpIHJldHVybiBsaW5lTjtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBsaW5lTiksIG1lcmdlZDtcbiAgICBpZiAoIWxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSByZXR1cm4gbGluZU47XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSlcbiAgICAgIGxpbmUgPSBtZXJnZWQuZmluZCgxLCB0cnVlKS5saW5lO1xuICAgIHJldHVybiBsaW5lTm8obGluZSkgKyAxO1xuICB9XG5cbiAgLy8gQ29tcHV0ZSB3aGV0aGVyIGEgbGluZSBpcyBoaWRkZW4uIExpbmVzIGNvdW50IGFzIGhpZGRlbiB3aGVuIHRoZXlcbiAgLy8gYXJlIHBhcnQgb2YgYSB2aXN1YWwgbGluZSB0aGF0IHN0YXJ0cyB3aXRoIGFub3RoZXIgbGluZSwgb3Igd2hlblxuICAvLyB0aGV5IGFyZSBlbnRpcmVseSBjb3ZlcmVkIGJ5IGNvbGxhcHNlZCwgbm9uLXdpZGdldCBzcGFuLlxuICBmdW5jdGlvbiBsaW5lSXNIaWRkZW4oZG9jLCBsaW5lKSB7XG4gICAgdmFyIHNwcyA9IHNhd0NvbGxhcHNlZFNwYW5zICYmIGxpbmUubWFya2VkU3BhbnM7XG4gICAgaWYgKHNwcykgZm9yICh2YXIgc3AsIGkgPSAwOyBpIDwgc3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICBzcCA9IHNwc1tpXTtcbiAgICAgIGlmICghc3AubWFya2VyLmNvbGxhcHNlZCkgY29udGludWU7XG4gICAgICBpZiAoc3AuZnJvbSA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChzcC5tYXJrZXIud2lkZ2V0Tm9kZSkgY29udGludWU7XG4gICAgICBpZiAoc3AuZnJvbSA9PSAwICYmIHNwLm1hcmtlci5pbmNsdXNpdmVMZWZ0ICYmIGxpbmVJc0hpZGRlbklubmVyKGRvYywgbGluZSwgc3ApKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcGFuKSB7XG4gICAgaWYgKHNwYW4udG8gPT0gbnVsbCkge1xuICAgICAgdmFyIGVuZCA9IHNwYW4ubWFya2VyLmZpbmQoMSwgdHJ1ZSk7XG4gICAgICByZXR1cm4gbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBlbmQubGluZSwgZ2V0TWFya2VkU3BhbkZvcihlbmQubGluZS5tYXJrZWRTcGFucywgc3Bhbi5tYXJrZXIpKTtcbiAgICB9XG4gICAgaWYgKHNwYW4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0ICYmIHNwYW4udG8gPT0gbGluZS50ZXh0Lmxlbmd0aClcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAodmFyIHNwLCBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHNwID0gbGluZS5tYXJrZWRTcGFuc1tpXTtcbiAgICAgIGlmIChzcC5tYXJrZXIuY29sbGFwc2VkICYmICFzcC5tYXJrZXIud2lkZ2V0Tm9kZSAmJiBzcC5mcm9tID09IHNwYW4udG8gJiZcbiAgICAgICAgICAoc3AudG8gPT0gbnVsbCB8fCBzcC50byAhPSBzcGFuLmZyb20pICYmXG4gICAgICAgICAgKHNwLm1hcmtlci5pbmNsdXNpdmVMZWZ0IHx8IHNwYW4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0KSAmJlxuICAgICAgICAgIGxpbmVJc0hpZGRlbklubmVyKGRvYywgbGluZSwgc3ApKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBMSU5FIFdJREdFVFNcblxuICAvLyBMaW5lIHdpZGdldHMgYXJlIGJsb2NrIGVsZW1lbnRzIGRpc3BsYXllZCBhYm92ZSBvciBiZWxvdyBhIGxpbmUuXG5cbiAgdmFyIExpbmVXaWRnZXQgPSBDb2RlTWlycm9yLkxpbmVXaWRnZXQgPSBmdW5jdGlvbihkb2MsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucykgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpXG4gICAgICB0aGlzW29wdF0gPSBvcHRpb25zW29wdF07XG4gICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgfTtcbiAgZXZlbnRNaXhpbihMaW5lV2lkZ2V0KTtcblxuICBmdW5jdGlvbiBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCBkaWZmKSB7XG4gICAgaWYgKGhlaWdodEF0TGluZShsaW5lKSA8ICgoY20uY3VyT3AgJiYgY20uY3VyT3Auc2Nyb2xsVG9wKSB8fCBjbS5kb2Muc2Nyb2xsVG9wKSlcbiAgICAgIGFkZFRvU2Nyb2xsUG9zKGNtLCBudWxsLCBkaWZmKTtcbiAgfVxuXG4gIExpbmVXaWRnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNtID0gdGhpcy5kb2MuY20sIHdzID0gdGhpcy5saW5lLndpZGdldHMsIGxpbmUgPSB0aGlzLmxpbmUsIG5vID0gbGluZU5vKGxpbmUpO1xuICAgIGlmIChubyA9PSBudWxsIHx8ICF3cykgcmV0dXJuO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd3MubGVuZ3RoOyArK2kpIGlmICh3c1tpXSA9PSB0aGlzKSB3cy5zcGxpY2UoaS0tLCAxKTtcbiAgICBpZiAoIXdzLmxlbmd0aCkgbGluZS53aWRnZXRzID0gbnVsbDtcbiAgICB2YXIgaGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0KHRoaXMpO1xuICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgTWF0aC5tYXgoMCwgbGluZS5oZWlnaHQgLSBoZWlnaHQpKTtcbiAgICBpZiAoY20pIHJ1bkluT3AoY20sIGZ1bmN0aW9uKCkge1xuICAgICAgYWRqdXN0U2Nyb2xsV2hlbkFib3ZlVmlzaWJsZShjbSwgbGluZSwgLWhlaWdodCk7XG4gICAgICByZWdMaW5lQ2hhbmdlKGNtLCBubywgXCJ3aWRnZXRcIik7XG4gICAgfSk7XG4gIH07XG4gIExpbmVXaWRnZXQucHJvdG90eXBlLmNoYW5nZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb2xkSCA9IHRoaXMuaGVpZ2h0LCBjbSA9IHRoaXMuZG9jLmNtLCBsaW5lID0gdGhpcy5saW5lO1xuICAgIHRoaXMuaGVpZ2h0ID0gbnVsbDtcbiAgICB2YXIgZGlmZiA9IHdpZGdldEhlaWdodCh0aGlzKSAtIG9sZEg7XG4gICAgaWYgKCFkaWZmKSByZXR1cm47XG4gICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCBsaW5lLmhlaWdodCArIGRpZmYpO1xuICAgIGlmIChjbSkgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCBkaWZmKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiB3aWRnZXRIZWlnaHQod2lkZ2V0KSB7XG4gICAgaWYgKHdpZGdldC5oZWlnaHQgIT0gbnVsbCkgcmV0dXJuIHdpZGdldC5oZWlnaHQ7XG4gICAgdmFyIGNtID0gd2lkZ2V0LmRvYy5jbTtcbiAgICBpZiAoIWNtKSByZXR1cm4gMDtcbiAgICBpZiAoIWNvbnRhaW5zKGRvY3VtZW50LmJvZHksIHdpZGdldC5ub2RlKSkge1xuICAgICAgdmFyIHBhcmVudFN0eWxlID0gXCJwb3NpdGlvbjogcmVsYXRpdmU7XCI7XG4gICAgICBpZiAod2lkZ2V0LmNvdmVyR3V0dGVyKVxuICAgICAgICBwYXJlbnRTdHlsZSArPSBcIm1hcmdpbi1sZWZ0OiAtXCIgKyBjbS5kaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGggKyBcInB4O1wiO1xuICAgICAgaWYgKHdpZGdldC5ub0hTY3JvbGwpXG4gICAgICAgIHBhcmVudFN0eWxlICs9IFwid2lkdGg6IFwiICsgY20uZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoICsgXCJweDtcIjtcbiAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGNtLmRpc3BsYXkubWVhc3VyZSwgZWx0KFwiZGl2XCIsIFt3aWRnZXQubm9kZV0sIG51bGwsIHBhcmVudFN0eWxlKSk7XG4gICAgfVxuICAgIHJldHVybiB3aWRnZXQuaGVpZ2h0ID0gd2lkZ2V0Lm5vZGUucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRMaW5lV2lkZ2V0KGRvYywgaGFuZGxlLCBub2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIHdpZGdldCA9IG5ldyBMaW5lV2lkZ2V0KGRvYywgbm9kZSwgb3B0aW9ucyk7XG4gICAgdmFyIGNtID0gZG9jLmNtO1xuICAgIGlmIChjbSAmJiB3aWRnZXQubm9IU2Nyb2xsKSBjbS5kaXNwbGF5LmFsaWduV2lkZ2V0cyA9IHRydWU7XG4gICAgY2hhbmdlTGluZShkb2MsIGhhbmRsZSwgXCJ3aWRnZXRcIiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHdpZGdldHMgPSBsaW5lLndpZGdldHMgfHwgKGxpbmUud2lkZ2V0cyA9IFtdKTtcbiAgICAgIGlmICh3aWRnZXQuaW5zZXJ0QXQgPT0gbnVsbCkgd2lkZ2V0cy5wdXNoKHdpZGdldCk7XG4gICAgICBlbHNlIHdpZGdldHMuc3BsaWNlKE1hdGgubWluKHdpZGdldHMubGVuZ3RoIC0gMSwgTWF0aC5tYXgoMCwgd2lkZ2V0Lmluc2VydEF0KSksIDAsIHdpZGdldCk7XG4gICAgICB3aWRnZXQubGluZSA9IGxpbmU7XG4gICAgICBpZiAoY20gJiYgIWxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSB7XG4gICAgICAgIHZhciBhYm92ZVZpc2libGUgPSBoZWlnaHRBdExpbmUobGluZSkgPCBkb2Muc2Nyb2xsVG9wO1xuICAgICAgICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGxpbmUuaGVpZ2h0ICsgd2lkZ2V0SGVpZ2h0KHdpZGdldCkpO1xuICAgICAgICBpZiAoYWJvdmVWaXNpYmxlKSBhZGRUb1Njcm9sbFBvcyhjbSwgbnVsbCwgd2lkZ2V0LmhlaWdodCk7XG4gICAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB3aWRnZXQ7XG4gIH1cblxuICAvLyBMSU5FIERBVEEgU1RSVUNUVVJFXG5cbiAgLy8gTGluZSBvYmplY3RzLiBUaGVzZSBob2xkIHN0YXRlIHJlbGF0ZWQgdG8gYSBsaW5lLCBpbmNsdWRpbmdcbiAgLy8gaGlnaGxpZ2h0aW5nIGluZm8gKHRoZSBzdHlsZXMgYXJyYXkpLlxuICB2YXIgTGluZSA9IENvZGVNaXJyb3IuTGluZSA9IGZ1bmN0aW9uKHRleHQsIG1hcmtlZFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgYXR0YWNoTWFya2VkU3BhbnModGhpcywgbWFya2VkU3BhbnMpO1xuICAgIHRoaXMuaGVpZ2h0ID0gZXN0aW1hdGVIZWlnaHQgPyBlc3RpbWF0ZUhlaWdodCh0aGlzKSA6IDE7XG4gIH07XG4gIGV2ZW50TWl4aW4oTGluZSk7XG4gIExpbmUucHJvdG90eXBlLmxpbmVObyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbGluZU5vKHRoaXMpOyB9O1xuXG4gIC8vIENoYW5nZSB0aGUgY29udGVudCAodGV4dCwgbWFya2Vycykgb2YgYSBsaW5lLiBBdXRvbWF0aWNhbGx5XG4gIC8vIGludmFsaWRhdGVzIGNhY2hlZCBpbmZvcm1hdGlvbiBhbmQgdHJpZXMgdG8gcmUtZXN0aW1hdGUgdGhlXG4gIC8vIGxpbmUncyBoZWlnaHQuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmUobGluZSwgdGV4dCwgbWFya2VkU3BhbnMsIGVzdGltYXRlSGVpZ2h0KSB7XG4gICAgbGluZS50ZXh0ID0gdGV4dDtcbiAgICBpZiAobGluZS5zdGF0ZUFmdGVyKSBsaW5lLnN0YXRlQWZ0ZXIgPSBudWxsO1xuICAgIGlmIChsaW5lLnN0eWxlcykgbGluZS5zdHlsZXMgPSBudWxsO1xuICAgIGlmIChsaW5lLm9yZGVyICE9IG51bGwpIGxpbmUub3JkZXIgPSBudWxsO1xuICAgIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpO1xuICAgIGF0dGFjaE1hcmtlZFNwYW5zKGxpbmUsIG1hcmtlZFNwYW5zKTtcbiAgICB2YXIgZXN0SGVpZ2h0ID0gZXN0aW1hdGVIZWlnaHQgPyBlc3RpbWF0ZUhlaWdodChsaW5lKSA6IDE7XG4gICAgaWYgKGVzdEhlaWdodCAhPSBsaW5lLmhlaWdodCkgdXBkYXRlTGluZUhlaWdodChsaW5lLCBlc3RIZWlnaHQpO1xuICB9XG5cbiAgLy8gRGV0YWNoIGEgbGluZSBmcm9tIHRoZSBkb2N1bWVudCB0cmVlIGFuZCBpdHMgbWFya2Vycy5cbiAgZnVuY3Rpb24gY2xlYW5VcExpbmUobGluZSkge1xuICAgIGxpbmUucGFyZW50ID0gbnVsbDtcbiAgICBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dHJhY3RMaW5lQ2xhc3Nlcyh0eXBlLCBvdXRwdXQpIHtcbiAgICBpZiAodHlwZSkgZm9yICg7Oykge1xuICAgICAgdmFyIGxpbmVDbGFzcyA9IHR5cGUubWF0Y2goLyg/Ol58XFxzKylsaW5lLShiYWNrZ3JvdW5kLSk/KFxcUyspLyk7XG4gICAgICBpZiAoIWxpbmVDbGFzcykgYnJlYWs7XG4gICAgICB0eXBlID0gdHlwZS5zbGljZSgwLCBsaW5lQ2xhc3MuaW5kZXgpICsgdHlwZS5zbGljZShsaW5lQ2xhc3MuaW5kZXggKyBsaW5lQ2xhc3NbMF0ubGVuZ3RoKTtcbiAgICAgIHZhciBwcm9wID0gbGluZUNsYXNzWzFdID8gXCJiZ0NsYXNzXCIgOiBcInRleHRDbGFzc1wiO1xuICAgICAgaWYgKG91dHB1dFtwcm9wXSA9PSBudWxsKVxuICAgICAgICBvdXRwdXRbcHJvcF0gPSBsaW5lQ2xhc3NbMl07XG4gICAgICBlbHNlIGlmICghKG5ldyBSZWdFeHAoXCIoPzpefFxccylcIiArIGxpbmVDbGFzc1syXSArIFwiKD86JHxcXHMpXCIpKS50ZXN0KG91dHB1dFtwcm9wXSkpXG4gICAgICAgIG91dHB1dFtwcm9wXSArPSBcIiBcIiArIGxpbmVDbGFzc1syXTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsQmxhbmtMaW5lKG1vZGUsIHN0YXRlKSB7XG4gICAgaWYgKG1vZGUuYmxhbmtMaW5lKSByZXR1cm4gbW9kZS5ibGFua0xpbmUoc3RhdGUpO1xuICAgIGlmICghbW9kZS5pbm5lck1vZGUpIHJldHVybjtcbiAgICB2YXIgaW5uZXIgPSBDb2RlTWlycm9yLmlubmVyTW9kZShtb2RlLCBzdGF0ZSk7XG4gICAgaWYgKGlubmVyLm1vZGUuYmxhbmtMaW5lKSByZXR1cm4gaW5uZXIubW9kZS5ibGFua0xpbmUoaW5uZXIuc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUsIGlubmVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBpZiAoaW5uZXIpIGlubmVyWzBdID0gQ29kZU1pcnJvci5pbm5lck1vZGUobW9kZSwgc3RhdGUpLm1vZGU7XG4gICAgICB2YXIgc3R5bGUgPSBtb2RlLnRva2VuKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgaWYgKHN0cmVhbS5wb3MgPiBzdHJlYW0uc3RhcnQpIHJldHVybiBzdHlsZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTW9kZSBcIiArIG1vZGUubmFtZSArIFwiIGZhaWxlZCB0byBhZHZhbmNlIHN0cmVhbS5cIik7XG4gIH1cblxuICAvLyBVdGlsaXR5IGZvciBnZXRUb2tlbkF0IGFuZCBnZXRMaW5lVG9rZW5zXG4gIGZ1bmN0aW9uIHRha2VUb2tlbihjbSwgcG9zLCBwcmVjaXNlLCBhc0FycmF5KSB7XG4gICAgZnVuY3Rpb24gZ2V0T2JqKGNvcHkpIHtcbiAgICAgIHJldHVybiB7c3RhcnQ6IHN0cmVhbS5zdGFydCwgZW5kOiBzdHJlYW0ucG9zLFxuICAgICAgICAgICAgICBzdHJpbmc6IHN0cmVhbS5jdXJyZW50KCksXG4gICAgICAgICAgICAgIHR5cGU6IHN0eWxlIHx8IG51bGwsXG4gICAgICAgICAgICAgIHN0YXRlOiBjb3B5ID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBzdGF0ZX07XG4gICAgfVxuXG4gICAgdmFyIGRvYyA9IGNtLmRvYywgbW9kZSA9IGRvYy5tb2RlLCBzdHlsZTtcbiAgICBwb3MgPSBjbGlwUG9zKGRvYywgcG9zKTtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBwb3MubGluZSksIHN0YXRlID0gZ2V0U3RhdGVCZWZvcmUoY20sIHBvcy5saW5lLCBwcmVjaXNlKTtcbiAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbShsaW5lLnRleHQsIGNtLm9wdGlvbnMudGFiU2l6ZSksIHRva2VucztcbiAgICBpZiAoYXNBcnJheSkgdG9rZW5zID0gW107XG4gICAgd2hpbGUgKChhc0FycmF5IHx8IHN0cmVhbS5wb3MgPCBwb3MuY2gpICYmICFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgICBzdHlsZSA9IHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICAgIGlmIChhc0FycmF5KSB0b2tlbnMucHVzaChnZXRPYmoodHJ1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXNBcnJheSA/IHRva2VucyA6IGdldE9iaigpO1xuICB9XG5cbiAgLy8gUnVuIHRoZSBnaXZlbiBtb2RlJ3MgcGFyc2VyIG92ZXIgYSBsaW5lLCBjYWxsaW5nIGYgZm9yIGVhY2ggdG9rZW4uXG4gIGZ1bmN0aW9uIHJ1bk1vZGUoY20sIHRleHQsIG1vZGUsIHN0YXRlLCBmLCBsaW5lQ2xhc3NlcywgZm9yY2VUb0VuZCkge1xuICAgIHZhciBmbGF0dGVuU3BhbnMgPSBtb2RlLmZsYXR0ZW5TcGFucztcbiAgICBpZiAoZmxhdHRlblNwYW5zID09IG51bGwpIGZsYXR0ZW5TcGFucyA9IGNtLm9wdGlvbnMuZmxhdHRlblNwYW5zO1xuICAgIHZhciBjdXJTdGFydCA9IDAsIGN1clN0eWxlID0gbnVsbDtcbiAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbSh0ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUpLCBzdHlsZTtcbiAgICB2YXIgaW5uZXIgPSBjbS5vcHRpb25zLmFkZE1vZGVDbGFzcyAmJiBbbnVsbF07XG4gICAgaWYgKHRleHQgPT0gXCJcIikgZXh0cmFjdExpbmVDbGFzc2VzKGNhbGxCbGFua0xpbmUobW9kZSwgc3RhdGUpLCBsaW5lQ2xhc3Nlcyk7XG4gICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIGlmIChzdHJlYW0ucG9zID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGgpIHtcbiAgICAgICAgZmxhdHRlblNwYW5zID0gZmFsc2U7XG4gICAgICAgIGlmIChmb3JjZVRvRW5kKSBwcm9jZXNzTGluZShjbSwgdGV4dCwgc3RhdGUsIHN0cmVhbS5wb3MpO1xuICAgICAgICBzdHJlYW0ucG9zID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIHN0eWxlID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlID0gZXh0cmFjdExpbmVDbGFzc2VzKHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlLCBpbm5lciksIGxpbmVDbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbm5lcikge1xuICAgICAgICB2YXIgbU5hbWUgPSBpbm5lclswXS5uYW1lO1xuICAgICAgICBpZiAobU5hbWUpIHN0eWxlID0gXCJtLVwiICsgKHN0eWxlID8gbU5hbWUgKyBcIiBcIiArIHN0eWxlIDogbU5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbGF0dGVuU3BhbnMgfHwgY3VyU3R5bGUgIT0gc3R5bGUpIHtcbiAgICAgICAgd2hpbGUgKGN1clN0YXJ0IDwgc3RyZWFtLnN0YXJ0KSB7XG4gICAgICAgICAgY3VyU3RhcnQgPSBNYXRoLm1pbihzdHJlYW0uc3RhcnQsIGN1clN0YXJ0ICsgNTAwMDApO1xuICAgICAgICAgIGYoY3VyU3RhcnQsIGN1clN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJTdHlsZSA9IHN0eWxlO1xuICAgICAgfVxuICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICB9XG4gICAgd2hpbGUgKGN1clN0YXJ0IDwgc3RyZWFtLnBvcykge1xuICAgICAgLy8gV2Via2l0IHNlZW1zIHRvIHJlZnVzZSB0byByZW5kZXIgdGV4dCBub2RlcyBsb25nZXIgdGhhbiA1NzQ0NCBjaGFyYWN0ZXJzXG4gICAgICB2YXIgcG9zID0gTWF0aC5taW4oc3RyZWFtLnBvcywgY3VyU3RhcnQgKyA1MDAwMCk7XG4gICAgICBmKHBvcywgY3VyU3R5bGUpO1xuICAgICAgY3VyU3RhcnQgPSBwb3M7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcHV0ZSBhIHN0eWxlIGFycmF5IChhbiBhcnJheSBzdGFydGluZyB3aXRoIGEgbW9kZSBnZW5lcmF0aW9uXG4gIC8vIC0tIGZvciBpbnZhbGlkYXRpb24gLS0gZm9sbG93ZWQgYnkgcGFpcnMgb2YgZW5kIHBvc2l0aW9ucyBhbmRcbiAgLy8gc3R5bGUgc3RyaW5ncyksIHdoaWNoIGlzIHVzZWQgdG8gaGlnaGxpZ2h0IHRoZSB0b2tlbnMgb24gdGhlXG4gIC8vIGxpbmUuXG4gIGZ1bmN0aW9uIGhpZ2hsaWdodExpbmUoY20sIGxpbmUsIHN0YXRlLCBmb3JjZVRvRW5kKSB7XG4gICAgLy8gQSBzdHlsZXMgYXJyYXkgYWx3YXlzIHN0YXJ0cyB3aXRoIGEgbnVtYmVyIGlkZW50aWZ5aW5nIHRoZVxuICAgIC8vIG1vZGUvb3ZlcmxheXMgdGhhdCBpdCBpcyBiYXNlZCBvbiAoZm9yIGVhc3kgaW52YWxpZGF0aW9uKS5cbiAgICB2YXIgc3QgPSBbY20uc3RhdGUubW9kZUdlbl0sIGxpbmVDbGFzc2VzID0ge307XG4gICAgLy8gQ29tcHV0ZSB0aGUgYmFzZSBhcnJheSBvZiBzdHlsZXNcbiAgICBydW5Nb2RlKGNtLCBsaW5lLnRleHQsIGNtLmRvYy5tb2RlLCBzdGF0ZSwgZnVuY3Rpb24oZW5kLCBzdHlsZSkge1xuICAgICAgc3QucHVzaChlbmQsIHN0eWxlKTtcbiAgICB9LCBsaW5lQ2xhc3NlcywgZm9yY2VUb0VuZCk7XG5cbiAgICAvLyBSdW4gb3ZlcmxheXMsIGFkanVzdCBzdHlsZSBhcnJheS5cbiAgICBmb3IgKHZhciBvID0gMDsgbyA8IGNtLnN0YXRlLm92ZXJsYXlzLmxlbmd0aDsgKytvKSB7XG4gICAgICB2YXIgb3ZlcmxheSA9IGNtLnN0YXRlLm92ZXJsYXlzW29dLCBpID0gMSwgYXQgPSAwO1xuICAgICAgcnVuTW9kZShjbSwgbGluZS50ZXh0LCBvdmVybGF5Lm1vZGUsIHRydWUsIGZ1bmN0aW9uKGVuZCwgc3R5bGUpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gaTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZXJlJ3MgYSB0b2tlbiBlbmQgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24sIGFuZCB0aGF0IGkgcG9pbnRzIGF0IGl0XG4gICAgICAgIHdoaWxlIChhdCA8IGVuZCkge1xuICAgICAgICAgIHZhciBpX2VuZCA9IHN0W2ldO1xuICAgICAgICAgIGlmIChpX2VuZCA+IGVuZClcbiAgICAgICAgICAgIHN0LnNwbGljZShpLCAxLCBlbmQsIHN0W2krMV0sIGlfZW5kKTtcbiAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgYXQgPSBNYXRoLm1pbihlbmQsIGlfZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0eWxlKSByZXR1cm47XG4gICAgICAgIGlmIChvdmVybGF5Lm9wYXF1ZSkge1xuICAgICAgICAgIHN0LnNwbGljZShzdGFydCwgaSAtIHN0YXJ0LCBlbmQsIFwiY20tb3ZlcmxheSBcIiArIHN0eWxlKTtcbiAgICAgICAgICBpID0gc3RhcnQgKyAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAoOyBzdGFydCA8IGk7IHN0YXJ0ICs9IDIpIHtcbiAgICAgICAgICAgIHZhciBjdXIgPSBzdFtzdGFydCsxXTtcbiAgICAgICAgICAgIHN0W3N0YXJ0KzFdID0gKGN1ciA/IGN1ciArIFwiIFwiIDogXCJcIikgKyBcImNtLW92ZXJsYXkgXCIgKyBzdHlsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGxpbmVDbGFzc2VzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3N0eWxlczogc3QsIGNsYXNzZXM6IGxpbmVDbGFzc2VzLmJnQ2xhc3MgfHwgbGluZUNsYXNzZXMudGV4dENsYXNzID8gbGluZUNsYXNzZXMgOiBudWxsfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExpbmVTdHlsZXMoY20sIGxpbmUsIHVwZGF0ZUZyb250aWVyKSB7XG4gICAgaWYgKCFsaW5lLnN0eWxlcyB8fCBsaW5lLnN0eWxlc1swXSAhPSBjbS5zdGF0ZS5tb2RlR2VuKSB7XG4gICAgICB2YXIgc3RhdGUgPSBnZXRTdGF0ZUJlZm9yZShjbSwgbGluZU5vKGxpbmUpKTtcbiAgICAgIHZhciByZXN1bHQgPSBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCBsaW5lLnRleHQubGVuZ3RoID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGggPyBjb3B5U3RhdGUoY20uZG9jLm1vZGUsIHN0YXRlKSA6IHN0YXRlKTtcbiAgICAgIGxpbmUuc3RhdGVBZnRlciA9IHN0YXRlO1xuICAgICAgbGluZS5zdHlsZXMgPSByZXN1bHQuc3R5bGVzO1xuICAgICAgaWYgKHJlc3VsdC5jbGFzc2VzKSBsaW5lLnN0eWxlQ2xhc3NlcyA9IHJlc3VsdC5jbGFzc2VzO1xuICAgICAgZWxzZSBpZiAobGluZS5zdHlsZUNsYXNzZXMpIGxpbmUuc3R5bGVDbGFzc2VzID0gbnVsbDtcbiAgICAgIGlmICh1cGRhdGVGcm9udGllciA9PT0gY20uZG9jLmZyb250aWVyKSBjbS5kb2MuZnJvbnRpZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGxpbmUuc3R5bGVzO1xuICB9XG5cbiAgLy8gTGlnaHR3ZWlnaHQgZm9ybSBvZiBoaWdobGlnaHQgLS0gcHJvY2VlZCBvdmVyIHRoaXMgbGluZSBhbmRcbiAgLy8gdXBkYXRlIHN0YXRlLCBidXQgZG9uJ3Qgc2F2ZSBhIHN0eWxlIGFycmF5LiBVc2VkIGZvciBsaW5lcyB0aGF0XG4gIC8vIGFyZW4ndCBjdXJyZW50bHkgdmlzaWJsZS5cbiAgZnVuY3Rpb24gcHJvY2Vzc0xpbmUoY20sIHRleHQsIHN0YXRlLCBzdGFydEF0KSB7XG4gICAgdmFyIG1vZGUgPSBjbS5kb2MubW9kZTtcbiAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbSh0ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUpO1xuICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3MgPSBzdGFydEF0IHx8IDA7XG4gICAgaWYgKHRleHQgPT0gXCJcIikgY2FsbEJsYW5rTGluZShtb2RlLCBzdGF0ZSk7XG4gICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29udmVydCBhIHN0eWxlIGFzIHJldHVybmVkIGJ5IGEgbW9kZSAoZWl0aGVyIG51bGwsIG9yIGEgc3RyaW5nXG4gIC8vIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc3R5bGVzKSB0byBhIENTUyBzdHlsZS4gVGhpcyBpcyBjYWNoZWQsXG4gIC8vIGFuZCBhbHNvIGxvb2tzIGZvciBsaW5lLXdpZGUgc3R5bGVzLlxuICB2YXIgc3R5bGVUb0NsYXNzQ2FjaGUgPSB7fSwgc3R5bGVUb0NsYXNzQ2FjaGVXaXRoTW9kZSA9IHt9O1xuICBmdW5jdGlvbiBpbnRlcnByZXRUb2tlblN0eWxlKHN0eWxlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzdHlsZSB8fCAvXlxccyokLy50ZXN0KHN0eWxlKSkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGNhY2hlID0gb3B0aW9ucy5hZGRNb2RlQ2xhc3MgPyBzdHlsZVRvQ2xhc3NDYWNoZVdpdGhNb2RlIDogc3R5bGVUb0NsYXNzQ2FjaGU7XG4gICAgcmV0dXJuIGNhY2hlW3N0eWxlXSB8fFxuICAgICAgKGNhY2hlW3N0eWxlXSA9IHN0eWxlLnJlcGxhY2UoL1xcUysvZywgXCJjbS0kJlwiKSk7XG4gIH1cblxuICAvLyBSZW5kZXIgdGhlIERPTSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGV4dCBvZiBhIGxpbmUuIEFsc28gYnVpbGRzXG4gIC8vIHVwIGEgJ2xpbmUgbWFwJywgd2hpY2ggcG9pbnRzIGF0IHRoZSBET00gbm9kZXMgdGhhdCByZXByZXNlbnRcbiAgLy8gc3BlY2lmaWMgc3RyZXRjaGVzIG9mIHRleHQsIGFuZCBpcyB1c2VkIGJ5IHRoZSBtZWFzdXJpbmcgY29kZS5cbiAgLy8gVGhlIHJldHVybmVkIG9iamVjdCBjb250YWlucyB0aGUgRE9NIG5vZGUsIHRoaXMgbWFwLCBhbmRcbiAgLy8gaW5mb3JtYXRpb24gYWJvdXQgbGluZS13aWRlIHN0eWxlcyB0aGF0IHdlcmUgc2V0IGJ5IHRoZSBtb2RlLlxuICBmdW5jdGlvbiBidWlsZExpbmVDb250ZW50KGNtLCBsaW5lVmlldykge1xuICAgIC8vIFRoZSBwYWRkaW5nLXJpZ2h0IGZvcmNlcyB0aGUgZWxlbWVudCB0byBoYXZlIGEgJ2JvcmRlcicsIHdoaWNoXG4gICAgLy8gaXMgbmVlZGVkIG9uIFdlYmtpdCB0byBiZSBhYmxlIHRvIGdldCBsaW5lLWxldmVsIGJvdW5kaW5nXG4gICAgLy8gcmVjdGFuZ2xlcyBmb3IgaXQgKGluIG1lYXN1cmVDaGFyKS5cbiAgICB2YXIgY29udGVudCA9IGVsdChcInNwYW5cIiwgbnVsbCwgbnVsbCwgd2Via2l0ID8gXCJwYWRkaW5nLXJpZ2h0OiAuMXB4XCIgOiBudWxsKTtcbiAgICB2YXIgYnVpbGRlciA9IHtwcmU6IGVsdChcInByZVwiLCBbY29udGVudF0sIFwiQ29kZU1pcnJvci1saW5lXCIpLCBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgIGNvbDogMCwgcG9zOiAwLCBjbTogY20sXG4gICAgICAgICAgICAgICAgICAgc3BsaXRTcGFjZXM6IChpZSB8fCB3ZWJraXQpICYmIGNtLmdldE9wdGlvbihcImxpbmVXcmFwcGluZ1wiKX07XG4gICAgbGluZVZpZXcubWVhc3VyZSA9IHt9O1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBsb2dpY2FsIGxpbmVzIHRoYXQgbWFrZSB1cCB0aGlzIHZpc3VhbCBsaW5lLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IChsaW5lVmlldy5yZXN0ID8gbGluZVZpZXcucmVzdC5sZW5ndGggOiAwKTsgaSsrKSB7XG4gICAgICB2YXIgbGluZSA9IGkgPyBsaW5lVmlldy5yZXN0W2kgLSAxXSA6IGxpbmVWaWV3LmxpbmUsIG9yZGVyO1xuICAgICAgYnVpbGRlci5wb3MgPSAwO1xuICAgICAgYnVpbGRlci5hZGRUb2tlbiA9IGJ1aWxkVG9rZW47XG4gICAgICAvLyBPcHRpb25hbGx5IHdpcmUgaW4gc29tZSBoYWNrcyBpbnRvIHRoZSB0b2tlbi1yZW5kZXJpbmdcbiAgICAgIC8vIGFsZ29yaXRobSwgdG8gZGVhbCB3aXRoIGJyb3dzZXIgcXVpcmtzLlxuICAgICAgaWYgKGhhc0JhZEJpZGlSZWN0cyhjbS5kaXNwbGF5Lm1lYXN1cmUpICYmIChvcmRlciA9IGdldE9yZGVyKGxpbmUpKSlcbiAgICAgICAgYnVpbGRlci5hZGRUb2tlbiA9IGJ1aWxkVG9rZW5CYWRCaWRpKGJ1aWxkZXIuYWRkVG9rZW4sIG9yZGVyKTtcbiAgICAgIGJ1aWxkZXIubWFwID0gW107XG4gICAgICB2YXIgYWxsb3dGcm9udGllclVwZGF0ZSA9IGxpbmVWaWV3ICE9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCAmJiBsaW5lTm8obGluZSk7XG4gICAgICBpbnNlcnRMaW5lQ29udGVudChsaW5lLCBidWlsZGVyLCBnZXRMaW5lU3R5bGVzKGNtLCBsaW5lLCBhbGxvd0Zyb250aWVyVXBkYXRlKSk7XG4gICAgICBpZiAobGluZS5zdHlsZUNsYXNzZXMpIHtcbiAgICAgICAgaWYgKGxpbmUuc3R5bGVDbGFzc2VzLmJnQ2xhc3MpXG4gICAgICAgICAgYnVpbGRlci5iZ0NsYXNzID0gam9pbkNsYXNzZXMobGluZS5zdHlsZUNsYXNzZXMuYmdDbGFzcywgYnVpbGRlci5iZ0NsYXNzIHx8IFwiXCIpO1xuICAgICAgICBpZiAobGluZS5zdHlsZUNsYXNzZXMudGV4dENsYXNzKVxuICAgICAgICAgIGJ1aWxkZXIudGV4dENsYXNzID0gam9pbkNsYXNzZXMobGluZS5zdHlsZUNsYXNzZXMudGV4dENsYXNzLCBidWlsZGVyLnRleHRDbGFzcyB8fCBcIlwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gRW5zdXJlIGF0IGxlYXN0IGEgc2luZ2xlIG5vZGUgaXMgcHJlc2VudCwgZm9yIG1lYXN1cmluZy5cbiAgICAgIGlmIChidWlsZGVyLm1hcC5sZW5ndGggPT0gMClcbiAgICAgICAgYnVpbGRlci5tYXAucHVzaCgwLCAwLCBidWlsZGVyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoemVyb1dpZHRoRWxlbWVudChjbS5kaXNwbGF5Lm1lYXN1cmUpKSk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBtYXAgYW5kIGEgY2FjaGUgb2JqZWN0IGZvciB0aGUgY3VycmVudCBsb2dpY2FsIGxpbmVcbiAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgbGluZVZpZXcubWVhc3VyZS5tYXAgPSBidWlsZGVyLm1hcDtcbiAgICAgICAgbGluZVZpZXcubWVhc3VyZS5jYWNoZSA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKGxpbmVWaWV3Lm1lYXN1cmUubWFwcyB8fCAobGluZVZpZXcubWVhc3VyZS5tYXBzID0gW10pKS5wdXNoKGJ1aWxkZXIubWFwKTtcbiAgICAgICAgKGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzIHx8IChsaW5lVmlldy5tZWFzdXJlLmNhY2hlcyA9IFtdKSkucHVzaCh7fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2VlIGlzc3VlICMyOTAxXG4gICAgaWYgKHdlYmtpdCkge1xuICAgICAgdmFyIGxhc3QgPSBidWlsZGVyLmNvbnRlbnQubGFzdENoaWxkXG4gICAgICBpZiAoL1xcYmNtLXRhYlxcYi8udGVzdChsYXN0LmNsYXNzTmFtZSkgfHwgKGxhc3QucXVlcnlTZWxlY3RvciAmJiBsYXN0LnF1ZXJ5U2VsZWN0b3IoXCIuY20tdGFiXCIpKSlcbiAgICAgICAgYnVpbGRlci5jb250ZW50LmNsYXNzTmFtZSA9IFwiY20tdGFiLXdyYXAtaGFja1wiO1xuICAgIH1cblxuICAgIHNpZ25hbChjbSwgXCJyZW5kZXJMaW5lXCIsIGNtLCBsaW5lVmlldy5saW5lLCBidWlsZGVyLnByZSk7XG4gICAgaWYgKGJ1aWxkZXIucHJlLmNsYXNzTmFtZSlcbiAgICAgIGJ1aWxkZXIudGV4dENsYXNzID0gam9pbkNsYXNzZXMoYnVpbGRlci5wcmUuY2xhc3NOYW1lLCBidWlsZGVyLnRleHRDbGFzcyB8fCBcIlwiKTtcblxuICAgIHJldHVybiBidWlsZGVyO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdFNwZWNpYWxDaGFyUGxhY2Vob2xkZXIoY2gpIHtcbiAgICB2YXIgdG9rZW4gPSBlbHQoXCJzcGFuXCIsIFwiXFx1MjAyMlwiLCBcImNtLWludmFsaWRjaGFyXCIpO1xuICAgIHRva2VuLnRpdGxlID0gXCJcXFxcdVwiICsgY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7XG4gICAgdG9rZW4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCB0b2tlbi50aXRsZSk7XG4gICAgcmV0dXJuIHRva2VuO1xuICB9XG5cbiAgLy8gQnVpbGQgdXAgdGhlIERPTSByZXByZXNlbnRhdGlvbiBmb3IgYSBzaW5nbGUgdG9rZW4sIGFuZCBhZGQgaXQgdG9cbiAgLy8gdGhlIGxpbmUgbWFwLiBUYWtlcyBjYXJlIHRvIHJlbmRlciBzcGVjaWFsIGNoYXJhY3RlcnMgc2VwYXJhdGVseS5cbiAgZnVuY3Rpb24gYnVpbGRUb2tlbihidWlsZGVyLCB0ZXh0LCBzdHlsZSwgc3RhcnRTdHlsZSwgZW5kU3R5bGUsIHRpdGxlLCBjc3MpIHtcbiAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICB2YXIgZGlzcGxheVRleHQgPSBidWlsZGVyLnNwbGl0U3BhY2VzID8gdGV4dC5yZXBsYWNlKC8gezMsfS9nLCBzcGxpdFNwYWNlcykgOiB0ZXh0O1xuICAgIHZhciBzcGVjaWFsID0gYnVpbGRlci5jbS5zdGF0ZS5zcGVjaWFsQ2hhcnMsIG11c3RXcmFwID0gZmFsc2U7XG4gICAgaWYgKCFzcGVjaWFsLnRlc3QodGV4dCkpIHtcbiAgICAgIGJ1aWxkZXIuY29sICs9IHRleHQubGVuZ3RoO1xuICAgICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkaXNwbGF5VGV4dCk7XG4gICAgICBidWlsZGVyLm1hcC5wdXNoKGJ1aWxkZXIucG9zLCBidWlsZGVyLnBvcyArIHRleHQubGVuZ3RoLCBjb250ZW50KTtcbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgbXVzdFdyYXAgPSB0cnVlO1xuICAgICAgYnVpbGRlci5wb3MgKz0gdGV4dC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBwb3MgPSAwO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3BlY2lhbC5sYXN0SW5kZXggPSBwb3M7XG4gICAgICAgIHZhciBtID0gc3BlY2lhbC5leGVjKHRleHQpO1xuICAgICAgICB2YXIgc2tpcHBlZCA9IG0gPyBtLmluZGV4IC0gcG9zIDogdGV4dC5sZW5ndGggLSBwb3M7XG4gICAgICAgIGlmIChza2lwcGVkKSB7XG4gICAgICAgICAgdmFyIHR4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRpc3BsYXlUZXh0LnNsaWNlKHBvcywgcG9zICsgc2tpcHBlZCkpO1xuICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIFt0eHRdKSk7XG4gICAgICAgICAgZWxzZSBjb250ZW50LmFwcGVuZENoaWxkKHR4dCk7XG4gICAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyBza2lwcGVkLCB0eHQpO1xuICAgICAgICAgIGJ1aWxkZXIuY29sICs9IHNraXBwZWQ7XG4gICAgICAgICAgYnVpbGRlci5wb3MgKz0gc2tpcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW0pIGJyZWFrO1xuICAgICAgICBwb3MgKz0gc2tpcHBlZCArIDE7XG4gICAgICAgIGlmIChtWzBdID09IFwiXFx0XCIpIHtcbiAgICAgICAgICB2YXIgdGFiU2l6ZSA9IGJ1aWxkZXIuY20ub3B0aW9ucy50YWJTaXplLCB0YWJXaWR0aCA9IHRhYlNpemUgLSBidWlsZGVyLmNvbCAlIHRhYlNpemU7XG4gICAgICAgICAgdmFyIHR4dCA9IGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBzcGFjZVN0cih0YWJXaWR0aCksIFwiY20tdGFiXCIpKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInByZXNlbnRhdGlvblwiKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBcIlxcdFwiKTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSB0YWJXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChtWzBdID09IFwiXFxyXCIgfHwgbVswXSA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgdmFyIHR4dCA9IGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBtWzBdID09IFwiXFxyXCIgPyBcIlxcdTI0MGRcIiA6IFwiXFx1MjQyNFwiLCBcImNtLWludmFsaWRjaGFyXCIpKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBtWzBdKTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB0eHQgPSBidWlsZGVyLmNtLm9wdGlvbnMuc3BlY2lhbENoYXJQbGFjZWhvbGRlcihtWzBdKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBtWzBdKTtcbiAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBbdHh0XSkpO1xuICAgICAgICAgIGVsc2UgY29udGVudC5hcHBlbmRDaGlsZCh0eHQpO1xuICAgICAgICAgIGJ1aWxkZXIuY29sICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyAxLCB0eHQpO1xuICAgICAgICBidWlsZGVyLnBvcysrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3R5bGUgfHwgc3RhcnRTdHlsZSB8fCBlbmRTdHlsZSB8fCBtdXN0V3JhcCB8fCBjc3MpIHtcbiAgICAgIHZhciBmdWxsU3R5bGUgPSBzdHlsZSB8fCBcIlwiO1xuICAgICAgaWYgKHN0YXJ0U3R5bGUpIGZ1bGxTdHlsZSArPSBzdGFydFN0eWxlO1xuICAgICAgaWYgKGVuZFN0eWxlKSBmdWxsU3R5bGUgKz0gZW5kU3R5bGU7XG4gICAgICB2YXIgdG9rZW4gPSBlbHQoXCJzcGFuXCIsIFtjb250ZW50XSwgZnVsbFN0eWxlLCBjc3MpO1xuICAgICAgaWYgKHRpdGxlKSB0b2tlbi50aXRsZSA9IHRpdGxlO1xuICAgICAgcmV0dXJuIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh0b2tlbik7XG4gICAgfVxuICAgIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGl0U3BhY2VzKG9sZCkge1xuICAgIHZhciBvdXQgPSBcIiBcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGggLSAyOyArK2kpIG91dCArPSBpICUgMiA/IFwiIFwiIDogXCJcXHUwMGEwXCI7XG4gICAgb3V0ICs9IFwiIFwiO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICAvLyBXb3JrIGFyb3VuZCBub25zZW5zZSBkaW1lbnNpb25zIGJlaW5nIHJlcG9ydGVkIGZvciBzdHJldGNoZXMgb2ZcbiAgLy8gcmlnaHQtdG8tbGVmdCB0ZXh0LlxuICBmdW5jdGlvbiBidWlsZFRva2VuQmFkQmlkaShpbm5lciwgb3JkZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSwgY3NzKSB7XG4gICAgICBzdHlsZSA9IHN0eWxlID8gc3R5bGUgKyBcIiBjbS1mb3JjZS1ib3JkZXJcIiA6IFwiY20tZm9yY2UtYm9yZGVyXCI7XG4gICAgICB2YXIgc3RhcnQgPSBidWlsZGVyLnBvcywgZW5kID0gc3RhcnQgKyB0ZXh0Lmxlbmd0aDtcbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgLy8gRmluZCB0aGUgcGFydCB0aGF0IG92ZXJsYXBzIHdpdGggdGhlIHN0YXJ0IG9mIHRoaXMgdGV4dFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBhcnQgPSBvcmRlcltpXTtcbiAgICAgICAgICBpZiAocGFydC50byA+IHN0YXJ0ICYmIHBhcnQuZnJvbSA8PSBzdGFydCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnQudG8gPj0gZW5kKSByZXR1cm4gaW5uZXIoYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSwgY3NzKTtcbiAgICAgICAgaW5uZXIoYnVpbGRlciwgdGV4dC5zbGljZSgwLCBwYXJ0LnRvIC0gc3RhcnQpLCBzdHlsZSwgc3RhcnRTdHlsZSwgbnVsbCwgdGl0bGUsIGNzcyk7XG4gICAgICAgIHN0YXJ0U3R5bGUgPSBudWxsO1xuICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZShwYXJ0LnRvIC0gc3RhcnQpO1xuICAgICAgICBzdGFydCA9IHBhcnQudG87XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCBzaXplLCBtYXJrZXIsIGlnbm9yZVdpZGdldCkge1xuICAgIHZhciB3aWRnZXQgPSAhaWdub3JlV2lkZ2V0ICYmIG1hcmtlci53aWRnZXROb2RlO1xuICAgIGlmICh3aWRnZXQpIGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgc2l6ZSwgd2lkZ2V0KTtcbiAgICBpZiAoIWlnbm9yZVdpZGdldCAmJiBidWlsZGVyLmNtLmRpc3BsYXkuaW5wdXQubmVlZHNDb250ZW50QXR0cmlidXRlKSB7XG4gICAgICBpZiAoIXdpZGdldClcbiAgICAgICAgd2lkZ2V0ID0gYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKTtcbiAgICAgIHdpZGdldC5zZXRBdHRyaWJ1dGUoXCJjbS1tYXJrZXJcIiwgbWFya2VyLmlkKTtcbiAgICB9XG4gICAgaWYgKHdpZGdldCkge1xuICAgICAgYnVpbGRlci5jbS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUod2lkZ2V0KTtcbiAgICAgIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh3aWRnZXQpO1xuICAgIH1cbiAgICBidWlsZGVyLnBvcyArPSBzaXplO1xuICB9XG5cbiAgLy8gT3V0cHV0cyBhIG51bWJlciBvZiBzcGFucyB0byBtYWtlIHVwIGEgbGluZSwgdGFraW5nIGhpZ2hsaWdodGluZ1xuICAvLyBhbmQgbWFya2VkIHRleHQgaW50byBhY2NvdW50LlxuICBmdW5jdGlvbiBpbnNlcnRMaW5lQ29udGVudChsaW5lLCBidWlsZGVyLCBzdHlsZXMpIHtcbiAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zLCBhbGxUZXh0ID0gbGluZS50ZXh0LCBhdCA9IDA7XG4gICAgaWYgKCFzcGFucykge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKz0yKVxuICAgICAgICBidWlsZGVyLmFkZFRva2VuKGJ1aWxkZXIsIGFsbFRleHQuc2xpY2UoYXQsIGF0ID0gc3R5bGVzW2ldKSwgaW50ZXJwcmV0VG9rZW5TdHlsZShzdHlsZXNbaSsxXSwgYnVpbGRlci5jbS5vcHRpb25zKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxlbiA9IGFsbFRleHQubGVuZ3RoLCBwb3MgPSAwLCBpID0gMSwgdGV4dCA9IFwiXCIsIHN0eWxlLCBjc3M7XG4gICAgdmFyIG5leHRDaGFuZ2UgPSAwLCBzcGFuU3R5bGUsIHNwYW5FbmRTdHlsZSwgc3BhblN0YXJ0U3R5bGUsIHRpdGxlLCBjb2xsYXBzZWQ7XG4gICAgZm9yICg7Oykge1xuICAgICAgaWYgKG5leHRDaGFuZ2UgPT0gcG9zKSB7IC8vIFVwZGF0ZSBjdXJyZW50IG1hcmtlciBzZXRcbiAgICAgICAgc3BhblN0eWxlID0gc3BhbkVuZFN0eWxlID0gc3BhblN0YXJ0U3R5bGUgPSB0aXRsZSA9IGNzcyA9IFwiXCI7XG4gICAgICAgIGNvbGxhcHNlZCA9IG51bGw7IG5leHRDaGFuZ2UgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIGZvdW5kQm9va21hcmtzID0gW10sIGVuZFN0eWxlc1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNwYW5zLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgdmFyIHNwID0gc3BhbnNbal0sIG0gPSBzcC5tYXJrZXI7XG4gICAgICAgICAgaWYgKG0udHlwZSA9PSBcImJvb2ttYXJrXCIgJiYgc3AuZnJvbSA9PSBwb3MgJiYgbS53aWRnZXROb2RlKSB7XG4gICAgICAgICAgICBmb3VuZEJvb2ttYXJrcy5wdXNoKG0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3AuZnJvbSA8PSBwb3MgJiYgKHNwLnRvID09IG51bGwgfHwgc3AudG8gPiBwb3MgfHwgbS5jb2xsYXBzZWQgJiYgc3AudG8gPT0gcG9zICYmIHNwLmZyb20gPT0gcG9zKSkge1xuICAgICAgICAgICAgaWYgKHNwLnRvICE9IG51bGwgJiYgc3AudG8gIT0gcG9zICYmIG5leHRDaGFuZ2UgPiBzcC50bykge1xuICAgICAgICAgICAgICBuZXh0Q2hhbmdlID0gc3AudG87XG4gICAgICAgICAgICAgIHNwYW5FbmRTdHlsZSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobS5jbGFzc05hbWUpIHNwYW5TdHlsZSArPSBcIiBcIiArIG0uY2xhc3NOYW1lO1xuICAgICAgICAgICAgaWYgKG0uY3NzKSBjc3MgPSAoY3NzID8gY3NzICsgXCI7XCIgOiBcIlwiKSArIG0uY3NzO1xuICAgICAgICAgICAgaWYgKG0uc3RhcnRTdHlsZSAmJiBzcC5mcm9tID09IHBvcykgc3BhblN0YXJ0U3R5bGUgKz0gXCIgXCIgKyBtLnN0YXJ0U3R5bGU7XG4gICAgICAgICAgICBpZiAobS5lbmRTdHlsZSAmJiBzcC50byA9PSBuZXh0Q2hhbmdlKSAoZW5kU3R5bGVzIHx8IChlbmRTdHlsZXMgPSBbXSkpLnB1c2gobS5lbmRTdHlsZSwgc3AudG8pXG4gICAgICAgICAgICBpZiAobS50aXRsZSAmJiAhdGl0bGUpIHRpdGxlID0gbS50aXRsZTtcbiAgICAgICAgICAgIGlmIChtLmNvbGxhcHNlZCAmJiAoIWNvbGxhcHNlZCB8fCBjb21wYXJlQ29sbGFwc2VkTWFya2Vycyhjb2xsYXBzZWQubWFya2VyLCBtKSA8IDApKVxuICAgICAgICAgICAgICBjb2xsYXBzZWQgPSBzcDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNwLmZyb20gPiBwb3MgJiYgbmV4dENoYW5nZSA+IHNwLmZyb20pIHtcbiAgICAgICAgICAgIG5leHRDaGFuZ2UgPSBzcC5mcm9tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kU3R5bGVzKSBmb3IgKHZhciBqID0gMDsgaiA8IGVuZFN0eWxlcy5sZW5ndGg7IGogKz0gMilcbiAgICAgICAgICBpZiAoZW5kU3R5bGVzW2ogKyAxXSA9PSBuZXh0Q2hhbmdlKSBzcGFuRW5kU3R5bGUgKz0gXCIgXCIgKyBlbmRTdHlsZXNbal1cblxuICAgICAgICBpZiAoIWNvbGxhcHNlZCB8fCBjb2xsYXBzZWQuZnJvbSA9PSBwb3MpIGZvciAodmFyIGogPSAwOyBqIDwgZm91bmRCb29rbWFya3MubGVuZ3RoOyArK2opXG4gICAgICAgICAgYnVpbGRDb2xsYXBzZWRTcGFuKGJ1aWxkZXIsIDAsIGZvdW5kQm9va21hcmtzW2pdKTtcbiAgICAgICAgaWYgKGNvbGxhcHNlZCAmJiAoY29sbGFwc2VkLmZyb20gfHwgMCkgPT0gcG9zKSB7XG4gICAgICAgICAgYnVpbGRDb2xsYXBzZWRTcGFuKGJ1aWxkZXIsIChjb2xsYXBzZWQudG8gPT0gbnVsbCA/IGxlbiArIDEgOiBjb2xsYXBzZWQudG8pIC0gcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZWQubWFya2VyLCBjb2xsYXBzZWQuZnJvbSA9PSBudWxsKTtcbiAgICAgICAgICBpZiAoY29sbGFwc2VkLnRvID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICBpZiAoY29sbGFwc2VkLnRvID09IHBvcykgY29sbGFwc2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwb3MgPj0gbGVuKSBicmVhaztcblxuICAgICAgdmFyIHVwdG8gPSBNYXRoLm1pbihsZW4sIG5leHRDaGFuZ2UpO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICB2YXIgZW5kID0gcG9zICsgdGV4dC5sZW5ndGg7XG4gICAgICAgICAgaWYgKCFjb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIHZhciB0b2tlblRleHQgPSBlbmQgPiB1cHRvID8gdGV4dC5zbGljZSgwLCB1cHRvIC0gcG9zKSA6IHRleHQ7XG4gICAgICAgICAgICBidWlsZGVyLmFkZFRva2VuKGJ1aWxkZXIsIHRva2VuVGV4dCwgc3R5bGUgPyBzdHlsZSArIHNwYW5TdHlsZSA6IHNwYW5TdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhblN0YXJ0U3R5bGUsIHBvcyArIHRva2VuVGV4dC5sZW5ndGggPT0gbmV4dENoYW5nZSA/IHNwYW5FbmRTdHlsZSA6IFwiXCIsIHRpdGxlLCBjc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZW5kID49IHVwdG8pIHt0ZXh0ID0gdGV4dC5zbGljZSh1cHRvIC0gcG9zKTsgcG9zID0gdXB0bzsgYnJlYWs7fVxuICAgICAgICAgIHBvcyA9IGVuZDtcbiAgICAgICAgICBzcGFuU3RhcnRTdHlsZSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGFsbFRleHQuc2xpY2UoYXQsIGF0ID0gc3R5bGVzW2krK10pO1xuICAgICAgICBzdHlsZSA9IGludGVycHJldFRva2VuU3R5bGUoc3R5bGVzW2krK10sIGJ1aWxkZXIuY20ub3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRE9DVU1FTlQgREFUQSBTVFJVQ1RVUkVcblxuICAvLyBCeSBkZWZhdWx0LCB1cGRhdGVzIHRoYXQgc3RhcnQgYW5kIGVuZCBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuICAvLyBhcmUgdHJlYXRlZCBzcGVjaWFsbHksIGluIG9yZGVyIHRvIG1ha2UgdGhlIGFzc29jaWF0aW9uIG9mIGxpbmVcbiAgLy8gd2lkZ2V0cyBhbmQgbWFya2VyIGVsZW1lbnRzIHdpdGggdGhlIHRleHQgYmVoYXZlIG1vcmUgaW50dWl0aXZlLlxuICBmdW5jdGlvbiBpc1dob2xlTGluZVVwZGF0ZShkb2MsIGNoYW5nZSkge1xuICAgIHJldHVybiBjaGFuZ2UuZnJvbS5jaCA9PSAwICYmIGNoYW5nZS50by5jaCA9PSAwICYmIGxzdChjaGFuZ2UudGV4dCkgPT0gXCJcIiAmJlxuICAgICAgKCFkb2MuY20gfHwgZG9jLmNtLm9wdGlvbnMud2hvbGVMaW5lVXBkYXRlQmVmb3JlKTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYSBjaGFuZ2Ugb24gdGhlIGRvY3VtZW50IGRhdGEgc3RydWN0dXJlLlxuICBmdW5jdGlvbiB1cGRhdGVEb2MoZG9jLCBjaGFuZ2UsIG1hcmtlZFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkge1xuICAgIGZ1bmN0aW9uIHNwYW5zRm9yKG4pIHtyZXR1cm4gbWFya2VkU3BhbnMgPyBtYXJrZWRTcGFuc1tuXSA6IG51bGw7fVxuICAgIGZ1bmN0aW9uIHVwZGF0ZShsaW5lLCB0ZXh0LCBzcGFucykge1xuICAgICAgdXBkYXRlTGluZShsaW5lLCB0ZXh0LCBzcGFucywgZXN0aW1hdGVIZWlnaHQpO1xuICAgICAgc2lnbmFsTGF0ZXIobGluZSwgXCJjaGFuZ2VcIiwgbGluZSwgY2hhbmdlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGluZXNGb3Ioc3RhcnQsIGVuZCkge1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0LCByZXN1bHQgPSBbXTsgaSA8IGVuZDsgKytpKVxuICAgICAgICByZXN1bHQucHVzaChuZXcgTGluZSh0ZXh0W2ldLCBzcGFuc0ZvcihpKSwgZXN0aW1hdGVIZWlnaHQpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdmFyIGZyb20gPSBjaGFuZ2UuZnJvbSwgdG8gPSBjaGFuZ2UudG8sIHRleHQgPSBjaGFuZ2UudGV4dDtcbiAgICB2YXIgZmlyc3RMaW5lID0gZ2V0TGluZShkb2MsIGZyb20ubGluZSksIGxhc3RMaW5lID0gZ2V0TGluZShkb2MsIHRvLmxpbmUpO1xuICAgIHZhciBsYXN0VGV4dCA9IGxzdCh0ZXh0KSwgbGFzdFNwYW5zID0gc3BhbnNGb3IodGV4dC5sZW5ndGggLSAxKSwgbmxpbmVzID0gdG8ubGluZSAtIGZyb20ubGluZTtcblxuICAgIC8vIEFkanVzdCB0aGUgbGluZSBzdHJ1Y3R1cmVcbiAgICBpZiAoY2hhbmdlLmZ1bGwpIHtcbiAgICAgIGRvYy5pbnNlcnQoMCwgbGluZXNGb3IoMCwgdGV4dC5sZW5ndGgpKTtcbiAgICAgIGRvYy5yZW1vdmUodGV4dC5sZW5ndGgsIGRvYy5zaXplIC0gdGV4dC5sZW5ndGgpO1xuICAgIH0gZWxzZSBpZiAoaXNXaG9sZUxpbmVVcGRhdGUoZG9jLCBjaGFuZ2UpKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgd2hvbGUtbGluZSByZXBsYWNlLiBUcmVhdGVkIHNwZWNpYWxseSB0byBtYWtlXG4gICAgICAvLyBzdXJlIGxpbmUgb2JqZWN0cyBtb3ZlIHRoZSB3YXkgdGhleSBhcmUgc3VwcG9zZWQgdG8uXG4gICAgICB2YXIgYWRkZWQgPSBsaW5lc0ZvcigwLCB0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgdXBkYXRlKGxhc3RMaW5lLCBsYXN0TGluZS50ZXh0LCBsYXN0U3BhbnMpO1xuICAgICAgaWYgKG5saW5lcykgZG9jLnJlbW92ZShmcm9tLmxpbmUsIG5saW5lcyk7XG4gICAgICBpZiAoYWRkZWQubGVuZ3RoKSBkb2MuaW5zZXJ0KGZyb20ubGluZSwgYWRkZWQpO1xuICAgIH0gZWxzZSBpZiAoZmlyc3RMaW5lID09IGxhc3RMaW5lKSB7XG4gICAgICBpZiAodGV4dC5sZW5ndGggPT0gMSkge1xuICAgICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIGxhc3RUZXh0ICsgZmlyc3RMaW5lLnRleHQuc2xpY2UodG8uY2gpLCBsYXN0U3BhbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFkZGVkID0gbGluZXNGb3IoMSwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgYWRkZWQucHVzaChuZXcgTGluZShsYXN0VGV4dCArIGZpcnN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgbGFzdFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkpO1xuICAgICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIHRleHRbMF0sIHNwYW5zRm9yKDApKTtcbiAgICAgICAgZG9jLmluc2VydChmcm9tLmxpbmUgKyAxLCBhZGRlZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0ZXh0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIHRleHRbMF0gKyBsYXN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgc3BhbnNGb3IoMCkpO1xuICAgICAgZG9jLnJlbW92ZShmcm9tLmxpbmUgKyAxLCBubGluZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIHRleHRbMF0sIHNwYW5zRm9yKDApKTtcbiAgICAgIHVwZGF0ZShsYXN0TGluZSwgbGFzdFRleHQgKyBsYXN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgbGFzdFNwYW5zKTtcbiAgICAgIHZhciBhZGRlZCA9IGxpbmVzRm9yKDEsIHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAobmxpbmVzID4gMSkgZG9jLnJlbW92ZShmcm9tLmxpbmUgKyAxLCBubGluZXMgLSAxKTtcbiAgICAgIGRvYy5pbnNlcnQoZnJvbS5saW5lICsgMSwgYWRkZWQpO1xuICAgIH1cblxuICAgIHNpZ25hbExhdGVyKGRvYywgXCJjaGFuZ2VcIiwgZG9jLCBjaGFuZ2UpO1xuICB9XG5cbiAgLy8gVGhlIGRvY3VtZW50IGlzIHJlcHJlc2VudGVkIGFzIGEgQlRyZWUgY29uc2lzdGluZyBvZiBsZWF2ZXMsIHdpdGhcbiAgLy8gY2h1bmsgb2YgbGluZXMgaW4gdGhlbSwgYW5kIGJyYW5jaGVzLCB3aXRoIHVwIHRvIHRlbiBsZWF2ZXMgb3JcbiAgLy8gb3RoZXIgYnJhbmNoIG5vZGVzIGJlbG93IHRoZW0uIFRoZSB0b3Agbm9kZSBpcyBhbHdheXMgYSBicmFuY2hcbiAgLy8gbm9kZSwgYW5kIGlzIHRoZSBkb2N1bWVudCBvYmplY3QgaXRzZWxmIChtZWFuaW5nIGl0IGhhc1xuICAvLyBhZGRpdGlvbmFsIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMpLlxuICAvL1xuICAvLyBBbGwgbm9kZXMgaGF2ZSBwYXJlbnQgbGlua3MuIFRoZSB0cmVlIGlzIHVzZWQgYm90aCB0byBnbyBmcm9tXG4gIC8vIGxpbmUgbnVtYmVycyB0byBsaW5lIG9iamVjdHMsIGFuZCB0byBnbyBmcm9tIG9iamVjdHMgdG8gbnVtYmVycy5cbiAgLy8gSXQgYWxzbyBpbmRleGVzIGJ5IGhlaWdodCwgYW5kIGlzIHVzZWQgdG8gY29udmVydCBiZXR3ZWVuIGhlaWdodFxuICAvLyBhbmQgbGluZSBvYmplY3QsIGFuZCB0byBmaW5kIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIGRvY3VtZW50LlxuICAvL1xuICAvLyBTZWUgYWxzbyBodHRwOi8vbWFyaWpuaGF2ZXJiZWtlLm5sL2Jsb2cvY29kZW1pcnJvci1saW5lLXRyZWUuaHRtbFxuXG4gIGZ1bmN0aW9uIExlYWZDaHVuayhsaW5lcykge1xuICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDAsIGhlaWdodCA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgbGluZXNbaV0ucGFyZW50ID0gdGhpcztcbiAgICAgIGhlaWdodCArPSBsaW5lc1tpXS5oZWlnaHQ7XG4gICAgfVxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICB9XG5cbiAgTGVhZkNodW5rLnByb3RvdHlwZSA9IHtcbiAgICBjaHVua1NpemU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5saW5lcy5sZW5ndGg7IH0sXG4gICAgLy8gUmVtb3ZlIHRoZSBuIGxpbmVzIGF0IG9mZnNldCAnYXQnLlxuICAgIHJlbW92ZUlubmVyOiBmdW5jdGlvbihhdCwgbikge1xuICAgICAgZm9yICh2YXIgaSA9IGF0LCBlID0gYXQgKyBuOyBpIDwgZTsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5saW5lc1tpXTtcbiAgICAgICAgdGhpcy5oZWlnaHQgLT0gbGluZS5oZWlnaHQ7XG4gICAgICAgIGNsZWFuVXBMaW5lKGxpbmUpO1xuICAgICAgICBzaWduYWxMYXRlcihsaW5lLCBcImRlbGV0ZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGluZXMuc3BsaWNlKGF0LCBuKTtcbiAgICB9LFxuICAgIC8vIEhlbHBlciB1c2VkIHRvIGNvbGxhcHNlIGEgc21hbGwgYnJhbmNoIGludG8gYSBzaW5nbGUgbGVhZi5cbiAgICBjb2xsYXBzZTogZnVuY3Rpb24obGluZXMpIHtcbiAgICAgIGxpbmVzLnB1c2guYXBwbHkobGluZXMsIHRoaXMubGluZXMpO1xuICAgIH0sXG4gICAgLy8gSW5zZXJ0IHRoZSBnaXZlbiBhcnJheSBvZiBsaW5lcyBhdCBvZmZzZXQgJ2F0JywgY291bnQgdGhlbSBhc1xuICAgIC8vIGhhdmluZyB0aGUgZ2l2ZW4gaGVpZ2h0LlxuICAgIGluc2VydElubmVyOiBmdW5jdGlvbihhdCwgbGluZXMsIGhlaWdodCkge1xuICAgICAgdGhpcy5oZWlnaHQgKz0gaGVpZ2h0O1xuICAgICAgdGhpcy5saW5lcyA9IHRoaXMubGluZXMuc2xpY2UoMCwgYXQpLmNvbmNhdChsaW5lcykuY29uY2F0KHRoaXMubGluZXMuc2xpY2UoYXQpKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIGxpbmVzW2ldLnBhcmVudCA9IHRoaXM7XG4gICAgfSxcbiAgICAvLyBVc2VkIHRvIGl0ZXJhdGUgb3ZlciBhIHBhcnQgb2YgdGhlIHRyZWUuXG4gICAgaXRlck46IGZ1bmN0aW9uKGF0LCBuLCBvcCkge1xuICAgICAgZm9yICh2YXIgZSA9IGF0ICsgbjsgYXQgPCBlOyArK2F0KVxuICAgICAgICBpZiAob3AodGhpcy5saW5lc1thdF0pKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gQnJhbmNoQ2h1bmsoY2hpbGRyZW4pIHtcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgdmFyIHNpemUgPSAwLCBoZWlnaHQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBjaCA9IGNoaWxkcmVuW2ldO1xuICAgICAgc2l6ZSArPSBjaC5jaHVua1NpemUoKTsgaGVpZ2h0ICs9IGNoLmhlaWdodDtcbiAgICAgIGNoLnBhcmVudCA9IHRoaXM7XG4gICAgfVxuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICB9XG5cbiAgQnJhbmNoQ2h1bmsucHJvdG90eXBlID0ge1xuICAgIGNodW5rU2l6ZTogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnNpemU7IH0sXG4gICAgcmVtb3ZlSW5uZXI6IGZ1bmN0aW9uKGF0LCBuKSB7XG4gICAgICB0aGlzLnNpemUgLT0gbjtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBzeiA9IGNoaWxkLmNodW5rU2l6ZSgpO1xuICAgICAgICBpZiAoYXQgPCBzeikge1xuICAgICAgICAgIHZhciBybSA9IE1hdGgubWluKG4sIHN6IC0gYXQpLCBvbGRIZWlnaHQgPSBjaGlsZC5oZWlnaHQ7XG4gICAgICAgICAgY2hpbGQucmVtb3ZlSW5uZXIoYXQsIHJtKTtcbiAgICAgICAgICB0aGlzLmhlaWdodCAtPSBvbGRIZWlnaHQgLSBjaGlsZC5oZWlnaHQ7XG4gICAgICAgICAgaWYgKHN6ID09IHJtKSB7IHRoaXMuY2hpbGRyZW4uc3BsaWNlKGktLSwgMSk7IGNoaWxkLnBhcmVudCA9IG51bGw7IH1cbiAgICAgICAgICBpZiAoKG4gLT0gcm0pID09IDApIGJyZWFrO1xuICAgICAgICAgIGF0ID0gMDtcbiAgICAgICAgfSBlbHNlIGF0IC09IHN6O1xuICAgICAgfVxuICAgICAgLy8gSWYgdGhlIHJlc3VsdCBpcyBzbWFsbGVyIHRoYW4gMjUgbGluZXMsIGVuc3VyZSB0aGF0IGl0IGlzIGFcbiAgICAgIC8vIHNpbmdsZSBsZWFmIG5vZGUuXG4gICAgICBpZiAodGhpcy5zaXplIC0gbiA8IDI1ICYmXG4gICAgICAgICAgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMSB8fCAhKHRoaXMuY2hpbGRyZW5bMF0gaW5zdGFuY2VvZiBMZWFmQ2h1bmspKSkge1xuICAgICAgICB2YXIgbGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZShsaW5lcyk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbbmV3IExlYWZDaHVuayhsaW5lcyldO1xuICAgICAgICB0aGlzLmNoaWxkcmVuWzBdLnBhcmVudCA9IHRoaXM7XG4gICAgICB9XG4gICAgfSxcbiAgICBjb2xsYXBzZTogZnVuY3Rpb24obGluZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkgdGhpcy5jaGlsZHJlbltpXS5jb2xsYXBzZShsaW5lcyk7XG4gICAgfSxcbiAgICBpbnNlcnRJbm5lcjogZnVuY3Rpb24oYXQsIGxpbmVzLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuc2l6ZSArPSBsaW5lcy5sZW5ndGg7XG4gICAgICB0aGlzLmhlaWdodCArPSBoZWlnaHQ7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgICAgaWYgKGF0IDw9IHN6KSB7XG4gICAgICAgICAgY2hpbGQuaW5zZXJ0SW5uZXIoYXQsIGxpbmVzLCBoZWlnaHQpO1xuICAgICAgICAgIGlmIChjaGlsZC5saW5lcyAmJiBjaGlsZC5saW5lcy5sZW5ndGggPiA1MCkge1xuICAgICAgICAgICAgLy8gVG8gYXZvaWQgbWVtb3J5IHRocmFzaGluZyB3aGVuIGNoaWxkLmxpbmVzIGlzIGh1Z2UgKGUuZy4gZmlyc3QgdmlldyBvZiBhIGxhcmdlIGZpbGUpLCBpdCdzIG5ldmVyIHNwbGljZWQuXG4gICAgICAgICAgICAvLyBJbnN0ZWFkLCBzbWFsbCBzbGljZXMgYXJlIHRha2VuLiBUaGV5J3JlIHRha2VuIGluIG9yZGVyIGJlY2F1c2Ugc2VxdWVudGlhbCBtZW1vcnkgYWNjZXNzZXMgYXJlIGZhc3Rlc3QuXG4gICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gY2hpbGQubGluZXMubGVuZ3RoICUgMjUgKyAyNVxuICAgICAgICAgICAgZm9yICh2YXIgcG9zID0gcmVtYWluaW5nOyBwb3MgPCBjaGlsZC5saW5lcy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgIHZhciBsZWFmID0gbmV3IExlYWZDaHVuayhjaGlsZC5saW5lcy5zbGljZShwb3MsIHBvcyArPSAyNSkpO1xuICAgICAgICAgICAgICBjaGlsZC5oZWlnaHQgLT0gbGVhZi5oZWlnaHQ7XG4gICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKCsraSwgMCwgbGVhZik7XG4gICAgICAgICAgICAgIGxlYWYucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmxpbmVzID0gY2hpbGQubGluZXMuc2xpY2UoMCwgcmVtYWluaW5nKTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTcGlsbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBhdCAtPSBzejtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIFdoZW4gYSBub2RlIGhhcyBncm93biwgY2hlY2sgd2hldGhlciBpdCBzaG91bGQgYmUgc3BsaXQuXG4gICAgbWF5YmVTcGlsbDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPD0gMTApIHJldHVybjtcbiAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICBkbyB7XG4gICAgICAgIHZhciBzcGlsbGVkID0gbWUuY2hpbGRyZW4uc3BsaWNlKG1lLmNoaWxkcmVuLmxlbmd0aCAtIDUsIDUpO1xuICAgICAgICB2YXIgc2libGluZyA9IG5ldyBCcmFuY2hDaHVuayhzcGlsbGVkKTtcbiAgICAgICAgaWYgKCFtZS5wYXJlbnQpIHsgLy8gQmVjb21lIHRoZSBwYXJlbnQgbm9kZVxuICAgICAgICAgIHZhciBjb3B5ID0gbmV3IEJyYW5jaENodW5rKG1lLmNoaWxkcmVuKTtcbiAgICAgICAgICBjb3B5LnBhcmVudCA9IG1lO1xuICAgICAgICAgIG1lLmNoaWxkcmVuID0gW2NvcHksIHNpYmxpbmddO1xuICAgICAgICAgIG1lID0gY29weTtcbiAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lLnNpemUgLT0gc2libGluZy5zaXplO1xuICAgICAgICAgIG1lLmhlaWdodCAtPSBzaWJsaW5nLmhlaWdodDtcbiAgICAgICAgICB2YXIgbXlJbmRleCA9IGluZGV4T2YobWUucGFyZW50LmNoaWxkcmVuLCBtZSk7XG4gICAgICAgICAgbWUucGFyZW50LmNoaWxkcmVuLnNwbGljZShteUluZGV4ICsgMSwgMCwgc2libGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgc2libGluZy5wYXJlbnQgPSBtZS5wYXJlbnQ7XG4gICAgICB9IHdoaWxlIChtZS5jaGlsZHJlbi5sZW5ndGggPiAxMCk7XG4gICAgICBtZS5wYXJlbnQubWF5YmVTcGlsbCgpO1xuICAgIH0sXG4gICAgaXRlck46IGZ1bmN0aW9uKGF0LCBuLCBvcCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICAgIGlmIChhdCA8IHN6KSB7XG4gICAgICAgICAgdmFyIHVzZWQgPSBNYXRoLm1pbihuLCBzeiAtIGF0KTtcbiAgICAgICAgICBpZiAoY2hpbGQuaXRlck4oYXQsIHVzZWQsIG9wKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgaWYgKChuIC09IHVzZWQpID09IDApIGJyZWFrO1xuICAgICAgICAgIGF0ID0gMDtcbiAgICAgICAgfSBlbHNlIGF0IC09IHN6O1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgbmV4dERvY0lkID0gMDtcbiAgdmFyIERvYyA9IENvZGVNaXJyb3IuRG9jID0gZnVuY3Rpb24odGV4dCwgbW9kZSwgZmlyc3RMaW5lLCBsaW5lU2VwKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERvYykpIHJldHVybiBuZXcgRG9jKHRleHQsIG1vZGUsIGZpcnN0TGluZSwgbGluZVNlcCk7XG4gICAgaWYgKGZpcnN0TGluZSA9PSBudWxsKSBmaXJzdExpbmUgPSAwO1xuXG4gICAgQnJhbmNoQ2h1bmsuY2FsbCh0aGlzLCBbbmV3IExlYWZDaHVuayhbbmV3IExpbmUoXCJcIiwgbnVsbCldKV0pO1xuICAgIHRoaXMuZmlyc3QgPSBmaXJzdExpbmU7XG4gICAgdGhpcy5zY3JvbGxUb3AgPSB0aGlzLnNjcm9sbExlZnQgPSAwO1xuICAgIHRoaXMuY2FudEVkaXQgPSBmYWxzZTtcbiAgICB0aGlzLmNsZWFuR2VuZXJhdGlvbiA9IDE7XG4gICAgdGhpcy5mcm9udGllciA9IGZpcnN0TGluZTtcbiAgICB2YXIgc3RhcnQgPSBQb3MoZmlyc3RMaW5lLCAwKTtcbiAgICB0aGlzLnNlbCA9IHNpbXBsZVNlbGVjdGlvbihzdGFydCk7XG4gICAgdGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkobnVsbCk7XG4gICAgdGhpcy5pZCA9ICsrbmV4dERvY0lkO1xuICAgIHRoaXMubW9kZU9wdGlvbiA9IG1vZGU7XG4gICAgdGhpcy5saW5lU2VwID0gbGluZVNlcDtcbiAgICB0aGlzLmV4dGVuZCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiB0ZXh0ID09IFwic3RyaW5nXCIpIHRleHQgPSB0aGlzLnNwbGl0TGluZXModGV4dCk7XG4gICAgdXBkYXRlRG9jKHRoaXMsIHtmcm9tOiBzdGFydCwgdG86IHN0YXJ0LCB0ZXh0OiB0ZXh0fSk7XG4gICAgc2V0U2VsZWN0aW9uKHRoaXMsIHNpbXBsZVNlbGVjdGlvbihzdGFydCksIHNlbF9kb250U2Nyb2xsKTtcbiAgfTtcblxuICBEb2MucHJvdG90eXBlID0gY3JlYXRlT2JqKEJyYW5jaENodW5rLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiBEb2MsXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBkb2N1bWVudC4gU3VwcG9ydHMgdHdvIGZvcm1zIC0tIHdpdGggb25seSBvbmVcbiAgICAvLyBhcmd1bWVudCwgaXQgY2FsbHMgdGhhdCBmb3IgZWFjaCBsaW5lIGluIHRoZSBkb2N1bWVudC4gV2l0aFxuICAgIC8vIHRocmVlLCBpdCBpdGVyYXRlcyBvdmVyIHRoZSByYW5nZSBnaXZlbiBieSB0aGUgZmlyc3QgdHdvICh3aXRoXG4gICAgLy8gdGhlIHNlY29uZCBiZWluZyBub24taW5jbHVzaXZlKS5cbiAgICBpdGVyOiBmdW5jdGlvbihmcm9tLCB0bywgb3ApIHtcbiAgICAgIGlmIChvcCkgdGhpcy5pdGVyTihmcm9tIC0gdGhpcy5maXJzdCwgdG8gLSBmcm9tLCBvcCk7XG4gICAgICBlbHNlIHRoaXMuaXRlck4odGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSwgZnJvbSk7XG4gICAgfSxcblxuICAgIC8vIE5vbi1wdWJsaWMgaW50ZXJmYWNlIGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIGxpbmVzLlxuICAgIGluc2VydDogZnVuY3Rpb24oYXQsIGxpbmVzKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIGhlaWdodCArPSBsaW5lc1tpXS5oZWlnaHQ7XG4gICAgICB0aGlzLmluc2VydElubmVyKGF0IC0gdGhpcy5maXJzdCwgbGluZXMsIGhlaWdodCk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uKGF0LCBuKSB7IHRoaXMucmVtb3ZlSW5uZXIoYXQgLSB0aGlzLmZpcnN0LCBuKTsgfSxcblxuICAgIC8vIEZyb20gaGVyZSwgdGhlIG1ldGhvZHMgYXJlIHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuIE1vc3RcbiAgICAvLyBhcmUgYWxzbyBhdmFpbGFibGUgZnJvbSBDb2RlTWlycm9yIChlZGl0b3IpIGluc3RhbmNlcy5cblxuICAgIGdldFZhbHVlOiBmdW5jdGlvbihsaW5lU2VwKSB7XG4gICAgICB2YXIgbGluZXMgPSBnZXRMaW5lcyh0aGlzLCB0aGlzLmZpcnN0LCB0aGlzLmZpcnN0ICsgdGhpcy5zaXplKTtcbiAgICAgIGlmIChsaW5lU2VwID09PSBmYWxzZSkgcmV0dXJuIGxpbmVzO1xuICAgICAgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSk7XG4gICAgfSxcbiAgICBzZXRWYWx1ZTogZG9jTWV0aG9kT3AoZnVuY3Rpb24oY29kZSkge1xuICAgICAgdmFyIHRvcCA9IFBvcyh0aGlzLmZpcnN0LCAwKSwgbGFzdCA9IHRoaXMuZmlyc3QgKyB0aGlzLnNpemUgLSAxO1xuICAgICAgbWFrZUNoYW5nZSh0aGlzLCB7ZnJvbTogdG9wLCB0bzogUG9zKGxhc3QsIGdldExpbmUodGhpcywgbGFzdCkudGV4dC5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zcGxpdExpbmVzKGNvZGUpLCBvcmlnaW46IFwic2V0VmFsdWVcIiwgZnVsbDogdHJ1ZX0sIHRydWUpO1xuICAgICAgc2V0U2VsZWN0aW9uKHRoaXMsIHNpbXBsZVNlbGVjdGlvbih0b3ApKTtcbiAgICB9KSxcbiAgICByZXBsYWNlUmFuZ2U6IGZ1bmN0aW9uKGNvZGUsIGZyb20sIHRvLCBvcmlnaW4pIHtcbiAgICAgIGZyb20gPSBjbGlwUG9zKHRoaXMsIGZyb20pO1xuICAgICAgdG8gPSB0byA/IGNsaXBQb3ModGhpcywgdG8pIDogZnJvbTtcbiAgICAgIHJlcGxhY2VSYW5nZSh0aGlzLCBjb2RlLCBmcm9tLCB0bywgb3JpZ2luKTtcbiAgICB9LFxuICAgIGdldFJhbmdlOiBmdW5jdGlvbihmcm9tLCB0bywgbGluZVNlcCkge1xuICAgICAgdmFyIGxpbmVzID0gZ2V0QmV0d2Vlbih0aGlzLCBjbGlwUG9zKHRoaXMsIGZyb20pLCBjbGlwUG9zKHRoaXMsIHRvKSk7XG4gICAgICBpZiAobGluZVNlcCA9PT0gZmFsc2UpIHJldHVybiBsaW5lcztcbiAgICAgIHJldHVybiBsaW5lcy5qb2luKGxpbmVTZXAgfHwgdGhpcy5saW5lU2VwYXJhdG9yKCkpO1xuICAgIH0sXG5cbiAgICBnZXRMaW5lOiBmdW5jdGlvbihsaW5lKSB7dmFyIGwgPSB0aGlzLmdldExpbmVIYW5kbGUobGluZSk7IHJldHVybiBsICYmIGwudGV4dDt9LFxuXG4gICAgZ2V0TGluZUhhbmRsZTogZnVuY3Rpb24obGluZSkge2lmIChpc0xpbmUodGhpcywgbGluZSkpIHJldHVybiBnZXRMaW5lKHRoaXMsIGxpbmUpO30sXG4gICAgZ2V0TGluZU51bWJlcjogZnVuY3Rpb24obGluZSkge3JldHVybiBsaW5lTm8obGluZSk7fSxcblxuICAgIGdldExpbmVIYW5kbGVWaXN1YWxTdGFydDogZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIpIGxpbmUgPSBnZXRMaW5lKHRoaXMsIGxpbmUpO1xuICAgICAgcmV0dXJuIHZpc3VhbExpbmUobGluZSk7XG4gICAgfSxcblxuICAgIGxpbmVDb3VudDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc2l6ZTt9LFxuICAgIGZpcnN0TGluZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmlyc3Q7fSxcbiAgICBsYXN0TGluZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUgLSAxO30sXG5cbiAgICBjbGlwUG9zOiBmdW5jdGlvbihwb3MpIHtyZXR1cm4gY2xpcFBvcyh0aGlzLCBwb3MpO30sXG5cbiAgICBnZXRDdXJzb3I6IGZ1bmN0aW9uKHN0YXJ0KSB7XG4gICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbC5wcmltYXJ5KCksIHBvcztcbiAgICAgIGlmIChzdGFydCA9PSBudWxsIHx8IHN0YXJ0ID09IFwiaGVhZFwiKSBwb3MgPSByYW5nZS5oZWFkO1xuICAgICAgZWxzZSBpZiAoc3RhcnQgPT0gXCJhbmNob3JcIikgcG9zID0gcmFuZ2UuYW5jaG9yO1xuICAgICAgZWxzZSBpZiAoc3RhcnQgPT0gXCJlbmRcIiB8fCBzdGFydCA9PSBcInRvXCIgfHwgc3RhcnQgPT09IGZhbHNlKSBwb3MgPSByYW5nZS50bygpO1xuICAgICAgZWxzZSBwb3MgPSByYW5nZS5mcm9tKCk7XG4gICAgICByZXR1cm4gcG9zO1xuICAgIH0sXG4gICAgbGlzdFNlbGVjdGlvbnM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zZWwucmFuZ2VzOyB9LFxuICAgIHNvbWV0aGluZ1NlbGVjdGVkOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5zZWwuc29tZXRoaW5nU2VsZWN0ZWQoKTt9LFxuXG4gICAgc2V0Q3Vyc29yOiBkb2NNZXRob2RPcChmdW5jdGlvbihsaW5lLCBjaCwgb3B0aW9ucykge1xuICAgICAgc2V0U2ltcGxlU2VsZWN0aW9uKHRoaXMsIGNsaXBQb3ModGhpcywgdHlwZW9mIGxpbmUgPT0gXCJudW1iZXJcIiA/IFBvcyhsaW5lLCBjaCB8fCAwKSA6IGxpbmUpLCBudWxsLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICBzZXRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGFuY2hvciwgaGVhZCwgb3B0aW9ucykge1xuICAgICAgc2V0U2ltcGxlU2VsZWN0aW9uKHRoaXMsIGNsaXBQb3ModGhpcywgYW5jaG9yKSwgY2xpcFBvcyh0aGlzLCBoZWFkIHx8IGFuY2hvciksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGV4dGVuZFNlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGVhZCwgb3RoZXIsIG9wdGlvbnMpIHtcbiAgICAgIGV4dGVuZFNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIGhlYWQpLCBvdGhlciAmJiBjbGlwUG9zKHRoaXMsIG90aGVyKSwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgZXh0ZW5kU2VsZWN0aW9uczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGVhZHMsIG9wdGlvbnMpIHtcbiAgICAgIGV4dGVuZFNlbGVjdGlvbnModGhpcywgY2xpcFBvc0FycmF5KHRoaXMsIGhlYWRzKSwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgZXh0ZW5kU2VsZWN0aW9uc0J5OiBkb2NNZXRob2RPcChmdW5jdGlvbihmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgaGVhZHMgPSBtYXAodGhpcy5zZWwucmFuZ2VzLCBmKTtcbiAgICAgIGV4dGVuZFNlbGVjdGlvbnModGhpcywgY2xpcFBvc0FycmF5KHRoaXMsIGhlYWRzKSwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgc2V0U2VsZWN0aW9uczogZG9jTWV0aG9kT3AoZnVuY3Rpb24ocmFuZ2VzLCBwcmltYXJ5LCBvcHRpb25zKSB7XG4gICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpIHJldHVybjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBvdXQgPSBbXTsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGNsaXBQb3ModGhpcywgcmFuZ2VzW2ldLmFuY2hvciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwUG9zKHRoaXMsIHJhbmdlc1tpXS5oZWFkKSk7XG4gICAgICBpZiAocHJpbWFyeSA9PSBudWxsKSBwcmltYXJ5ID0gTWF0aC5taW4ocmFuZ2VzLmxlbmd0aCAtIDEsIHRoaXMuc2VsLnByaW1JbmRleCk7XG4gICAgICBzZXRTZWxlY3Rpb24odGhpcywgbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgcHJpbWFyeSksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGFkZFNlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oYW5jaG9yLCBoZWFkLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzLnNsaWNlKDApO1xuICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKGNsaXBQb3ModGhpcywgYW5jaG9yKSwgY2xpcFBvcyh0aGlzLCBoZWFkIHx8IGFuY2hvcikpKTtcbiAgICAgIHNldFNlbGVjdGlvbih0aGlzLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCByYW5nZXMubGVuZ3RoIC0gMSksIG9wdGlvbnMpO1xuICAgIH0pLFxuXG4gICAgZ2V0U2VsZWN0aW9uOiBmdW5jdGlvbihsaW5lU2VwKSB7XG4gICAgICB2YXIgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzLCBsaW5lcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzZWwgPSBnZXRCZXR3ZWVuKHRoaXMsIHJhbmdlc1tpXS5mcm9tKCksIHJhbmdlc1tpXS50bygpKTtcbiAgICAgICAgbGluZXMgPSBsaW5lcyA/IGxpbmVzLmNvbmNhdChzZWwpIDogc2VsO1xuICAgICAgfVxuICAgICAgaWYgKGxpbmVTZXAgPT09IGZhbHNlKSByZXR1cm4gbGluZXM7XG4gICAgICBlbHNlIHJldHVybiBsaW5lcy5qb2luKGxpbmVTZXAgfHwgdGhpcy5saW5lU2VwYXJhdG9yKCkpO1xuICAgIH0sXG4gICAgZ2V0U2VsZWN0aW9uczogZnVuY3Rpb24obGluZVNlcCkge1xuICAgICAgdmFyIHBhcnRzID0gW10sIHJhbmdlcyA9IHRoaXMuc2VsLnJhbmdlcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzZWwgPSBnZXRCZXR3ZWVuKHRoaXMsIHJhbmdlc1tpXS5mcm9tKCksIHJhbmdlc1tpXS50bygpKTtcbiAgICAgICAgaWYgKGxpbmVTZXAgIT09IGZhbHNlKSBzZWwgPSBzZWwuam9pbihsaW5lU2VwIHx8IHRoaXMubGluZVNlcGFyYXRvcigpKTtcbiAgICAgICAgcGFydHNbaV0gPSBzZWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFydHM7XG4gICAgfSxcbiAgICByZXBsYWNlU2VsZWN0aW9uOiBmdW5jdGlvbihjb2RlLCBjb2xsYXBzZSwgb3JpZ2luKSB7XG4gICAgICB2YXIgZHVwID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgZHVwW2ldID0gY29kZTtcbiAgICAgIHRoaXMucmVwbGFjZVNlbGVjdGlvbnMoZHVwLCBjb2xsYXBzZSwgb3JpZ2luIHx8IFwiK2lucHV0XCIpO1xuICAgIH0sXG4gICAgcmVwbGFjZVNlbGVjdGlvbnM6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGNvZGUsIGNvbGxhcHNlLCBvcmlnaW4pIHtcbiAgICAgIHZhciBjaGFuZ2VzID0gW10sIHNlbCA9IHRoaXMuc2VsO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHNlbC5yYW5nZXNbaV07XG4gICAgICAgIGNoYW5nZXNbaV0gPSB7ZnJvbTogcmFuZ2UuZnJvbSgpLCB0bzogcmFuZ2UudG8oKSwgdGV4dDogdGhpcy5zcGxpdExpbmVzKGNvZGVbaV0pLCBvcmlnaW46IG9yaWdpbn07XG4gICAgICB9XG4gICAgICB2YXIgbmV3U2VsID0gY29sbGFwc2UgJiYgY29sbGFwc2UgIT0gXCJlbmRcIiAmJiBjb21wdXRlUmVwbGFjZWRTZWwodGhpcywgY2hhbmdlcywgY29sbGFwc2UpO1xuICAgICAgZm9yICh2YXIgaSA9IGNoYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIG1ha2VDaGFuZ2UodGhpcywgY2hhbmdlc1tpXSk7XG4gICAgICBpZiAobmV3U2VsKSBzZXRTZWxlY3Rpb25SZXBsYWNlSGlzdG9yeSh0aGlzLCBuZXdTZWwpO1xuICAgICAgZWxzZSBpZiAodGhpcy5jbSkgZW5zdXJlQ3Vyc29yVmlzaWJsZSh0aGlzLmNtKTtcbiAgICB9KSxcbiAgICB1bmRvOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgXCJ1bmRvXCIpO30pLFxuICAgIHJlZG86IGRvY01ldGhvZE9wKGZ1bmN0aW9uKCkge21ha2VDaGFuZ2VGcm9tSGlzdG9yeSh0aGlzLCBcInJlZG9cIik7fSksXG4gICAgdW5kb1NlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oKSB7bWFrZUNoYW5nZUZyb21IaXN0b3J5KHRoaXMsIFwidW5kb1wiLCB0cnVlKTt9KSxcbiAgICByZWRvU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgXCJyZWRvXCIsIHRydWUpO30pLFxuXG4gICAgc2V0RXh0ZW5kaW5nOiBmdW5jdGlvbih2YWwpIHt0aGlzLmV4dGVuZCA9IHZhbDt9LFxuICAgIGdldEV4dGVuZGluZzogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZXh0ZW5kO30sXG5cbiAgICBoaXN0b3J5U2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaGlzdCA9IHRoaXMuaGlzdG9yeSwgZG9uZSA9IDAsIHVuZG9uZSA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhpc3QuZG9uZS5sZW5ndGg7IGkrKykgaWYgKCFoaXN0LmRvbmVbaV0ucmFuZ2VzKSArK2RvbmU7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhpc3QudW5kb25lLmxlbmd0aDsgaSsrKSBpZiAoIWhpc3QudW5kb25lW2ldLnJhbmdlcykgKyt1bmRvbmU7XG4gICAgICByZXR1cm4ge3VuZG86IGRvbmUsIHJlZG86IHVuZG9uZX07XG4gICAgfSxcbiAgICBjbGVhckhpc3Rvcnk6IGZ1bmN0aW9uKCkge3RoaXMuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KHRoaXMuaGlzdG9yeS5tYXhHZW5lcmF0aW9uKTt9LFxuXG4gICAgbWFya0NsZWFuOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY2xlYW5HZW5lcmF0aW9uID0gdGhpcy5jaGFuZ2VHZW5lcmF0aW9uKHRydWUpO1xuICAgIH0sXG4gICAgY2hhbmdlR2VuZXJhdGlvbjogZnVuY3Rpb24oZm9yY2VTcGxpdCkge1xuICAgICAgaWYgKGZvcmNlU3BsaXQpXG4gICAgICAgIHRoaXMuaGlzdG9yeS5sYXN0T3AgPSB0aGlzLmhpc3RvcnkubGFzdFNlbE9wID0gdGhpcy5oaXN0b3J5Lmxhc3RPcmlnaW4gPSBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5nZW5lcmF0aW9uO1xuICAgIH0sXG4gICAgaXNDbGVhbjogZnVuY3Rpb24gKGdlbikge1xuICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5nZW5lcmF0aW9uID09IChnZW4gfHwgdGhpcy5jbGVhbkdlbmVyYXRpb24pO1xuICAgIH0sXG5cbiAgICBnZXRIaXN0b3J5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7ZG9uZTogY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkuZG9uZSksXG4gICAgICAgICAgICAgIHVuZG9uZTogY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkudW5kb25lKX07XG4gICAgfSxcbiAgICBzZXRIaXN0b3J5OiBmdW5jdGlvbihoaXN0RGF0YSkge1xuICAgICAgdmFyIGhpc3QgPSB0aGlzLmhpc3RvcnkgPSBuZXcgSGlzdG9yeSh0aGlzLmhpc3RvcnkubWF4R2VuZXJhdGlvbik7XG4gICAgICBoaXN0LmRvbmUgPSBjb3B5SGlzdG9yeUFycmF5KGhpc3REYXRhLmRvbmUuc2xpY2UoMCksIG51bGwsIHRydWUpO1xuICAgICAgaGlzdC51bmRvbmUgPSBjb3B5SGlzdG9yeUFycmF5KGhpc3REYXRhLnVuZG9uZS5zbGljZSgwKSwgbnVsbCwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIGFkZExpbmVDbGFzczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGFuZGxlLCB3aGVyZSwgY2xzKSB7XG4gICAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLCBoYW5kbGUsIHdoZXJlID09IFwiZ3V0dGVyXCIgPyBcImd1dHRlclwiIDogXCJjbGFzc1wiLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBwcm9wID0gd2hlcmUgPT0gXCJ0ZXh0XCIgPyBcInRleHRDbGFzc1wiXG4gICAgICAgICAgICAgICAgIDogd2hlcmUgPT0gXCJiYWNrZ3JvdW5kXCIgPyBcImJnQ2xhc3NcIlxuICAgICAgICAgICAgICAgICA6IHdoZXJlID09IFwiZ3V0dGVyXCIgPyBcImd1dHRlckNsYXNzXCIgOiBcIndyYXBDbGFzc1wiO1xuICAgICAgICBpZiAoIWxpbmVbcHJvcF0pIGxpbmVbcHJvcF0gPSBjbHM7XG4gICAgICAgIGVsc2UgaWYgKGNsYXNzVGVzdChjbHMpLnRlc3QobGluZVtwcm9wXSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBsaW5lW3Byb3BdICs9IFwiIFwiICsgY2xzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pLFxuICAgIHJlbW92ZUxpbmVDbGFzczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGFuZGxlLCB3aGVyZSwgY2xzKSB7XG4gICAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLCBoYW5kbGUsIHdoZXJlID09IFwiZ3V0dGVyXCIgPyBcImd1dHRlclwiIDogXCJjbGFzc1wiLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBwcm9wID0gd2hlcmUgPT0gXCJ0ZXh0XCIgPyBcInRleHRDbGFzc1wiXG4gICAgICAgICAgICAgICAgIDogd2hlcmUgPT0gXCJiYWNrZ3JvdW5kXCIgPyBcImJnQ2xhc3NcIlxuICAgICAgICAgICAgICAgICA6IHdoZXJlID09IFwiZ3V0dGVyXCIgPyBcImd1dHRlckNsYXNzXCIgOiBcIndyYXBDbGFzc1wiO1xuICAgICAgICB2YXIgY3VyID0gbGluZVtwcm9wXTtcbiAgICAgICAgaWYgKCFjdXIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoY2xzID09IG51bGwpIGxpbmVbcHJvcF0gPSBudWxsO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBjdXIubWF0Y2goY2xhc3NUZXN0KGNscykpO1xuICAgICAgICAgIGlmICghZm91bmQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB2YXIgZW5kID0gZm91bmQuaW5kZXggKyBmb3VuZFswXS5sZW5ndGg7XG4gICAgICAgICAgbGluZVtwcm9wXSA9IGN1ci5zbGljZSgwLCBmb3VuZC5pbmRleCkgKyAoIWZvdW5kLmluZGV4IHx8IGVuZCA9PSBjdXIubGVuZ3RoID8gXCJcIiA6IFwiIFwiKSArIGN1ci5zbGljZShlbmQpIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9KSxcblxuICAgIGFkZExpbmVXaWRnZXQ6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhhbmRsZSwgbm9kZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGFkZExpbmVXaWRnZXQodGhpcywgaGFuZGxlLCBub2RlLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICByZW1vdmVMaW5lV2lkZ2V0OiBmdW5jdGlvbih3aWRnZXQpIHsgd2lkZ2V0LmNsZWFyKCk7IH0sXG5cbiAgICBtYXJrVGV4dDogZnVuY3Rpb24oZnJvbSwgdG8sIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBtYXJrVGV4dCh0aGlzLCBjbGlwUG9zKHRoaXMsIGZyb20pLCBjbGlwUG9zKHRoaXMsIHRvKSwgb3B0aW9ucywgb3B0aW9ucyAmJiBvcHRpb25zLnR5cGUgfHwgXCJyYW5nZVwiKTtcbiAgICB9LFxuICAgIHNldEJvb2ttYXJrOiBmdW5jdGlvbihwb3MsIG9wdGlvbnMpIHtcbiAgICAgIHZhciByZWFsT3B0cyA9IHtyZXBsYWNlZFdpdGg6IG9wdGlvbnMgJiYgKG9wdGlvbnMubm9kZVR5cGUgPT0gbnVsbCA/IG9wdGlvbnMud2lkZ2V0IDogb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0TGVmdDogb3B0aW9ucyAmJiBvcHRpb25zLmluc2VydExlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgY2xlYXJXaGVuRW1wdHk6IGZhbHNlLCBzaGFyZWQ6IG9wdGlvbnMgJiYgb3B0aW9ucy5zaGFyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTW91c2VFdmVudHM6IG9wdGlvbnMgJiYgb3B0aW9ucy5oYW5kbGVNb3VzZUV2ZW50c307XG4gICAgICBwb3MgPSBjbGlwUG9zKHRoaXMsIHBvcyk7XG4gICAgICByZXR1cm4gbWFya1RleHQodGhpcywgcG9zLCBwb3MsIHJlYWxPcHRzLCBcImJvb2ttYXJrXCIpO1xuICAgIH0sXG4gICAgZmluZE1hcmtzQXQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgcG9zID0gY2xpcFBvcyh0aGlzLCBwb3MpO1xuICAgICAgdmFyIG1hcmtlcnMgPSBbXSwgc3BhbnMgPSBnZXRMaW5lKHRoaXMsIHBvcy5saW5lKS5tYXJrZWRTcGFucztcbiAgICAgIGlmIChzcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldO1xuICAgICAgICBpZiAoKHNwYW4uZnJvbSA9PSBudWxsIHx8IHNwYW4uZnJvbSA8PSBwb3MuY2gpICYmXG4gICAgICAgICAgICAoc3Bhbi50byA9PSBudWxsIHx8IHNwYW4udG8gPj0gcG9zLmNoKSlcbiAgICAgICAgICBtYXJrZXJzLnB1c2goc3Bhbi5tYXJrZXIucGFyZW50IHx8IHNwYW4ubWFya2VyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXJrZXJzO1xuICAgIH0sXG4gICAgZmluZE1hcmtzOiBmdW5jdGlvbihmcm9tLCB0bywgZmlsdGVyKSB7XG4gICAgICBmcm9tID0gY2xpcFBvcyh0aGlzLCBmcm9tKTsgdG8gPSBjbGlwUG9zKHRoaXMsIHRvKTtcbiAgICAgIHZhciBmb3VuZCA9IFtdLCBsaW5lTm8gPSBmcm9tLmxpbmU7XG4gICAgICB0aGlzLml0ZXIoZnJvbS5saW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zO1xuICAgICAgICBpZiAoc3BhbnMpIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldO1xuICAgICAgICAgIGlmICghKHNwYW4udG8gIT0gbnVsbCAmJiBsaW5lTm8gPT0gZnJvbS5saW5lICYmIGZyb20uY2ggPj0gc3Bhbi50byB8fFxuICAgICAgICAgICAgICAgIHNwYW4uZnJvbSA9PSBudWxsICYmIGxpbmVObyAhPSBmcm9tLmxpbmUgfHxcbiAgICAgICAgICAgICAgICBzcGFuLmZyb20gIT0gbnVsbCAmJiBsaW5lTm8gPT0gdG8ubGluZSAmJiBzcGFuLmZyb20gPj0gdG8uY2gpICYmXG4gICAgICAgICAgICAgICghZmlsdGVyIHx8IGZpbHRlcihzcGFuLm1hcmtlcikpKVxuICAgICAgICAgICAgZm91bmQucHVzaChzcGFuLm1hcmtlci5wYXJlbnQgfHwgc3Bhbi5tYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgICsrbGluZU5vO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZm91bmQ7XG4gICAgfSxcbiAgICBnZXRBbGxNYXJrczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWFya2VycyA9IFtdO1xuICAgICAgdGhpcy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgdmFyIHNwcyA9IGxpbmUubWFya2VkU3BhbnM7XG4gICAgICAgIGlmIChzcHMpIGZvciAodmFyIGkgPSAwOyBpIDwgc3BzLmxlbmd0aDsgKytpKVxuICAgICAgICAgIGlmIChzcHNbaV0uZnJvbSAhPSBudWxsKSBtYXJrZXJzLnB1c2goc3BzW2ldLm1hcmtlcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtYXJrZXJzO1xuICAgIH0sXG5cbiAgICBwb3NGcm9tSW5kZXg6IGZ1bmN0aW9uKG9mZikge1xuICAgICAgdmFyIGNoLCBsaW5lTm8gPSB0aGlzLmZpcnN0LCBzZXBTaXplID0gdGhpcy5saW5lU2VwYXJhdG9yKCkubGVuZ3RoO1xuICAgICAgdGhpcy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgdmFyIHN6ID0gbGluZS50ZXh0Lmxlbmd0aCArIHNlcFNpemU7XG4gICAgICAgIGlmIChzeiA+IG9mZikgeyBjaCA9IG9mZjsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgb2ZmIC09IHN6O1xuICAgICAgICArK2xpbmVObztcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNsaXBQb3ModGhpcywgUG9zKGxpbmVObywgY2gpKTtcbiAgICB9LFxuICAgIGluZGV4RnJvbVBvczogZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgY29vcmRzID0gY2xpcFBvcyh0aGlzLCBjb29yZHMpO1xuICAgICAgdmFyIGluZGV4ID0gY29vcmRzLmNoO1xuICAgICAgaWYgKGNvb3Jkcy5saW5lIDwgdGhpcy5maXJzdCB8fCBjb29yZHMuY2ggPCAwKSByZXR1cm4gMDtcbiAgICAgIHZhciBzZXBTaXplID0gdGhpcy5saW5lU2VwYXJhdG9yKCkubGVuZ3RoO1xuICAgICAgdGhpcy5pdGVyKHRoaXMuZmlyc3QsIGNvb3Jkcy5saW5lLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICBpbmRleCArPSBsaW5lLnRleHQubGVuZ3RoICsgc2VwU2l6ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0sXG5cbiAgICBjb3B5OiBmdW5jdGlvbihjb3B5SGlzdG9yeSkge1xuICAgICAgdmFyIGRvYyA9IG5ldyBEb2MoZ2V0TGluZXModGhpcywgdGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVPcHRpb24sIHRoaXMuZmlyc3QsIHRoaXMubGluZVNlcCk7XG4gICAgICBkb2Muc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3A7IGRvYy5zY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxMZWZ0O1xuICAgICAgZG9jLnNlbCA9IHRoaXMuc2VsO1xuICAgICAgZG9jLmV4dGVuZCA9IGZhbHNlO1xuICAgICAgaWYgKGNvcHlIaXN0b3J5KSB7XG4gICAgICAgIGRvYy5oaXN0b3J5LnVuZG9EZXB0aCA9IHRoaXMuaGlzdG9yeS51bmRvRGVwdGg7XG4gICAgICAgIGRvYy5zZXRIaXN0b3J5KHRoaXMuZ2V0SGlzdG9yeSgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2M7XG4gICAgfSxcblxuICAgIGxpbmtlZERvYzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gICAgICB2YXIgZnJvbSA9IHRoaXMuZmlyc3QsIHRvID0gdGhpcy5maXJzdCArIHRoaXMuc2l6ZTtcbiAgICAgIGlmIChvcHRpb25zLmZyb20gIT0gbnVsbCAmJiBvcHRpb25zLmZyb20gPiBmcm9tKSBmcm9tID0gb3B0aW9ucy5mcm9tO1xuICAgICAgaWYgKG9wdGlvbnMudG8gIT0gbnVsbCAmJiBvcHRpb25zLnRvIDwgdG8pIHRvID0gb3B0aW9ucy50bztcbiAgICAgIHZhciBjb3B5ID0gbmV3IERvYyhnZXRMaW5lcyh0aGlzLCBmcm9tLCB0byksIG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGVPcHRpb24sIGZyb20sIHRoaXMubGluZVNlcCk7XG4gICAgICBpZiAob3B0aW9ucy5zaGFyZWRIaXN0KSBjb3B5Lmhpc3RvcnkgPSB0aGlzLmhpc3Rvcnk7XG4gICAgICAodGhpcy5saW5rZWQgfHwgKHRoaXMubGlua2VkID0gW10pKS5wdXNoKHtkb2M6IGNvcHksIHNoYXJlZEhpc3Q6IG9wdGlvbnMuc2hhcmVkSGlzdH0pO1xuICAgICAgY29weS5saW5rZWQgPSBbe2RvYzogdGhpcywgaXNQYXJlbnQ6IHRydWUsIHNoYXJlZEhpc3Q6IG9wdGlvbnMuc2hhcmVkSGlzdH1dO1xuICAgICAgY29weVNoYXJlZE1hcmtlcnMoY29weSwgZmluZFNoYXJlZE1hcmtlcnModGhpcykpO1xuICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfSxcbiAgICB1bmxpbmtEb2M6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBDb2RlTWlycm9yKSBvdGhlciA9IG90aGVyLmRvYztcbiAgICAgIGlmICh0aGlzLmxpbmtlZCkgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmtlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgbGluayA9IHRoaXMubGlua2VkW2ldO1xuICAgICAgICBpZiAobGluay5kb2MgIT0gb3RoZXIpIGNvbnRpbnVlO1xuICAgICAgICB0aGlzLmxpbmtlZC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIG90aGVyLnVubGlua0RvYyh0aGlzKTtcbiAgICAgICAgZGV0YWNoU2hhcmVkTWFya2VycyhmaW5kU2hhcmVkTWFya2Vycyh0aGlzKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gSWYgdGhlIGhpc3RvcmllcyB3ZXJlIHNoYXJlZCwgc3BsaXQgdGhlbSBhZ2FpblxuICAgICAgaWYgKG90aGVyLmhpc3RvcnkgPT0gdGhpcy5oaXN0b3J5KSB7XG4gICAgICAgIHZhciBzcGxpdElkcyA9IFtvdGhlci5pZF07XG4gICAgICAgIGxpbmtlZERvY3Mob3RoZXIsIGZ1bmN0aW9uKGRvYykge3NwbGl0SWRzLnB1c2goZG9jLmlkKTt9LCB0cnVlKTtcbiAgICAgICAgb3RoZXIuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KG51bGwpO1xuICAgICAgICBvdGhlci5oaXN0b3J5LmRvbmUgPSBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS5kb25lLCBzcGxpdElkcyk7XG4gICAgICAgIG90aGVyLmhpc3RvcnkudW5kb25lID0gY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkudW5kb25lLCBzcGxpdElkcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpdGVyTGlua2VkRG9jczogZnVuY3Rpb24oZikge2xpbmtlZERvY3ModGhpcywgZik7fSxcblxuICAgIGdldE1vZGU6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLm1vZGU7fSxcbiAgICBnZXRFZGl0b3I6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmNtO30sXG5cbiAgICBzcGxpdExpbmVzOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgIGlmICh0aGlzLmxpbmVTZXApIHJldHVybiBzdHIuc3BsaXQodGhpcy5saW5lU2VwKTtcbiAgICAgIHJldHVybiBzcGxpdExpbmVzQXV0byhzdHIpO1xuICAgIH0sXG4gICAgbGluZVNlcGFyYXRvcjogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmxpbmVTZXAgfHwgXCJcXG5cIjsgfVxuICB9KTtcblxuICAvLyBQdWJsaWMgYWxpYXMuXG4gIERvYy5wcm90b3R5cGUuZWFjaExpbmUgPSBEb2MucHJvdG90eXBlLml0ZXI7XG5cbiAgLy8gU2V0IHVwIG1ldGhvZHMgb24gQ29kZU1pcnJvcidzIHByb3RvdHlwZSB0byByZWRpcmVjdCB0byB0aGUgZWRpdG9yJ3MgZG9jdW1lbnQuXG4gIHZhciBkb250RGVsZWdhdGUgPSBcIml0ZXIgaW5zZXJ0IHJlbW92ZSBjb3B5IGdldEVkaXRvciBjb25zdHJ1Y3RvclwiLnNwbGl0KFwiIFwiKTtcbiAgZm9yICh2YXIgcHJvcCBpbiBEb2MucHJvdG90eXBlKSBpZiAoRG9jLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBpbmRleE9mKGRvbnREZWxlZ2F0ZSwgcHJvcCkgPCAwKVxuICAgIENvZGVNaXJyb3IucHJvdG90eXBlW3Byb3BdID0gKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge3JldHVybiBtZXRob2QuYXBwbHkodGhpcy5kb2MsIGFyZ3VtZW50cyk7fTtcbiAgICB9KShEb2MucHJvdG90eXBlW3Byb3BdKTtcblxuICBldmVudE1peGluKERvYyk7XG5cbiAgLy8gQ2FsbCBmIGZvciBhbGwgbGlua2VkIGRvY3VtZW50cy5cbiAgZnVuY3Rpb24gbGlua2VkRG9jcyhkb2MsIGYsIHNoYXJlZEhpc3RPbmx5KSB7XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlKGRvYywgc2tpcCwgc2hhcmVkSGlzdCkge1xuICAgICAgaWYgKGRvYy5saW5rZWQpIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLmxpbmtlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcmVsID0gZG9jLmxpbmtlZFtpXTtcbiAgICAgICAgaWYgKHJlbC5kb2MgPT0gc2tpcCkgY29udGludWU7XG4gICAgICAgIHZhciBzaGFyZWQgPSBzaGFyZWRIaXN0ICYmIHJlbC5zaGFyZWRIaXN0O1xuICAgICAgICBpZiAoc2hhcmVkSGlzdE9ubHkgJiYgIXNoYXJlZCkgY29udGludWU7XG4gICAgICAgIGYocmVsLmRvYywgc2hhcmVkKTtcbiAgICAgICAgcHJvcGFnYXRlKHJlbC5kb2MsIGRvYywgc2hhcmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvcGFnYXRlKGRvYywgbnVsbCwgdHJ1ZSk7XG4gIH1cblxuICAvLyBBdHRhY2ggYSBkb2N1bWVudCB0byBhbiBlZGl0b3IuXG4gIGZ1bmN0aW9uIGF0dGFjaERvYyhjbSwgZG9jKSB7XG4gICAgaWYgKGRvYy5jbSkgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBkb2N1bWVudCBpcyBhbHJlYWR5IGluIHVzZS5cIik7XG4gICAgY20uZG9jID0gZG9jO1xuICAgIGRvYy5jbSA9IGNtO1xuICAgIGVzdGltYXRlTGluZUhlaWdodHMoY20pO1xuICAgIGxvYWRNb2RlKGNtKTtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSBmaW5kTWF4TGluZShjbSk7XG4gICAgY20ub3B0aW9ucy5tb2RlID0gZG9jLm1vZGVPcHRpb247XG4gICAgcmVnQ2hhbmdlKGNtKTtcbiAgfVxuXG4gIC8vIExJTkUgVVRJTElUSUVTXG5cbiAgLy8gRmluZCB0aGUgbGluZSBvYmplY3QgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gbGluZSBudW1iZXIuXG4gIGZ1bmN0aW9uIGdldExpbmUoZG9jLCBuKSB7XG4gICAgbiAtPSBkb2MuZmlyc3Q7XG4gICAgaWYgKG4gPCAwIHx8IG4gPj0gZG9jLnNpemUpIHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIGxpbmUgXCIgKyAobiArIGRvYy5maXJzdCkgKyBcIiBpbiB0aGUgZG9jdW1lbnQuXCIpO1xuICAgIGZvciAodmFyIGNodW5rID0gZG9jOyAhY2h1bmsubGluZXM7KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDs7ICsraSkge1xuICAgICAgICB2YXIgY2hpbGQgPSBjaHVuay5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgICAgaWYgKG4gPCBzeikgeyBjaHVuayA9IGNoaWxkOyBicmVhazsgfVxuICAgICAgICBuIC09IHN6O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2h1bmsubGluZXNbbl07XG4gIH1cblxuICAvLyBHZXQgdGhlIHBhcnQgb2YgYSBkb2N1bWVudCBiZXR3ZWVuIHR3byBwb3NpdGlvbnMsIGFzIGFuIGFycmF5IG9mXG4gIC8vIHN0cmluZ3MuXG4gIGZ1bmN0aW9uIGdldEJldHdlZW4oZG9jLCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIG91dCA9IFtdLCBuID0gc3RhcnQubGluZTtcbiAgICBkb2MuaXRlcihzdGFydC5saW5lLCBlbmQubGluZSArIDEsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciB0ZXh0ID0gbGluZS50ZXh0O1xuICAgICAgaWYgKG4gPT0gZW5kLmxpbmUpIHRleHQgPSB0ZXh0LnNsaWNlKDAsIGVuZC5jaCk7XG4gICAgICBpZiAobiA9PSBzdGFydC5saW5lKSB0ZXh0ID0gdGV4dC5zbGljZShzdGFydC5jaCk7XG4gICAgICBvdXQucHVzaCh0ZXh0KTtcbiAgICAgICsrbjtcbiAgICB9KTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIC8vIEdldCB0aGUgbGluZXMgYmV0d2VlbiBmcm9tIGFuZCB0bywgYXMgYXJyYXkgb2Ygc3RyaW5ncy5cbiAgZnVuY3Rpb24gZ2V0TGluZXMoZG9jLCBmcm9tLCB0bykge1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBkb2MuaXRlcihmcm9tLCB0bywgZnVuY3Rpb24obGluZSkgeyBvdXQucHVzaChsaW5lLnRleHQpOyB9KTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgLy8gVXBkYXRlIHRoZSBoZWlnaHQgb2YgYSBsaW5lLCBwcm9wYWdhdGluZyB0aGUgaGVpZ2h0IGNoYW5nZVxuICAvLyB1cHdhcmRzIHRvIHBhcmVudCBub2Rlcy5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUhlaWdodChsaW5lLCBoZWlnaHQpIHtcbiAgICB2YXIgZGlmZiA9IGhlaWdodCAtIGxpbmUuaGVpZ2h0O1xuICAgIGlmIChkaWZmKSBmb3IgKHZhciBuID0gbGluZTsgbjsgbiA9IG4ucGFyZW50KSBuLmhlaWdodCArPSBkaWZmO1xuICB9XG5cbiAgLy8gR2l2ZW4gYSBsaW5lIG9iamVjdCwgZmluZCBpdHMgbGluZSBudW1iZXIgYnkgd2Fsa2luZyB1cCB0aHJvdWdoXG4gIC8vIGl0cyBwYXJlbnQgbGlua3MuXG4gIGZ1bmN0aW9uIGxpbmVObyhsaW5lKSB7XG4gICAgaWYgKGxpbmUucGFyZW50ID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIHZhciBjdXIgPSBsaW5lLnBhcmVudCwgbm8gPSBpbmRleE9mKGN1ci5saW5lcywgbGluZSk7XG4gICAgZm9yICh2YXIgY2h1bmsgPSBjdXIucGFyZW50OyBjaHVuazsgY3VyID0gY2h1bmssIGNodW5rID0gY2h1bmsucGFyZW50KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDs7ICsraSkge1xuICAgICAgICBpZiAoY2h1bmsuY2hpbGRyZW5baV0gPT0gY3VyKSBicmVhaztcbiAgICAgICAgbm8gKz0gY2h1bmsuY2hpbGRyZW5baV0uY2h1bmtTaXplKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBubyArIGN1ci5maXJzdDtcbiAgfVxuXG4gIC8vIEZpbmQgdGhlIGxpbmUgYXQgdGhlIGdpdmVuIHZlcnRpY2FsIHBvc2l0aW9uLCB1c2luZyB0aGUgaGVpZ2h0XG4gIC8vIGluZm9ybWF0aW9uIGluIHRoZSBkb2N1bWVudCB0cmVlLlxuICBmdW5jdGlvbiBsaW5lQXRIZWlnaHQoY2h1bmssIGgpIHtcbiAgICB2YXIgbiA9IGNodW5rLmZpcnN0O1xuICAgIG91dGVyOiBkbyB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNodW5rLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNodW5rLmNoaWxkcmVuW2ldLCBjaCA9IGNoaWxkLmhlaWdodDtcbiAgICAgICAgaWYgKGggPCBjaCkgeyBjaHVuayA9IGNoaWxkOyBjb250aW51ZSBvdXRlcjsgfVxuICAgICAgICBoIC09IGNoO1xuICAgICAgICBuICs9IGNoaWxkLmNodW5rU2l6ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfSB3aGlsZSAoIWNodW5rLmxpbmVzKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNodW5rLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IGNodW5rLmxpbmVzW2ldLCBsaCA9IGxpbmUuaGVpZ2h0O1xuICAgICAgaWYgKGggPCBsaCkgYnJlYWs7XG4gICAgICBoIC09IGxoO1xuICAgIH1cbiAgICByZXR1cm4gbiArIGk7XG4gIH1cblxuXG4gIC8vIEZpbmQgdGhlIGhlaWdodCBhYm92ZSB0aGUgZ2l2ZW4gbGluZS5cbiAgZnVuY3Rpb24gaGVpZ2h0QXRMaW5lKGxpbmVPYmopIHtcbiAgICBsaW5lT2JqID0gdmlzdWFsTGluZShsaW5lT2JqKTtcblxuICAgIHZhciBoID0gMCwgY2h1bmsgPSBsaW5lT2JqLnBhcmVudDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNodW5rLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IGNodW5rLmxpbmVzW2ldO1xuICAgICAgaWYgKGxpbmUgPT0gbGluZU9iaikgYnJlYWs7XG4gICAgICBlbHNlIGggKz0gbGluZS5oZWlnaHQ7XG4gICAgfVxuICAgIGZvciAodmFyIHAgPSBjaHVuay5wYXJlbnQ7IHA7IGNodW5rID0gcCwgcCA9IGNodW5rLnBhcmVudCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjdXIgPSBwLmNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoY3VyID09IGNodW5rKSBicmVhaztcbiAgICAgICAgZWxzZSBoICs9IGN1ci5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBiaWRpIG9yZGVyaW5nIGZvciB0aGUgZ2l2ZW4gbGluZSAoYW5kIGNhY2hlIGl0KS4gUmV0dXJuc1xuICAvLyBmYWxzZSBmb3IgbGluZXMgdGhhdCBhcmUgZnVsbHkgbGVmdC10by1yaWdodCwgYW5kIGFuIGFycmF5IG9mXG4gIC8vIEJpZGlTcGFuIG9iamVjdHMgb3RoZXJ3aXNlLlxuICBmdW5jdGlvbiBnZXRPcmRlcihsaW5lKSB7XG4gICAgdmFyIG9yZGVyID0gbGluZS5vcmRlcjtcbiAgICBpZiAob3JkZXIgPT0gbnVsbCkgb3JkZXIgPSBsaW5lLm9yZGVyID0gYmlkaU9yZGVyaW5nKGxpbmUudGV4dCk7XG4gICAgcmV0dXJuIG9yZGVyO1xuICB9XG5cbiAgLy8gSElTVE9SWVxuXG4gIGZ1bmN0aW9uIEhpc3Rvcnkoc3RhcnRHZW4pIHtcbiAgICAvLyBBcnJheXMgb2YgY2hhbmdlIGV2ZW50cyBhbmQgc2VsZWN0aW9ucy4gRG9pbmcgc29tZXRoaW5nIGFkZHMgYW5cbiAgICAvLyBldmVudCB0byBkb25lIGFuZCBjbGVhcnMgdW5kby4gVW5kb2luZyBtb3ZlcyBldmVudHMgZnJvbSBkb25lXG4gICAgLy8gdG8gdW5kb25lLCByZWRvaW5nIG1vdmVzIHRoZW0gaW4gdGhlIG90aGVyIGRpcmVjdGlvbi5cbiAgICB0aGlzLmRvbmUgPSBbXTsgdGhpcy51bmRvbmUgPSBbXTtcbiAgICB0aGlzLnVuZG9EZXB0aCA9IEluZmluaXR5O1xuICAgIC8vIFVzZWQgdG8gdHJhY2sgd2hlbiBjaGFuZ2VzIGNhbiBiZSBtZXJnZWQgaW50byBhIHNpbmdsZSB1bmRvXG4gICAgLy8gZXZlbnRcbiAgICB0aGlzLmxhc3RNb2RUaW1lID0gdGhpcy5sYXN0U2VsVGltZSA9IDA7XG4gICAgdGhpcy5sYXN0T3AgPSB0aGlzLmxhc3RTZWxPcCA9IG51bGw7XG4gICAgdGhpcy5sYXN0T3JpZ2luID0gdGhpcy5sYXN0U2VsT3JpZ2luID0gbnVsbDtcbiAgICAvLyBVc2VkIGJ5IHRoZSBpc0NsZWFuKCkgbWV0aG9kXG4gICAgdGhpcy5nZW5lcmF0aW9uID0gdGhpcy5tYXhHZW5lcmF0aW9uID0gc3RhcnRHZW4gfHwgMTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIGhpc3RvcnkgY2hhbmdlIGV2ZW50IGZyb20gYW4gdXBkYXRlRG9jLXN0eWxlIGNoYW5nZVxuICAvLyBvYmplY3QuXG4gIGZ1bmN0aW9uIGhpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKSB7XG4gICAgdmFyIGhpc3RDaGFuZ2UgPSB7ZnJvbTogY29weVBvcyhjaGFuZ2UuZnJvbSksIHRvOiBjaGFuZ2VFbmQoY2hhbmdlKSwgdGV4dDogZ2V0QmV0d2Vlbihkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pfTtcbiAgICBhdHRhY2hMb2NhbFNwYW5zKGRvYywgaGlzdENoYW5nZSwgY2hhbmdlLmZyb20ubGluZSwgY2hhbmdlLnRvLmxpbmUgKyAxKTtcbiAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24oZG9jKSB7YXR0YWNoTG9jYWxTcGFucyhkb2MsIGhpc3RDaGFuZ2UsIGNoYW5nZS5mcm9tLmxpbmUsIGNoYW5nZS50by5saW5lICsgMSk7fSwgdHJ1ZSk7XG4gICAgcmV0dXJuIGhpc3RDaGFuZ2U7XG4gIH1cblxuICAvLyBQb3AgYWxsIHNlbGVjdGlvbiBldmVudHMgb2ZmIHRoZSBlbmQgb2YgYSBoaXN0b3J5IGFycmF5LiBTdG9wIGF0XG4gIC8vIGEgY2hhbmdlIGV2ZW50LlxuICBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbkV2ZW50cyhhcnJheSkge1xuICAgIHdoaWxlIChhcnJheS5sZW5ndGgpIHtcbiAgICAgIHZhciBsYXN0ID0gbHN0KGFycmF5KTtcbiAgICAgIGlmIChsYXN0LnJhbmdlcykgYXJyYXkucG9wKCk7XG4gICAgICBlbHNlIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgdGhlIHRvcCBjaGFuZ2UgZXZlbnQgaW4gdGhlIGhpc3RvcnkuIFBvcCBvZmYgc2VsZWN0aW9uXG4gIC8vIGV2ZW50cyB0aGF0IGFyZSBpbiB0aGUgd2F5LlxuICBmdW5jdGlvbiBsYXN0Q2hhbmdlRXZlbnQoaGlzdCwgZm9yY2UpIHtcbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgIGNsZWFyU2VsZWN0aW9uRXZlbnRzKGhpc3QuZG9uZSk7XG4gICAgICByZXR1cm4gbHN0KGhpc3QuZG9uZSk7XG4gICAgfSBlbHNlIGlmIChoaXN0LmRvbmUubGVuZ3RoICYmICFsc3QoaGlzdC5kb25lKS5yYW5nZXMpIHtcbiAgICAgIHJldHVybiBsc3QoaGlzdC5kb25lKTtcbiAgICB9IGVsc2UgaWYgKGhpc3QuZG9uZS5sZW5ndGggPiAxICYmICFoaXN0LmRvbmVbaGlzdC5kb25lLmxlbmd0aCAtIDJdLnJhbmdlcykge1xuICAgICAgaGlzdC5kb25lLnBvcCgpO1xuICAgICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIGEgY2hhbmdlIGluIHRoZSBoaXN0b3J5LiBNZXJnZXMgY2hhbmdlcyB0aGF0IGFyZSB3aXRoaW5cbiAgLy8gYSBzaW5nbGUgb3BlcmF0aW9uLCBvcmUgYXJlIGNsb3NlIHRvZ2V0aGVyIHdpdGggYW4gb3JpZ2luIHRoYXRcbiAgLy8gYWxsb3dzIG1lcmdpbmcgKHN0YXJ0aW5nIHdpdGggXCIrXCIpIGludG8gYSBzaW5nbGUgZXZlbnQuXG4gIGZ1bmN0aW9uIGFkZENoYW5nZVRvSGlzdG9yeShkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIG9wSWQpIHtcbiAgICB2YXIgaGlzdCA9IGRvYy5oaXN0b3J5O1xuICAgIGhpc3QudW5kb25lLmxlbmd0aCA9IDA7XG4gICAgdmFyIHRpbWUgPSArbmV3IERhdGUsIGN1cjtcblxuICAgIGlmICgoaGlzdC5sYXN0T3AgPT0gb3BJZCB8fFxuICAgICAgICAgaGlzdC5sYXN0T3JpZ2luID09IGNoYW5nZS5vcmlnaW4gJiYgY2hhbmdlLm9yaWdpbiAmJlxuICAgICAgICAgKChjaGFuZ2Uub3JpZ2luLmNoYXJBdCgwKSA9PSBcIitcIiAmJiBkb2MuY20gJiYgaGlzdC5sYXN0TW9kVGltZSA+IHRpbWUgLSBkb2MuY20ub3B0aW9ucy5oaXN0b3J5RXZlbnREZWxheSkgfHxcbiAgICAgICAgICBjaGFuZ2Uub3JpZ2luLmNoYXJBdCgwKSA9PSBcIipcIikpICYmXG4gICAgICAgIChjdXIgPSBsYXN0Q2hhbmdlRXZlbnQoaGlzdCwgaGlzdC5sYXN0T3AgPT0gb3BJZCkpKSB7XG4gICAgICAvLyBNZXJnZSB0aGlzIGNoYW5nZSBpbnRvIHRoZSBsYXN0IGV2ZW50XG4gICAgICB2YXIgbGFzdCA9IGxzdChjdXIuY2hhbmdlcyk7XG4gICAgICBpZiAoY21wKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID09IDAgJiYgY21wKGNoYW5nZS5mcm9tLCBsYXN0LnRvKSA9PSAwKSB7XG4gICAgICAgIC8vIE9wdGltaXplZCBjYXNlIGZvciBzaW1wbGUgaW5zZXJ0aW9uIC0tIGRvbid0IHdhbnQgdG8gYWRkXG4gICAgICAgIC8vIG5ldyBjaGFuZ2VzZXRzIGZvciBldmVyeSBjaGFyYWN0ZXIgdHlwZWRcbiAgICAgICAgbGFzdC50byA9IGNoYW5nZUVuZChjaGFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWRkIG5ldyBzdWItZXZlbnRcbiAgICAgICAgY3VyLmNoYW5nZXMucHVzaChoaXN0b3J5Q2hhbmdlRnJvbUNoYW5nZShkb2MsIGNoYW5nZSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDYW4gbm90IGJlIG1lcmdlZCwgc3RhcnQgYSBuZXcgZXZlbnQuXG4gICAgICB2YXIgYmVmb3JlID0gbHN0KGhpc3QuZG9uZSk7XG4gICAgICBpZiAoIWJlZm9yZSB8fCAhYmVmb3JlLnJhbmdlcylcbiAgICAgICAgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShkb2Muc2VsLCBoaXN0LmRvbmUpO1xuICAgICAgY3VyID0ge2NoYW5nZXM6IFtoaXN0b3J5Q2hhbmdlRnJvbUNoYW5nZShkb2MsIGNoYW5nZSldLFxuICAgICAgICAgICAgIGdlbmVyYXRpb246IGhpc3QuZ2VuZXJhdGlvbn07XG4gICAgICBoaXN0LmRvbmUucHVzaChjdXIpO1xuICAgICAgd2hpbGUgKGhpc3QuZG9uZS5sZW5ndGggPiBoaXN0LnVuZG9EZXB0aCkge1xuICAgICAgICBoaXN0LmRvbmUuc2hpZnQoKTtcbiAgICAgICAgaWYgKCFoaXN0LmRvbmVbMF0ucmFuZ2VzKSBoaXN0LmRvbmUuc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaGlzdC5kb25lLnB1c2goc2VsQWZ0ZXIpO1xuICAgIGhpc3QuZ2VuZXJhdGlvbiA9ICsraGlzdC5tYXhHZW5lcmF0aW9uO1xuICAgIGhpc3QubGFzdE1vZFRpbWUgPSBoaXN0Lmxhc3RTZWxUaW1lID0gdGltZTtcbiAgICBoaXN0Lmxhc3RPcCA9IGhpc3QubGFzdFNlbE9wID0gb3BJZDtcbiAgICBoaXN0Lmxhc3RPcmlnaW4gPSBoaXN0Lmxhc3RTZWxPcmlnaW4gPSBjaGFuZ2Uub3JpZ2luO1xuXG4gICAgaWYgKCFsYXN0KSBzaWduYWwoZG9jLCBcImhpc3RvcnlBZGRlZFwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdGlvbkV2ZW50Q2FuQmVNZXJnZWQoZG9jLCBvcmlnaW4sIHByZXYsIHNlbCkge1xuICAgIHZhciBjaCA9IG9yaWdpbi5jaGFyQXQoMCk7XG4gICAgcmV0dXJuIGNoID09IFwiKlwiIHx8XG4gICAgICBjaCA9PSBcIitcIiAmJlxuICAgICAgcHJldi5yYW5nZXMubGVuZ3RoID09IHNlbC5yYW5nZXMubGVuZ3RoICYmXG4gICAgICBwcmV2LnNvbWV0aGluZ1NlbGVjdGVkKCkgPT0gc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCkgJiZcbiAgICAgIG5ldyBEYXRlIC0gZG9jLmhpc3RvcnkubGFzdFNlbFRpbWUgPD0gKGRvYy5jbSA/IGRvYy5jbS5vcHRpb25zLmhpc3RvcnlFdmVudERlbGF5IDogNTAwKTtcbiAgfVxuXG4gIC8vIENhbGxlZCB3aGVuZXZlciB0aGUgc2VsZWN0aW9uIGNoYW5nZXMsIHNldHMgdGhlIG5ldyBzZWxlY3Rpb24gYXNcbiAgLy8gdGhlIHBlbmRpbmcgc2VsZWN0aW9uIGluIHRoZSBoaXN0b3J5LCBhbmQgcHVzaGVzIHRoZSBvbGQgcGVuZGluZ1xuICAvLyBzZWxlY3Rpb24gaW50byB0aGUgJ2RvbmUnIGFycmF5IHdoZW4gaXQgd2FzIHNpZ25pZmljYW50bHlcbiAgLy8gZGlmZmVyZW50IChpbiBudW1iZXIgb2Ygc2VsZWN0ZWQgcmFuZ2VzLCBlbXB0aW5lc3MsIG9yIHRpbWUpLlxuICBmdW5jdGlvbiBhZGRTZWxlY3Rpb25Ub0hpc3RvcnkoZG9jLCBzZWwsIG9wSWQsIG9wdGlvbnMpIHtcbiAgICB2YXIgaGlzdCA9IGRvYy5oaXN0b3J5LCBvcmlnaW4gPSBvcHRpb25zICYmIG9wdGlvbnMub3JpZ2luO1xuXG4gICAgLy8gQSBuZXcgZXZlbnQgaXMgc3RhcnRlZCB3aGVuIHRoZSBwcmV2aW91cyBvcmlnaW4gZG9lcyBub3QgbWF0Y2hcbiAgICAvLyB0aGUgY3VycmVudCwgb3IgdGhlIG9yaWdpbnMgZG9uJ3QgYWxsb3cgbWF0Y2hpbmcuIE9yaWdpbnNcbiAgICAvLyBzdGFydGluZyB3aXRoICogYXJlIGFsd2F5cyBtZXJnZWQsIHRob3NlIHN0YXJ0aW5nIHdpdGggKyBhcmVcbiAgICAvLyBtZXJnZWQgd2hlbiBzaW1pbGFyIGFuZCBjbG9zZSB0b2dldGhlciBpbiB0aW1lLlxuICAgIGlmIChvcElkID09IGhpc3QubGFzdFNlbE9wIHx8XG4gICAgICAgIChvcmlnaW4gJiYgaGlzdC5sYXN0U2VsT3JpZ2luID09IG9yaWdpbiAmJlxuICAgICAgICAgKGhpc3QubGFzdE1vZFRpbWUgPT0gaGlzdC5sYXN0U2VsVGltZSAmJiBoaXN0Lmxhc3RPcmlnaW4gPT0gb3JpZ2luIHx8XG4gICAgICAgICAgc2VsZWN0aW9uRXZlbnRDYW5CZU1lcmdlZChkb2MsIG9yaWdpbiwgbHN0KGhpc3QuZG9uZSksIHNlbCkpKSlcbiAgICAgIGhpc3QuZG9uZVtoaXN0LmRvbmUubGVuZ3RoIC0gMV0gPSBzZWw7XG4gICAgZWxzZVxuICAgICAgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShzZWwsIGhpc3QuZG9uZSk7XG5cbiAgICBoaXN0Lmxhc3RTZWxUaW1lID0gK25ldyBEYXRlO1xuICAgIGhpc3QubGFzdFNlbE9yaWdpbiA9IG9yaWdpbjtcbiAgICBoaXN0Lmxhc3RTZWxPcCA9IG9wSWQ7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jbGVhclJlZG8gIT09IGZhbHNlKVxuICAgICAgY2xlYXJTZWxlY3Rpb25FdmVudHMoaGlzdC51bmRvbmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaFNlbGVjdGlvblRvSGlzdG9yeShzZWwsIGRlc3QpIHtcbiAgICB2YXIgdG9wID0gbHN0KGRlc3QpO1xuICAgIGlmICghKHRvcCAmJiB0b3AucmFuZ2VzICYmIHRvcC5lcXVhbHMoc2VsKSkpXG4gICAgICBkZXN0LnB1c2goc2VsKTtcbiAgfVxuXG4gIC8vIFVzZWQgdG8gc3RvcmUgbWFya2VkIHNwYW4gaW5mb3JtYXRpb24gaW4gdGhlIGhpc3RvcnkuXG4gIGZ1bmN0aW9uIGF0dGFjaExvY2FsU3BhbnMoZG9jLCBjaGFuZ2UsIGZyb20sIHRvKSB7XG4gICAgdmFyIGV4aXN0aW5nID0gY2hhbmdlW1wic3BhbnNfXCIgKyBkb2MuaWRdLCBuID0gMDtcbiAgICBkb2MuaXRlcihNYXRoLm1heChkb2MuZmlyc3QsIGZyb20pLCBNYXRoLm1pbihkb2MuZmlyc3QgKyBkb2Muc2l6ZSwgdG8pLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAobGluZS5tYXJrZWRTcGFucylcbiAgICAgICAgKGV4aXN0aW5nIHx8IChleGlzdGluZyA9IGNoYW5nZVtcInNwYW5zX1wiICsgZG9jLmlkXSA9IHt9KSlbbl0gPSBsaW5lLm1hcmtlZFNwYW5zO1xuICAgICAgKytuO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gV2hlbiB1bi9yZS1kb2luZyByZXN0b3JlcyB0ZXh0IGNvbnRhaW5pbmcgbWFya2VkIHNwYW5zLCB0aG9zZVxuICAvLyB0aGF0IGhhdmUgYmVlbiBleHBsaWNpdGx5IGNsZWFyZWQgc2hvdWxkIG5vdCBiZSByZXN0b3JlZC5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xlYXJlZFNwYW5zKHNwYW5zKSB7XG4gICAgaWYgKCFzcGFucykgcmV0dXJuIG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDAsIG91dDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoc3BhbnNbaV0ubWFya2VyLmV4cGxpY2l0bHlDbGVhcmVkKSB7IGlmICghb3V0KSBvdXQgPSBzcGFucy5zbGljZSgwLCBpKTsgfVxuICAgICAgZWxzZSBpZiAob3V0KSBvdXQucHVzaChzcGFuc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiAhb3V0ID8gc3BhbnMgOiBvdXQubGVuZ3RoID8gb3V0IDogbnVsbDtcbiAgfVxuXG4gIC8vIFJldHJpZXZlIGFuZCBmaWx0ZXIgdGhlIG9sZCBtYXJrZWQgc3BhbnMgc3RvcmVkIGluIGEgY2hhbmdlIGV2ZW50LlxuICBmdW5jdGlvbiBnZXRPbGRTcGFucyhkb2MsIGNoYW5nZSkge1xuICAgIHZhciBmb3VuZCA9IGNoYW5nZVtcInNwYW5zX1wiICsgZG9jLmlkXTtcbiAgICBpZiAoIWZvdW5kKSByZXR1cm4gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMCwgbncgPSBbXTsgaSA8IGNoYW5nZS50ZXh0Lmxlbmd0aDsgKytpKVxuICAgICAgbncucHVzaChyZW1vdmVDbGVhcmVkU3BhbnMoZm91bmRbaV0pKTtcbiAgICByZXR1cm4gbnc7XG4gIH1cblxuICAvLyBVc2VkIGJvdGggdG8gcHJvdmlkZSBhIEpTT04tc2FmZSBvYmplY3QgaW4gLmdldEhpc3RvcnksIGFuZCwgd2hlblxuICAvLyBkZXRhY2hpbmcgYSBkb2N1bWVudCwgdG8gc3BsaXQgdGhlIGhpc3RvcnkgaW4gdHdvXG4gIGZ1bmN0aW9uIGNvcHlIaXN0b3J5QXJyYXkoZXZlbnRzLCBuZXdHcm91cCwgaW5zdGFudGlhdGVTZWwpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgY29weSA9IFtdOyBpIDwgZXZlbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICBpZiAoZXZlbnQucmFuZ2VzKSB7XG4gICAgICAgIGNvcHkucHVzaChpbnN0YW50aWF0ZVNlbCA/IFNlbGVjdGlvbi5wcm90b3R5cGUuZGVlcENvcHkuY2FsbChldmVudCkgOiBldmVudCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGNoYW5nZXMgPSBldmVudC5jaGFuZ2VzLCBuZXdDaGFuZ2VzID0gW107XG4gICAgICBjb3B5LnB1c2goe2NoYW5nZXM6IG5ld0NoYW5nZXN9KTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhbmdlcy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIgY2hhbmdlID0gY2hhbmdlc1tqXSwgbTtcbiAgICAgICAgbmV3Q2hhbmdlcy5wdXNoKHtmcm9tOiBjaGFuZ2UuZnJvbSwgdG86IGNoYW5nZS50bywgdGV4dDogY2hhbmdlLnRleHR9KTtcbiAgICAgICAgaWYgKG5ld0dyb3VwKSBmb3IgKHZhciBwcm9wIGluIGNoYW5nZSkgaWYgKG0gPSBwcm9wLm1hdGNoKC9ec3BhbnNfKFxcZCspJC8pKSB7XG4gICAgICAgICAgaWYgKGluZGV4T2YobmV3R3JvdXAsIE51bWJlcihtWzFdKSkgPiAtMSkge1xuICAgICAgICAgICAgbHN0KG5ld0NoYW5nZXMpW3Byb3BdID0gY2hhbmdlW3Byb3BdO1xuICAgICAgICAgICAgZGVsZXRlIGNoYW5nZVtwcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG4gIH1cblxuICAvLyBSZWJhc2luZy9yZXNldHRpbmcgaGlzdG9yeSB0byBkZWFsIHdpdGggZXh0ZXJuYWxseS1zb3VyY2VkIGNoYW5nZXNcblxuICBmdW5jdGlvbiByZWJhc2VIaXN0U2VsU2luZ2xlKHBvcywgZnJvbSwgdG8sIGRpZmYpIHtcbiAgICBpZiAodG8gPCBwb3MubGluZSkge1xuICAgICAgcG9zLmxpbmUgKz0gZGlmZjtcbiAgICB9IGVsc2UgaWYgKGZyb20gPCBwb3MubGluZSkge1xuICAgICAgcG9zLmxpbmUgPSBmcm9tO1xuICAgICAgcG9zLmNoID0gMDtcbiAgICB9XG4gIH1cblxuICAvLyBUcmllcyB0byByZWJhc2UgYW4gYXJyYXkgb2YgaGlzdG9yeSBldmVudHMgZ2l2ZW4gYSBjaGFuZ2UgaW4gdGhlXG4gIC8vIGRvY3VtZW50LiBJZiB0aGUgY2hhbmdlIHRvdWNoZXMgdGhlIHNhbWUgbGluZXMgYXMgdGhlIGV2ZW50LCB0aGVcbiAgLy8gZXZlbnQsIGFuZCBldmVyeXRoaW5nICdiZWhpbmQnIGl0LCBpcyBkaXNjYXJkZWQuIElmIHRoZSBjaGFuZ2UgaXNcbiAgLy8gYmVmb3JlIHRoZSBldmVudCwgdGhlIGV2ZW50J3MgcG9zaXRpb25zIGFyZSB1cGRhdGVkLiBVc2VzIGFcbiAgLy8gY29weS1vbi13cml0ZSBzY2hlbWUgZm9yIHRoZSBwb3NpdGlvbnMsIHRvIGF2b2lkIGhhdmluZyB0b1xuICAvLyByZWFsbG9jYXRlIHRoZW0gYWxsIG9uIGV2ZXJ5IHJlYmFzZSwgYnV0IGFsc28gYXZvaWQgcHJvYmxlbXMgd2l0aFxuICAvLyBzaGFyZWQgcG9zaXRpb24gb2JqZWN0cyBiZWluZyB1bnNhZmVseSB1cGRhdGVkLlxuICBmdW5jdGlvbiByZWJhc2VIaXN0QXJyYXkoYXJyYXksIGZyb20sIHRvLCBkaWZmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHN1YiA9IGFycmF5W2ldLCBvayA9IHRydWU7XG4gICAgICBpZiAoc3ViLnJhbmdlcykge1xuICAgICAgICBpZiAoIXN1Yi5jb3BpZWQpIHsgc3ViID0gYXJyYXlbaV0gPSBzdWIuZGVlcENvcHkoKTsgc3ViLmNvcGllZCA9IHRydWU7IH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdWIucmFuZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgcmViYXNlSGlzdFNlbFNpbmdsZShzdWIucmFuZ2VzW2pdLmFuY2hvciwgZnJvbSwgdG8sIGRpZmYpO1xuICAgICAgICAgIHJlYmFzZUhpc3RTZWxTaW5nbGUoc3ViLnJhbmdlc1tqXS5oZWFkLCBmcm9tLCB0bywgZGlmZik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN1Yi5jaGFuZ2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIHZhciBjdXIgPSBzdWIuY2hhbmdlc1tqXTtcbiAgICAgICAgaWYgKHRvIDwgY3VyLmZyb20ubGluZSkge1xuICAgICAgICAgIGN1ci5mcm9tID0gUG9zKGN1ci5mcm9tLmxpbmUgKyBkaWZmLCBjdXIuZnJvbS5jaCk7XG4gICAgICAgICAgY3VyLnRvID0gUG9zKGN1ci50by5saW5lICsgZGlmZiwgY3VyLnRvLmNoKTtcbiAgICAgICAgfSBlbHNlIGlmIChmcm9tIDw9IGN1ci50by5saW5lKSB7XG4gICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFvaykge1xuICAgICAgICBhcnJheS5zcGxpY2UoMCwgaSArIDEpO1xuICAgICAgICBpID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWJhc2VIaXN0KGhpc3QsIGNoYW5nZSkge1xuICAgIHZhciBmcm9tID0gY2hhbmdlLmZyb20ubGluZSwgdG8gPSBjaGFuZ2UudG8ubGluZSwgZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtICh0byAtIGZyb20pIC0gMTtcbiAgICByZWJhc2VIaXN0QXJyYXkoaGlzdC5kb25lLCBmcm9tLCB0bywgZGlmZik7XG4gICAgcmViYXNlSGlzdEFycmF5KGhpc3QudW5kb25lLCBmcm9tLCB0bywgZGlmZik7XG4gIH1cblxuICAvLyBFVkVOVCBVVElMSVRJRVNcblxuICAvLyBEdWUgdG8gdGhlIGZhY3QgdGhhdCB3ZSBzdGlsbCBzdXBwb3J0IGp1cmFzc2ljIElFIHZlcnNpb25zLCBzb21lXG4gIC8vIGNvbXBhdGliaWxpdHkgd3JhcHBlcnMgYXJlIG5lZWRlZC5cblxuICB2YXIgZV9wcmV2ZW50RGVmYXVsdCA9IENvZGVNaXJyb3IuZV9wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGVsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICB9O1xuICB2YXIgZV9zdG9wUHJvcGFnYXRpb24gPSBDb2RlTWlycm9yLmVfc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlbHNlIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgfTtcbiAgZnVuY3Rpb24gZV9kZWZhdWx0UHJldmVudGVkKGUpIHtcbiAgICByZXR1cm4gZS5kZWZhdWx0UHJldmVudGVkICE9IG51bGwgPyBlLmRlZmF1bHRQcmV2ZW50ZWQgOiBlLnJldHVyblZhbHVlID09IGZhbHNlO1xuICB9XG4gIHZhciBlX3N0b3AgPSBDb2RlTWlycm9yLmVfc3RvcCA9IGZ1bmN0aW9uKGUpIHtlX3ByZXZlbnREZWZhdWx0KGUpOyBlX3N0b3BQcm9wYWdhdGlvbihlKTt9O1xuXG4gIGZ1bmN0aW9uIGVfdGFyZ2V0KGUpIHtyZXR1cm4gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O31cbiAgZnVuY3Rpb24gZV9idXR0b24oZSkge1xuICAgIHZhciBiID0gZS53aGljaDtcbiAgICBpZiAoYiA9PSBudWxsKSB7XG4gICAgICBpZiAoZS5idXR0b24gJiAxKSBiID0gMTtcbiAgICAgIGVsc2UgaWYgKGUuYnV0dG9uICYgMikgYiA9IDM7XG4gICAgICBlbHNlIGlmIChlLmJ1dHRvbiAmIDQpIGIgPSAyO1xuICAgIH1cbiAgICBpZiAobWFjICYmIGUuY3RybEtleSAmJiBiID09IDEpIGIgPSAzO1xuICAgIHJldHVybiBiO1xuICB9XG5cbiAgLy8gRVZFTlQgSEFORExJTkdcblxuICAvLyBMaWdodHdlaWdodCBldmVudCBmcmFtZXdvcmsuIG9uL29mZiBhbHNvIHdvcmsgb24gRE9NIG5vZGVzLFxuICAvLyByZWdpc3RlcmluZyBuYXRpdmUgRE9NIGhhbmRsZXJzLlxuXG4gIHZhciBvbiA9IENvZGVNaXJyb3Iub24gPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlLCBmKSB7XG4gICAgaWYgKGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcilcbiAgICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSk7XG4gICAgZWxzZSBpZiAoZW1pdHRlci5hdHRhY2hFdmVudClcbiAgICAgIGVtaXR0ZXIuYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgZik7XG4gICAgZWxzZSB7XG4gICAgICB2YXIgbWFwID0gZW1pdHRlci5faGFuZGxlcnMgfHwgKGVtaXR0ZXIuX2hhbmRsZXJzID0ge30pO1xuICAgICAgdmFyIGFyciA9IG1hcFt0eXBlXSB8fCAobWFwW3R5cGVdID0gW10pO1xuICAgICAgYXJyLnB1c2goZik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBub0hhbmRsZXJzID0gW11cbiAgZnVuY3Rpb24gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSwgY29weSkge1xuICAgIHZhciBhcnIgPSBlbWl0dGVyLl9oYW5kbGVycyAmJiBlbWl0dGVyLl9oYW5kbGVyc1t0eXBlXVxuICAgIGlmIChjb3B5KSByZXR1cm4gYXJyICYmIGFyci5sZW5ndGggPiAwID8gYXJyLnNsaWNlKCkgOiBub0hhbmRsZXJzXG4gICAgZWxzZSByZXR1cm4gYXJyIHx8IG5vSGFuZGxlcnNcbiAgfVxuXG4gIHZhciBvZmYgPSBDb2RlTWlycm9yLm9mZiA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUsIGYpIHtcbiAgICBpZiAoZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKVxuICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGYsIGZhbHNlKTtcbiAgICBlbHNlIGlmIChlbWl0dGVyLmRldGFjaEV2ZW50KVxuICAgICAgZW1pdHRlci5kZXRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBmKTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBoYW5kbGVycyA9IGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUsIGZhbHNlKVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVycy5sZW5ndGg7ICsraSlcbiAgICAgICAgaWYgKGhhbmRsZXJzW2ldID09IGYpIHsgaGFuZGxlcnMuc3BsaWNlKGksIDEpOyBicmVhazsgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgc2lnbmFsID0gQ29kZU1pcnJvci5zaWduYWwgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlIC8qLCB2YWx1ZXMuLi4qLykge1xuICAgIHZhciBoYW5kbGVycyA9IGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUsIHRydWUpXG4gICAgaWYgKCFoYW5kbGVycy5sZW5ndGgpIHJldHVybjtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVycy5sZW5ndGg7ICsraSkgaGFuZGxlcnNbaV0uYXBwbHkobnVsbCwgYXJncyk7XG4gIH07XG5cbiAgdmFyIG9ycGhhbkRlbGF5ZWRDYWxsYmFja3MgPSBudWxsO1xuXG4gIC8vIE9mdGVuLCB3ZSB3YW50IHRvIHNpZ25hbCBldmVudHMgYXQgYSBwb2ludCB3aGVyZSB3ZSBhcmUgaW4gdGhlXG4gIC8vIG1pZGRsZSBvZiBzb21lIHdvcmssIGJ1dCBkb24ndCB3YW50IHRoZSBoYW5kbGVyIHRvIHN0YXJ0IGNhbGxpbmdcbiAgLy8gb3RoZXIgbWV0aG9kcyBvbiB0aGUgZWRpdG9yLCB3aGljaCBtaWdodCBiZSBpbiBhbiBpbmNvbnNpc3RlbnRcbiAgLy8gc3RhdGUgb3Igc2ltcGx5IG5vdCBleHBlY3QgYW55IG90aGVyIGV2ZW50cyB0byBoYXBwZW4uXG4gIC8vIHNpZ25hbExhdGVyIGxvb2tzIHdoZXRoZXIgdGhlcmUgYXJlIGFueSBoYW5kbGVycywgYW5kIHNjaGVkdWxlc1xuICAvLyB0aGVtIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGxhc3Qgb3BlcmF0aW9uIGVuZHMsIG9yLCBpZiBub1xuICAvLyBvcGVyYXRpb24gaXMgYWN0aXZlLCB3aGVuIGEgdGltZW91dCBmaXJlcy5cbiAgZnVuY3Rpb24gc2lnbmFsTGF0ZXIoZW1pdHRlciwgdHlwZSAvKiwgdmFsdWVzLi4uKi8pIHtcbiAgICB2YXIgYXJyID0gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSwgZmFsc2UpXG4gICAgaWYgKCFhcnIubGVuZ3RoKSByZXR1cm47XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpLCBsaXN0O1xuICAgIGlmIChvcGVyYXRpb25Hcm91cCkge1xuICAgICAgbGlzdCA9IG9wZXJhdGlvbkdyb3VwLmRlbGF5ZWRDYWxsYmFja3M7XG4gICAgfSBlbHNlIGlmIChvcnBoYW5EZWxheWVkQ2FsbGJhY2tzKSB7XG4gICAgICBsaXN0ID0gb3JwaGFuRGVsYXllZENhbGxiYWNrcztcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdCA9IG9ycGhhbkRlbGF5ZWRDYWxsYmFja3MgPSBbXTtcbiAgICAgIHNldFRpbWVvdXQoZmlyZU9ycGhhbkRlbGF5ZWQsIDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBibmQoZikge3JldHVybiBmdW5jdGlvbigpe2YuYXBwbHkobnVsbCwgYXJncyk7fTt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKVxuICAgICAgbGlzdC5wdXNoKGJuZChhcnJbaV0pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpcmVPcnBoYW5EZWxheWVkKCkge1xuICAgIHZhciBkZWxheWVkID0gb3JwaGFuRGVsYXllZENhbGxiYWNrcztcbiAgICBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGF5ZWQubGVuZ3RoOyArK2kpIGRlbGF5ZWRbaV0oKTtcbiAgfVxuXG4gIC8vIFRoZSBET00gZXZlbnRzIHRoYXQgQ29kZU1pcnJvciBoYW5kbGVzIGNhbiBiZSBvdmVycmlkZGVuIGJ5XG4gIC8vIHJlZ2lzdGVyaW5nIGEgKG5vbi1ET00pIGhhbmRsZXIgb24gdGhlIGVkaXRvciBmb3IgdGhlIGV2ZW50IG5hbWUsXG4gIC8vIGFuZCBwcmV2ZW50RGVmYXVsdC1pbmcgdGhlIGV2ZW50IGluIHRoYXQgaGFuZGxlci5cbiAgZnVuY3Rpb24gc2lnbmFsRE9NRXZlbnQoY20sIGUsIG92ZXJyaWRlKSB7XG4gICAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpXG4gICAgICBlID0ge3R5cGU6IGUsIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsgfX07XG4gICAgc2lnbmFsKGNtLCBvdmVycmlkZSB8fCBlLnR5cGUsIGNtLCBlKTtcbiAgICByZXR1cm4gZV9kZWZhdWx0UHJldmVudGVkKGUpIHx8IGUuY29kZW1pcnJvcklnbm9yZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNpZ25hbEN1cnNvckFjdGl2aXR5KGNtKSB7XG4gICAgdmFyIGFyciA9IGNtLl9oYW5kbGVycyAmJiBjbS5faGFuZGxlcnMuY3Vyc29yQWN0aXZpdHk7XG4gICAgaWYgKCFhcnIpIHJldHVybjtcbiAgICB2YXIgc2V0ID0gY20uY3VyT3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVycyB8fCAoY20uY3VyT3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVycyA9IFtdKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkgaWYgKGluZGV4T2Yoc2V0LCBhcnJbaV0pID09IC0xKVxuICAgICAgc2V0LnB1c2goYXJyW2ldKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0hhbmRsZXIoZW1pdHRlciwgdHlwZSkge1xuICAgIHJldHVybiBnZXRIYW5kbGVycyhlbWl0dGVyLCB0eXBlKS5sZW5ndGggPiAwXG4gIH1cblxuICAvLyBBZGQgb24gYW5kIG9mZiBtZXRob2RzIHRvIGEgY29uc3RydWN0b3IncyBwcm90b3R5cGUsIHRvIG1ha2VcbiAgLy8gcmVnaXN0ZXJpbmcgZXZlbnRzIG9uIHN1Y2ggb2JqZWN0cyBtb3JlIGNvbnZlbmllbnQuXG4gIGZ1bmN0aW9uIGV2ZW50TWl4aW4oY3Rvcikge1xuICAgIGN0b3IucHJvdG90eXBlLm9uID0gZnVuY3Rpb24odHlwZSwgZikge29uKHRoaXMsIHR5cGUsIGYpO307XG4gICAgY3Rvci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24odHlwZSwgZikge29mZih0aGlzLCB0eXBlLCBmKTt9O1xuICB9XG5cbiAgLy8gTUlTQyBVVElMSVRJRVNcblxuICAvLyBOdW1iZXIgb2YgcGl4ZWxzIGFkZGVkIHRvIHNjcm9sbGVyIGFuZCBzaXplciB0byBoaWRlIHNjcm9sbGJhclxuICB2YXIgc2Nyb2xsZXJHYXAgPSAzMDtcblxuICAvLyBSZXR1cm5lZCBvciB0aHJvd24gYnkgdmFyaW91cyBwcm90b2NvbHMgdG8gc2lnbmFsICdJJ20gbm90XG4gIC8vIGhhbmRsaW5nIHRoaXMnLlxuICB2YXIgUGFzcyA9IENvZGVNaXJyb3IuUGFzcyA9IHt0b1N0cmluZzogZnVuY3Rpb24oKXtyZXR1cm4gXCJDb2RlTWlycm9yLlBhc3NcIjt9fTtcblxuICAvLyBSZXVzZWQgb3B0aW9uIG9iamVjdHMgZm9yIHNldFNlbGVjdGlvbiAmIGZyaWVuZHNcbiAgdmFyIHNlbF9kb250U2Nyb2xsID0ge3Njcm9sbDogZmFsc2V9LCBzZWxfbW91c2UgPSB7b3JpZ2luOiBcIiptb3VzZVwifSwgc2VsX21vdmUgPSB7b3JpZ2luOiBcIittb3ZlXCJ9O1xuXG4gIGZ1bmN0aW9uIERlbGF5ZWQoKSB7dGhpcy5pZCA9IG51bGw7fVxuICBEZWxheWVkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihtcywgZikge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmlkKTtcbiAgICB0aGlzLmlkID0gc2V0VGltZW91dChmLCBtcyk7XG4gIH07XG5cbiAgLy8gQ291bnRzIHRoZSBjb2x1bW4gb2Zmc2V0IGluIGEgc3RyaW5nLCB0YWtpbmcgdGFicyBpbnRvIGFjY291bnQuXG4gIC8vIFVzZWQgbW9zdGx5IHRvIGZpbmQgaW5kZW50YXRpb24uXG4gIHZhciBjb3VudENvbHVtbiA9IENvZGVNaXJyb3IuY291bnRDb2x1bW4gPSBmdW5jdGlvbihzdHJpbmcsIGVuZCwgdGFiU2l6ZSwgc3RhcnRJbmRleCwgc3RhcnRWYWx1ZSkge1xuICAgIGlmIChlbmQgPT0gbnVsbCkge1xuICAgICAgZW5kID0gc3RyaW5nLnNlYXJjaCgvW15cXHNcXHUwMGEwXS8pO1xuICAgICAgaWYgKGVuZCA9PSAtMSkgZW5kID0gc3RyaW5nLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMCwgbiA9IHN0YXJ0VmFsdWUgfHwgMDs7KSB7XG4gICAgICB2YXIgbmV4dFRhYiA9IHN0cmluZy5pbmRleE9mKFwiXFx0XCIsIGkpO1xuICAgICAgaWYgKG5leHRUYWIgPCAwIHx8IG5leHRUYWIgPj0gZW5kKVxuICAgICAgICByZXR1cm4gbiArIChlbmQgLSBpKTtcbiAgICAgIG4gKz0gbmV4dFRhYiAtIGk7XG4gICAgICBuICs9IHRhYlNpemUgLSAobiAlIHRhYlNpemUpO1xuICAgICAgaSA9IG5leHRUYWIgKyAxO1xuICAgIH1cbiAgfTtcblxuICAvLyBUaGUgaW52ZXJzZSBvZiBjb3VudENvbHVtbiAtLSBmaW5kIHRoZSBvZmZzZXQgdGhhdCBjb3JyZXNwb25kcyB0b1xuICAvLyBhIHBhcnRpY3VsYXIgY29sdW1uLlxuICB2YXIgZmluZENvbHVtbiA9IENvZGVNaXJyb3IuZmluZENvbHVtbiA9IGZ1bmN0aW9uKHN0cmluZywgZ29hbCwgdGFiU2l6ZSkge1xuICAgIGZvciAodmFyIHBvcyA9IDAsIGNvbCA9IDA7Oykge1xuICAgICAgdmFyIG5leHRUYWIgPSBzdHJpbmcuaW5kZXhPZihcIlxcdFwiLCBwb3MpO1xuICAgICAgaWYgKG5leHRUYWIgPT0gLTEpIG5leHRUYWIgPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgdmFyIHNraXBwZWQgPSBuZXh0VGFiIC0gcG9zO1xuICAgICAgaWYgKG5leHRUYWIgPT0gc3RyaW5nLmxlbmd0aCB8fCBjb2wgKyBza2lwcGVkID49IGdvYWwpXG4gICAgICAgIHJldHVybiBwb3MgKyBNYXRoLm1pbihza2lwcGVkLCBnb2FsIC0gY29sKTtcbiAgICAgIGNvbCArPSBuZXh0VGFiIC0gcG9zO1xuICAgICAgY29sICs9IHRhYlNpemUgLSAoY29sICUgdGFiU2l6ZSk7XG4gICAgICBwb3MgPSBuZXh0VGFiICsgMTtcbiAgICAgIGlmIChjb2wgPj0gZ29hbCkgcmV0dXJuIHBvcztcbiAgICB9XG4gIH1cblxuICB2YXIgc3BhY2VTdHJzID0gW1wiXCJdO1xuICBmdW5jdGlvbiBzcGFjZVN0cihuKSB7XG4gICAgd2hpbGUgKHNwYWNlU3Rycy5sZW5ndGggPD0gbilcbiAgICAgIHNwYWNlU3Rycy5wdXNoKGxzdChzcGFjZVN0cnMpICsgXCIgXCIpO1xuICAgIHJldHVybiBzcGFjZVN0cnNbbl07XG4gIH1cblxuICBmdW5jdGlvbiBsc3QoYXJyKSB7IHJldHVybiBhcnJbYXJyLmxlbmd0aC0xXTsgfVxuXG4gIHZhciBzZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsgbm9kZS5zZWxlY3QoKTsgfTtcbiAgaWYgKGlvcykgLy8gTW9iaWxlIFNhZmFyaSBhcHBhcmVudGx5IGhhcyBhIGJ1ZyB3aGVyZSBzZWxlY3QoKSBpcyBicm9rZW4uXG4gICAgc2VsZWN0SW5wdXQgPSBmdW5jdGlvbihub2RlKSB7IG5vZGUuc2VsZWN0aW9uU3RhcnQgPSAwOyBub2RlLnNlbGVjdGlvbkVuZCA9IG5vZGUudmFsdWUubGVuZ3RoOyB9O1xuICBlbHNlIGlmIChpZSkgLy8gU3VwcHJlc3MgbXlzdGVyaW91cyBJRTEwIGVycm9yc1xuICAgIHNlbGVjdElucHV0ID0gZnVuY3Rpb24obm9kZSkgeyB0cnkgeyBub2RlLnNlbGVjdCgpOyB9IGNhdGNoKF9lKSB7fSB9O1xuXG4gIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIGVsdCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyArK2kpXG4gICAgICBpZiAoYXJyYXlbaV0gPT0gZWx0KSByZXR1cm4gaTtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgZnVuY3Rpb24gbWFwKGFycmF5LCBmKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIG91dFtpXSA9IGYoYXJyYXlbaV0sIGkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBmdW5jdGlvbiBub3RoaW5nKCkge31cblxuICBmdW5jdGlvbiBjcmVhdGVPYmooYmFzZSwgcHJvcHMpIHtcbiAgICB2YXIgaW5zdDtcbiAgICBpZiAoT2JqZWN0LmNyZWF0ZSkge1xuICAgICAgaW5zdCA9IE9iamVjdC5jcmVhdGUoYmFzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vdGhpbmcucHJvdG90eXBlID0gYmFzZTtcbiAgICAgIGluc3QgPSBuZXcgbm90aGluZygpO1xuICAgIH1cbiAgICBpZiAocHJvcHMpIGNvcHlPYmoocHJvcHMsIGluc3QpO1xuICAgIHJldHVybiBpbnN0O1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvcHlPYmoob2JqLCB0YXJnZXQsIG92ZXJ3cml0ZSkge1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iailcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkgJiYgKG92ZXJ3cml0ZSAhPT0gZmFsc2UgfHwgIXRhcmdldC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IG9ialtwcm9wXTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gYmluZChmKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBmdW5jdGlvbigpe3JldHVybiBmLmFwcGx5KG51bGwsIGFyZ3MpO307XG4gIH1cblxuICB2YXIgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIgPSAvW1xcdTAwZGZcXHUwNTg3XFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MzA0MC1cXHUzMDlmXFx1MzBhMC1cXHUzMGZmXFx1MzQwMC1cXHU0ZGI1XFx1NGUwMC1cXHU5ZmNjXFx1YWMwMC1cXHVkN2FmXS87XG4gIHZhciBpc1dvcmRDaGFyQmFzaWMgPSBDb2RlTWlycm9yLmlzV29yZENoYXIgPSBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAvXFx3Ly50ZXN0KGNoKSB8fCBjaCA+IFwiXFx4ODBcIiAmJlxuICAgICAgKGNoLnRvVXBwZXJDYXNlKCkgIT0gY2gudG9Mb3dlckNhc2UoKSB8fCBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhci50ZXN0KGNoKSk7XG4gIH07XG4gIGZ1bmN0aW9uIGlzV29yZENoYXIoY2gsIGhlbHBlcikge1xuICAgIGlmICghaGVscGVyKSByZXR1cm4gaXNXb3JkQ2hhckJhc2ljKGNoKTtcbiAgICBpZiAoaGVscGVyLnNvdXJjZS5pbmRleE9mKFwiXFxcXHdcIikgPiAtMSAmJiBpc1dvcmRDaGFyQmFzaWMoY2gpKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gaGVscGVyLnRlc3QoY2gpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcbiAgICBmb3IgKHZhciBuIGluIG9iaikgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShuKSAmJiBvYmpbbl0pIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEV4dGVuZGluZyB1bmljb2RlIGNoYXJhY3RlcnMuIEEgc2VyaWVzIG9mIGEgbm9uLWV4dGVuZGluZyBjaGFyICtcbiAgLy8gYW55IG51bWJlciBvZiBleHRlbmRpbmcgY2hhcnMgaXMgdHJlYXRlZCBhcyBhIHNpbmdsZSB1bml0IGFzIGZhclxuICAvLyBhcyBlZGl0aW5nIGFuZCBtZWFzdXJpbmcgaXMgY29uY2VybmVkLiBUaGlzIGlzIG5vdCBmdWxseSBjb3JyZWN0LFxuICAvLyBzaW5jZSBzb21lIHNjcmlwdHMvZm9udHMvYnJvd3NlcnMgYWxzbyB0cmVhdCBvdGhlciBjb25maWd1cmF0aW9uc1xuICAvLyBvZiBjb2RlIHBvaW50cyBhcyBhIGdyb3VwLlxuICB2YXIgZXh0ZW5kaW5nQ2hhcnMgPSAvW1xcdTAzMDAtXFx1MDM2ZlxcdTA0ODMtXFx1MDQ4OVxcdTA1OTEtXFx1MDViZFxcdTA1YmZcXHUwNWMxXFx1MDVjMlxcdTA1YzRcXHUwNWM1XFx1MDVjN1xcdTA2MTAtXFx1MDYxYVxcdTA2NGItXFx1MDY1ZVxcdTA2NzBcXHUwNmQ2LVxcdTA2ZGNcXHUwNmRlLVxcdTA2ZTRcXHUwNmU3XFx1MDZlOFxcdTA2ZWEtXFx1MDZlZFxcdTA3MTFcXHUwNzMwLVxcdTA3NGFcXHUwN2E2LVxcdTA3YjBcXHUwN2ViLVxcdTA3ZjNcXHUwODE2LVxcdTA4MTlcXHUwODFiLVxcdTA4MjNcXHUwODI1LVxcdTA4MjdcXHUwODI5LVxcdTA4MmRcXHUwOTAwLVxcdTA5MDJcXHUwOTNjXFx1MDk0MS1cXHUwOTQ4XFx1MDk0ZFxcdTA5NTEtXFx1MDk1NVxcdTA5NjJcXHUwOTYzXFx1MDk4MVxcdTA5YmNcXHUwOWJlXFx1MDljMS1cXHUwOWM0XFx1MDljZFxcdTA5ZDdcXHUwOWUyXFx1MDllM1xcdTBhMDFcXHUwYTAyXFx1MGEzY1xcdTBhNDFcXHUwYTQyXFx1MGE0N1xcdTBhNDhcXHUwYTRiLVxcdTBhNGRcXHUwYTUxXFx1MGE3MFxcdTBhNzFcXHUwYTc1XFx1MGE4MVxcdTBhODJcXHUwYWJjXFx1MGFjMS1cXHUwYWM1XFx1MGFjN1xcdTBhYzhcXHUwYWNkXFx1MGFlMlxcdTBhZTNcXHUwYjAxXFx1MGIzY1xcdTBiM2VcXHUwYjNmXFx1MGI0MS1cXHUwYjQ0XFx1MGI0ZFxcdTBiNTZcXHUwYjU3XFx1MGI2MlxcdTBiNjNcXHUwYjgyXFx1MGJiZVxcdTBiYzBcXHUwYmNkXFx1MGJkN1xcdTBjM2UtXFx1MGM0MFxcdTBjNDYtXFx1MGM0OFxcdTBjNGEtXFx1MGM0ZFxcdTBjNTVcXHUwYzU2XFx1MGM2MlxcdTBjNjNcXHUwY2JjXFx1MGNiZlxcdTBjYzJcXHUwY2M2XFx1MGNjY1xcdTBjY2RcXHUwY2Q1XFx1MGNkNlxcdTBjZTJcXHUwY2UzXFx1MGQzZVxcdTBkNDEtXFx1MGQ0NFxcdTBkNGRcXHUwZDU3XFx1MGQ2MlxcdTBkNjNcXHUwZGNhXFx1MGRjZlxcdTBkZDItXFx1MGRkNFxcdTBkZDZcXHUwZGRmXFx1MGUzMVxcdTBlMzQtXFx1MGUzYVxcdTBlNDctXFx1MGU0ZVxcdTBlYjFcXHUwZWI0LVxcdTBlYjlcXHUwZWJiXFx1MGViY1xcdTBlYzgtXFx1MGVjZFxcdTBmMThcXHUwZjE5XFx1MGYzNVxcdTBmMzdcXHUwZjM5XFx1MGY3MS1cXHUwZjdlXFx1MGY4MC1cXHUwZjg0XFx1MGY4NlxcdTBmODdcXHUwZjkwLVxcdTBmOTdcXHUwZjk5LVxcdTBmYmNcXHUwZmM2XFx1MTAyZC1cXHUxMDMwXFx1MTAzMi1cXHUxMDM3XFx1MTAzOVxcdTEwM2FcXHUxMDNkXFx1MTAzZVxcdTEwNThcXHUxMDU5XFx1MTA1ZS1cXHUxMDYwXFx1MTA3MS1cXHUxMDc0XFx1MTA4MlxcdTEwODVcXHUxMDg2XFx1MTA4ZFxcdTEwOWRcXHUxMzVmXFx1MTcxMi1cXHUxNzE0XFx1MTczMi1cXHUxNzM0XFx1MTc1MlxcdTE3NTNcXHUxNzcyXFx1MTc3M1xcdTE3YjctXFx1MTdiZFxcdTE3YzZcXHUxN2M5LVxcdTE3ZDNcXHUxN2RkXFx1MTgwYi1cXHUxODBkXFx1MThhOVxcdTE5MjAtXFx1MTkyMlxcdTE5MjdcXHUxOTI4XFx1MTkzMlxcdTE5MzktXFx1MTkzYlxcdTFhMTdcXHUxYTE4XFx1MWE1NlxcdTFhNTgtXFx1MWE1ZVxcdTFhNjBcXHUxYTYyXFx1MWE2NS1cXHUxYTZjXFx1MWE3My1cXHUxYTdjXFx1MWE3ZlxcdTFiMDAtXFx1MWIwM1xcdTFiMzRcXHUxYjM2LVxcdTFiM2FcXHUxYjNjXFx1MWI0MlxcdTFiNmItXFx1MWI3M1xcdTFiODBcXHUxYjgxXFx1MWJhMi1cXHUxYmE1XFx1MWJhOFxcdTFiYTlcXHUxYzJjLVxcdTFjMzNcXHUxYzM2XFx1MWMzN1xcdTFjZDAtXFx1MWNkMlxcdTFjZDQtXFx1MWNlMFxcdTFjZTItXFx1MWNlOFxcdTFjZWRcXHUxZGMwLVxcdTFkZTZcXHUxZGZkLVxcdTFkZmZcXHUyMDBjXFx1MjAwZFxcdTIwZDAtXFx1MjBmMFxcdTJjZWYtXFx1MmNmMVxcdTJkZTAtXFx1MmRmZlxcdTMwMmEtXFx1MzAyZlxcdTMwOTlcXHUzMDlhXFx1YTY2Zi1cXHVhNjcyXFx1YTY3Y1xcdWE2N2RcXHVhNmYwXFx1YTZmMVxcdWE4MDJcXHVhODA2XFx1YTgwYlxcdWE4MjVcXHVhODI2XFx1YThjNFxcdWE4ZTAtXFx1YThmMVxcdWE5MjYtXFx1YTkyZFxcdWE5NDctXFx1YTk1MVxcdWE5ODAtXFx1YTk4MlxcdWE5YjNcXHVhOWI2LVxcdWE5YjlcXHVhOWJjXFx1YWEyOS1cXHVhYTJlXFx1YWEzMVxcdWFhMzJcXHVhYTM1XFx1YWEzNlxcdWFhNDNcXHVhYTRjXFx1YWFiMFxcdWFhYjItXFx1YWFiNFxcdWFhYjdcXHVhYWI4XFx1YWFiZVxcdWFhYmZcXHVhYWMxXFx1YWJlNVxcdWFiZThcXHVhYmVkXFx1ZGMwMC1cXHVkZmZmXFx1ZmIxZVxcdWZlMDAtXFx1ZmUwZlxcdWZlMjAtXFx1ZmUyNlxcdWZmOWVcXHVmZjlmXS87XG4gIGZ1bmN0aW9uIGlzRXh0ZW5kaW5nQ2hhcihjaCkgeyByZXR1cm4gY2guY2hhckNvZGVBdCgwKSA+PSA3NjggJiYgZXh0ZW5kaW5nQ2hhcnMudGVzdChjaCk7IH1cblxuICAvLyBET00gVVRJTElUSUVTXG5cbiAgZnVuY3Rpb24gZWx0KHRhZywgY29udGVudCwgY2xhc3NOYW1lLCBzdHlsZSkge1xuICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGlmIChjbGFzc05hbWUpIGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIGlmIChzdHlsZSkgZS5zdHlsZS5jc3NUZXh0ID0gc3R5bGU7XG4gICAgaWYgKHR5cGVvZiBjb250ZW50ID09IFwic3RyaW5nXCIpIGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29udGVudCkpO1xuICAgIGVsc2UgaWYgKGNvbnRlbnQpIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7ICsraSkgZS5hcHBlbmRDaGlsZChjb250ZW50W2ldKTtcbiAgICByZXR1cm4gZTtcbiAgfVxuXG4gIHZhciByYW5nZTtcbiAgaWYgKGRvY3VtZW50LmNyZWF0ZVJhbmdlKSByYW5nZSA9IGZ1bmN0aW9uKG5vZGUsIHN0YXJ0LCBlbmQsIGVuZE5vZGUpIHtcbiAgICB2YXIgciA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgci5zZXRFbmQoZW5kTm9kZSB8fCBub2RlLCBlbmQpO1xuICAgIHIuc2V0U3RhcnQobm9kZSwgc3RhcnQpO1xuICAgIHJldHVybiByO1xuICB9O1xuICBlbHNlIHJhbmdlID0gZnVuY3Rpb24obm9kZSwgc3RhcnQsIGVuZCkge1xuICAgIHZhciByID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICB0cnkgeyByLm1vdmVUb0VsZW1lbnRUZXh0KG5vZGUucGFyZW50Tm9kZSk7IH1cbiAgICBjYXRjaChlKSB7IHJldHVybiByOyB9XG4gICAgci5jb2xsYXBzZSh0cnVlKTtcbiAgICByLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgZW5kKTtcbiAgICByLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCBzdGFydCk7XG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZSkge1xuICAgIGZvciAodmFyIGNvdW50ID0gZS5jaGlsZE5vZGVzLmxlbmd0aDsgY291bnQgPiAwOyAtLWNvdW50KVxuICAgICAgZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQocGFyZW50LCBlKSB7XG4gICAgcmV0dXJuIHJlbW92ZUNoaWxkcmVuKHBhcmVudCkuYXBwZW5kQ2hpbGQoZSk7XG4gIH1cblxuICB2YXIgY29udGFpbnMgPSBDb2RlTWlycm9yLmNvbnRhaW5zID0gZnVuY3Rpb24ocGFyZW50LCBjaGlsZCkge1xuICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAzKSAvLyBBbmRyb2lkIGJyb3dzZXIgYWx3YXlzIHJldHVybnMgZmFsc2Ugd2hlbiBjaGlsZCBpcyBhIHRleHRub2RlXG4gICAgICBjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudC5jb250YWlucylcbiAgICAgIHJldHVybiBwYXJlbnQuY29udGFpbnMoY2hpbGQpO1xuICAgIGRvIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAxMSkgY2hpbGQgPSBjaGlsZC5ob3N0O1xuICAgICAgaWYgKGNoaWxkID09IHBhcmVudCkgcmV0dXJuIHRydWU7XG4gICAgfSB3aGlsZSAoY2hpbGQgPSBjaGlsZC5wYXJlbnROb2RlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhY3RpdmVFbHQoKSB7XG4gICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIHdoaWxlIChhY3RpdmVFbGVtZW50ICYmIGFjdGl2ZUVsZW1lbnQucm9vdCAmJiBhY3RpdmVFbGVtZW50LnJvb3QuYWN0aXZlRWxlbWVudClcbiAgICAgIGFjdGl2ZUVsZW1lbnQgPSBhY3RpdmVFbGVtZW50LnJvb3QuYWN0aXZlRWxlbWVudDtcbiAgICByZXR1cm4gYWN0aXZlRWxlbWVudDtcbiAgfVxuICAvLyBPbGRlciB2ZXJzaW9ucyBvZiBJRSB0aHJvd3MgdW5zcGVjaWZpZWQgZXJyb3Igd2hlbiB0b3VjaGluZ1xuICAvLyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluIHNvbWUgY2FzZXMgKGR1cmluZyBsb2FkaW5nLCBpbiBpZnJhbWUpXG4gIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpIGFjdGl2ZUVsdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7IHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50OyB9XG4gICAgY2F0Y2goZSkgeyByZXR1cm4gZG9jdW1lbnQuYm9keTsgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNsYXNzVGVzdChjbHMpIHsgcmV0dXJuIG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGNscyArIFwiKD86JHxcXFxccylcXFxccypcIik7IH1cbiAgdmFyIHJtQ2xhc3MgPSBDb2RlTWlycm9yLnJtQ2xhc3MgPSBmdW5jdGlvbihub2RlLCBjbHMpIHtcbiAgICB2YXIgY3VycmVudCA9IG5vZGUuY2xhc3NOYW1lO1xuICAgIHZhciBtYXRjaCA9IGNsYXNzVGVzdChjbHMpLmV4ZWMoY3VycmVudCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICB2YXIgYWZ0ZXIgPSBjdXJyZW50LnNsaWNlKG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgIG5vZGUuY2xhc3NOYW1lID0gY3VycmVudC5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyAoYWZ0ZXIgPyBtYXRjaFsxXSArIGFmdGVyIDogXCJcIik7XG4gICAgfVxuICB9O1xuICB2YXIgYWRkQ2xhc3MgPSBDb2RlTWlycm9yLmFkZENsYXNzID0gZnVuY3Rpb24obm9kZSwgY2xzKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBub2RlLmNsYXNzTmFtZTtcbiAgICBpZiAoIWNsYXNzVGVzdChjbHMpLnRlc3QoY3VycmVudCkpIG5vZGUuY2xhc3NOYW1lICs9IChjdXJyZW50ID8gXCIgXCIgOiBcIlwiKSArIGNscztcbiAgfTtcbiAgZnVuY3Rpb24gam9pbkNsYXNzZXMoYSwgYikge1xuICAgIHZhciBhcyA9IGEuc3BsaXQoXCIgXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXMubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoYXNbaV0gJiYgIWNsYXNzVGVzdChhc1tpXSkudGVzdChiKSkgYiArPSBcIiBcIiArIGFzW2ldO1xuICAgIHJldHVybiBiO1xuICB9XG5cbiAgLy8gV0lORE9XLVdJREUgRVZFTlRTXG5cbiAgLy8gVGhlc2UgbXVzdCBiZSBoYW5kbGVkIGNhcmVmdWxseSwgYmVjYXVzZSBuYWl2ZWx5IHJlZ2lzdGVyaW5nIGFcbiAgLy8gaGFuZGxlciBmb3IgZWFjaCBlZGl0b3Igd2lsbCBjYXVzZSB0aGUgZWRpdG9ycyB0byBuZXZlciBiZVxuICAvLyBnYXJiYWdlIGNvbGxlY3RlZC5cblxuICBmdW5jdGlvbiBmb3JFYWNoQ29kZU1pcnJvcihmKSB7XG4gICAgaWYgKCFkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIHJldHVybjtcbiAgICB2YXIgYnlDbGFzcyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkNvZGVNaXJyb3JcIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBieUNsYXNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY20gPSBieUNsYXNzW2ldLkNvZGVNaXJyb3I7XG4gICAgICBpZiAoY20pIGYoY20pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBnbG9iYWxzUmVnaXN0ZXJlZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBlbnN1cmVHbG9iYWxIYW5kbGVycygpIHtcbiAgICBpZiAoZ2xvYmFsc1JlZ2lzdGVyZWQpIHJldHVybjtcbiAgICByZWdpc3Rlckdsb2JhbEhhbmRsZXJzKCk7XG4gICAgZ2xvYmFsc1JlZ2lzdGVyZWQgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyR2xvYmFsSGFuZGxlcnMoKSB7XG4gICAgLy8gV2hlbiB0aGUgd2luZG93IHJlc2l6ZXMsIHdlIG5lZWQgdG8gcmVmcmVzaCBhY3RpdmUgZWRpdG9ycy5cbiAgICB2YXIgcmVzaXplVGltZXI7XG4gICAgb24od2luZG93LCBcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChyZXNpemVUaW1lciA9PSBudWxsKSByZXNpemVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc2l6ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgZm9yRWFjaENvZGVNaXJyb3Iob25SZXNpemUpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9KTtcbiAgICAvLyBXaGVuIHRoZSB3aW5kb3cgbG9zZXMgZm9jdXMsIHdlIHdhbnQgdG8gc2hvdyB0aGUgZWRpdG9yIGFzIGJsdXJyZWRcbiAgICBvbih3aW5kb3csIFwiYmx1clwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGZvckVhY2hDb2RlTWlycm9yKG9uQmx1cik7XG4gICAgfSk7XG4gIH1cblxuICAvLyBGRUFUVVJFIERFVEVDVElPTlxuXG4gIC8vIERldGVjdCBkcmFnLWFuZC1kcm9wXG4gIHZhciBkcmFnQW5kRHJvcCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFRoZXJlIGlzICpzb21lKiBraW5kIG9mIGRyYWctYW5kLWRyb3Agc3VwcG9ydCBpbiBJRTYtOCwgYnV0IElcbiAgICAvLyBjb3VsZG4ndCBnZXQgaXQgdG8gd29yayB5ZXQuXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGRpdiA9IGVsdCgnZGl2Jyk7XG4gICAgcmV0dXJuIFwiZHJhZ2dhYmxlXCIgaW4gZGl2IHx8IFwiZHJhZ0Ryb3BcIiBpbiBkaXY7XG4gIH0oKTtcblxuICB2YXIgendzcFN1cHBvcnRlZDtcbiAgZnVuY3Rpb24gemVyb1dpZHRoRWxlbWVudChtZWFzdXJlKSB7XG4gICAgaWYgKHp3c3BTdXBwb3J0ZWQgPT0gbnVsbCkge1xuICAgICAgdmFyIHRlc3QgPSBlbHQoXCJzcGFuXCIsIFwiXFx1MjAwYlwiKTtcbiAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKG1lYXN1cmUsIGVsdChcInNwYW5cIiwgW3Rlc3QsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKV0pKTtcbiAgICAgIGlmIChtZWFzdXJlLmZpcnN0Q2hpbGQub2Zmc2V0SGVpZ2h0ICE9IDApXG4gICAgICAgIHp3c3BTdXBwb3J0ZWQgPSB0ZXN0Lm9mZnNldFdpZHRoIDw9IDEgJiYgdGVzdC5vZmZzZXRIZWlnaHQgPiAyICYmICEoaWUgJiYgaWVfdmVyc2lvbiA8IDgpO1xuICAgIH1cbiAgICB2YXIgbm9kZSA9IHp3c3BTdXBwb3J0ZWQgPyBlbHQoXCJzcGFuXCIsIFwiXFx1MjAwYlwiKSA6XG4gICAgICBlbHQoXCJzcGFuXCIsIFwiXFx1MDBhMFwiLCBudWxsLCBcImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDFweDsgbWFyZ2luLXJpZ2h0OiAtMXB4XCIpO1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBcIlwiKTtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8vIEZlYXR1cmUtZGV0ZWN0IElFJ3MgY3J1bW15IGNsaWVudCByZWN0IHJlcG9ydGluZyBmb3IgYmlkaSB0ZXh0XG4gIHZhciBiYWRCaWRpUmVjdHM7XG4gIGZ1bmN0aW9uIGhhc0JhZEJpZGlSZWN0cyhtZWFzdXJlKSB7XG4gICAgaWYgKGJhZEJpZGlSZWN0cyAhPSBudWxsKSByZXR1cm4gYmFkQmlkaVJlY3RzO1xuICAgIHZhciB0eHQgPSByZW1vdmVDaGlsZHJlbkFuZEFkZChtZWFzdXJlLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkFcXHUwNjJlQVwiKSk7XG4gICAgdmFyIHIwID0gcmFuZ2UodHh0LCAwLCAxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoIXIwIHx8IHIwLmxlZnQgPT0gcjAucmlnaHQpIHJldHVybiBmYWxzZTsgLy8gU2FmYXJpIHJldHVybnMgbnVsbCBpbiBzb21lIGNhc2VzICgjMjc4MClcbiAgICB2YXIgcjEgPSByYW5nZSh0eHQsIDEsIDIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiBiYWRCaWRpUmVjdHMgPSAocjEucmlnaHQgLSByMC5yaWdodCA8IDMpO1xuICB9XG5cbiAgLy8gU2VlIGlmIFwiXCIuc3BsaXQgaXMgdGhlIGJyb2tlbiBJRSB2ZXJzaW9uLCBpZiBzbywgcHJvdmlkZSBhblxuICAvLyBhbHRlcm5hdGl2ZSB3YXkgdG8gc3BsaXQgbGluZXMuXG4gIHZhciBzcGxpdExpbmVzQXV0byA9IENvZGVNaXJyb3Iuc3BsaXRMaW5lcyA9IFwiXFxuXFxuYlwiLnNwbGl0KC9cXG4vKS5sZW5ndGggIT0gMyA/IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHZhciBwb3MgPSAwLCByZXN1bHQgPSBbXSwgbCA9IHN0cmluZy5sZW5ndGg7XG4gICAgd2hpbGUgKHBvcyA8PSBsKSB7XG4gICAgICB2YXIgbmwgPSBzdHJpbmcuaW5kZXhPZihcIlxcblwiLCBwb3MpO1xuICAgICAgaWYgKG5sID09IC0xKSBubCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICB2YXIgbGluZSA9IHN0cmluZy5zbGljZShwb3MsIHN0cmluZy5jaGFyQXQobmwgLSAxKSA9PSBcIlxcclwiID8gbmwgLSAxIDogbmwpO1xuICAgICAgdmFyIHJ0ID0gbGluZS5pbmRleE9mKFwiXFxyXCIpO1xuICAgICAgaWYgKHJ0ICE9IC0xKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGxpbmUuc2xpY2UoMCwgcnQpKTtcbiAgICAgICAgcG9zICs9IHJ0ICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGxpbmUpO1xuICAgICAgICBwb3MgPSBubCArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gOiBmdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcuc3BsaXQoL1xcclxcbj98XFxuLyk7fTtcblxuICB2YXIgaGFzU2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbiA/IGZ1bmN0aW9uKHRlKSB7XG4gICAgdHJ5IHsgcmV0dXJuIHRlLnNlbGVjdGlvblN0YXJ0ICE9IHRlLnNlbGVjdGlvbkVuZDsgfVxuICAgIGNhdGNoKGUpIHsgcmV0dXJuIGZhbHNlOyB9XG4gIH0gOiBmdW5jdGlvbih0ZSkge1xuICAgIHRyeSB7dmFyIHJhbmdlID0gdGUub3duZXJEb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTt9XG4gICAgY2F0Y2goZSkge31cbiAgICBpZiAoIXJhbmdlIHx8IHJhbmdlLnBhcmVudEVsZW1lbnQoKSAhPSB0ZSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiByYW5nZS5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb0VuZFwiLCByYW5nZSkgIT0gMDtcbiAgfTtcblxuICB2YXIgaGFzQ29weUV2ZW50ID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciBlID0gZWx0KFwiZGl2XCIpO1xuICAgIGlmIChcIm9uY29weVwiIGluIGUpIHJldHVybiB0cnVlO1xuICAgIGUuc2V0QXR0cmlidXRlKFwib25jb3B5XCIsIFwicmV0dXJuO1wiKTtcbiAgICByZXR1cm4gdHlwZW9mIGUub25jb3B5ID09IFwiZnVuY3Rpb25cIjtcbiAgfSkoKTtcblxuICB2YXIgYmFkWm9vbWVkUmVjdHMgPSBudWxsO1xuICBmdW5jdGlvbiBoYXNCYWRab29tZWRSZWN0cyhtZWFzdXJlKSB7XG4gICAgaWYgKGJhZFpvb21lZFJlY3RzICE9IG51bGwpIHJldHVybiBiYWRab29tZWRSZWN0cztcbiAgICB2YXIgbm9kZSA9IHJlbW92ZUNoaWxkcmVuQW5kQWRkKG1lYXN1cmUsIGVsdChcInNwYW5cIiwgXCJ4XCIpKTtcbiAgICB2YXIgbm9ybWFsID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgZnJvbVJhbmdlID0gcmFuZ2Uobm9kZSwgMCwgMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGJhZFpvb21lZFJlY3RzID0gTWF0aC5hYnMobm9ybWFsLmxlZnQgLSBmcm9tUmFuZ2UubGVmdCkgPiAxO1xuICB9XG5cbiAgLy8gS0VZIE5BTUVTXG5cbiAgdmFyIGtleU5hbWVzID0gQ29kZU1pcnJvci5rZXlOYW1lcyA9IHtcbiAgICAzOiBcIkVudGVyXCIsIDg6IFwiQmFja3NwYWNlXCIsIDk6IFwiVGFiXCIsIDEzOiBcIkVudGVyXCIsIDE2OiBcIlNoaWZ0XCIsIDE3OiBcIkN0cmxcIiwgMTg6IFwiQWx0XCIsXG4gICAgMTk6IFwiUGF1c2VcIiwgMjA6IFwiQ2Fwc0xvY2tcIiwgMjc6IFwiRXNjXCIsIDMyOiBcIlNwYWNlXCIsIDMzOiBcIlBhZ2VVcFwiLCAzNDogXCJQYWdlRG93blwiLCAzNTogXCJFbmRcIixcbiAgICAzNjogXCJIb21lXCIsIDM3OiBcIkxlZnRcIiwgMzg6IFwiVXBcIiwgMzk6IFwiUmlnaHRcIiwgNDA6IFwiRG93blwiLCA0NDogXCJQcmludFNjcm5cIiwgNDU6IFwiSW5zZXJ0XCIsXG4gICAgNDY6IFwiRGVsZXRlXCIsIDU5OiBcIjtcIiwgNjE6IFwiPVwiLCA5MTogXCJNb2RcIiwgOTI6IFwiTW9kXCIsIDkzOiBcIk1vZFwiLFxuICAgIDEwNjogXCIqXCIsIDEwNzogXCI9XCIsIDEwOTogXCItXCIsIDExMDogXCIuXCIsIDExMTogXCIvXCIsIDEyNzogXCJEZWxldGVcIixcbiAgICAxNzM6IFwiLVwiLCAxODY6IFwiO1wiLCAxODc6IFwiPVwiLCAxODg6IFwiLFwiLCAxODk6IFwiLVwiLCAxOTA6IFwiLlwiLCAxOTE6IFwiL1wiLCAxOTI6IFwiYFwiLCAyMTk6IFwiW1wiLCAyMjA6IFwiXFxcXFwiLFxuICAgIDIyMTogXCJdXCIsIDIyMjogXCInXCIsIDYzMjMyOiBcIlVwXCIsIDYzMjMzOiBcIkRvd25cIiwgNjMyMzQ6IFwiTGVmdFwiLCA2MzIzNTogXCJSaWdodFwiLCA2MzI3MjogXCJEZWxldGVcIixcbiAgICA2MzI3MzogXCJIb21lXCIsIDYzMjc1OiBcIkVuZFwiLCA2MzI3NjogXCJQYWdlVXBcIiwgNjMyNzc6IFwiUGFnZURvd25cIiwgNjMzMDI6IFwiSW5zZXJ0XCJcbiAgfTtcbiAgKGZ1bmN0aW9uKCkge1xuICAgIC8vIE51bWJlciBrZXlzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSBrZXlOYW1lc1tpICsgNDhdID0ga2V5TmFtZXNbaSArIDk2XSA9IFN0cmluZyhpKTtcbiAgICAvLyBBbHBoYWJldGljIGtleXNcbiAgICBmb3IgKHZhciBpID0gNjU7IGkgPD0gOTA7IGkrKykga2V5TmFtZXNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xuICAgIC8vIEZ1bmN0aW9uIGtleXNcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAxMjsgaSsrKSBrZXlOYW1lc1tpICsgMTExXSA9IGtleU5hbWVzW2kgKyA2MzIzNV0gPSBcIkZcIiArIGk7XG4gIH0pKCk7XG5cbiAgLy8gQklESSBIRUxQRVJTXG5cbiAgZnVuY3Rpb24gaXRlcmF0ZUJpZGlTZWN0aW9ucyhvcmRlciwgZnJvbSwgdG8sIGYpIHtcbiAgICBpZiAoIW9yZGVyKSByZXR1cm4gZihmcm9tLCB0bywgXCJsdHJcIik7XG4gICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlci5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHBhcnQgPSBvcmRlcltpXTtcbiAgICAgIGlmIChwYXJ0LmZyb20gPCB0byAmJiBwYXJ0LnRvID4gZnJvbSB8fCBmcm9tID09IHRvICYmIHBhcnQudG8gPT0gZnJvbSkge1xuICAgICAgICBmKE1hdGgubWF4KHBhcnQuZnJvbSwgZnJvbSksIE1hdGgubWluKHBhcnQudG8sIHRvKSwgcGFydC5sZXZlbCA9PSAxID8gXCJydGxcIiA6IFwibHRyXCIpO1xuICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZm91bmQpIGYoZnJvbSwgdG8sIFwibHRyXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gYmlkaUxlZnQocGFydCkgeyByZXR1cm4gcGFydC5sZXZlbCAlIDIgPyBwYXJ0LnRvIDogcGFydC5mcm9tOyB9XG4gIGZ1bmN0aW9uIGJpZGlSaWdodChwYXJ0KSB7IHJldHVybiBwYXJ0LmxldmVsICUgMiA/IHBhcnQuZnJvbSA6IHBhcnQudG87IH1cblxuICBmdW5jdGlvbiBsaW5lTGVmdChsaW5lKSB7IHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpOyByZXR1cm4gb3JkZXIgPyBiaWRpTGVmdChvcmRlclswXSkgOiAwOyB9XG4gIGZ1bmN0aW9uIGxpbmVSaWdodChsaW5lKSB7XG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSk7XG4gICAgaWYgKCFvcmRlcikgcmV0dXJuIGxpbmUudGV4dC5sZW5ndGg7XG4gICAgcmV0dXJuIGJpZGlSaWdodChsc3Qob3JkZXIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpbmVTdGFydChjbSwgbGluZU4pIHtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoY20uZG9jLCBsaW5lTik7XG4gICAgdmFyIHZpc3VhbCA9IHZpc3VhbExpbmUobGluZSk7XG4gICAgaWYgKHZpc3VhbCAhPSBsaW5lKSBsaW5lTiA9IGxpbmVObyh2aXN1YWwpO1xuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKHZpc3VhbCk7XG4gICAgdmFyIGNoID0gIW9yZGVyID8gMCA6IG9yZGVyWzBdLmxldmVsICUgMiA/IGxpbmVSaWdodCh2aXN1YWwpIDogbGluZUxlZnQodmlzdWFsKTtcbiAgICByZXR1cm4gUG9zKGxpbmVOLCBjaCk7XG4gIH1cbiAgZnVuY3Rpb24gbGluZUVuZChjbSwgbGluZU4pIHtcbiAgICB2YXIgbWVyZ2VkLCBsaW5lID0gZ2V0TGluZShjbS5kb2MsIGxpbmVOKTtcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpKSB7XG4gICAgICBsaW5lID0gbWVyZ2VkLmZpbmQoMSwgdHJ1ZSkubGluZTtcbiAgICAgIGxpbmVOID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSk7XG4gICAgdmFyIGNoID0gIW9yZGVyID8gbGluZS50ZXh0Lmxlbmd0aCA6IG9yZGVyWzBdLmxldmVsICUgMiA/IGxpbmVMZWZ0KGxpbmUpIDogbGluZVJpZ2h0KGxpbmUpO1xuICAgIHJldHVybiBQb3MobGluZU4gPT0gbnVsbCA/IGxpbmVObyhsaW5lKSA6IGxpbmVOLCBjaCk7XG4gIH1cbiAgZnVuY3Rpb24gbGluZVN0YXJ0U21hcnQoY20sIHBvcykge1xuICAgIHZhciBzdGFydCA9IGxpbmVTdGFydChjbSwgcG9zLmxpbmUpO1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIHN0YXJ0LmxpbmUpO1xuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpO1xuICAgIGlmICghb3JkZXIgfHwgb3JkZXJbMF0ubGV2ZWwgPT0gMCkge1xuICAgICAgdmFyIGZpcnN0Tm9uV1MgPSBNYXRoLm1heCgwLCBsaW5lLnRleHQuc2VhcmNoKC9cXFMvKSk7XG4gICAgICB2YXIgaW5XUyA9IHBvcy5saW5lID09IHN0YXJ0LmxpbmUgJiYgcG9zLmNoIDw9IGZpcnN0Tm9uV1MgJiYgcG9zLmNoO1xuICAgICAgcmV0dXJuIFBvcyhzdGFydC5saW5lLCBpbldTID8gMCA6IGZpcnN0Tm9uV1MpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnQ7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYXJlQmlkaUxldmVsKG9yZGVyLCBhLCBiKSB7XG4gICAgdmFyIGxpbmVkaXIgPSBvcmRlclswXS5sZXZlbDtcbiAgICBpZiAoYSA9PSBsaW5lZGlyKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoYiA9PSBsaW5lZGlyKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGEgPCBiO1xuICB9XG4gIHZhciBiaWRpT3RoZXI7XG4gIGZ1bmN0aW9uIGdldEJpZGlQYXJ0QXQob3JkZXIsIHBvcykge1xuICAgIGJpZGlPdGhlciA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDAsIGZvdW5kOyBpIDwgb3JkZXIubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBjdXIgPSBvcmRlcltpXTtcbiAgICAgIGlmIChjdXIuZnJvbSA8IHBvcyAmJiBjdXIudG8gPiBwb3MpIHJldHVybiBpO1xuICAgICAgaWYgKChjdXIuZnJvbSA9PSBwb3MgfHwgY3VyLnRvID09IHBvcykpIHtcbiAgICAgICAgaWYgKGZvdW5kID09IG51bGwpIHtcbiAgICAgICAgICBmb3VuZCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcGFyZUJpZGlMZXZlbChvcmRlciwgY3VyLmxldmVsLCBvcmRlcltmb3VuZF0ubGV2ZWwpKSB7XG4gICAgICAgICAgaWYgKGN1ci5mcm9tICE9IGN1ci50bykgYmlkaU90aGVyID0gZm91bmQ7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGN1ci5mcm9tICE9IGN1ci50bykgYmlkaU90aGVyID0gaTtcbiAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZUluTGluZShsaW5lLCBwb3MsIGRpciwgYnlVbml0KSB7XG4gICAgaWYgKCFieVVuaXQpIHJldHVybiBwb3MgKyBkaXI7XG4gICAgZG8gcG9zICs9IGRpcjtcbiAgICB3aGlsZSAocG9zID4gMCAmJiBpc0V4dGVuZGluZ0NoYXIobGluZS50ZXh0LmNoYXJBdChwb3MpKSk7XG4gICAgcmV0dXJuIHBvcztcbiAgfVxuXG4gIC8vIFRoaXMgaXMgbmVlZGVkIGluIG9yZGVyIHRvIG1vdmUgJ3Zpc3VhbGx5JyB0aHJvdWdoIGJpLWRpcmVjdGlvbmFsXG4gIC8vIHRleHQgLS0gaS5lLiwgcHJlc3NpbmcgbGVmdCBzaG91bGQgbWFrZSB0aGUgY3Vyc29yIGdvIGxlZnQsIGV2ZW5cbiAgLy8gd2hlbiBpbiBSVEwgdGV4dC4gVGhlIHRyaWNreSBwYXJ0IGlzIHRoZSAnanVtcHMnLCB3aGVyZSBSVEwgYW5kXG4gIC8vIExUUiB0ZXh0IHRvdWNoIGVhY2ggb3RoZXIuIFRoaXMgb2Z0ZW4gcmVxdWlyZXMgdGhlIGN1cnNvciBvZmZzZXRcbiAgLy8gdG8gbW92ZSBtb3JlIHRoYW4gb25lIHVuaXQsIGluIG9yZGVyIHRvIHZpc3VhbGx5IG1vdmUgb25lIHVuaXQuXG4gIGZ1bmN0aW9uIG1vdmVWaXN1YWxseShsaW5lLCBzdGFydCwgZGlyLCBieVVuaXQpIHtcbiAgICB2YXIgYmlkaSA9IGdldE9yZGVyKGxpbmUpO1xuICAgIGlmICghYmlkaSkgcmV0dXJuIG1vdmVMb2dpY2FsbHkobGluZSwgc3RhcnQsIGRpciwgYnlVbml0KTtcbiAgICB2YXIgcG9zID0gZ2V0QmlkaVBhcnRBdChiaWRpLCBzdGFydCksIHBhcnQgPSBiaWRpW3Bvc107XG4gICAgdmFyIHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgc3RhcnQsIHBhcnQubGV2ZWwgJSAyID8gLWRpciA6IGRpciwgYnlVbml0KTtcblxuICAgIGZvciAoOzspIHtcbiAgICAgIGlmICh0YXJnZXQgPiBwYXJ0LmZyb20gJiYgdGFyZ2V0IDwgcGFydC50bykgcmV0dXJuIHRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQgPT0gcGFydC5mcm9tIHx8IHRhcmdldCA9PSBwYXJ0LnRvKSB7XG4gICAgICAgIGlmIChnZXRCaWRpUGFydEF0KGJpZGksIHRhcmdldCkgPT0gcG9zKSByZXR1cm4gdGFyZ2V0O1xuICAgICAgICBwYXJ0ID0gYmlkaVtwb3MgKz0gZGlyXTtcbiAgICAgICAgcmV0dXJuIChkaXIgPiAwKSA9PSBwYXJ0LmxldmVsICUgMiA/IHBhcnQudG8gOiBwYXJ0LmZyb207XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0ID0gYmlkaVtwb3MgKz0gZGlyXTtcbiAgICAgICAgaWYgKCFwYXJ0KSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKChkaXIgPiAwKSA9PSBwYXJ0LmxldmVsICUgMilcbiAgICAgICAgICB0YXJnZXQgPSBtb3ZlSW5MaW5lKGxpbmUsIHBhcnQudG8sIC0xLCBieVVuaXQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGFyZ2V0ID0gbW92ZUluTGluZShsaW5lLCBwYXJ0LmZyb20sIDEsIGJ5VW5pdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbW92ZUxvZ2ljYWxseShsaW5lLCBzdGFydCwgZGlyLCBieVVuaXQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gc3RhcnQgKyBkaXI7XG4gICAgaWYgKGJ5VW5pdCkgd2hpbGUgKHRhcmdldCA+IDAgJiYgaXNFeHRlbmRpbmdDaGFyKGxpbmUudGV4dC5jaGFyQXQodGFyZ2V0KSkpIHRhcmdldCArPSBkaXI7XG4gICAgcmV0dXJuIHRhcmdldCA8IDAgfHwgdGFyZ2V0ID4gbGluZS50ZXh0Lmxlbmd0aCA/IG51bGwgOiB0YXJnZXQ7XG4gIH1cblxuICAvLyBCaWRpcmVjdGlvbmFsIG9yZGVyaW5nIGFsZ29yaXRobVxuICAvLyBTZWUgaHR0cDovL3VuaWNvZGUub3JnL3JlcG9ydHMvdHI5L3RyOS0xMy5odG1sIGZvciB0aGUgYWxnb3JpdGhtXG4gIC8vIHRoYXQgdGhpcyAocGFydGlhbGx5KSBpbXBsZW1lbnRzLlxuXG4gIC8vIE9uZS1jaGFyIGNvZGVzIHVzZWQgZm9yIGNoYXJhY3RlciB0eXBlczpcbiAgLy8gTCAoTCk6ICAgTGVmdC10by1SaWdodFxuICAvLyBSIChSKTogICBSaWdodC10by1MZWZ0XG4gIC8vIHIgKEFMKTogIFJpZ2h0LXRvLUxlZnQgQXJhYmljXG4gIC8vIDEgKEVOKTogIEV1cm9wZWFuIE51bWJlclxuICAvLyArIChFUyk6ICBFdXJvcGVhbiBOdW1iZXIgU2VwYXJhdG9yXG4gIC8vICUgKEVUKTogIEV1cm9wZWFuIE51bWJlciBUZXJtaW5hdG9yXG4gIC8vIG4gKEFOKTogIEFyYWJpYyBOdW1iZXJcbiAgLy8gLCAoQ1MpOiAgQ29tbW9uIE51bWJlciBTZXBhcmF0b3JcbiAgLy8gbSAoTlNNKTogTm9uLVNwYWNpbmcgTWFya1xuICAvLyBiIChCTik6ICBCb3VuZGFyeSBOZXV0cmFsXG4gIC8vIHMgKEIpOiAgIFBhcmFncmFwaCBTZXBhcmF0b3JcbiAgLy8gdCAoUyk6ICAgU2VnbWVudCBTZXBhcmF0b3JcbiAgLy8gdyAoV1MpOiAgV2hpdGVzcGFjZVxuICAvLyBOIChPTik6ICBPdGhlciBOZXV0cmFsc1xuXG4gIC8vIFJldHVybnMgbnVsbCBpZiBjaGFyYWN0ZXJzIGFyZSBvcmRlcmVkIGFzIHRoZXkgYXBwZWFyXG4gIC8vIChsZWZ0LXRvLXJpZ2h0KSwgb3IgYW4gYXJyYXkgb2Ygc2VjdGlvbnMgKHtmcm9tLCB0bywgbGV2ZWx9XG4gIC8vIG9iamVjdHMpIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IG9jY3VyIHZpc3VhbGx5LlxuICB2YXIgYmlkaU9yZGVyaW5nID0gKGZ1bmN0aW9uKCkge1xuICAgIC8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAwIHRvIDB4ZmZcbiAgICB2YXIgbG93VHlwZXMgPSBcImJiYmJiYmJiYnRzdHdzYmJiYmJiYmJiYmJiYmJzc3N0d05OJSUlTk5OTk5OLE4sTjExMTExMTExMTFOTk5OTk5OTExMTExMTExMTExMTExMTExMTExMTExMTExOTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTExMTE5OTk5iYmJiYmJzYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmIsTiUlJSVOTk5OTE5OTk5OJSUxMU5MTk5OMUxOTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTkxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExOXCI7XG4gICAgLy8gQ2hhcmFjdGVyIHR5cGVzIGZvciBjb2RlcG9pbnRzIDB4NjAwIHRvIDB4NmZmXG4gICAgdmFyIGFyYWJpY1R5cGVzID0gXCJycnJycnJycnJycnIsck5ObW1tbW1tcnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJtbW1tbW1tbW1tbW1tbXJycnJycnJubm5ubm5ubm5uJW5ucnJybXJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW1tbW1tbW1tbW1tbU5tbW1tXCI7XG4gICAgZnVuY3Rpb24gY2hhclR5cGUoY29kZSkge1xuICAgICAgaWYgKGNvZGUgPD0gMHhmNykgcmV0dXJuIGxvd1R5cGVzLmNoYXJBdChjb2RlKTtcbiAgICAgIGVsc2UgaWYgKDB4NTkwIDw9IGNvZGUgJiYgY29kZSA8PSAweDVmNCkgcmV0dXJuIFwiUlwiO1xuICAgICAgZWxzZSBpZiAoMHg2MDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4NmVkKSByZXR1cm4gYXJhYmljVHlwZXMuY2hhckF0KGNvZGUgLSAweDYwMCk7XG4gICAgICBlbHNlIGlmICgweDZlZSA8PSBjb2RlICYmIGNvZGUgPD0gMHg4YWMpIHJldHVybiBcInJcIjtcbiAgICAgIGVsc2UgaWYgKDB4MjAwMCA8PSBjb2RlICYmIGNvZGUgPD0gMHgyMDBiKSByZXR1cm4gXCJ3XCI7XG4gICAgICBlbHNlIGlmIChjb2RlID09IDB4MjAwYykgcmV0dXJuIFwiYlwiO1xuICAgICAgZWxzZSByZXR1cm4gXCJMXCI7XG4gICAgfVxuXG4gICAgdmFyIGJpZGlSRSA9IC9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXS87XG4gICAgdmFyIGlzTmV1dHJhbCA9IC9bc3R3Tl0vLCBpc1N0cm9uZyA9IC9bTFJyXS8sIGNvdW50c0FzTGVmdCA9IC9bTGIxbl0vLCBjb3VudHNBc051bSA9IC9bMW5dLztcbiAgICAvLyBCcm93c2VycyBzZWVtIHRvIGFsd2F5cyB0cmVhdCB0aGUgYm91bmRhcmllcyBvZiBibG9jayBlbGVtZW50cyBhcyBiZWluZyBMLlxuICAgIHZhciBvdXRlclR5cGUgPSBcIkxcIjtcblxuICAgIGZ1bmN0aW9uIEJpZGlTcGFuKGxldmVsLCBmcm9tLCB0bykge1xuICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgICAgdGhpcy5mcm9tID0gZnJvbTsgdGhpcy50byA9IHRvO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihzdHIpIHtcbiAgICAgIGlmICghYmlkaVJFLnRlc3Qoc3RyKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIGxlbiA9IHN0ci5sZW5ndGgsIHR5cGVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgdHlwZTsgaSA8IGxlbjsgKytpKVxuICAgICAgICB0eXBlcy5wdXNoKHR5cGUgPSBjaGFyVHlwZShzdHIuY2hhckNvZGVBdChpKSkpO1xuXG4gICAgICAvLyBXMS4gRXhhbWluZSBlYWNoIG5vbi1zcGFjaW5nIG1hcmsgKE5TTSkgaW4gdGhlIGxldmVsIHJ1biwgYW5kXG4gICAgICAvLyBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIE5TTSB0byB0aGUgdHlwZSBvZiB0aGUgcHJldmlvdXNcbiAgICAgIC8vIGNoYXJhY3Rlci4gSWYgdGhlIE5TTSBpcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGxldmVsIHJ1biwgaXQgd2lsbFxuICAgICAgLy8gZ2V0IHRoZSB0eXBlIG9mIHNvci5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBwcmV2ID0gb3V0ZXJUeXBlOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJtXCIpIHR5cGVzW2ldID0gcHJldjtcbiAgICAgICAgZWxzZSBwcmV2ID0gdHlwZTtcbiAgICAgIH1cblxuICAgICAgLy8gVzIuIFNlYXJjaCBiYWNrd2FyZHMgZnJvbSBlYWNoIGluc3RhbmNlIG9mIGEgRXVyb3BlYW4gbnVtYmVyXG4gICAgICAvLyB1bnRpbCB0aGUgZmlyc3Qgc3Ryb25nIHR5cGUgKFIsIEwsIEFMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhblxuICAgICAgLy8gQUwgaXMgZm91bmQsIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEFyYWJpY1xuICAgICAgLy8gbnVtYmVyLlxuICAgICAgLy8gVzMuIENoYW5nZSBhbGwgQUxzIHRvIFIuXG4gICAgICBmb3IgKHZhciBpID0gMCwgY3VyID0gb3V0ZXJUeXBlOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCIxXCIgJiYgY3VyID09IFwiclwiKSB0eXBlc1tpXSA9IFwiblwiO1xuICAgICAgICBlbHNlIGlmIChpc1N0cm9uZy50ZXN0KHR5cGUpKSB7IGN1ciA9IHR5cGU7IGlmICh0eXBlID09IFwiclwiKSB0eXBlc1tpXSA9IFwiUlwiOyB9XG4gICAgICB9XG5cbiAgICAgIC8vIFc0LiBBIHNpbmdsZSBFdXJvcGVhbiBzZXBhcmF0b3IgYmV0d2VlbiB0d28gRXVyb3BlYW4gbnVtYmVyc1xuICAgICAgLy8gY2hhbmdlcyB0byBhIEV1cm9wZWFuIG51bWJlci4gQSBzaW5nbGUgY29tbW9uIHNlcGFyYXRvciBiZXR3ZWVuXG4gICAgICAvLyB0d28gbnVtYmVycyBvZiB0aGUgc2FtZSB0eXBlIGNoYW5nZXMgdG8gdGhhdCB0eXBlLlxuICAgICAgZm9yICh2YXIgaSA9IDEsIHByZXYgPSB0eXBlc1swXTsgaSA8IGxlbiAtIDE7ICsraSkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICBpZiAodHlwZSA9PSBcIitcIiAmJiBwcmV2ID09IFwiMVwiICYmIHR5cGVzW2krMV0gPT0gXCIxXCIpIHR5cGVzW2ldID0gXCIxXCI7XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCIsXCIgJiYgcHJldiA9PSB0eXBlc1tpKzFdICYmXG4gICAgICAgICAgICAgICAgIChwcmV2ID09IFwiMVwiIHx8IHByZXYgPT0gXCJuXCIpKSB0eXBlc1tpXSA9IHByZXY7XG4gICAgICAgIHByZXYgPSB0eXBlO1xuICAgICAgfVxuXG4gICAgICAvLyBXNS4gQSBzZXF1ZW5jZSBvZiBFdXJvcGVhbiB0ZXJtaW5hdG9ycyBhZGphY2VudCB0byBFdXJvcGVhblxuICAgICAgLy8gbnVtYmVycyBjaGFuZ2VzIHRvIGFsbCBFdXJvcGVhbiBudW1iZXJzLlxuICAgICAgLy8gVzYuIE90aGVyd2lzZSwgc2VwYXJhdG9ycyBhbmQgdGVybWluYXRvcnMgY2hhbmdlIHRvIE90aGVyXG4gICAgICAvLyBOZXV0cmFsLlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICBpZiAodHlwZSA9PSBcIixcIikgdHlwZXNbaV0gPSBcIk5cIjtcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBcIiVcIikge1xuICAgICAgICAgIGZvciAodmFyIGVuZCA9IGkgKyAxOyBlbmQgPCBsZW4gJiYgdHlwZXNbZW5kXSA9PSBcIiVcIjsgKytlbmQpIHt9XG4gICAgICAgICAgdmFyIHJlcGxhY2UgPSAoaSAmJiB0eXBlc1tpLTFdID09IFwiIVwiKSB8fCAoZW5kIDwgbGVuICYmIHR5cGVzW2VuZF0gPT0gXCIxXCIpID8gXCIxXCIgOiBcIk5cIjtcbiAgICAgICAgICBmb3IgKHZhciBqID0gaTsgaiA8IGVuZDsgKytqKSB0eXBlc1tqXSA9IHJlcGxhY2U7XG4gICAgICAgICAgaSA9IGVuZCAtIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVzcuIFNlYXJjaCBiYWNrd2FyZHMgZnJvbSBlYWNoIGluc3RhbmNlIG9mIGEgRXVyb3BlYW4gbnVtYmVyXG4gICAgICAvLyB1bnRpbCB0aGUgZmlyc3Qgc3Ryb25nIHR5cGUgKFIsIEwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuIEwgaXNcbiAgICAgIC8vIGZvdW5kLCB0aGVuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEwuXG4gICAgICBmb3IgKHZhciBpID0gMCwgY3VyID0gb3V0ZXJUeXBlOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgaWYgKGN1ciA9PSBcIkxcIiAmJiB0eXBlID09IFwiMVwiKSB0eXBlc1tpXSA9IFwiTFwiO1xuICAgICAgICBlbHNlIGlmIChpc1N0cm9uZy50ZXN0KHR5cGUpKSBjdXIgPSB0eXBlO1xuICAgICAgfVxuXG4gICAgICAvLyBOMS4gQSBzZXF1ZW5jZSBvZiBuZXV0cmFscyB0YWtlcyB0aGUgZGlyZWN0aW9uIG9mIHRoZVxuICAgICAgLy8gc3Vycm91bmRpbmcgc3Ryb25nIHRleHQgaWYgdGhlIHRleHQgb24gYm90aCBzaWRlcyBoYXMgdGhlIHNhbWVcbiAgICAgIC8vIGRpcmVjdGlvbi4gRXVyb3BlYW4gYW5kIEFyYWJpYyBudW1iZXJzIGFjdCBhcyBpZiB0aGV5IHdlcmUgUiBpblxuICAgICAgLy8gdGVybXMgb2YgdGhlaXIgaW5mbHVlbmNlIG9uIG5ldXRyYWxzLiBTdGFydC1vZi1sZXZlbC1ydW4gKHNvcilcbiAgICAgIC8vIGFuZCBlbmQtb2YtbGV2ZWwtcnVuIChlb3IpIGFyZSB1c2VkIGF0IGxldmVsIHJ1biBib3VuZGFyaWVzLlxuICAgICAgLy8gTjIuIEFueSByZW1haW5pbmcgbmV1dHJhbHMgdGFrZSB0aGUgZW1iZWRkaW5nIGRpcmVjdGlvbi5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgaWYgKGlzTmV1dHJhbC50ZXN0KHR5cGVzW2ldKSkge1xuICAgICAgICAgIGZvciAodmFyIGVuZCA9IGkgKyAxOyBlbmQgPCBsZW4gJiYgaXNOZXV0cmFsLnRlc3QodHlwZXNbZW5kXSk7ICsrZW5kKSB7fVxuICAgICAgICAgIHZhciBiZWZvcmUgPSAoaSA/IHR5cGVzW2ktMV0gOiBvdXRlclR5cGUpID09IFwiTFwiO1xuICAgICAgICAgIHZhciBhZnRlciA9IChlbmQgPCBsZW4gPyB0eXBlc1tlbmRdIDogb3V0ZXJUeXBlKSA9PSBcIkxcIjtcbiAgICAgICAgICB2YXIgcmVwbGFjZSA9IGJlZm9yZSB8fCBhZnRlciA/IFwiTFwiIDogXCJSXCI7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IGk7IGogPCBlbmQ7ICsraikgdHlwZXNbal0gPSByZXBsYWNlO1xuICAgICAgICAgIGkgPSBlbmQgLSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEhlcmUgd2UgZGVwYXJ0IGZyb20gdGhlIGRvY3VtZW50ZWQgYWxnb3JpdGhtLCBpbiBvcmRlciB0byBhdm9pZFxuICAgICAgLy8gYnVpbGRpbmcgdXAgYW4gYWN0dWFsIGxldmVscyBhcnJheS4gU2luY2UgdGhlcmUgYXJlIG9ubHkgdGhyZWVcbiAgICAgIC8vIGxldmVscyAoMCwgMSwgMikgaW4gYW4gaW1wbGVtZW50YXRpb24gdGhhdCBkb2Vzbid0IHRha2VcbiAgICAgIC8vIGV4cGxpY2l0IGVtYmVkZGluZyBpbnRvIGFjY291bnQsIHdlIGNhbiBidWlsZCB1cCB0aGUgb3JkZXIgb25cbiAgICAgIC8vIHRoZSBmbHksIHdpdGhvdXQgZm9sbG93aW5nIHRoZSBsZXZlbC1iYXNlZCBhbGdvcml0aG0uXG4gICAgICB2YXIgb3JkZXIgPSBbXSwgbTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOykge1xuICAgICAgICBpZiAoY291bnRzQXNMZWZ0LnRlc3QodHlwZXNbaV0pKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0ID0gaTtcbiAgICAgICAgICBmb3IgKCsraTsgaSA8IGxlbiAmJiBjb3VudHNBc0xlZnQudGVzdCh0eXBlc1tpXSk7ICsraSkge31cbiAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbigwLCBzdGFydCwgaSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwb3MgPSBpLCBhdCA9IG9yZGVyLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKCsraTsgaSA8IGxlbiAmJiB0eXBlc1tpXSAhPSBcIkxcIjsgKytpKSB7fVxuICAgICAgICAgIGZvciAodmFyIGogPSBwb3M7IGogPCBpOykge1xuICAgICAgICAgICAgaWYgKGNvdW50c0FzTnVtLnRlc3QodHlwZXNbal0pKSB7XG4gICAgICAgICAgICAgIGlmIChwb3MgPCBqKSBvcmRlci5zcGxpY2UoYXQsIDAsIG5ldyBCaWRpU3BhbigxLCBwb3MsIGopKTtcbiAgICAgICAgICAgICAgdmFyIG5zdGFydCA9IGo7XG4gICAgICAgICAgICAgIGZvciAoKytqOyBqIDwgaSAmJiBjb3VudHNBc051bS50ZXN0KHR5cGVzW2pdKTsgKytqKSB7fVxuICAgICAgICAgICAgICBvcmRlci5zcGxpY2UoYXQsIDAsIG5ldyBCaWRpU3BhbigyLCBuc3RhcnQsIGopKTtcbiAgICAgICAgICAgICAgcG9zID0gajtcbiAgICAgICAgICAgIH0gZWxzZSArK2o7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwb3MgPCBpKSBvcmRlci5zcGxpY2UoYXQsIDAsIG5ldyBCaWRpU3BhbigxLCBwb3MsIGkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG9yZGVyWzBdLmxldmVsID09IDEgJiYgKG0gPSBzdHIubWF0Y2goL15cXHMrLykpKSB7XG4gICAgICAgIG9yZGVyWzBdLmZyb20gPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgb3JkZXIudW5zaGlmdChuZXcgQmlkaVNwYW4oMCwgMCwgbVswXS5sZW5ndGgpKTtcbiAgICAgIH1cbiAgICAgIGlmIChsc3Qob3JkZXIpLmxldmVsID09IDEgJiYgKG0gPSBzdHIubWF0Y2goL1xccyskLykpKSB7XG4gICAgICAgIGxzdChvcmRlcikudG8gLT0gbVswXS5sZW5ndGg7XG4gICAgICAgIG9yZGVyLnB1c2gobmV3IEJpZGlTcGFuKDAsIGxlbiAtIG1bMF0ubGVuZ3RoLCBsZW4pKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcmRlclswXS5sZXZlbCA9PSAyKVxuICAgICAgICBvcmRlci51bnNoaWZ0KG5ldyBCaWRpU3BhbigxLCBvcmRlclswXS50bywgb3JkZXJbMF0udG8pKTtcbiAgICAgIGlmIChvcmRlclswXS5sZXZlbCAhPSBsc3Qob3JkZXIpLmxldmVsKVxuICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbihvcmRlclswXS5sZXZlbCwgbGVuLCBsZW4pKTtcblxuICAgICAgcmV0dXJuIG9yZGVyO1xuICAgIH07XG4gIH0pKCk7XG5cbiAgLy8gVEhFIEVORFxuXG4gIENvZGVNaXJyb3IudmVyc2lvbiA9IFwiNS4xNS4yXCI7XG5cbiAgcmV0dXJuIENvZGVNaXJyb3I7XG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cDovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcblwidXNlIHN0cmljdFwiO1xuXG5Db2RlTWlycm9yLmRlZmluZU1vZGUoXCJjc3NcIiwgZnVuY3Rpb24oY29uZmlnLCBwYXJzZXJDb25maWcpIHtcbiAgdmFyIGlubGluZSA9IHBhcnNlckNvbmZpZy5pbmxpbmVcbiAgaWYgKCFwYXJzZXJDb25maWcucHJvcGVydHlLZXl3b3JkcykgcGFyc2VyQ29uZmlnID0gQ29kZU1pcnJvci5yZXNvbHZlTW9kZShcInRleHQvY3NzXCIpO1xuXG4gIHZhciBpbmRlbnRVbml0ID0gY29uZmlnLmluZGVudFVuaXQsXG4gICAgICB0b2tlbkhvb2tzID0gcGFyc2VyQ29uZmlnLnRva2VuSG9va3MsXG4gICAgICBkb2N1bWVudFR5cGVzID0gcGFyc2VyQ29uZmlnLmRvY3VtZW50VHlwZXMgfHwge30sXG4gICAgICBtZWRpYVR5cGVzID0gcGFyc2VyQ29uZmlnLm1lZGlhVHlwZXMgfHwge30sXG4gICAgICBtZWRpYUZlYXR1cmVzID0gcGFyc2VyQ29uZmlnLm1lZGlhRmVhdHVyZXMgfHwge30sXG4gICAgICBtZWRpYVZhbHVlS2V5d29yZHMgPSBwYXJzZXJDb25maWcubWVkaWFWYWx1ZUtleXdvcmRzIHx8IHt9LFxuICAgICAgcHJvcGVydHlLZXl3b3JkcyA9IHBhcnNlckNvbmZpZy5wcm9wZXJ0eUtleXdvcmRzIHx8IHt9LFxuICAgICAgbm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzID0gcGFyc2VyQ29uZmlnLm5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3JkcyB8fCB7fSxcbiAgICAgIGZvbnRQcm9wZXJ0aWVzID0gcGFyc2VyQ29uZmlnLmZvbnRQcm9wZXJ0aWVzIHx8IHt9LFxuICAgICAgY291bnRlckRlc2NyaXB0b3JzID0gcGFyc2VyQ29uZmlnLmNvdW50ZXJEZXNjcmlwdG9ycyB8fCB7fSxcbiAgICAgIGNvbG9yS2V5d29yZHMgPSBwYXJzZXJDb25maWcuY29sb3JLZXl3b3JkcyB8fCB7fSxcbiAgICAgIHZhbHVlS2V5d29yZHMgPSBwYXJzZXJDb25maWcudmFsdWVLZXl3b3JkcyB8fCB7fSxcbiAgICAgIGFsbG93TmVzdGVkID0gcGFyc2VyQ29uZmlnLmFsbG93TmVzdGVkLFxuICAgICAgc3VwcG9ydHNBdENvbXBvbmVudCA9IHBhcnNlckNvbmZpZy5zdXBwb3J0c0F0Q29tcG9uZW50ID09PSB0cnVlO1xuXG4gIHZhciB0eXBlLCBvdmVycmlkZTtcbiAgZnVuY3Rpb24gcmV0KHN0eWxlLCB0cCkgeyB0eXBlID0gdHA7IHJldHVybiBzdHlsZTsgfVxuXG4gIC8vIFRva2VuaXplcnNcblxuICBmdW5jdGlvbiB0b2tlbkJhc2Uoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gICAgaWYgKHRva2VuSG9va3NbY2hdKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9rZW5Ib29rc1tjaF0oc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAocmVzdWx0ICE9PSBmYWxzZSkgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaWYgKGNoID09IFwiQFwiKSB7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXFxcXFwtXS8pO1xuICAgICAgcmV0dXJuIHJldChcImRlZlwiLCBzdHJlYW0uY3VycmVudCgpKTtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiPVwiIHx8IChjaCA9PSBcIn5cIiB8fCBjaCA9PSBcInxcIikgJiYgc3RyZWFtLmVhdChcIj1cIikpIHtcbiAgICAgIHJldHVybiByZXQobnVsbCwgXCJjb21wYXJlXCIpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCJcXFwiXCIgfHwgY2ggPT0gXCInXCIpIHtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5TdHJpbmcoY2gpO1xuICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIjXCIpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcXFxcXC1dLyk7XG4gICAgICByZXR1cm4gcmV0KFwiYXRvbVwiLCBcImhhc2hcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIiFcIikge1xuICAgICAgc3RyZWFtLm1hdGNoKC9eXFxzKlxcdyovKTtcbiAgICAgIHJldHVybiByZXQoXCJrZXl3b3JkXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgIH0gZWxzZSBpZiAoL1xcZC8udGVzdChjaCkgfHwgY2ggPT0gXCIuXCIgJiYgc3RyZWFtLmVhdCgvXFxkLykpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcdy4lXS8pO1xuICAgICAgcmV0dXJuIHJldChcIm51bWJlclwiLCBcInVuaXRcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gXCItXCIpIHtcbiAgICAgIGlmICgvW1xcZC5dLy50ZXN0KHN0cmVhbS5wZWVrKCkpKSB7XG4gICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcdy4lXS8pO1xuICAgICAgICByZXR1cm4gcmV0KFwibnVtYmVyXCIsIFwidW5pdFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKC9eLVtcXHdcXFxcXFwtXSsvKSkge1xuICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXFxcXFwtXS8pO1xuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eXFxzKjovLCBmYWxzZSkpXG4gICAgICAgICAgcmV0dXJuIHJldChcInZhcmlhYmxlLTJcIiwgXCJ2YXJpYWJsZS1kZWZpbml0aW9uXCIpO1xuICAgICAgICByZXR1cm4gcmV0KFwidmFyaWFibGUtMlwiLCBcInZhcmlhYmxlXCIpO1xuICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goL15cXHcrLS8pKSB7XG4gICAgICAgIHJldHVybiByZXQoXCJtZXRhXCIsIFwibWV0YVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKC9bLCs+KlxcL10vLnRlc3QoY2gpKSB7XG4gICAgICByZXR1cm4gcmV0KG51bGwsIFwic2VsZWN0LW9wXCIpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIuXCIgJiYgc3RyZWFtLm1hdGNoKC9eLT9bX2Etel1bX2EtejAtOS1dKi9pKSkge1xuICAgICAgcmV0dXJuIHJldChcInF1YWxpZmllclwiLCBcInF1YWxpZmllclwiKTtcbiAgICB9IGVsc2UgaWYgKC9bOjt7fVxcW1xcXVxcKFxcKV0vLnRlc3QoY2gpKSB7XG4gICAgICByZXR1cm4gcmV0KG51bGwsIGNoKTtcbiAgICB9IGVsc2UgaWYgKChjaCA9PSBcInVcIiAmJiBzdHJlYW0ubWF0Y2goL3JsKC1wcmVmaXgpP1xcKC8pKSB8fFxuICAgICAgICAgICAgICAgKGNoID09IFwiZFwiICYmIHN0cmVhbS5tYXRjaChcIm9tYWluKFwiKSkgfHxcbiAgICAgICAgICAgICAgIChjaCA9PSBcInJcIiAmJiBzdHJlYW0ubWF0Y2goXCJlZ2V4cChcIikpKSB7XG4gICAgICBzdHJlYW0uYmFja1VwKDEpO1xuICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlblBhcmVudGhlc2l6ZWQ7XG4gICAgICByZXR1cm4gcmV0KFwicHJvcGVydHlcIiwgXCJ3b3JkXCIpO1xuICAgIH0gZWxzZSBpZiAoL1tcXHdcXFxcXFwtXS8udGVzdChjaCkpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcXFxcXC1dLyk7XG4gICAgICByZXR1cm4gcmV0KFwicHJvcGVydHlcIiwgXCJ3b3JkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0KG51bGwsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuU3RyaW5nKHF1b3RlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIGNoO1xuICAgICAgd2hpbGUgKChjaCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGNoID09IHF1b3RlICYmICFlc2NhcGVkKSB7XG4gICAgICAgICAgaWYgKHF1b3RlID09IFwiKVwiKSBzdHJlYW0uYmFja1VwKDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVzY2FwZWQgPSAhZXNjYXBlZCAmJiBjaCA9PSBcIlxcXFxcIjtcbiAgICAgIH1cbiAgICAgIGlmIChjaCA9PSBxdW90ZSB8fCAhZXNjYXBlZCAmJiBxdW90ZSAhPSBcIilcIikgc3RhdGUudG9rZW5pemUgPSBudWxsO1xuICAgICAgcmV0dXJuIHJldChcInN0cmluZ1wiLCBcInN0cmluZ1wiKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5QYXJlbnRoZXNpemVkKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBzdHJlYW0ubmV4dCgpOyAvLyBNdXN0IGJlICcoJ1xuICAgIGlmICghc3RyZWFtLm1hdGNoKC9cXHMqW1xcXCJcXCcpXS8sIGZhbHNlKSlcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5TdHJpbmcoXCIpXCIpO1xuICAgIGVsc2VcbiAgICAgIHN0YXRlLnRva2VuaXplID0gbnVsbDtcbiAgICByZXR1cm4gcmV0KG51bGwsIFwiKFwiKTtcbiAgfVxuXG4gIC8vIENvbnRleHQgbWFuYWdlbWVudFxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHlwZSwgaW5kZW50LCBwcmV2KSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmluZGVudCA9IGluZGVudDtcbiAgICB0aGlzLnByZXYgPSBwcmV2O1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgdHlwZSwgaW5kZW50KSB7XG4gICAgc3RhdGUuY29udGV4dCA9IG5ldyBDb250ZXh0KHR5cGUsIHN0cmVhbS5pbmRlbnRhdGlvbigpICsgKGluZGVudCA9PT0gZmFsc2UgPyAwIDogaW5kZW50VW5pdCksIHN0YXRlLmNvbnRleHQpO1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wQ29udGV4dChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5jb250ZXh0LnByZXYpXG4gICAgICBzdGF0ZS5jb250ZXh0ID0gc3RhdGUuY29udGV4dC5wcmV2O1xuICAgIHJldHVybiBzdGF0ZS5jb250ZXh0LnR5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBwYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGVzW3N0YXRlLmNvbnRleHQudHlwZV0odHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gcG9wQW5kUGFzcyh0eXBlLCBzdHJlYW0sIHN0YXRlLCBuKSB7XG4gICAgZm9yICh2YXIgaSA9IG4gfHwgMTsgaSA+IDA7IGktLSlcbiAgICAgIHN0YXRlLmNvbnRleHQgPSBzdGF0ZS5jb250ZXh0LnByZXY7XG4gICAgcmV0dXJuIHBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cblxuICAvLyBQYXJzZXJcblxuICBmdW5jdGlvbiB3b3JkQXNWYWx1ZShzdHJlYW0pIHtcbiAgICB2YXIgd29yZCA9IHN0cmVhbS5jdXJyZW50KCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAodmFsdWVLZXl3b3Jkcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgIG92ZXJyaWRlID0gXCJhdG9tXCI7XG4gICAgZWxzZSBpZiAoY29sb3JLZXl3b3Jkcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgIG92ZXJyaWRlID0gXCJrZXl3b3JkXCI7XG4gICAgZWxzZVxuICAgICAgb3ZlcnJpZGUgPSBcInZhcmlhYmxlXCI7XG4gIH1cblxuICB2YXIgc3RhdGVzID0ge307XG5cbiAgc3RhdGVzLnRvcCA9IGZ1bmN0aW9uKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIntcIikge1xuICAgICAgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwiYmxvY2tcIik7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwifVwiICYmIHN0YXRlLmNvbnRleHQucHJldikge1xuICAgICAgcmV0dXJuIHBvcENvbnRleHQoc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoc3VwcG9ydHNBdENvbXBvbmVudCAmJiAvQGNvbXBvbmVudC8udGVzdCh0eXBlKSkge1xuICAgICAgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwiYXRDb21wb25lbnRCbG9ja1wiKTtcbiAgICB9IGVsc2UgaWYgKC9eQCgtbW96LSk/ZG9jdW1lbnQkLy50ZXN0KHR5cGUpKSB7XG4gICAgICByZXR1cm4gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgXCJkb2N1bWVudFR5cGVzXCIpO1xuICAgIH0gZWxzZSBpZiAoL15AKG1lZGlhfHN1cHBvcnRzfCgtbW96LSk/ZG9jdW1lbnR8aW1wb3J0KSQvLnRlc3QodHlwZSkpIHtcbiAgICAgIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcImF0QmxvY2tcIik7XG4gICAgfSBlbHNlIGlmICgvXkAoZm9udC1mYWNlfGNvdW50ZXItc3R5bGUpLy50ZXN0KHR5cGUpKSB7XG4gICAgICBzdGF0ZS5zdGF0ZUFyZyA9IHR5cGU7XG4gICAgICByZXR1cm4gXCJyZXN0cmljdGVkX2F0QmxvY2tfYmVmb3JlXCI7XG4gICAgfSBlbHNlIGlmICgvXkAoLShtb3p8bXN8b3x3ZWJraXQpLSk/a2V5ZnJhbWVzJC8udGVzdCh0eXBlKSkge1xuICAgICAgcmV0dXJuIFwia2V5ZnJhbWVzXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlICYmIHR5cGUuY2hhckF0KDApID09IFwiQFwiKSB7XG4gICAgICByZXR1cm4gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgXCJhdFwiKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJoYXNoXCIpIHtcbiAgICAgIG92ZXJyaWRlID0gXCJidWlsdGluXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICBvdmVycmlkZSA9IFwidGFnXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwidmFyaWFibGUtZGVmaW5pdGlvblwiKSB7XG4gICAgICByZXR1cm4gXCJtYXliZXByb3BcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJpbnRlcnBvbGF0aW9uXCIpIHtcbiAgICAgIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcImludGVycG9sYXRpb25cIik7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiOlwiKSB7XG4gICAgICByZXR1cm4gXCJwc2V1ZG9cIjtcbiAgICB9IGVsc2UgaWYgKGFsbG93TmVzdGVkICYmIHR5cGUgPT0gXCIoXCIpIHtcbiAgICAgIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcInBhcmVuc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLmNvbnRleHQudHlwZTtcbiAgfTtcblxuICBzdGF0ZXMuYmxvY2sgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIpIHtcbiAgICAgIHZhciB3b3JkID0gc3RyZWFtLmN1cnJlbnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHByb3BlcnR5S2V5d29yZHMuaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgICAgb3ZlcnJpZGUgPSBcInByb3BlcnR5XCI7XG4gICAgICAgIHJldHVybiBcIm1heWJlcHJvcFwiO1xuICAgICAgfSBlbHNlIGlmIChub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMuaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgICAgb3ZlcnJpZGUgPSBcInN0cmluZy0yXCI7XG4gICAgICAgIHJldHVybiBcIm1heWJlcHJvcFwiO1xuICAgICAgfSBlbHNlIGlmIChhbGxvd05lc3RlZCkge1xuICAgICAgICBvdmVycmlkZSA9IHN0cmVhbS5tYXRjaCgvXlxccyo6KD86XFxzfCQpLywgZmFsc2UpID8gXCJwcm9wZXJ0eVwiIDogXCJ0YWdcIjtcbiAgICAgICAgcmV0dXJuIFwiYmxvY2tcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG92ZXJyaWRlICs9IFwiIGVycm9yXCI7XG4gICAgICAgIHJldHVybiBcIm1heWJlcHJvcFwiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIm1ldGFcIikge1xuICAgICAgcmV0dXJuIFwiYmxvY2tcIjtcbiAgICB9IGVsc2UgaWYgKCFhbGxvd05lc3RlZCAmJiAodHlwZSA9PSBcImhhc2hcIiB8fCB0eXBlID09IFwicXVhbGlmaWVyXCIpKSB7XG4gICAgICBvdmVycmlkZSA9IFwiZXJyb3JcIjtcbiAgICAgIHJldHVybiBcImJsb2NrXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGF0ZXMudG9wKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICBzdGF0ZXMubWF5YmVwcm9wID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwiOlwiKSByZXR1cm4gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgXCJwcm9wXCIpO1xuICAgIHJldHVybiBwYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9O1xuXG4gIHN0YXRlcy5wcm9wID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwiO1wiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIgJiYgYWxsb3dOZXN0ZWQpIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcInByb3BCbG9ja1wiKTtcbiAgICBpZiAodHlwZSA9PSBcIn1cIiB8fCB0eXBlID09IFwie1wiKSByZXR1cm4gcG9wQW5kUGFzcyh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBpZiAodHlwZSA9PSBcIihcIikgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwicGFyZW5zXCIpO1xuXG4gICAgaWYgKHR5cGUgPT0gXCJoYXNoXCIgJiYgIS9eIyhbMC05YS1mQS1mXXszLDR9fFswLTlhLWZBLWZdezZ9fFswLTlhLWZBLWZdezh9KSQvLnRlc3Qoc3RyZWFtLmN1cnJlbnQoKSkpIHtcbiAgICAgIG92ZXJyaWRlICs9IFwiIGVycm9yXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICB3b3JkQXNWYWx1ZShzdHJlYW0pO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImludGVycG9sYXRpb25cIikge1xuICAgICAgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwiaW50ZXJwb2xhdGlvblwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFwicHJvcFwiO1xuICB9O1xuXG4gIHN0YXRlcy5wcm9wQmxvY2sgPSBmdW5jdGlvbih0eXBlLCBfc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwifVwiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIpIHsgb3ZlcnJpZGUgPSBcInByb3BlcnR5XCI7IHJldHVybiBcIm1heWJlcHJvcFwiOyB9XG4gICAgcmV0dXJuIHN0YXRlLmNvbnRleHQudHlwZTtcbiAgfTtcblxuICBzdGF0ZXMucGFyZW5zID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwie1wiIHx8IHR5cGUgPT0gXCJ9XCIpIHJldHVybiBwb3BBbmRQYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIGlmICh0eXBlID09IFwiKVwiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcInBhcmVuc1wiKTtcbiAgICBpZiAodHlwZSA9PSBcImludGVycG9sYXRpb25cIikgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwiaW50ZXJwb2xhdGlvblwiKTtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIikgd29yZEFzVmFsdWUoc3RyZWFtKTtcbiAgICByZXR1cm4gXCJwYXJlbnNcIjtcbiAgfTtcblxuICBzdGF0ZXMucHNldWRvID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICBvdmVycmlkZSA9IFwidmFyaWFibGUtM1wiO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvbnRleHQudHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gIH07XG5cbiAgc3RhdGVzLmRvY3VtZW50VHlwZXMgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIgJiYgZG9jdW1lbnRUeXBlcy5oYXNPd25Qcm9wZXJ0eShzdHJlYW0uY3VycmVudCgpKSkge1xuICAgICAgb3ZlcnJpZGUgPSBcInRhZ1wiO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvbnRleHQudHlwZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0YXRlcy5hdEJsb2NrKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICBzdGF0ZXMuYXRCbG9jayA9IGZ1bmN0aW9uKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIihcIikgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwiYXRCbG9ja19wYXJlbnNcIik7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIgfHwgdHlwZSA9PSBcIjtcIikgcmV0dXJuIHBvcEFuZFBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIpIHJldHVybiBwb3BDb250ZXh0KHN0YXRlKSAmJiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBhbGxvd05lc3RlZCA/IFwiYmxvY2tcIiA6IFwidG9wXCIpO1xuXG4gICAgaWYgKHR5cGUgPT0gXCJpbnRlcnBvbGF0aW9uXCIpIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcImludGVycG9sYXRpb25cIik7XG5cbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIikge1xuICAgICAgdmFyIHdvcmQgPSBzdHJlYW0uY3VycmVudCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAod29yZCA9PSBcIm9ubHlcIiB8fCB3b3JkID09IFwibm90XCIgfHwgd29yZCA9PSBcImFuZFwiIHx8IHdvcmQgPT0gXCJvclwiKVxuICAgICAgICBvdmVycmlkZSA9IFwia2V5d29yZFwiO1xuICAgICAgZWxzZSBpZiAobWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgICAgb3ZlcnJpZGUgPSBcImF0dHJpYnV0ZVwiO1xuICAgICAgZWxzZSBpZiAobWVkaWFGZWF0dXJlcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgICAgb3ZlcnJpZGUgPSBcInByb3BlcnR5XCI7XG4gICAgICBlbHNlIGlmIChtZWRpYVZhbHVlS2V5d29yZHMuaGFzT3duUHJvcGVydHkod29yZCkpXG4gICAgICAgIG92ZXJyaWRlID0gXCJrZXl3b3JkXCI7XG4gICAgICBlbHNlIGlmIChwcm9wZXJ0eUtleXdvcmRzLmhhc093blByb3BlcnR5KHdvcmQpKVxuICAgICAgICBvdmVycmlkZSA9IFwicHJvcGVydHlcIjtcbiAgICAgIGVsc2UgaWYgKG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3Jkcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgICAgb3ZlcnJpZGUgPSBcInN0cmluZy0yXCI7XG4gICAgICBlbHNlIGlmICh2YWx1ZUtleXdvcmRzLmhhc093blByb3BlcnR5KHdvcmQpKVxuICAgICAgICBvdmVycmlkZSA9IFwiYXRvbVwiO1xuICAgICAgZWxzZSBpZiAoY29sb3JLZXl3b3Jkcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgICAgb3ZlcnJpZGUgPSBcImtleXdvcmRcIjtcbiAgICAgIGVsc2VcbiAgICAgICAgb3ZlcnJpZGUgPSBcImVycm9yXCI7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5jb250ZXh0LnR5cGU7XG4gIH07XG5cbiAgc3RhdGVzLmF0Q29tcG9uZW50QmxvY2sgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpXG4gICAgICByZXR1cm4gcG9wQW5kUGFzcyh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBpZiAodHlwZSA9PSBcIntcIilcbiAgICAgIHJldHVybiBwb3BDb250ZXh0KHN0YXRlKSAmJiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBhbGxvd05lc3RlZCA/IFwiYmxvY2tcIiA6IFwidG9wXCIsIGZhbHNlKTtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIilcbiAgICAgIG92ZXJyaWRlID0gXCJlcnJvclwiO1xuICAgIHJldHVybiBzdGF0ZS5jb250ZXh0LnR5cGU7XG4gIH07XG5cbiAgc3RhdGVzLmF0QmxvY2tfcGFyZW5zID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwiKVwiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIgfHwgdHlwZSA9PSBcIn1cIikgcmV0dXJuIHBvcEFuZFBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSwgMik7XG4gICAgcmV0dXJuIHN0YXRlcy5hdEJsb2NrKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9O1xuXG4gIHN0YXRlcy5yZXN0cmljdGVkX2F0QmxvY2tfYmVmb3JlID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwie1wiKVxuICAgICAgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwicmVzdHJpY3RlZF9hdEJsb2NrXCIpO1xuICAgIGlmICh0eXBlID09IFwid29yZFwiICYmIHN0YXRlLnN0YXRlQXJnID09IFwiQGNvdW50ZXItc3R5bGVcIikge1xuICAgICAgb3ZlcnJpZGUgPSBcInZhcmlhYmxlXCI7XG4gICAgICByZXR1cm4gXCJyZXN0cmljdGVkX2F0QmxvY2tfYmVmb3JlXCI7XG4gICAgfVxuICAgIHJldHVybiBwYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9O1xuXG4gIHN0YXRlcy5yZXN0cmljdGVkX2F0QmxvY2sgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHtcbiAgICAgIHN0YXRlLnN0YXRlQXJnID0gbnVsbDtcbiAgICAgIHJldHVybiBwb3BDb250ZXh0KHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIpIHtcbiAgICAgIGlmICgoc3RhdGUuc3RhdGVBcmcgPT0gXCJAZm9udC1mYWNlXCIgJiYgIWZvbnRQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHN0cmVhbS5jdXJyZW50KCkudG9Mb3dlckNhc2UoKSkpIHx8XG4gICAgICAgICAgKHN0YXRlLnN0YXRlQXJnID09IFwiQGNvdW50ZXItc3R5bGVcIiAmJiAhY291bnRlckRlc2NyaXB0b3JzLmhhc093blByb3BlcnR5KHN0cmVhbS5jdXJyZW50KCkudG9Mb3dlckNhc2UoKSkpKVxuICAgICAgICBvdmVycmlkZSA9IFwiZXJyb3JcIjtcbiAgICAgIGVsc2VcbiAgICAgICAgb3ZlcnJpZGUgPSBcInByb3BlcnR5XCI7XG4gICAgICByZXR1cm4gXCJtYXliZXByb3BcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwicmVzdHJpY3RlZF9hdEJsb2NrXCI7XG4gIH07XG5cbiAgc3RhdGVzLmtleWZyYW1lcyA9IGZ1bmN0aW9uKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIikgeyBvdmVycmlkZSA9IFwidmFyaWFibGVcIjsgcmV0dXJuIFwia2V5ZnJhbWVzXCI7IH1cbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwidG9wXCIpO1xuICAgIHJldHVybiBwYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9O1xuXG4gIHN0YXRlcy5hdCA9IGZ1bmN0aW9uKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIjtcIikgcmV0dXJuIHBvcENvbnRleHQoc3RhdGUpO1xuICAgIGlmICh0eXBlID09IFwie1wiIHx8IHR5cGUgPT0gXCJ9XCIpIHJldHVybiBwb3BBbmRQYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIGlmICh0eXBlID09IFwid29yZFwiKSBvdmVycmlkZSA9IFwidGFnXCI7XG4gICAgZWxzZSBpZiAodHlwZSA9PSBcImhhc2hcIikgb3ZlcnJpZGUgPSBcImJ1aWx0aW5cIjtcbiAgICByZXR1cm4gXCJhdFwiO1xuICB9O1xuXG4gIHN0YXRlcy5pbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwifVwiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIgfHwgdHlwZSA9PSBcIjtcIikgcmV0dXJuIHBvcEFuZFBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIpIG92ZXJyaWRlID0gXCJ2YXJpYWJsZVwiO1xuICAgIGVsc2UgaWYgKHR5cGUgIT0gXCJ2YXJpYWJsZVwiICYmIHR5cGUgIT0gXCIoXCIgJiYgdHlwZSAhPSBcIilcIikgb3ZlcnJpZGUgPSBcImVycm9yXCI7XG4gICAgcmV0dXJuIFwiaW50ZXJwb2xhdGlvblwiO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oYmFzZSkge1xuICAgICAgcmV0dXJuIHt0b2tlbml6ZTogbnVsbCxcbiAgICAgICAgICAgICAgc3RhdGU6IGlubGluZSA/IFwiYmxvY2tcIiA6IFwidG9wXCIsXG4gICAgICAgICAgICAgIHN0YXRlQXJnOiBudWxsLFxuICAgICAgICAgICAgICBjb250ZXh0OiBuZXcgQ29udGV4dChpbmxpbmUgPyBcImJsb2NrXCIgOiBcInRvcFwiLCBiYXNlIHx8IDAsIG51bGwpfTtcbiAgICB9LFxuXG4gICAgdG9rZW46IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIGlmICghc3RhdGUudG9rZW5pemUgJiYgc3RyZWFtLmVhdFNwYWNlKCkpIHJldHVybiBudWxsO1xuICAgICAgdmFyIHN0eWxlID0gKHN0YXRlLnRva2VuaXplIHx8IHRva2VuQmFzZSkoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAoc3R5bGUgJiYgdHlwZW9mIHN0eWxlID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdHlwZSA9IHN0eWxlWzFdO1xuICAgICAgICBzdHlsZSA9IHN0eWxlWzBdO1xuICAgICAgfVxuICAgICAgb3ZlcnJpZGUgPSBzdHlsZTtcbiAgICAgIHN0YXRlLnN0YXRlID0gc3RhdGVzW3N0YXRlLnN0YXRlXSh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICAgIHJldHVybiBvdmVycmlkZTtcbiAgICB9LFxuXG4gICAgaW5kZW50OiBmdW5jdGlvbihzdGF0ZSwgdGV4dEFmdGVyKSB7XG4gICAgICB2YXIgY3ggPSBzdGF0ZS5jb250ZXh0LCBjaCA9IHRleHRBZnRlciAmJiB0ZXh0QWZ0ZXIuY2hhckF0KDApO1xuICAgICAgdmFyIGluZGVudCA9IGN4LmluZGVudDtcbiAgICAgIGlmIChjeC50eXBlID09IFwicHJvcFwiICYmIChjaCA9PSBcIn1cIiB8fCBjaCA9PSBcIilcIikpIGN4ID0gY3gucHJldjtcbiAgICAgIGlmIChjeC5wcmV2KSB7XG4gICAgICAgIGlmIChjaCA9PSBcIn1cIiAmJiAoY3gudHlwZSA9PSBcImJsb2NrXCIgfHwgY3gudHlwZSA9PSBcInRvcFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN4LnR5cGUgPT0gXCJpbnRlcnBvbGF0aW9uXCIgfHwgY3gudHlwZSA9PSBcInJlc3RyaWN0ZWRfYXRCbG9ja1wiKSkge1xuICAgICAgICAgIC8vIFJlc3VtZSBpbmRlbnRhdGlvbiBmcm9tIHBhcmVudCBjb250ZXh0LlxuICAgICAgICAgIGN4ID0gY3gucHJldjtcbiAgICAgICAgICBpbmRlbnQgPSBjeC5pbmRlbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIpXCIgJiYgKGN4LnR5cGUgPT0gXCJwYXJlbnNcIiB8fCBjeC50eXBlID09IFwiYXRCbG9ja19wYXJlbnNcIikgfHxcbiAgICAgICAgICAgIGNoID09IFwie1wiICYmIChjeC50eXBlID09IFwiYXRcIiB8fCBjeC50eXBlID09IFwiYXRCbG9ja1wiKSkge1xuICAgICAgICAgIC8vIERlZGVudCByZWxhdGl2ZSB0byBjdXJyZW50IGNvbnRleHQuXG4gICAgICAgICAgaW5kZW50ID0gTWF0aC5tYXgoMCwgY3guaW5kZW50IC0gaW5kZW50VW5pdCk7XG4gICAgICAgICAgY3ggPSBjeC5wcmV2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZW50O1xuICAgIH0sXG5cbiAgICBlbGVjdHJpY0NoYXJzOiBcIn1cIixcbiAgICBibG9ja0NvbW1lbnRTdGFydDogXCIvKlwiLFxuICAgIGJsb2NrQ29tbWVudEVuZDogXCIqL1wiLFxuICAgIGZvbGQ6IFwiYnJhY2VcIlxuICB9O1xufSk7XG5cbiAgZnVuY3Rpb24ga2V5U2V0KGFycmF5KSB7XG4gICAgdmFyIGtleXMgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICBrZXlzW2FycmF5W2ldXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50VHlwZXNfID0gW1xuICAgIFwiZG9tYWluXCIsIFwicmVnZXhwXCIsIFwidXJsXCIsIFwidXJsLXByZWZpeFwiXG4gIF0sIGRvY3VtZW50VHlwZXMgPSBrZXlTZXQoZG9jdW1lbnRUeXBlc18pO1xuXG4gIHZhciBtZWRpYVR5cGVzXyA9IFtcbiAgICBcImFsbFwiLCBcImF1cmFsXCIsIFwiYnJhaWxsZVwiLCBcImhhbmRoZWxkXCIsIFwicHJpbnRcIiwgXCJwcm9qZWN0aW9uXCIsIFwic2NyZWVuXCIsXG4gICAgXCJ0dHlcIiwgXCJ0dlwiLCBcImVtYm9zc2VkXCJcbiAgXSwgbWVkaWFUeXBlcyA9IGtleVNldChtZWRpYVR5cGVzXyk7XG5cbiAgdmFyIG1lZGlhRmVhdHVyZXNfID0gW1xuICAgIFwid2lkdGhcIiwgXCJtaW4td2lkdGhcIiwgXCJtYXgtd2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJtaW4taGVpZ2h0XCIsIFwibWF4LWhlaWdodFwiLFxuICAgIFwiZGV2aWNlLXdpZHRoXCIsIFwibWluLWRldmljZS13aWR0aFwiLCBcIm1heC1kZXZpY2Utd2lkdGhcIiwgXCJkZXZpY2UtaGVpZ2h0XCIsXG4gICAgXCJtaW4tZGV2aWNlLWhlaWdodFwiLCBcIm1heC1kZXZpY2UtaGVpZ2h0XCIsIFwiYXNwZWN0LXJhdGlvXCIsXG4gICAgXCJtaW4tYXNwZWN0LXJhdGlvXCIsIFwibWF4LWFzcGVjdC1yYXRpb1wiLCBcImRldmljZS1hc3BlY3QtcmF0aW9cIixcbiAgICBcIm1pbi1kZXZpY2UtYXNwZWN0LXJhdGlvXCIsIFwibWF4LWRldmljZS1hc3BlY3QtcmF0aW9cIiwgXCJjb2xvclwiLCBcIm1pbi1jb2xvclwiLFxuICAgIFwibWF4LWNvbG9yXCIsIFwiY29sb3ItaW5kZXhcIiwgXCJtaW4tY29sb3ItaW5kZXhcIiwgXCJtYXgtY29sb3ItaW5kZXhcIixcbiAgICBcIm1vbm9jaHJvbWVcIiwgXCJtaW4tbW9ub2Nocm9tZVwiLCBcIm1heC1tb25vY2hyb21lXCIsIFwicmVzb2x1dGlvblwiLFxuICAgIFwibWluLXJlc29sdXRpb25cIiwgXCJtYXgtcmVzb2x1dGlvblwiLCBcInNjYW5cIiwgXCJncmlkXCIsIFwib3JpZW50YXRpb25cIixcbiAgICBcImRldmljZS1waXhlbC1yYXRpb1wiLCBcIm1pbi1kZXZpY2UtcGl4ZWwtcmF0aW9cIiwgXCJtYXgtZGV2aWNlLXBpeGVsLXJhdGlvXCIsXG4gICAgXCJwb2ludGVyXCIsIFwiYW55LXBvaW50ZXJcIiwgXCJob3ZlclwiLCBcImFueS1ob3ZlclwiXG4gIF0sIG1lZGlhRmVhdHVyZXMgPSBrZXlTZXQobWVkaWFGZWF0dXJlc18pO1xuXG4gIHZhciBtZWRpYVZhbHVlS2V5d29yZHNfID0gW1xuICAgIFwibGFuZHNjYXBlXCIsIFwicG9ydHJhaXRcIiwgXCJub25lXCIsIFwiY29hcnNlXCIsIFwiZmluZVwiLCBcIm9uLWRlbWFuZFwiLCBcImhvdmVyXCIsXG4gICAgXCJpbnRlcmxhY2VcIiwgXCJwcm9ncmVzc2l2ZVwiXG4gIF0sIG1lZGlhVmFsdWVLZXl3b3JkcyA9IGtleVNldChtZWRpYVZhbHVlS2V5d29yZHNfKTtcblxuICB2YXIgcHJvcGVydHlLZXl3b3Jkc18gPSBbXG4gICAgXCJhbGlnbi1jb250ZW50XCIsIFwiYWxpZ24taXRlbXNcIiwgXCJhbGlnbi1zZWxmXCIsIFwiYWxpZ25tZW50LWFkanVzdFwiLFxuICAgIFwiYWxpZ25tZW50LWJhc2VsaW5lXCIsIFwiYW5jaG9yLXBvaW50XCIsIFwiYW5pbWF0aW9uXCIsIFwiYW5pbWF0aW9uLWRlbGF5XCIsXG4gICAgXCJhbmltYXRpb24tZGlyZWN0aW9uXCIsIFwiYW5pbWF0aW9uLWR1cmF0aW9uXCIsIFwiYW5pbWF0aW9uLWZpbGwtbW9kZVwiLFxuICAgIFwiYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudFwiLCBcImFuaW1hdGlvbi1uYW1lXCIsIFwiYW5pbWF0aW9uLXBsYXktc3RhdGVcIixcbiAgICBcImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb25cIiwgXCJhcHBlYXJhbmNlXCIsIFwiYXppbXV0aFwiLCBcImJhY2tmYWNlLXZpc2liaWxpdHlcIixcbiAgICBcImJhY2tncm91bmRcIiwgXCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnRcIiwgXCJiYWNrZ3JvdW5kLWJsZW5kLW1vZGVcIiwgXCJiYWNrZ3JvdW5kLWNsaXBcIixcbiAgICBcImJhY2tncm91bmQtY29sb3JcIiwgXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwiYmFja2dyb3VuZC1vcmlnaW5cIiwgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsXG4gICAgXCJiYWNrZ3JvdW5kLXJlcGVhdFwiLCBcImJhY2tncm91bmQtc2l6ZVwiLCBcImJhc2VsaW5lLXNoaWZ0XCIsIFwiYmluZGluZ1wiLFxuICAgIFwiYmxlZWRcIiwgXCJib29rbWFyay1sYWJlbFwiLCBcImJvb2ttYXJrLWxldmVsXCIsIFwiYm9va21hcmstc3RhdGVcIixcbiAgICBcImJvb2ttYXJrLXRhcmdldFwiLCBcImJvcmRlclwiLCBcImJvcmRlci1ib3R0b21cIiwgXCJib3JkZXItYm90dG9tLWNvbG9yXCIsXG4gICAgXCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzXCIsIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIixcbiAgICBcImJvcmRlci1ib3R0b20tc3R5bGVcIiwgXCJib3JkZXItYm90dG9tLXdpZHRoXCIsIFwiYm9yZGVyLWNvbGxhcHNlXCIsXG4gICAgXCJib3JkZXItY29sb3JcIiwgXCJib3JkZXItaW1hZ2VcIiwgXCJib3JkZXItaW1hZ2Utb3V0c2V0XCIsXG4gICAgXCJib3JkZXItaW1hZ2UtcmVwZWF0XCIsIFwiYm9yZGVyLWltYWdlLXNsaWNlXCIsIFwiYm9yZGVyLWltYWdlLXNvdXJjZVwiLFxuICAgIFwiYm9yZGVyLWltYWdlLXdpZHRoXCIsIFwiYm9yZGVyLWxlZnRcIiwgXCJib3JkZXItbGVmdC1jb2xvclwiLFxuICAgIFwiYm9yZGVyLWxlZnQtc3R5bGVcIiwgXCJib3JkZXItbGVmdC13aWR0aFwiLCBcImJvcmRlci1yYWRpdXNcIiwgXCJib3JkZXItcmlnaHRcIixcbiAgICBcImJvcmRlci1yaWdodC1jb2xvclwiLCBcImJvcmRlci1yaWdodC1zdHlsZVwiLCBcImJvcmRlci1yaWdodC13aWR0aFwiLFxuICAgIFwiYm9yZGVyLXNwYWNpbmdcIiwgXCJib3JkZXItc3R5bGVcIiwgXCJib3JkZXItdG9wXCIsIFwiYm9yZGVyLXRvcC1jb2xvclwiLFxuICAgIFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiLCBcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCIsIFwiYm9yZGVyLXRvcC1zdHlsZVwiLFxuICAgIFwiYm9yZGVyLXRvcC13aWR0aFwiLCBcImJvcmRlci13aWR0aFwiLCBcImJvdHRvbVwiLCBcImJveC1kZWNvcmF0aW9uLWJyZWFrXCIsXG4gICAgXCJib3gtc2hhZG93XCIsIFwiYm94LXNpemluZ1wiLCBcImJyZWFrLWFmdGVyXCIsIFwiYnJlYWstYmVmb3JlXCIsIFwiYnJlYWstaW5zaWRlXCIsXG4gICAgXCJjYXB0aW9uLXNpZGVcIiwgXCJjbGVhclwiLCBcImNsaXBcIiwgXCJjb2xvclwiLCBcImNvbG9yLXByb2ZpbGVcIiwgXCJjb2x1bW4tY291bnRcIixcbiAgICBcImNvbHVtbi1maWxsXCIsIFwiY29sdW1uLWdhcFwiLCBcImNvbHVtbi1ydWxlXCIsIFwiY29sdW1uLXJ1bGUtY29sb3JcIixcbiAgICBcImNvbHVtbi1ydWxlLXN0eWxlXCIsIFwiY29sdW1uLXJ1bGUtd2lkdGhcIiwgXCJjb2x1bW4tc3BhblwiLCBcImNvbHVtbi13aWR0aFwiLFxuICAgIFwiY29sdW1uc1wiLCBcImNvbnRlbnRcIiwgXCJjb3VudGVyLWluY3JlbWVudFwiLCBcImNvdW50ZXItcmVzZXRcIiwgXCJjcm9wXCIsIFwiY3VlXCIsXG4gICAgXCJjdWUtYWZ0ZXJcIiwgXCJjdWUtYmVmb3JlXCIsIFwiY3Vyc29yXCIsIFwiZGlyZWN0aW9uXCIsIFwiZGlzcGxheVwiLFxuICAgIFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJkcm9wLWluaXRpYWwtYWZ0ZXItYWRqdXN0XCIsXG4gICAgXCJkcm9wLWluaXRpYWwtYWZ0ZXItYWxpZ25cIiwgXCJkcm9wLWluaXRpYWwtYmVmb3JlLWFkanVzdFwiLFxuICAgIFwiZHJvcC1pbml0aWFsLWJlZm9yZS1hbGlnblwiLCBcImRyb3AtaW5pdGlhbC1zaXplXCIsIFwiZHJvcC1pbml0aWFsLXZhbHVlXCIsXG4gICAgXCJlbGV2YXRpb25cIiwgXCJlbXB0eS1jZWxsc1wiLCBcImZpdFwiLCBcImZpdC1wb3NpdGlvblwiLCBcImZsZXhcIiwgXCJmbGV4LWJhc2lzXCIsXG4gICAgXCJmbGV4LWRpcmVjdGlvblwiLCBcImZsZXgtZmxvd1wiLCBcImZsZXgtZ3Jvd1wiLCBcImZsZXgtc2hyaW5rXCIsIFwiZmxleC13cmFwXCIsXG4gICAgXCJmbG9hdFwiLCBcImZsb2F0LW9mZnNldFwiLCBcImZsb3ctZnJvbVwiLCBcImZsb3ctaW50b1wiLCBcImZvbnRcIiwgXCJmb250LWZlYXR1cmUtc2V0dGluZ3NcIixcbiAgICBcImZvbnQtZmFtaWx5XCIsIFwiZm9udC1rZXJuaW5nXCIsIFwiZm9udC1sYW5ndWFnZS1vdmVycmlkZVwiLCBcImZvbnQtc2l6ZVwiLCBcImZvbnQtc2l6ZS1hZGp1c3RcIixcbiAgICBcImZvbnQtc3RyZXRjaFwiLCBcImZvbnQtc3R5bGVcIiwgXCJmb250LXN5bnRoZXNpc1wiLCBcImZvbnQtdmFyaWFudFwiLFxuICAgIFwiZm9udC12YXJpYW50LWFsdGVybmF0ZXNcIiwgXCJmb250LXZhcmlhbnQtY2Fwc1wiLCBcImZvbnQtdmFyaWFudC1lYXN0LWFzaWFuXCIsXG4gICAgXCJmb250LXZhcmlhbnQtbGlnYXR1cmVzXCIsIFwiZm9udC12YXJpYW50LW51bWVyaWNcIiwgXCJmb250LXZhcmlhbnQtcG9zaXRpb25cIixcbiAgICBcImZvbnQtd2VpZ2h0XCIsIFwiZ3JpZFwiLCBcImdyaWQtYXJlYVwiLCBcImdyaWQtYXV0by1jb2x1bW5zXCIsIFwiZ3JpZC1hdXRvLWZsb3dcIixcbiAgICBcImdyaWQtYXV0by1yb3dzXCIsIFwiZ3JpZC1jb2x1bW5cIiwgXCJncmlkLWNvbHVtbi1lbmRcIiwgXCJncmlkLWNvbHVtbi1nYXBcIixcbiAgICBcImdyaWQtY29sdW1uLXN0YXJ0XCIsIFwiZ3JpZC1nYXBcIiwgXCJncmlkLXJvd1wiLCBcImdyaWQtcm93LWVuZFwiLCBcImdyaWQtcm93LWdhcFwiLFxuICAgIFwiZ3JpZC1yb3ctc3RhcnRcIiwgXCJncmlkLXRlbXBsYXRlXCIsIFwiZ3JpZC10ZW1wbGF0ZS1hcmVhc1wiLCBcImdyaWQtdGVtcGxhdGUtY29sdW1uc1wiLFxuICAgIFwiZ3JpZC10ZW1wbGF0ZS1yb3dzXCIsIFwiaGFuZ2luZy1wdW5jdHVhdGlvblwiLCBcImhlaWdodFwiLCBcImh5cGhlbnNcIixcbiAgICBcImljb25cIiwgXCJpbWFnZS1vcmllbnRhdGlvblwiLCBcImltYWdlLXJlbmRlcmluZ1wiLCBcImltYWdlLXJlc29sdXRpb25cIixcbiAgICBcImlubGluZS1ib3gtYWxpZ25cIiwgXCJqdXN0aWZ5LWNvbnRlbnRcIiwgXCJsZWZ0XCIsIFwibGV0dGVyLXNwYWNpbmdcIixcbiAgICBcImxpbmUtYnJlYWtcIiwgXCJsaW5lLWhlaWdodFwiLCBcImxpbmUtc3RhY2tpbmdcIiwgXCJsaW5lLXN0YWNraW5nLXJ1YnlcIixcbiAgICBcImxpbmUtc3RhY2tpbmctc2hpZnRcIiwgXCJsaW5lLXN0YWNraW5nLXN0cmF0ZWd5XCIsIFwibGlzdC1zdHlsZVwiLFxuICAgIFwibGlzdC1zdHlsZS1pbWFnZVwiLCBcImxpc3Qtc3R5bGUtcG9zaXRpb25cIiwgXCJsaXN0LXN0eWxlLXR5cGVcIiwgXCJtYXJnaW5cIixcbiAgICBcIm1hcmdpbi1ib3R0b21cIiwgXCJtYXJnaW4tbGVmdFwiLCBcIm1hcmdpbi1yaWdodFwiLCBcIm1hcmdpbi10b3BcIixcbiAgICBcIm1hcmtlci1vZmZzZXRcIiwgXCJtYXJrc1wiLCBcIm1hcnF1ZWUtZGlyZWN0aW9uXCIsIFwibWFycXVlZS1sb29wXCIsXG4gICAgXCJtYXJxdWVlLXBsYXktY291bnRcIiwgXCJtYXJxdWVlLXNwZWVkXCIsIFwibWFycXVlZS1zdHlsZVwiLCBcIm1heC1oZWlnaHRcIixcbiAgICBcIm1heC13aWR0aFwiLCBcIm1pbi1oZWlnaHRcIiwgXCJtaW4td2lkdGhcIiwgXCJtb3ZlLXRvXCIsIFwibmF2LWRvd25cIiwgXCJuYXYtaW5kZXhcIixcbiAgICBcIm5hdi1sZWZ0XCIsIFwibmF2LXJpZ2h0XCIsIFwibmF2LXVwXCIsIFwib2JqZWN0LWZpdFwiLCBcIm9iamVjdC1wb3NpdGlvblwiLFxuICAgIFwib3BhY2l0eVwiLCBcIm9yZGVyXCIsIFwib3JwaGFuc1wiLCBcIm91dGxpbmVcIixcbiAgICBcIm91dGxpbmUtY29sb3JcIiwgXCJvdXRsaW5lLW9mZnNldFwiLCBcIm91dGxpbmUtc3R5bGVcIiwgXCJvdXRsaW5lLXdpZHRoXCIsXG4gICAgXCJvdmVyZmxvd1wiLCBcIm92ZXJmbG93LXN0eWxlXCIsIFwib3ZlcmZsb3ctd3JhcFwiLCBcIm92ZXJmbG93LXhcIiwgXCJvdmVyZmxvdy15XCIsXG4gICAgXCJwYWRkaW5nXCIsIFwicGFkZGluZy1ib3R0b21cIiwgXCJwYWRkaW5nLWxlZnRcIiwgXCJwYWRkaW5nLXJpZ2h0XCIsIFwicGFkZGluZy10b3BcIixcbiAgICBcInBhZ2VcIiwgXCJwYWdlLWJyZWFrLWFmdGVyXCIsIFwicGFnZS1icmVhay1iZWZvcmVcIiwgXCJwYWdlLWJyZWFrLWluc2lkZVwiLFxuICAgIFwicGFnZS1wb2xpY3lcIiwgXCJwYXVzZVwiLCBcInBhdXNlLWFmdGVyXCIsIFwicGF1c2UtYmVmb3JlXCIsIFwicGVyc3BlY3RpdmVcIixcbiAgICBcInBlcnNwZWN0aXZlLW9yaWdpblwiLCBcInBpdGNoXCIsIFwicGl0Y2gtcmFuZ2VcIiwgXCJwbGF5LWR1cmluZ1wiLCBcInBvc2l0aW9uXCIsXG4gICAgXCJwcmVzZW50YXRpb24tbGV2ZWxcIiwgXCJwdW5jdHVhdGlvbi10cmltXCIsIFwicXVvdGVzXCIsIFwicmVnaW9uLWJyZWFrLWFmdGVyXCIsXG4gICAgXCJyZWdpb24tYnJlYWstYmVmb3JlXCIsIFwicmVnaW9uLWJyZWFrLWluc2lkZVwiLCBcInJlZ2lvbi1mcmFnbWVudFwiLFxuICAgIFwicmVuZGVyaW5nLWludGVudFwiLCBcInJlc2l6ZVwiLCBcInJlc3RcIiwgXCJyZXN0LWFmdGVyXCIsIFwicmVzdC1iZWZvcmVcIiwgXCJyaWNobmVzc1wiLFxuICAgIFwicmlnaHRcIiwgXCJyb3RhdGlvblwiLCBcInJvdGF0aW9uLXBvaW50XCIsIFwicnVieS1hbGlnblwiLCBcInJ1Ynktb3ZlcmhhbmdcIixcbiAgICBcInJ1YnktcG9zaXRpb25cIiwgXCJydWJ5LXNwYW5cIiwgXCJzaGFwZS1pbWFnZS10aHJlc2hvbGRcIiwgXCJzaGFwZS1pbnNpZGVcIiwgXCJzaGFwZS1tYXJnaW5cIixcbiAgICBcInNoYXBlLW91dHNpZGVcIiwgXCJzaXplXCIsIFwic3BlYWtcIiwgXCJzcGVhay1hc1wiLCBcInNwZWFrLWhlYWRlclwiLFxuICAgIFwic3BlYWstbnVtZXJhbFwiLCBcInNwZWFrLXB1bmN0dWF0aW9uXCIsIFwic3BlZWNoLXJhdGVcIiwgXCJzdHJlc3NcIiwgXCJzdHJpbmctc2V0XCIsXG4gICAgXCJ0YWItc2l6ZVwiLCBcInRhYmxlLWxheW91dFwiLCBcInRhcmdldFwiLCBcInRhcmdldC1uYW1lXCIsIFwidGFyZ2V0LW5ld1wiLFxuICAgIFwidGFyZ2V0LXBvc2l0aW9uXCIsIFwidGV4dC1hbGlnblwiLCBcInRleHQtYWxpZ24tbGFzdFwiLCBcInRleHQtZGVjb3JhdGlvblwiLFxuICAgIFwidGV4dC1kZWNvcmF0aW9uLWNvbG9yXCIsIFwidGV4dC1kZWNvcmF0aW9uLWxpbmVcIiwgXCJ0ZXh0LWRlY29yYXRpb24tc2tpcFwiLFxuICAgIFwidGV4dC1kZWNvcmF0aW9uLXN0eWxlXCIsIFwidGV4dC1lbXBoYXNpc1wiLCBcInRleHQtZW1waGFzaXMtY29sb3JcIixcbiAgICBcInRleHQtZW1waGFzaXMtcG9zaXRpb25cIiwgXCJ0ZXh0LWVtcGhhc2lzLXN0eWxlXCIsIFwidGV4dC1oZWlnaHRcIixcbiAgICBcInRleHQtaW5kZW50XCIsIFwidGV4dC1qdXN0aWZ5XCIsIFwidGV4dC1vdXRsaW5lXCIsIFwidGV4dC1vdmVyZmxvd1wiLCBcInRleHQtc2hhZG93XCIsXG4gICAgXCJ0ZXh0LXNpemUtYWRqdXN0XCIsIFwidGV4dC1zcGFjZS1jb2xsYXBzZVwiLCBcInRleHQtdHJhbnNmb3JtXCIsIFwidGV4dC11bmRlcmxpbmUtcG9zaXRpb25cIixcbiAgICBcInRleHQtd3JhcFwiLCBcInRvcFwiLCBcInRyYW5zZm9ybVwiLCBcInRyYW5zZm9ybS1vcmlnaW5cIiwgXCJ0cmFuc2Zvcm0tc3R5bGVcIixcbiAgICBcInRyYW5zaXRpb25cIiwgXCJ0cmFuc2l0aW9uLWRlbGF5XCIsIFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLFxuICAgIFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiLCBcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCIsIFwidW5pY29kZS1iaWRpXCIsXG4gICAgXCJ2ZXJ0aWNhbC1hbGlnblwiLCBcInZpc2liaWxpdHlcIiwgXCJ2b2ljZS1iYWxhbmNlXCIsIFwidm9pY2UtZHVyYXRpb25cIixcbiAgICBcInZvaWNlLWZhbWlseVwiLCBcInZvaWNlLXBpdGNoXCIsIFwidm9pY2UtcmFuZ2VcIiwgXCJ2b2ljZS1yYXRlXCIsIFwidm9pY2Utc3RyZXNzXCIsXG4gICAgXCJ2b2ljZS12b2x1bWVcIiwgXCJ2b2x1bWVcIiwgXCJ3aGl0ZS1zcGFjZVwiLCBcIndpZG93c1wiLCBcIndpZHRoXCIsIFwid29yZC1icmVha1wiLFxuICAgIFwid29yZC1zcGFjaW5nXCIsIFwid29yZC13cmFwXCIsIFwiei1pbmRleFwiLFxuICAgIC8vIFNWRy1zcGVjaWZpY1xuICAgIFwiY2xpcC1wYXRoXCIsIFwiY2xpcC1ydWxlXCIsIFwibWFza1wiLCBcImVuYWJsZS1iYWNrZ3JvdW5kXCIsIFwiZmlsdGVyXCIsIFwiZmxvb2QtY29sb3JcIixcbiAgICBcImZsb29kLW9wYWNpdHlcIiwgXCJsaWdodGluZy1jb2xvclwiLCBcInN0b3AtY29sb3JcIiwgXCJzdG9wLW9wYWNpdHlcIiwgXCJwb2ludGVyLWV2ZW50c1wiLFxuICAgIFwiY29sb3ItaW50ZXJwb2xhdGlvblwiLCBcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiLFxuICAgIFwiY29sb3ItcmVuZGVyaW5nXCIsIFwiZmlsbFwiLCBcImZpbGwtb3BhY2l0eVwiLCBcImZpbGwtcnVsZVwiLCBcImltYWdlLXJlbmRlcmluZ1wiLFxuICAgIFwibWFya2VyXCIsIFwibWFya2VyLWVuZFwiLCBcIm1hcmtlci1taWRcIiwgXCJtYXJrZXItc3RhcnRcIiwgXCJzaGFwZS1yZW5kZXJpbmdcIiwgXCJzdHJva2VcIixcbiAgICBcInN0cm9rZS1kYXNoYXJyYXlcIiwgXCJzdHJva2UtZGFzaG9mZnNldFwiLCBcInN0cm9rZS1saW5lY2FwXCIsIFwic3Ryb2tlLWxpbmVqb2luXCIsXG4gICAgXCJzdHJva2UtbWl0ZXJsaW1pdFwiLCBcInN0cm9rZS1vcGFjaXR5XCIsIFwic3Ryb2tlLXdpZHRoXCIsIFwidGV4dC1yZW5kZXJpbmdcIixcbiAgICBcImJhc2VsaW5lLXNoaWZ0XCIsIFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsXCIsXG4gICAgXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiLCBcInRleHQtYW5jaG9yXCIsIFwid3JpdGluZy1tb2RlXCJcbiAgXSwgcHJvcGVydHlLZXl3b3JkcyA9IGtleVNldChwcm9wZXJ0eUtleXdvcmRzXyk7XG5cbiAgdmFyIG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3Jkc18gPSBbXG4gICAgXCJzY3JvbGxiYXItYXJyb3ctY29sb3JcIiwgXCJzY3JvbGxiYXItYmFzZS1jb2xvclwiLCBcInNjcm9sbGJhci1kYXJrLXNoYWRvdy1jb2xvclwiLFxuICAgIFwic2Nyb2xsYmFyLWZhY2UtY29sb3JcIiwgXCJzY3JvbGxiYXItaGlnaGxpZ2h0LWNvbG9yXCIsIFwic2Nyb2xsYmFyLXNoYWRvdy1jb2xvclwiLFxuICAgIFwic2Nyb2xsYmFyLTNkLWxpZ2h0LWNvbG9yXCIsIFwic2Nyb2xsYmFyLXRyYWNrLWNvbG9yXCIsIFwic2hhcGUtaW5zaWRlXCIsXG4gICAgXCJzZWFyY2hmaWVsZC1jYW5jZWwtYnV0dG9uXCIsIFwic2VhcmNoZmllbGQtZGVjb3JhdGlvblwiLCBcInNlYXJjaGZpZWxkLXJlc3VsdHMtYnV0dG9uXCIsXG4gICAgXCJzZWFyY2hmaWVsZC1yZXN1bHRzLWRlY29yYXRpb25cIiwgXCJ6b29tXCJcbiAgXSwgbm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzID0ga2V5U2V0KG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3Jkc18pO1xuXG4gIHZhciBmb250UHJvcGVydGllc18gPSBbXG4gICAgXCJmb250LWZhbWlseVwiLCBcInNyY1wiLCBcInVuaWNvZGUtcmFuZ2VcIiwgXCJmb250LXZhcmlhbnRcIiwgXCJmb250LWZlYXR1cmUtc2V0dGluZ3NcIixcbiAgICBcImZvbnQtc3RyZXRjaFwiLCBcImZvbnQtd2VpZ2h0XCIsIFwiZm9udC1zdHlsZVwiXG4gIF0sIGZvbnRQcm9wZXJ0aWVzID0ga2V5U2V0KGZvbnRQcm9wZXJ0aWVzXyk7XG5cbiAgdmFyIGNvdW50ZXJEZXNjcmlwdG9yc18gPSBbXG4gICAgXCJhZGRpdGl2ZS1zeW1ib2xzXCIsIFwiZmFsbGJhY2tcIiwgXCJuZWdhdGl2ZVwiLCBcInBhZFwiLCBcInByZWZpeFwiLCBcInJhbmdlXCIsXG4gICAgXCJzcGVhay1hc1wiLCBcInN1ZmZpeFwiLCBcInN5bWJvbHNcIiwgXCJzeXN0ZW1cIlxuICBdLCBjb3VudGVyRGVzY3JpcHRvcnMgPSBrZXlTZXQoY291bnRlckRlc2NyaXB0b3JzXyk7XG5cbiAgdmFyIGNvbG9yS2V5d29yZHNfID0gW1xuICAgIFwiYWxpY2VibHVlXCIsIFwiYW50aXF1ZXdoaXRlXCIsIFwiYXF1YVwiLCBcImFxdWFtYXJpbmVcIiwgXCJhenVyZVwiLCBcImJlaWdlXCIsXG4gICAgXCJiaXNxdWVcIiwgXCJibGFja1wiLCBcImJsYW5jaGVkYWxtb25kXCIsIFwiYmx1ZVwiLCBcImJsdWV2aW9sZXRcIiwgXCJicm93blwiLFxuICAgIFwiYnVybHl3b29kXCIsIFwiY2FkZXRibHVlXCIsIFwiY2hhcnRyZXVzZVwiLCBcImNob2NvbGF0ZVwiLCBcImNvcmFsXCIsIFwiY29ybmZsb3dlcmJsdWVcIixcbiAgICBcImNvcm5zaWxrXCIsIFwiY3JpbXNvblwiLCBcImN5YW5cIiwgXCJkYXJrYmx1ZVwiLCBcImRhcmtjeWFuXCIsIFwiZGFya2dvbGRlbnJvZFwiLFxuICAgIFwiZGFya2dyYXlcIiwgXCJkYXJrZ3JlZW5cIiwgXCJkYXJra2hha2lcIiwgXCJkYXJrbWFnZW50YVwiLCBcImRhcmtvbGl2ZWdyZWVuXCIsXG4gICAgXCJkYXJrb3JhbmdlXCIsIFwiZGFya29yY2hpZFwiLCBcImRhcmtyZWRcIiwgXCJkYXJrc2FsbW9uXCIsIFwiZGFya3NlYWdyZWVuXCIsXG4gICAgXCJkYXJrc2xhdGVibHVlXCIsIFwiZGFya3NsYXRlZ3JheVwiLCBcImRhcmt0dXJxdW9pc2VcIiwgXCJkYXJrdmlvbGV0XCIsXG4gICAgXCJkZWVwcGlua1wiLCBcImRlZXBza3libHVlXCIsIFwiZGltZ3JheVwiLCBcImRvZGdlcmJsdWVcIiwgXCJmaXJlYnJpY2tcIixcbiAgICBcImZsb3JhbHdoaXRlXCIsIFwiZm9yZXN0Z3JlZW5cIiwgXCJmdWNoc2lhXCIsIFwiZ2FpbnNib3JvXCIsIFwiZ2hvc3R3aGl0ZVwiLFxuICAgIFwiZ29sZFwiLCBcImdvbGRlbnJvZFwiLCBcImdyYXlcIiwgXCJncmV5XCIsIFwiZ3JlZW5cIiwgXCJncmVlbnllbGxvd1wiLCBcImhvbmV5ZGV3XCIsXG4gICAgXCJob3RwaW5rXCIsIFwiaW5kaWFucmVkXCIsIFwiaW5kaWdvXCIsIFwiaXZvcnlcIiwgXCJraGFraVwiLCBcImxhdmVuZGVyXCIsXG4gICAgXCJsYXZlbmRlcmJsdXNoXCIsIFwibGF3bmdyZWVuXCIsIFwibGVtb25jaGlmZm9uXCIsIFwibGlnaHRibHVlXCIsIFwibGlnaHRjb3JhbFwiLFxuICAgIFwibGlnaHRjeWFuXCIsIFwibGlnaHRnb2xkZW5yb2R5ZWxsb3dcIiwgXCJsaWdodGdyYXlcIiwgXCJsaWdodGdyZWVuXCIsIFwibGlnaHRwaW5rXCIsXG4gICAgXCJsaWdodHNhbG1vblwiLCBcImxpZ2h0c2VhZ3JlZW5cIiwgXCJsaWdodHNreWJsdWVcIiwgXCJsaWdodHNsYXRlZ3JheVwiLFxuICAgIFwibGlnaHRzdGVlbGJsdWVcIiwgXCJsaWdodHllbGxvd1wiLCBcImxpbWVcIiwgXCJsaW1lZ3JlZW5cIiwgXCJsaW5lblwiLCBcIm1hZ2VudGFcIixcbiAgICBcIm1hcm9vblwiLCBcIm1lZGl1bWFxdWFtYXJpbmVcIiwgXCJtZWRpdW1ibHVlXCIsIFwibWVkaXVtb3JjaGlkXCIsIFwibWVkaXVtcHVycGxlXCIsXG4gICAgXCJtZWRpdW1zZWFncmVlblwiLCBcIm1lZGl1bXNsYXRlYmx1ZVwiLCBcIm1lZGl1bXNwcmluZ2dyZWVuXCIsIFwibWVkaXVtdHVycXVvaXNlXCIsXG4gICAgXCJtZWRpdW12aW9sZXRyZWRcIiwgXCJtaWRuaWdodGJsdWVcIiwgXCJtaW50Y3JlYW1cIiwgXCJtaXN0eXJvc2VcIiwgXCJtb2NjYXNpblwiLFxuICAgIFwibmF2YWpvd2hpdGVcIiwgXCJuYXZ5XCIsIFwib2xkbGFjZVwiLCBcIm9saXZlXCIsIFwib2xpdmVkcmFiXCIsIFwib3JhbmdlXCIsIFwib3JhbmdlcmVkXCIsXG4gICAgXCJvcmNoaWRcIiwgXCJwYWxlZ29sZGVucm9kXCIsIFwicGFsZWdyZWVuXCIsIFwicGFsZXR1cnF1b2lzZVwiLCBcInBhbGV2aW9sZXRyZWRcIixcbiAgICBcInBhcGF5YXdoaXBcIiwgXCJwZWFjaHB1ZmZcIiwgXCJwZXJ1XCIsIFwicGlua1wiLCBcInBsdW1cIiwgXCJwb3dkZXJibHVlXCIsXG4gICAgXCJwdXJwbGVcIiwgXCJyZWJlY2NhcHVycGxlXCIsIFwicmVkXCIsIFwicm9zeWJyb3duXCIsIFwicm95YWxibHVlXCIsIFwic2FkZGxlYnJvd25cIixcbiAgICBcInNhbG1vblwiLCBcInNhbmR5YnJvd25cIiwgXCJzZWFncmVlblwiLCBcInNlYXNoZWxsXCIsIFwic2llbm5hXCIsIFwic2lsdmVyXCIsIFwic2t5Ymx1ZVwiLFxuICAgIFwic2xhdGVibHVlXCIsIFwic2xhdGVncmF5XCIsIFwic25vd1wiLCBcInNwcmluZ2dyZWVuXCIsIFwic3RlZWxibHVlXCIsIFwidGFuXCIsXG4gICAgXCJ0ZWFsXCIsIFwidGhpc3RsZVwiLCBcInRvbWF0b1wiLCBcInR1cnF1b2lzZVwiLCBcInZpb2xldFwiLCBcIndoZWF0XCIsIFwid2hpdGVcIixcbiAgICBcIndoaXRlc21va2VcIiwgXCJ5ZWxsb3dcIiwgXCJ5ZWxsb3dncmVlblwiXG4gIF0sIGNvbG9yS2V5d29yZHMgPSBrZXlTZXQoY29sb3JLZXl3b3Jkc18pO1xuXG4gIHZhciB2YWx1ZUtleXdvcmRzXyA9IFtcbiAgICBcImFib3ZlXCIsIFwiYWJzb2x1dGVcIiwgXCJhY3RpdmVib3JkZXJcIiwgXCJhZGRpdGl2ZVwiLCBcImFjdGl2ZWNhcHRpb25cIiwgXCJhZmFyXCIsXG4gICAgXCJhZnRlci13aGl0ZS1zcGFjZVwiLCBcImFoZWFkXCIsIFwiYWxpYXNcIiwgXCJhbGxcIiwgXCJhbGwtc2Nyb2xsXCIsIFwiYWxwaGFiZXRpY1wiLCBcImFsdGVybmF0ZVwiLFxuICAgIFwiYWx3YXlzXCIsIFwiYW1oYXJpY1wiLCBcImFtaGFyaWMtYWJlZ2VkZVwiLCBcImFudGlhbGlhc2VkXCIsIFwiYXBwd29ya3NwYWNlXCIsXG4gICAgXCJhcmFiaWMtaW5kaWNcIiwgXCJhcm1lbmlhblwiLCBcImFzdGVyaXNrc1wiLCBcImF0dHJcIiwgXCJhdXRvXCIsIFwiYXZvaWRcIiwgXCJhdm9pZC1jb2x1bW5cIiwgXCJhdm9pZC1wYWdlXCIsXG4gICAgXCJhdm9pZC1yZWdpb25cIiwgXCJiYWNrZ3JvdW5kXCIsIFwiYmFja3dhcmRzXCIsIFwiYmFzZWxpbmVcIiwgXCJiZWxvd1wiLCBcImJpZGktb3ZlcnJpZGVcIiwgXCJiaW5hcnlcIixcbiAgICBcImJlbmdhbGlcIiwgXCJibGlua1wiLCBcImJsb2NrXCIsIFwiYmxvY2stYXhpc1wiLCBcImJvbGRcIiwgXCJib2xkZXJcIiwgXCJib3JkZXJcIiwgXCJib3JkZXItYm94XCIsXG4gICAgXCJib3RoXCIsIFwiYm90dG9tXCIsIFwiYnJlYWtcIiwgXCJicmVhay1hbGxcIiwgXCJicmVhay13b3JkXCIsIFwiYnVsbGV0c1wiLCBcImJ1dHRvblwiLCBcImJ1dHRvbi1iZXZlbFwiLFxuICAgIFwiYnV0dG9uZmFjZVwiLCBcImJ1dHRvbmhpZ2hsaWdodFwiLCBcImJ1dHRvbnNoYWRvd1wiLCBcImJ1dHRvbnRleHRcIiwgXCJjYWxjXCIsIFwiY2FtYm9kaWFuXCIsXG4gICAgXCJjYXBpdGFsaXplXCIsIFwiY2Fwcy1sb2NrLWluZGljYXRvclwiLCBcImNhcHRpb25cIiwgXCJjYXB0aW9udGV4dFwiLCBcImNhcmV0XCIsXG4gICAgXCJjZWxsXCIsIFwiY2VudGVyXCIsIFwiY2hlY2tib3hcIiwgXCJjaXJjbGVcIiwgXCJjamstZGVjaW1hbFwiLCBcImNqay1lYXJ0aGx5LWJyYW5jaFwiLFxuICAgIFwiY2prLWhlYXZlbmx5LXN0ZW1cIiwgXCJjamstaWRlb2dyYXBoaWNcIiwgXCJjbGVhclwiLCBcImNsaXBcIiwgXCJjbG9zZS1xdW90ZVwiLFxuICAgIFwiY29sLXJlc2l6ZVwiLCBcImNvbGxhcHNlXCIsIFwiY29sb3JcIiwgXCJjb2xvci1idXJuXCIsIFwiY29sb3ItZG9kZ2VcIiwgXCJjb2x1bW5cIiwgXCJjb2x1bW4tcmV2ZXJzZVwiLFxuICAgIFwiY29tcGFjdFwiLCBcImNvbmRlbnNlZFwiLCBcImNvbnRhaW5cIiwgXCJjb250ZW50XCIsXG4gICAgXCJjb250ZW50LWJveFwiLCBcImNvbnRleHQtbWVudVwiLCBcImNvbnRpbnVvdXNcIiwgXCJjb3B5XCIsIFwiY291bnRlclwiLCBcImNvdW50ZXJzXCIsIFwiY292ZXJcIiwgXCJjcm9wXCIsXG4gICAgXCJjcm9zc1wiLCBcImNyb3NzaGFpclwiLCBcImN1cnJlbnRjb2xvclwiLCBcImN1cnNpdmVcIiwgXCJjeWNsaWNcIiwgXCJkYXJrZW5cIiwgXCJkYXNoZWRcIiwgXCJkZWNpbWFsXCIsXG4gICAgXCJkZWNpbWFsLWxlYWRpbmctemVyb1wiLCBcImRlZmF1bHRcIiwgXCJkZWZhdWx0LWJ1dHRvblwiLCBcImRlbnNlXCIsIFwiZGVzdGluYXRpb24tYXRvcFwiLFxuICAgIFwiZGVzdGluYXRpb24taW5cIiwgXCJkZXN0aW5hdGlvbi1vdXRcIiwgXCJkZXN0aW5hdGlvbi1vdmVyXCIsIFwiZGV2YW5hZ2FyaVwiLCBcImRpZmZlcmVuY2VcIixcbiAgICBcImRpc2NcIiwgXCJkaXNjYXJkXCIsIFwiZGlzY2xvc3VyZS1jbG9zZWRcIiwgXCJkaXNjbG9zdXJlLW9wZW5cIiwgXCJkb2N1bWVudFwiLFxuICAgIFwiZG90LWRhc2hcIiwgXCJkb3QtZG90LWRhc2hcIixcbiAgICBcImRvdHRlZFwiLCBcImRvdWJsZVwiLCBcImRvd25cIiwgXCJlLXJlc2l6ZVwiLCBcImVhc2VcIiwgXCJlYXNlLWluXCIsIFwiZWFzZS1pbi1vdXRcIiwgXCJlYXNlLW91dFwiLFxuICAgIFwiZWxlbWVudFwiLCBcImVsbGlwc2VcIiwgXCJlbGxpcHNpc1wiLCBcImVtYmVkXCIsIFwiZW5kXCIsIFwiZXRoaW9waWNcIiwgXCJldGhpb3BpYy1hYmVnZWRlXCIsXG4gICAgXCJldGhpb3BpYy1hYmVnZWRlLWFtLWV0XCIsIFwiZXRoaW9waWMtYWJlZ2VkZS1nZXpcIiwgXCJldGhpb3BpYy1hYmVnZWRlLXRpLWVyXCIsXG4gICAgXCJldGhpb3BpYy1hYmVnZWRlLXRpLWV0XCIsIFwiZXRoaW9waWMtaGFsZWhhbWUtYWEtZXJcIixcbiAgICBcImV0aGlvcGljLWhhbGVoYW1lLWFhLWV0XCIsIFwiZXRoaW9waWMtaGFsZWhhbWUtYW0tZXRcIixcbiAgICBcImV0aGlvcGljLWhhbGVoYW1lLWdlelwiLCBcImV0aGlvcGljLWhhbGVoYW1lLW9tLWV0XCIsXG4gICAgXCJldGhpb3BpYy1oYWxlaGFtZS1zaWQtZXRcIiwgXCJldGhpb3BpYy1oYWxlaGFtZS1zby1ldFwiLFxuICAgIFwiZXRoaW9waWMtaGFsZWhhbWUtdGktZXJcIiwgXCJldGhpb3BpYy1oYWxlaGFtZS10aS1ldFwiLCBcImV0aGlvcGljLWhhbGVoYW1lLXRpZ1wiLFxuICAgIFwiZXRoaW9waWMtbnVtZXJpY1wiLCBcImV3LXJlc2l6ZVwiLCBcImV4Y2x1c2lvblwiLCBcImV4cGFuZGVkXCIsIFwiZXh0ZW5kc1wiLCBcImV4dHJhLWNvbmRlbnNlZFwiLFxuICAgIFwiZXh0cmEtZXhwYW5kZWRcIiwgXCJmYW50YXN5XCIsIFwiZmFzdFwiLCBcImZpbGxcIiwgXCJmaXhlZFwiLCBcImZsYXRcIiwgXCJmbGV4XCIsIFwiZmxleC1lbmRcIiwgXCJmbGV4LXN0YXJ0XCIsIFwiZm9vdG5vdGVzXCIsXG4gICAgXCJmb3J3YXJkc1wiLCBcImZyb21cIiwgXCJnZW9tZXRyaWNQcmVjaXNpb25cIiwgXCJnZW9yZ2lhblwiLCBcImdyYXl0ZXh0XCIsIFwiZ3JpZFwiLCBcImdyb292ZVwiLFxuICAgIFwiZ3VqYXJhdGlcIiwgXCJndXJtdWtoaVwiLCBcImhhbmRcIiwgXCJoYW5ndWxcIiwgXCJoYW5ndWwtY29uc29uYW50XCIsIFwiaGFyZC1saWdodFwiLCBcImhlYnJld1wiLFxuICAgIFwiaGVscFwiLCBcImhpZGRlblwiLCBcImhpZGVcIiwgXCJoaWdoZXJcIiwgXCJoaWdobGlnaHRcIiwgXCJoaWdobGlnaHR0ZXh0XCIsXG4gICAgXCJoaXJhZ2FuYVwiLCBcImhpcmFnYW5hLWlyb2hhXCIsIFwiaG9yaXpvbnRhbFwiLCBcImhzbFwiLCBcImhzbGFcIiwgXCJodWVcIiwgXCJpY29uXCIsIFwiaWdub3JlXCIsXG4gICAgXCJpbmFjdGl2ZWJvcmRlclwiLCBcImluYWN0aXZlY2FwdGlvblwiLCBcImluYWN0aXZlY2FwdGlvbnRleHRcIiwgXCJpbmZpbml0ZVwiLFxuICAgIFwiaW5mb2JhY2tncm91bmRcIiwgXCJpbmZvdGV4dFwiLCBcImluaGVyaXRcIiwgXCJpbml0aWFsXCIsIFwiaW5saW5lXCIsIFwiaW5saW5lLWF4aXNcIixcbiAgICBcImlubGluZS1ibG9ja1wiLCBcImlubGluZS1mbGV4XCIsIFwiaW5saW5lLWdyaWRcIiwgXCJpbmxpbmUtdGFibGVcIiwgXCJpbnNldFwiLCBcImluc2lkZVwiLCBcImludHJpbnNpY1wiLCBcImludmVydFwiLFxuICAgIFwiaXRhbGljXCIsIFwiamFwYW5lc2UtZm9ybWFsXCIsIFwiamFwYW5lc2UtaW5mb3JtYWxcIiwgXCJqdXN0aWZ5XCIsIFwia2FubmFkYVwiLFxuICAgIFwia2F0YWthbmFcIiwgXCJrYXRha2FuYS1pcm9oYVwiLCBcImtlZXAtYWxsXCIsIFwia2htZXJcIixcbiAgICBcImtvcmVhbi1oYW5ndWwtZm9ybWFsXCIsIFwia29yZWFuLWhhbmphLWZvcm1hbFwiLCBcImtvcmVhbi1oYW5qYS1pbmZvcm1hbFwiLFxuICAgIFwibGFuZHNjYXBlXCIsIFwibGFvXCIsIFwibGFyZ2VcIiwgXCJsYXJnZXJcIiwgXCJsZWZ0XCIsIFwibGV2ZWxcIiwgXCJsaWdodGVyXCIsIFwibGlnaHRlblwiLFxuICAgIFwibGluZS10aHJvdWdoXCIsIFwibGluZWFyXCIsIFwibGluZWFyLWdyYWRpZW50XCIsIFwibGluZXNcIiwgXCJsaXN0LWl0ZW1cIiwgXCJsaXN0Ym94XCIsIFwibGlzdGl0ZW1cIixcbiAgICBcImxvY2FsXCIsIFwibG9naWNhbFwiLCBcImxvdWRcIiwgXCJsb3dlclwiLCBcImxvd2VyLWFscGhhXCIsIFwibG93ZXItYXJtZW5pYW5cIixcbiAgICBcImxvd2VyLWdyZWVrXCIsIFwibG93ZXItaGV4YWRlY2ltYWxcIiwgXCJsb3dlci1sYXRpblwiLCBcImxvd2VyLW5vcndlZ2lhblwiLFxuICAgIFwibG93ZXItcm9tYW5cIiwgXCJsb3dlcmNhc2VcIiwgXCJsdHJcIiwgXCJsdW1pbm9zaXR5XCIsIFwibWFsYXlhbGFtXCIsIFwibWF0Y2hcIiwgXCJtYXRyaXhcIiwgXCJtYXRyaXgzZFwiLFxuICAgIFwibWVkaWEtY29udHJvbHMtYmFja2dyb3VuZFwiLCBcIm1lZGlhLWN1cnJlbnQtdGltZS1kaXNwbGF5XCIsXG4gICAgXCJtZWRpYS1mdWxsc2NyZWVuLWJ1dHRvblwiLCBcIm1lZGlhLW11dGUtYnV0dG9uXCIsIFwibWVkaWEtcGxheS1idXR0b25cIixcbiAgICBcIm1lZGlhLXJldHVybi10by1yZWFsdGltZS1idXR0b25cIiwgXCJtZWRpYS1yZXdpbmQtYnV0dG9uXCIsXG4gICAgXCJtZWRpYS1zZWVrLWJhY2stYnV0dG9uXCIsIFwibWVkaWEtc2Vlay1mb3J3YXJkLWJ1dHRvblwiLCBcIm1lZGlhLXNsaWRlclwiLFxuICAgIFwibWVkaWEtc2xpZGVydGh1bWJcIiwgXCJtZWRpYS10aW1lLXJlbWFpbmluZy1kaXNwbGF5XCIsIFwibWVkaWEtdm9sdW1lLXNsaWRlclwiLFxuICAgIFwibWVkaWEtdm9sdW1lLXNsaWRlci1jb250YWluZXJcIiwgXCJtZWRpYS12b2x1bWUtc2xpZGVydGh1bWJcIiwgXCJtZWRpdW1cIixcbiAgICBcIm1lbnVcIiwgXCJtZW51bGlzdFwiLCBcIm1lbnVsaXN0LWJ1dHRvblwiLCBcIm1lbnVsaXN0LXRleHRcIixcbiAgICBcIm1lbnVsaXN0LXRleHRmaWVsZFwiLCBcIm1lbnV0ZXh0XCIsIFwibWVzc2FnZS1ib3hcIiwgXCJtaWRkbGVcIiwgXCJtaW4taW50cmluc2ljXCIsXG4gICAgXCJtaXhcIiwgXCJtb25nb2xpYW5cIiwgXCJtb25vc3BhY2VcIiwgXCJtb3ZlXCIsIFwibXVsdGlwbGVcIiwgXCJtdWx0aXBseVwiLCBcIm15YW5tYXJcIiwgXCJuLXJlc2l6ZVwiLFxuICAgIFwibmFycm93ZXJcIiwgXCJuZS1yZXNpemVcIiwgXCJuZXN3LXJlc2l6ZVwiLCBcIm5vLWNsb3NlLXF1b3RlXCIsIFwibm8tZHJvcFwiLFxuICAgIFwibm8tb3Blbi1xdW90ZVwiLCBcIm5vLXJlcGVhdFwiLCBcIm5vbmVcIiwgXCJub3JtYWxcIiwgXCJub3QtYWxsb3dlZFwiLCBcIm5vd3JhcFwiLFxuICAgIFwibnMtcmVzaXplXCIsIFwibnVtYmVyc1wiLCBcIm51bWVyaWNcIiwgXCJudy1yZXNpemVcIiwgXCJud3NlLXJlc2l6ZVwiLCBcIm9ibGlxdWVcIiwgXCJvY3RhbFwiLCBcIm9wZW4tcXVvdGVcIixcbiAgICBcIm9wdGltaXplTGVnaWJpbGl0eVwiLCBcIm9wdGltaXplU3BlZWRcIiwgXCJvcml5YVwiLCBcIm9yb21vXCIsIFwib3V0c2V0XCIsXG4gICAgXCJvdXRzaWRlXCIsIFwib3V0c2lkZS1zaGFwZVwiLCBcIm92ZXJsYXlcIiwgXCJvdmVybGluZVwiLCBcInBhZGRpbmdcIiwgXCJwYWRkaW5nLWJveFwiLFxuICAgIFwicGFpbnRlZFwiLCBcInBhZ2VcIiwgXCJwYXVzZWRcIiwgXCJwZXJzaWFuXCIsIFwicGVyc3BlY3RpdmVcIiwgXCJwbHVzLWRhcmtlclwiLCBcInBsdXMtbGlnaHRlclwiLFxuICAgIFwicG9pbnRlclwiLCBcInBvbHlnb25cIiwgXCJwb3J0cmFpdFwiLCBcInByZVwiLCBcInByZS1saW5lXCIsIFwicHJlLXdyYXBcIiwgXCJwcmVzZXJ2ZS0zZFwiLFxuICAgIFwicHJvZ3Jlc3NcIiwgXCJwdXNoLWJ1dHRvblwiLCBcInJhZGlhbC1ncmFkaWVudFwiLCBcInJhZGlvXCIsIFwicmVhZC1vbmx5XCIsXG4gICAgXCJyZWFkLXdyaXRlXCIsIFwicmVhZC13cml0ZS1wbGFpbnRleHQtb25seVwiLCBcInJlY3RhbmdsZVwiLCBcInJlZ2lvblwiLFxuICAgIFwicmVsYXRpdmVcIiwgXCJyZXBlYXRcIiwgXCJyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50XCIsXG4gICAgXCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50XCIsIFwicmVwZWF0LXhcIiwgXCJyZXBlYXQteVwiLCBcInJlc2V0XCIsIFwicmV2ZXJzZVwiLFxuICAgIFwicmdiXCIsIFwicmdiYVwiLCBcInJpZGdlXCIsIFwicmlnaHRcIiwgXCJyb3RhdGVcIiwgXCJyb3RhdGUzZFwiLCBcInJvdGF0ZVhcIiwgXCJyb3RhdGVZXCIsXG4gICAgXCJyb3RhdGVaXCIsIFwicm91bmRcIiwgXCJyb3dcIiwgXCJyb3ctcmVzaXplXCIsIFwicm93LXJldmVyc2VcIiwgXCJydGxcIiwgXCJydW4taW5cIiwgXCJydW5uaW5nXCIsXG4gICAgXCJzLXJlc2l6ZVwiLCBcInNhbnMtc2VyaWZcIiwgXCJzYXR1cmF0aW9uXCIsIFwic2NhbGVcIiwgXCJzY2FsZTNkXCIsIFwic2NhbGVYXCIsIFwic2NhbGVZXCIsIFwic2NhbGVaXCIsIFwic2NyZWVuXCIsXG4gICAgXCJzY3JvbGxcIiwgXCJzY3JvbGxiYXJcIiwgXCJzZS1yZXNpemVcIiwgXCJzZWFyY2hmaWVsZFwiLFxuICAgIFwic2VhcmNoZmllbGQtY2FuY2VsLWJ1dHRvblwiLCBcInNlYXJjaGZpZWxkLWRlY29yYXRpb25cIixcbiAgICBcInNlYXJjaGZpZWxkLXJlc3VsdHMtYnV0dG9uXCIsIFwic2VhcmNoZmllbGQtcmVzdWx0cy1kZWNvcmF0aW9uXCIsXG4gICAgXCJzZW1pLWNvbmRlbnNlZFwiLCBcInNlbWktZXhwYW5kZWRcIiwgXCJzZXBhcmF0ZVwiLCBcInNlcmlmXCIsIFwic2hvd1wiLCBcInNpZGFtYVwiLFxuICAgIFwic2ltcC1jaGluZXNlLWZvcm1hbFwiLCBcInNpbXAtY2hpbmVzZS1pbmZvcm1hbFwiLCBcInNpbmdsZVwiLFxuICAgIFwic2tld1wiLCBcInNrZXdYXCIsIFwic2tld1lcIiwgXCJza2lwLXdoaXRlLXNwYWNlXCIsIFwic2xpZGVcIiwgXCJzbGlkZXItaG9yaXpvbnRhbFwiLFxuICAgIFwic2xpZGVyLXZlcnRpY2FsXCIsIFwic2xpZGVydGh1bWItaG9yaXpvbnRhbFwiLCBcInNsaWRlcnRodW1iLXZlcnRpY2FsXCIsIFwic2xvd1wiLFxuICAgIFwic21hbGxcIiwgXCJzbWFsbC1jYXBzXCIsIFwic21hbGwtY2FwdGlvblwiLCBcInNtYWxsZXJcIiwgXCJzb2Z0LWxpZ2h0XCIsIFwic29saWRcIiwgXCJzb21hbGlcIixcbiAgICBcInNvdXJjZS1hdG9wXCIsIFwic291cmNlLWluXCIsIFwic291cmNlLW91dFwiLCBcInNvdXJjZS1vdmVyXCIsIFwic3BhY2VcIiwgXCJzcGFjZS1hcm91bmRcIiwgXCJzcGFjZS1iZXR3ZWVuXCIsIFwic3BlbGwtb3V0XCIsIFwic3F1YXJlXCIsXG4gICAgXCJzcXVhcmUtYnV0dG9uXCIsIFwic3RhcnRcIiwgXCJzdGF0aWNcIiwgXCJzdGF0dXMtYmFyXCIsIFwic3RyZXRjaFwiLCBcInN0cm9rZVwiLCBcInN1YlwiLFxuICAgIFwic3VicGl4ZWwtYW50aWFsaWFzZWRcIiwgXCJzdXBlclwiLCBcInN3LXJlc2l6ZVwiLCBcInN5bWJvbGljXCIsIFwic3ltYm9sc1wiLCBcInRhYmxlXCIsXG4gICAgXCJ0YWJsZS1jYXB0aW9uXCIsIFwidGFibGUtY2VsbFwiLCBcInRhYmxlLWNvbHVtblwiLCBcInRhYmxlLWNvbHVtbi1ncm91cFwiLFxuICAgIFwidGFibGUtZm9vdGVyLWdyb3VwXCIsIFwidGFibGUtaGVhZGVyLWdyb3VwXCIsIFwidGFibGUtcm93XCIsIFwidGFibGUtcm93LWdyb3VwXCIsXG4gICAgXCJ0YW1pbFwiLFxuICAgIFwidGVsdWd1XCIsIFwidGV4dFwiLCBcInRleHQtYm90dG9tXCIsIFwidGV4dC10b3BcIiwgXCJ0ZXh0YXJlYVwiLCBcInRleHRmaWVsZFwiLCBcInRoYWlcIixcbiAgICBcInRoaWNrXCIsIFwidGhpblwiLCBcInRocmVlZGRhcmtzaGFkb3dcIiwgXCJ0aHJlZWRmYWNlXCIsIFwidGhyZWVkaGlnaGxpZ2h0XCIsXG4gICAgXCJ0aHJlZWRsaWdodHNoYWRvd1wiLCBcInRocmVlZHNoYWRvd1wiLCBcInRpYmV0YW5cIiwgXCJ0aWdyZVwiLCBcInRpZ3JpbnlhLWVyXCIsXG4gICAgXCJ0aWdyaW55YS1lci1hYmVnZWRlXCIsIFwidGlncmlueWEtZXRcIiwgXCJ0aWdyaW55YS1ldC1hYmVnZWRlXCIsIFwidG9cIiwgXCJ0b3BcIixcbiAgICBcInRyYWQtY2hpbmVzZS1mb3JtYWxcIiwgXCJ0cmFkLWNoaW5lc2UtaW5mb3JtYWxcIixcbiAgICBcInRyYW5zbGF0ZVwiLCBcInRyYW5zbGF0ZTNkXCIsIFwidHJhbnNsYXRlWFwiLCBcInRyYW5zbGF0ZVlcIiwgXCJ0cmFuc2xhdGVaXCIsXG4gICAgXCJ0cmFuc3BhcmVudFwiLCBcInVsdHJhLWNvbmRlbnNlZFwiLCBcInVsdHJhLWV4cGFuZGVkXCIsIFwidW5kZXJsaW5lXCIsIFwidXBcIixcbiAgICBcInVwcGVyLWFscGhhXCIsIFwidXBwZXItYXJtZW5pYW5cIiwgXCJ1cHBlci1ncmVla1wiLCBcInVwcGVyLWhleGFkZWNpbWFsXCIsXG4gICAgXCJ1cHBlci1sYXRpblwiLCBcInVwcGVyLW5vcndlZ2lhblwiLCBcInVwcGVyLXJvbWFuXCIsIFwidXBwZXJjYXNlXCIsIFwidXJkdVwiLCBcInVybFwiLFxuICAgIFwidmFyXCIsIFwidmVydGljYWxcIiwgXCJ2ZXJ0aWNhbC10ZXh0XCIsIFwidmlzaWJsZVwiLCBcInZpc2libGVGaWxsXCIsIFwidmlzaWJsZVBhaW50ZWRcIixcbiAgICBcInZpc2libGVTdHJva2VcIiwgXCJ2aXN1YWxcIiwgXCJ3LXJlc2l6ZVwiLCBcIndhaXRcIiwgXCJ3YXZlXCIsIFwid2lkZXJcIixcbiAgICBcIndpbmRvd1wiLCBcIndpbmRvd2ZyYW1lXCIsIFwid2luZG93dGV4dFwiLCBcIndvcmRzXCIsIFwid3JhcFwiLCBcIndyYXAtcmV2ZXJzZVwiLCBcIngtbGFyZ2VcIiwgXCJ4LXNtYWxsXCIsIFwieG9yXCIsXG4gICAgXCJ4eC1sYXJnZVwiLCBcInh4LXNtYWxsXCJcbiAgXSwgdmFsdWVLZXl3b3JkcyA9IGtleVNldCh2YWx1ZUtleXdvcmRzXyk7XG5cbiAgdmFyIGFsbFdvcmRzID0gZG9jdW1lbnRUeXBlc18uY29uY2F0KG1lZGlhVHlwZXNfKS5jb25jYXQobWVkaWFGZWF0dXJlc18pLmNvbmNhdChtZWRpYVZhbHVlS2V5d29yZHNfKVxuICAgIC5jb25jYXQocHJvcGVydHlLZXl3b3Jkc18pLmNvbmNhdChub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHNfKS5jb25jYXQoY29sb3JLZXl3b3Jkc18pXG4gICAgLmNvbmNhdCh2YWx1ZUtleXdvcmRzXyk7XG4gIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoXCJoaW50V29yZHNcIiwgXCJjc3NcIiwgYWxsV29yZHMpO1xuXG4gIGZ1bmN0aW9uIHRva2VuQ0NvbW1lbnQoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBtYXliZUVuZCA9IGZhbHNlLCBjaDtcbiAgICB3aGlsZSAoKGNoID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkge1xuICAgICAgaWYgKG1heWJlRW5kICYmIGNoID09IFwiL1wiKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBtYXliZUVuZCA9IChjaCA9PSBcIipcIik7XG4gICAgfVxuICAgIHJldHVybiBbXCJjb21tZW50XCIsIFwiY29tbWVudFwiXTtcbiAgfVxuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQvY3NzXCIsIHtcbiAgICBkb2N1bWVudFR5cGVzOiBkb2N1bWVudFR5cGVzLFxuICAgIG1lZGlhVHlwZXM6IG1lZGlhVHlwZXMsXG4gICAgbWVkaWFGZWF0dXJlczogbWVkaWFGZWF0dXJlcyxcbiAgICBtZWRpYVZhbHVlS2V5d29yZHM6IG1lZGlhVmFsdWVLZXl3b3JkcyxcbiAgICBwcm9wZXJ0eUtleXdvcmRzOiBwcm9wZXJ0eUtleXdvcmRzLFxuICAgIG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3Jkczogbm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzLFxuICAgIGZvbnRQcm9wZXJ0aWVzOiBmb250UHJvcGVydGllcyxcbiAgICBjb3VudGVyRGVzY3JpcHRvcnM6IGNvdW50ZXJEZXNjcmlwdG9ycyxcbiAgICBjb2xvcktleXdvcmRzOiBjb2xvcktleXdvcmRzLFxuICAgIHZhbHVlS2V5d29yZHM6IHZhbHVlS2V5d29yZHMsXG4gICAgdG9rZW5Ib29rczoge1xuICAgICAgXCIvXCI6IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKCFzdHJlYW0uZWF0KFwiKlwiKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQ0NvbW1lbnQ7XG4gICAgICAgIHJldHVybiB0b2tlbkNDb21tZW50KHN0cmVhbSwgc3RhdGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbmFtZTogXCJjc3NcIlxuICB9KTtcblxuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3gtc2Nzc1wiLCB7XG4gICAgbWVkaWFUeXBlczogbWVkaWFUeXBlcyxcbiAgICBtZWRpYUZlYXR1cmVzOiBtZWRpYUZlYXR1cmVzLFxuICAgIG1lZGlhVmFsdWVLZXl3b3JkczogbWVkaWFWYWx1ZUtleXdvcmRzLFxuICAgIHByb3BlcnR5S2V5d29yZHM6IHByb3BlcnR5S2V5d29yZHMsXG4gICAgbm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzOiBub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMsXG4gICAgY29sb3JLZXl3b3JkczogY29sb3JLZXl3b3JkcyxcbiAgICB2YWx1ZUtleXdvcmRzOiB2YWx1ZUtleXdvcmRzLFxuICAgIGZvbnRQcm9wZXJ0aWVzOiBmb250UHJvcGVydGllcyxcbiAgICBhbGxvd05lc3RlZDogdHJ1ZSxcbiAgICB0b2tlbkhvb2tzOiB7XG4gICAgICBcIi9cIjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICBpZiAoc3RyZWFtLmVhdChcIi9cIikpIHtcbiAgICAgICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICAgICAgcmV0dXJuIFtcImNvbW1lbnRcIiwgXCJjb21tZW50XCJdO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoXCIqXCIpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNDb21tZW50O1xuICAgICAgICAgIHJldHVybiB0b2tlbkNDb21tZW50KHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXCJvcGVyYXRvclwiLCBcIm9wZXJhdG9yXCJdO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCI6XCI6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9cXHMqXFx7LykpXG4gICAgICAgICAgcmV0dXJuIFtudWxsLCBcIntcIl07XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBcIiRcIjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIHN0cmVhbS5tYXRjaCgvXltcXHctXSsvKTtcbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlxccyo6LywgZmFsc2UpKVxuICAgICAgICAgIHJldHVybiBbXCJ2YXJpYWJsZS0yXCIsIFwidmFyaWFibGUtZGVmaW5pdGlvblwiXTtcbiAgICAgICAgcmV0dXJuIFtcInZhcmlhYmxlLTJcIiwgXCJ2YXJpYWJsZVwiXTtcbiAgICAgIH0sXG4gICAgICBcIiNcIjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIGlmICghc3RyZWFtLmVhdChcIntcIikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBcImludGVycG9sYXRpb25cIl07XG4gICAgICB9XG4gICAgfSxcbiAgICBuYW1lOiBcImNzc1wiLFxuICAgIGhlbHBlclR5cGU6IFwic2Nzc1wiXG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC1sZXNzXCIsIHtcbiAgICBtZWRpYVR5cGVzOiBtZWRpYVR5cGVzLFxuICAgIG1lZGlhRmVhdHVyZXM6IG1lZGlhRmVhdHVyZXMsXG4gICAgbWVkaWFWYWx1ZUtleXdvcmRzOiBtZWRpYVZhbHVlS2V5d29yZHMsXG4gICAgcHJvcGVydHlLZXl3b3JkczogcHJvcGVydHlLZXl3b3JkcyxcbiAgICBub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHM6IG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3JkcyxcbiAgICBjb2xvcktleXdvcmRzOiBjb2xvcktleXdvcmRzLFxuICAgIHZhbHVlS2V5d29yZHM6IHZhbHVlS2V5d29yZHMsXG4gICAgZm9udFByb3BlcnRpZXM6IGZvbnRQcm9wZXJ0aWVzLFxuICAgIGFsbG93TmVzdGVkOiB0cnVlLFxuICAgIHRva2VuSG9va3M6IHtcbiAgICAgIFwiL1wiOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIGlmIChzdHJlYW0uZWF0KFwiL1wiKSkge1xuICAgICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICAgICAgICByZXR1cm4gW1wiY29tbWVudFwiLCBcImNvbW1lbnRcIl07XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLmVhdChcIipcIikpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQ0NvbW1lbnQ7XG4gICAgICAgICAgcmV0dXJuIHRva2VuQ0NvbW1lbnQoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtcIm9wZXJhdG9yXCIsIFwib3BlcmF0b3JcIl07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcIkBcIjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIGlmIChzdHJlYW0uZWF0KFwie1wiKSkgcmV0dXJuIFtudWxsLCBcImludGVycG9sYXRpb25cIl07XG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14oY2hhcnNldHxkb2N1bWVudHxmb250LWZhY2V8aW1wb3J0fCgtKG1venxtc3xvfHdlYmtpdCktKT9rZXlmcmFtZXN8bWVkaWF8bmFtZXNwYWNlfHBhZ2V8c3VwcG9ydHMpXFxiLywgZmFsc2UpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcXFxcXC1dLyk7XG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2goL15cXHMqOi8sIGZhbHNlKSlcbiAgICAgICAgICByZXR1cm4gW1widmFyaWFibGUtMlwiLCBcInZhcmlhYmxlLWRlZmluaXRpb25cIl07XG4gICAgICAgIHJldHVybiBbXCJ2YXJpYWJsZS0yXCIsIFwidmFyaWFibGVcIl07XG4gICAgICB9LFxuICAgICAgXCImXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1wiYXRvbVwiLCBcImF0b21cIl07XG4gICAgICB9XG4gICAgfSxcbiAgICBuYW1lOiBcImNzc1wiLFxuICAgIGhlbHBlclR5cGU6IFwibGVzc1wiXG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC1nc3NcIiwge1xuICAgIGRvY3VtZW50VHlwZXM6IGRvY3VtZW50VHlwZXMsXG4gICAgbWVkaWFUeXBlczogbWVkaWFUeXBlcyxcbiAgICBtZWRpYUZlYXR1cmVzOiBtZWRpYUZlYXR1cmVzLFxuICAgIHByb3BlcnR5S2V5d29yZHM6IHByb3BlcnR5S2V5d29yZHMsXG4gICAgbm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzOiBub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMsXG4gICAgZm9udFByb3BlcnRpZXM6IGZvbnRQcm9wZXJ0aWVzLFxuICAgIGNvdW50ZXJEZXNjcmlwdG9yczogY291bnRlckRlc2NyaXB0b3JzLFxuICAgIGNvbG9yS2V5d29yZHM6IGNvbG9yS2V5d29yZHMsXG4gICAgdmFsdWVLZXl3b3JkczogdmFsdWVLZXl3b3JkcyxcbiAgICBzdXBwb3J0c0F0Q29tcG9uZW50OiB0cnVlLFxuICAgIHRva2VuSG9va3M6IHtcbiAgICAgIFwiL1wiOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIGlmICghc3RyZWFtLmVhdChcIipcIikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNDb21tZW50O1xuICAgICAgICByZXR1cm4gdG9rZW5DQ29tbWVudChzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG5hbWU6IFwiY3NzXCIsXG4gICAgaGVscGVyVHlwZTogXCJnc3NcIlxuICB9KTtcblxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIiksIHJlcXVpcmUoXCIuLi94bWwveG1sXCIpLCByZXF1aXJlKFwiLi4vamF2YXNjcmlwdC9qYXZhc2NyaXB0XCIpLCByZXF1aXJlKFwiLi4vY3NzL2Nzc1wiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiLCBcIi4uL3htbC94bWxcIiwgXCIuLi9qYXZhc2NyaXB0L2phdmFzY3JpcHRcIiwgXCIuLi9jc3MvY3NzXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgZGVmYXVsdFRhZ3MgPSB7XG4gICAgc2NyaXB0OiBbXG4gICAgICBbXCJsYW5nXCIsIC8oamF2YXNjcmlwdHxiYWJlbCkvaSwgXCJqYXZhc2NyaXB0XCJdLFxuICAgICAgW1widHlwZVwiLCAvXig/OnRleHR8YXBwbGljYXRpb24pXFwvKD86eC0pPyg/OmphdmF8ZWNtYSlzY3JpcHQkfF4kL2ksIFwiamF2YXNjcmlwdFwiXSxcbiAgICAgIFtcInR5cGVcIiwgLy4vLCBcInRleHQvcGxhaW5cIl0sXG4gICAgICBbbnVsbCwgbnVsbCwgXCJqYXZhc2NyaXB0XCJdXG4gICAgXSxcbiAgICBzdHlsZTogIFtcbiAgICAgIFtcImxhbmdcIiwgL15jc3MkL2ksIFwiY3NzXCJdLFxuICAgICAgW1widHlwZVwiLCAvXih0ZXh0XFwvKT8oeC0pPyhzdHlsZXNoZWV0fGNzcykkL2ksIFwiY3NzXCJdLFxuICAgICAgW1widHlwZVwiLCAvLi8sIFwidGV4dC9wbGFpblwiXSxcbiAgICAgIFtudWxsLCBudWxsLCBcImNzc1wiXVxuICAgIF1cbiAgfTtcblxuICBmdW5jdGlvbiBtYXliZUJhY2t1cChzdHJlYW0sIHBhdCwgc3R5bGUpIHtcbiAgICB2YXIgY3VyID0gc3RyZWFtLmN1cnJlbnQoKSwgY2xvc2UgPSBjdXIuc2VhcmNoKHBhdCk7XG4gICAgaWYgKGNsb3NlID4gLTEpIHtcbiAgICAgIHN0cmVhbS5iYWNrVXAoY3VyLmxlbmd0aCAtIGNsb3NlKTtcbiAgICB9IGVsc2UgaWYgKGN1ci5tYXRjaCgvPFxcLz8kLykpIHtcbiAgICAgIHN0cmVhbS5iYWNrVXAoY3VyLmxlbmd0aCk7XG4gICAgICBpZiAoIXN0cmVhbS5tYXRjaChwYXQsIGZhbHNlKSkgc3RyZWFtLm1hdGNoKGN1cik7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIHZhciBhdHRyUmVnZXhwQ2FjaGUgPSB7fTtcbiAgZnVuY3Rpb24gZ2V0QXR0clJlZ2V4cChhdHRyKSB7XG4gICAgdmFyIHJlZ2V4cCA9IGF0dHJSZWdleHBDYWNoZVthdHRyXTtcbiAgICBpZiAocmVnZXhwKSByZXR1cm4gcmVnZXhwO1xuICAgIHJldHVybiBhdHRyUmVnZXhwQ2FjaGVbYXR0cl0gPSBuZXcgUmVnRXhwKFwiXFxcXHMrXCIgKyBhdHRyICsgXCJcXFxccyo9XFxcXHMqKCd8XFxcIik/KFteJ1xcXCJdKykoJ3xcXFwiKT9cXFxccypcIik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBdHRyVmFsdWUodGV4dCwgYXR0cikge1xuICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goZ2V0QXR0clJlZ2V4cChhdHRyKSlcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsyXSA6IFwiXCJcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhZ1JlZ2V4cCh0YWdOYW1lLCBhbmNob3JlZCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKChhbmNob3JlZCA/IFwiXlwiIDogXCJcIikgKyBcIjxcXC9cXHMqXCIgKyB0YWdOYW1lICsgXCJcXHMqPlwiLCBcImlcIik7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUYWdzKGZyb20sIHRvKSB7XG4gICAgZm9yICh2YXIgdGFnIGluIGZyb20pIHtcbiAgICAgIHZhciBkZXN0ID0gdG9bdGFnXSB8fCAodG9bdGFnXSA9IFtdKTtcbiAgICAgIHZhciBzb3VyY2UgPSBmcm9tW3RhZ107XG4gICAgICBmb3IgKHZhciBpID0gc291cmNlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICBkZXN0LnVuc2hpZnQoc291cmNlW2ldKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRNYXRjaGluZ01vZGUodGFnSW5mbywgdGFnVGV4dCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFnSW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNwZWMgPSB0YWdJbmZvW2ldO1xuICAgICAgaWYgKCFzcGVjWzBdIHx8IHNwZWNbMV0udGVzdChnZXRBdHRyVmFsdWUodGFnVGV4dCwgc3BlY1swXSkpKSByZXR1cm4gc3BlY1syXTtcbiAgICB9XG4gIH1cblxuICBDb2RlTWlycm9yLmRlZmluZU1vZGUoXCJodG1sbWl4ZWRcIiwgZnVuY3Rpb24gKGNvbmZpZywgcGFyc2VyQ29uZmlnKSB7XG4gICAgdmFyIGh0bWxNb2RlID0gQ29kZU1pcnJvci5nZXRNb2RlKGNvbmZpZywge1xuICAgICAgbmFtZTogXCJ4bWxcIixcbiAgICAgIGh0bWxNb2RlOiB0cnVlLFxuICAgICAgbXVsdGlsaW5lVGFnSW5kZW50RmFjdG9yOiBwYXJzZXJDb25maWcubXVsdGlsaW5lVGFnSW5kZW50RmFjdG9yLFxuICAgICAgbXVsdGlsaW5lVGFnSW5kZW50UGFzdFRhZzogcGFyc2VyQ29uZmlnLm11bHRpbGluZVRhZ0luZGVudFBhc3RUYWdcbiAgICB9KTtcblxuICAgIHZhciB0YWdzID0ge307XG4gICAgdmFyIGNvbmZpZ1RhZ3MgPSBwYXJzZXJDb25maWcgJiYgcGFyc2VyQ29uZmlnLnRhZ3MsIGNvbmZpZ1NjcmlwdCA9IHBhcnNlckNvbmZpZyAmJiBwYXJzZXJDb25maWcuc2NyaXB0VHlwZXM7XG4gICAgYWRkVGFncyhkZWZhdWx0VGFncywgdGFncyk7XG4gICAgaWYgKGNvbmZpZ1RhZ3MpIGFkZFRhZ3MoY29uZmlnVGFncywgdGFncyk7XG4gICAgaWYgKGNvbmZpZ1NjcmlwdCkgZm9yICh2YXIgaSA9IGNvbmZpZ1NjcmlwdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIHRhZ3Muc2NyaXB0LnVuc2hpZnQoW1widHlwZVwiLCBjb25maWdTY3JpcHRbaV0ubWF0Y2hlcywgY29uZmlnU2NyaXB0W2ldLm1vZGVdKVxuXG4gICAgZnVuY3Rpb24gaHRtbChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICB2YXIgc3R5bGUgPSBodG1sTW9kZS50b2tlbihzdHJlYW0sIHN0YXRlLmh0bWxTdGF0ZSksIHRhZyA9IC9cXGJ0YWdcXGIvLnRlc3Qoc3R5bGUpLCB0YWdOYW1lXG4gICAgICBpZiAodGFnICYmICEvWzw+XFxzXFwvXS8udGVzdChzdHJlYW0uY3VycmVudCgpKSAmJlxuICAgICAgICAgICh0YWdOYW1lID0gc3RhdGUuaHRtbFN0YXRlLnRhZ05hbWUgJiYgc3RhdGUuaHRtbFN0YXRlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgJiZcbiAgICAgICAgICB0YWdzLmhhc093blByb3BlcnR5KHRhZ05hbWUpKSB7XG4gICAgICAgIHN0YXRlLmluVGFnID0gdGFnTmFtZSArIFwiIFwiXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmluVGFnICYmIHRhZyAmJiAvPiQvLnRlc3Qoc3RyZWFtLmN1cnJlbnQoKSkpIHtcbiAgICAgICAgdmFyIGluVGFnID0gL14oW1xcU10rKSAoLiopLy5leGVjKHN0YXRlLmluVGFnKVxuICAgICAgICBzdGF0ZS5pblRhZyA9IG51bGxcbiAgICAgICAgdmFyIG1vZGVTcGVjID0gc3RyZWFtLmN1cnJlbnQoKSA9PSBcIj5cIiAmJiBmaW5kTWF0Y2hpbmdNb2RlKHRhZ3NbaW5UYWdbMV1dLCBpblRhZ1syXSlcbiAgICAgICAgdmFyIG1vZGUgPSBDb2RlTWlycm9yLmdldE1vZGUoY29uZmlnLCBtb2RlU3BlYylcbiAgICAgICAgdmFyIGVuZFRhZ0EgPSBnZXRUYWdSZWdleHAoaW5UYWdbMV0sIHRydWUpLCBlbmRUYWcgPSBnZXRUYWdSZWdleHAoaW5UYWdbMV0sIGZhbHNlKTtcbiAgICAgICAgc3RhdGUudG9rZW4gPSBmdW5jdGlvbiAoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICAgIGlmIChzdHJlYW0ubWF0Y2goZW5kVGFnQSwgZmFsc2UpKSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbiA9IGh0bWw7XG4gICAgICAgICAgICBzdGF0ZS5sb2NhbFN0YXRlID0gc3RhdGUubG9jYWxNb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWF5YmVCYWNrdXAoc3RyZWFtLCBlbmRUYWcsIHN0YXRlLmxvY2FsTW9kZS50b2tlbihzdHJlYW0sIHN0YXRlLmxvY2FsU3RhdGUpKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3RhdGUubG9jYWxNb2RlID0gbW9kZTtcbiAgICAgICAgc3RhdGUubG9jYWxTdGF0ZSA9IENvZGVNaXJyb3Iuc3RhcnRTdGF0ZShtb2RlLCBodG1sTW9kZS5pbmRlbnQoc3RhdGUuaHRtbFN0YXRlLCBcIlwiKSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmluVGFnKSB7XG4gICAgICAgIHN0YXRlLmluVGFnICs9IHN0cmVhbS5jdXJyZW50KClcbiAgICAgICAgaWYgKHN0cmVhbS5lb2woKSkgc3RhdGUuaW5UYWcgKz0gXCIgXCJcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0U3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gQ29kZU1pcnJvci5zdGFydFN0YXRlKGh0bWxNb2RlKTtcbiAgICAgICAgcmV0dXJuIHt0b2tlbjogaHRtbCwgaW5UYWc6IG51bGwsIGxvY2FsTW9kZTogbnVsbCwgbG9jYWxTdGF0ZTogbnVsbCwgaHRtbFN0YXRlOiBzdGF0ZX07XG4gICAgICB9LFxuXG4gICAgICBjb3B5U3RhdGU6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgbG9jYWw7XG4gICAgICAgIGlmIChzdGF0ZS5sb2NhbFN0YXRlKSB7XG4gICAgICAgICAgbG9jYWwgPSBDb2RlTWlycm9yLmNvcHlTdGF0ZShzdGF0ZS5sb2NhbE1vZGUsIHN0YXRlLmxvY2FsU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7dG9rZW46IHN0YXRlLnRva2VuLCBpblRhZzogc3RhdGUuaW5UYWcsXG4gICAgICAgICAgICAgICAgbG9jYWxNb2RlOiBzdGF0ZS5sb2NhbE1vZGUsIGxvY2FsU3RhdGU6IGxvY2FsLFxuICAgICAgICAgICAgICAgIGh0bWxTdGF0ZTogQ29kZU1pcnJvci5jb3B5U3RhdGUoaHRtbE1vZGUsIHN0YXRlLmh0bWxTdGF0ZSl9O1xuICAgICAgfSxcblxuICAgICAgdG9rZW46IGZ1bmN0aW9uIChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS50b2tlbihzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH0sXG5cbiAgICAgIGluZGVudDogZnVuY3Rpb24gKHN0YXRlLCB0ZXh0QWZ0ZXIpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5sb2NhbE1vZGUgfHwgL15cXHMqPFxcLy8udGVzdCh0ZXh0QWZ0ZXIpKVxuICAgICAgICAgIHJldHVybiBodG1sTW9kZS5pbmRlbnQoc3RhdGUuaHRtbFN0YXRlLCB0ZXh0QWZ0ZXIpO1xuICAgICAgICBlbHNlIGlmIChzdGF0ZS5sb2NhbE1vZGUuaW5kZW50KVxuICAgICAgICAgIHJldHVybiBzdGF0ZS5sb2NhbE1vZGUuaW5kZW50KHN0YXRlLmxvY2FsU3RhdGUsIHRleHRBZnRlcik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuICAgICAgfSxcblxuICAgICAgaW5uZXJNb2RlOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtzdGF0ZTogc3RhdGUubG9jYWxTdGF0ZSB8fCBzdGF0ZS5odG1sU3RhdGUsIG1vZGU6IHN0YXRlLmxvY2FsTW9kZSB8fCBodG1sTW9kZX07XG4gICAgICB9XG4gICAgfTtcbiAgfSwgXCJ4bWxcIiwgXCJqYXZhc2NyaXB0XCIsIFwiY3NzXCIpO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQvaHRtbFwiLCBcImh0bWxtaXhlZFwiKTtcbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4vLyBUT0RPIGFjdHVhbGx5IHJlY29nbml6ZSBzeW50YXggb2YgVHlwZVNjcmlwdCBjb25zdHJ1Y3RzXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gZXhwcmVzc2lvbkFsbG93ZWQoc3RyZWFtLCBzdGF0ZSwgYmFja1VwKSB7XG4gIHJldHVybiAvXig/Om9wZXJhdG9yfHNvZnxrZXl3b3JkIGN8Y2FzZXxuZXd8W1xcW3t9XFwoLDs6XXw9PikkLy50ZXN0KHN0YXRlLmxhc3RUeXBlKSB8fFxuICAgIChzdGF0ZS5sYXN0VHlwZSA9PSBcInF1YXNpXCIgJiYgL1xce1xccyokLy50ZXN0KHN0cmVhbS5zdHJpbmcuc2xpY2UoMCwgc3RyZWFtLnBvcyAtIChiYWNrVXAgfHwgMCkpKSlcbn1cblxuQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwiamF2YXNjcmlwdFwiLCBmdW5jdGlvbihjb25maWcsIHBhcnNlckNvbmZpZykge1xuICB2YXIgaW5kZW50VW5pdCA9IGNvbmZpZy5pbmRlbnRVbml0O1xuICB2YXIgc3RhdGVtZW50SW5kZW50ID0gcGFyc2VyQ29uZmlnLnN0YXRlbWVudEluZGVudDtcbiAgdmFyIGpzb25sZE1vZGUgPSBwYXJzZXJDb25maWcuanNvbmxkO1xuICB2YXIganNvbk1vZGUgPSBwYXJzZXJDb25maWcuanNvbiB8fCBqc29ubGRNb2RlO1xuICB2YXIgaXNUUyA9IHBhcnNlckNvbmZpZy50eXBlc2NyaXB0O1xuICB2YXIgd29yZFJFID0gcGFyc2VyQ29uZmlnLndvcmRDaGFyYWN0ZXJzIHx8IC9bXFx3JFxceGExLVxcdWZmZmZdLztcblxuICAvLyBUb2tlbml6ZXJcblxuICB2YXIga2V5d29yZHMgPSBmdW5jdGlvbigpe1xuICAgIGZ1bmN0aW9uIGt3KHR5cGUpIHtyZXR1cm4ge3R5cGU6IHR5cGUsIHN0eWxlOiBcImtleXdvcmRcIn07fVxuICAgIHZhciBBID0ga3coXCJrZXl3b3JkIGFcIiksIEIgPSBrdyhcImtleXdvcmQgYlwiKSwgQyA9IGt3KFwia2V5d29yZCBjXCIpO1xuICAgIHZhciBvcGVyYXRvciA9IGt3KFwib3BlcmF0b3JcIiksIGF0b20gPSB7dHlwZTogXCJhdG9tXCIsIHN0eWxlOiBcImF0b21cIn07XG5cbiAgICB2YXIganNLZXl3b3JkcyA9IHtcbiAgICAgIFwiaWZcIjoga3coXCJpZlwiKSwgXCJ3aGlsZVwiOiBBLCBcIndpdGhcIjogQSwgXCJlbHNlXCI6IEIsIFwiZG9cIjogQiwgXCJ0cnlcIjogQiwgXCJmaW5hbGx5XCI6IEIsXG4gICAgICBcInJldHVyblwiOiBDLCBcImJyZWFrXCI6IEMsIFwiY29udGludWVcIjogQywgXCJuZXdcIjoga3coXCJuZXdcIiksIFwiZGVsZXRlXCI6IEMsIFwidGhyb3dcIjogQywgXCJkZWJ1Z2dlclwiOiBDLFxuICAgICAgXCJ2YXJcIjoga3coXCJ2YXJcIiksIFwiY29uc3RcIjoga3coXCJ2YXJcIiksIFwibGV0XCI6IGt3KFwidmFyXCIpLFxuICAgICAgXCJmdW5jdGlvblwiOiBrdyhcImZ1bmN0aW9uXCIpLCBcImNhdGNoXCI6IGt3KFwiY2F0Y2hcIiksXG4gICAgICBcImZvclwiOiBrdyhcImZvclwiKSwgXCJzd2l0Y2hcIjoga3coXCJzd2l0Y2hcIiksIFwiY2FzZVwiOiBrdyhcImNhc2VcIiksIFwiZGVmYXVsdFwiOiBrdyhcImRlZmF1bHRcIiksXG4gICAgICBcImluXCI6IG9wZXJhdG9yLCBcInR5cGVvZlwiOiBvcGVyYXRvciwgXCJpbnN0YW5jZW9mXCI6IG9wZXJhdG9yLFxuICAgICAgXCJ0cnVlXCI6IGF0b20sIFwiZmFsc2VcIjogYXRvbSwgXCJudWxsXCI6IGF0b20sIFwidW5kZWZpbmVkXCI6IGF0b20sIFwiTmFOXCI6IGF0b20sIFwiSW5maW5pdHlcIjogYXRvbSxcbiAgICAgIFwidGhpc1wiOiBrdyhcInRoaXNcIiksIFwiY2xhc3NcIjoga3coXCJjbGFzc1wiKSwgXCJzdXBlclwiOiBrdyhcImF0b21cIiksXG4gICAgICBcInlpZWxkXCI6IEMsIFwiZXhwb3J0XCI6IGt3KFwiZXhwb3J0XCIpLCBcImltcG9ydFwiOiBrdyhcImltcG9ydFwiKSwgXCJleHRlbmRzXCI6IEMsXG4gICAgICBcImF3YWl0XCI6IEMsIFwiYXN5bmNcIjoga3coXCJhc3luY1wiKVxuICAgIH07XG5cbiAgICAvLyBFeHRlbmQgdGhlICdub3JtYWwnIGtleXdvcmRzIHdpdGggdGhlIFR5cGVTY3JpcHQgbGFuZ3VhZ2UgZXh0ZW5zaW9uc1xuICAgIGlmIChpc1RTKSB7XG4gICAgICB2YXIgdHlwZSA9IHt0eXBlOiBcInZhcmlhYmxlXCIsIHN0eWxlOiBcInZhcmlhYmxlLTNcIn07XG4gICAgICB2YXIgdHNLZXl3b3JkcyA9IHtcbiAgICAgICAgLy8gb2JqZWN0LWxpa2UgdGhpbmdzXG4gICAgICAgIFwiaW50ZXJmYWNlXCI6IGt3KFwiY2xhc3NcIiksXG4gICAgICAgIFwiaW1wbGVtZW50c1wiOiBDLFxuICAgICAgICBcIm5hbWVzcGFjZVwiOiBDLFxuICAgICAgICBcIm1vZHVsZVwiOiBrdyhcIm1vZHVsZVwiKSxcbiAgICAgICAgXCJlbnVtXCI6IGt3KFwibW9kdWxlXCIpLFxuXG4gICAgICAgIC8vIHNjb3BlIG1vZGlmaWVyc1xuICAgICAgICBcInB1YmxpY1wiOiBrdyhcIm1vZGlmaWVyXCIpLFxuICAgICAgICBcInByaXZhdGVcIjoga3coXCJtb2RpZmllclwiKSxcbiAgICAgICAgXCJwcm90ZWN0ZWRcIjoga3coXCJtb2RpZmllclwiKSxcbiAgICAgICAgXCJhYnN0cmFjdFwiOiBrdyhcIm1vZGlmaWVyXCIpLFxuXG4gICAgICAgIC8vIG9wZXJhdG9yc1xuICAgICAgICBcImFzXCI6IG9wZXJhdG9yLFxuXG4gICAgICAgIC8vIHR5cGVzXG4gICAgICAgIFwic3RyaW5nXCI6IHR5cGUsIFwibnVtYmVyXCI6IHR5cGUsIFwiYm9vbGVhblwiOiB0eXBlLCBcImFueVwiOiB0eXBlXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBhdHRyIGluIHRzS2V5d29yZHMpIHtcbiAgICAgICAganNLZXl3b3Jkc1thdHRyXSA9IHRzS2V5d29yZHNbYXR0cl07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzS2V5d29yZHM7XG4gIH0oKTtcblxuICB2YXIgaXNPcGVyYXRvckNoYXIgPSAvWytcXC0qJiU9PD4hP3x+Xl0vO1xuICB2YXIgaXNKc29ubGRLZXl3b3JkID0gL15AKGNvbnRleHR8aWR8dmFsdWV8bGFuZ3VhZ2V8dHlwZXxjb250YWluZXJ8bGlzdHxzZXR8cmV2ZXJzZXxpbmRleHxiYXNlfHZvY2FifGdyYXBoKVwiLztcblxuICBmdW5jdGlvbiByZWFkUmVnZXhwKHN0cmVhbSkge1xuICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIG5leHQsIGluU2V0ID0gZmFsc2U7XG4gICAgd2hpbGUgKChuZXh0ID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkge1xuICAgICAgaWYgKCFlc2NhcGVkKSB7XG4gICAgICAgIGlmIChuZXh0ID09IFwiL1wiICYmICFpblNldCkgcmV0dXJuO1xuICAgICAgICBpZiAobmV4dCA9PSBcIltcIikgaW5TZXQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpblNldCAmJiBuZXh0ID09IFwiXVwiKSBpblNldCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkICYmIG5leHQgPT0gXCJcXFxcXCI7XG4gICAgfVxuICB9XG5cbiAgLy8gVXNlZCBhcyBzY3JhdGNoIHZhcmlhYmxlcyB0byBjb21tdW5pY2F0ZSBtdWx0aXBsZSB2YWx1ZXMgd2l0aG91dFxuICAvLyBjb25zaW5nIHVwIHRvbnMgb2Ygb2JqZWN0cy5cbiAgdmFyIHR5cGUsIGNvbnRlbnQ7XG4gIGZ1bmN0aW9uIHJldCh0cCwgc3R5bGUsIGNvbnQpIHtcbiAgICB0eXBlID0gdHA7IGNvbnRlbnQgPSBjb250O1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuICBmdW5jdGlvbiB0b2tlbkJhc2Uoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gICAgaWYgKGNoID09ICdcIicgfHwgY2ggPT0gXCInXCIpIHtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5TdHJpbmcoY2gpO1xuICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIuXCIgJiYgc3RyZWFtLm1hdGNoKC9eXFxkKyg/OltlRV1bK1xcLV0/XFxkKyk/LykpIHtcbiAgICAgIHJldHVybiByZXQoXCJudW1iZXJcIiwgXCJudW1iZXJcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIi5cIiAmJiBzdHJlYW0ubWF0Y2goXCIuLlwiKSkge1xuICAgICAgcmV0dXJuIHJldChcInNwcmVhZFwiLCBcIm1ldGFcIik7XG4gICAgfSBlbHNlIGlmICgvW1xcW1xcXXt9XFwoXFwpLDtcXDpcXC5dLy50ZXN0KGNoKSkge1xuICAgICAgcmV0dXJuIHJldChjaCk7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIj1cIiAmJiBzdHJlYW0uZWF0KFwiPlwiKSkge1xuICAgICAgcmV0dXJuIHJldChcIj0+XCIsIFwib3BlcmF0b3JcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIjBcIiAmJiBzdHJlYW0uZWF0KC94L2kpKSB7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXGRhLWZdL2kpO1xuICAgICAgcmV0dXJuIHJldChcIm51bWJlclwiLCBcIm51bWJlclwiKTtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiMFwiICYmIHN0cmVhbS5lYXQoL28vaSkpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgvWzAtN10vaSk7XG4gICAgICByZXR1cm4gcmV0KFwibnVtYmVyXCIsIFwibnVtYmVyXCIpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIwXCIgJiYgc3RyZWFtLmVhdCgvYi9pKSkge1xuICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bMDFdL2kpO1xuICAgICAgcmV0dXJuIHJldChcIm51bWJlclwiLCBcIm51bWJlclwiKTtcbiAgICB9IGVsc2UgaWYgKC9cXGQvLnRlc3QoY2gpKSB7XG4gICAgICBzdHJlYW0ubWF0Y2goL15cXGQqKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vKTtcbiAgICAgIHJldHVybiByZXQoXCJudW1iZXJcIiwgXCJudW1iZXJcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIi9cIikge1xuICAgICAgaWYgKHN0cmVhbS5lYXQoXCIqXCIpKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5Db21tZW50O1xuICAgICAgICByZXR1cm4gdG9rZW5Db21tZW50KHN0cmVhbSwgc3RhdGUpO1xuICAgICAgfSBlbHNlIGlmIChzdHJlYW0uZWF0KFwiL1wiKSkge1xuICAgICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICAgIHJldHVybiByZXQoXCJjb21tZW50XCIsIFwiY29tbWVudFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoZXhwcmVzc2lvbkFsbG93ZWQoc3RyZWFtLCBzdGF0ZSwgMSkpIHtcbiAgICAgICAgcmVhZFJlZ2V4cChzdHJlYW0pO1xuICAgICAgICBzdHJlYW0ubWF0Y2goL15cXGIoKFtnaW15dV0pKD8hW2dpbXl1XSpcXDIpKStcXGIvKTtcbiAgICAgICAgcmV0dXJuIHJldChcInJlZ2V4cFwiLCBcInN0cmluZy0yXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyZWFtLmVhdFdoaWxlKGlzT3BlcmF0b3JDaGFyKTtcbiAgICAgICAgcmV0dXJuIHJldChcIm9wZXJhdG9yXCIsIFwib3BlcmF0b3JcIiwgc3RyZWFtLmN1cnJlbnQoKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcImBcIikge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlblF1YXNpO1xuICAgICAgcmV0dXJuIHRva2VuUXVhc2koc3RyZWFtLCBzdGF0ZSk7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIiNcIikge1xuICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgcmV0dXJuIHJldChcImVycm9yXCIsIFwiZXJyb3JcIik7XG4gICAgfSBlbHNlIGlmIChpc09wZXJhdG9yQ2hhci50ZXN0KGNoKSkge1xuICAgICAgc3RyZWFtLmVhdFdoaWxlKGlzT3BlcmF0b3JDaGFyKTtcbiAgICAgIHJldHVybiByZXQoXCJvcGVyYXRvclwiLCBcIm9wZXJhdG9yXCIsIHN0cmVhbS5jdXJyZW50KCkpO1xuICAgIH0gZWxzZSBpZiAod29yZFJFLnRlc3QoY2gpKSB7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUod29yZFJFKTtcbiAgICAgIHZhciB3b3JkID0gc3RyZWFtLmN1cnJlbnQoKSwga25vd24gPSBrZXl3b3Jkcy5wcm9wZXJ0eUlzRW51bWVyYWJsZSh3b3JkKSAmJiBrZXl3b3Jkc1t3b3JkXTtcbiAgICAgIHJldHVybiAoa25vd24gJiYgc3RhdGUubGFzdFR5cGUgIT0gXCIuXCIpID8gcmV0KGtub3duLnR5cGUsIGtub3duLnN0eWxlLCB3b3JkKSA6XG4gICAgICAgICAgICAgICAgICAgICByZXQoXCJ2YXJpYWJsZVwiLCBcInZhcmlhYmxlXCIsIHdvcmQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuU3RyaW5nKHF1b3RlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIG5leHQ7XG4gICAgICBpZiAoanNvbmxkTW9kZSAmJiBzdHJlYW0ucGVlaygpID09IFwiQFwiICYmIHN0cmVhbS5tYXRjaChpc0pzb25sZEtleXdvcmQpKXtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICAgIHJldHVybiByZXQoXCJqc29ubGQta2V5d29yZFwiLCBcIm1ldGFcIik7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKG5leHQgPSBzdHJlYW0ubmV4dCgpKSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChuZXh0ID09IHF1b3RlICYmICFlc2NhcGVkKSBicmVhaztcbiAgICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkICYmIG5leHQgPT0gXCJcXFxcXCI7XG4gICAgICB9XG4gICAgICBpZiAoIWVzY2FwZWQpIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgcmV0dXJuIHJldChcInN0cmluZ1wiLCBcInN0cmluZ1wiKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5Db21tZW50KHN0cmVhbSwgc3RhdGUpIHtcbiAgICB2YXIgbWF5YmVFbmQgPSBmYWxzZSwgY2g7XG4gICAgd2hpbGUgKGNoID0gc3RyZWFtLm5leHQoKSkge1xuICAgICAgaWYgKGNoID09IFwiL1wiICYmIG1heWJlRW5kKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG1heWJlRW5kID0gKGNoID09IFwiKlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldChcImNvbW1lbnRcIiwgXCJjb21tZW50XCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5RdWFzaShzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIGVzY2FwZWQgPSBmYWxzZSwgbmV4dDtcbiAgICB3aGlsZSAoKG5leHQgPSBzdHJlYW0ubmV4dCgpKSAhPSBudWxsKSB7XG4gICAgICBpZiAoIWVzY2FwZWQgJiYgKG5leHQgPT0gXCJgXCIgfHwgbmV4dCA9PSBcIiRcIiAmJiBzdHJlYW0uZWF0KFwie1wiKSkpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkICYmIG5leHQgPT0gXCJcXFxcXCI7XG4gICAgfVxuICAgIHJldHVybiByZXQoXCJxdWFzaVwiLCBcInN0cmluZy0yXCIsIHN0cmVhbS5jdXJyZW50KCkpO1xuICB9XG5cbiAgdmFyIGJyYWNrZXRzID0gXCIoW3t9XSlcIjtcbiAgLy8gVGhpcyBpcyBhIGNydWRlIGxvb2thaGVhZCB0cmljayB0byB0cnkgYW5kIG5vdGljZSB0aGF0IHdlJ3JlXG4gIC8vIHBhcnNpbmcgdGhlIGFyZ3VtZW50IHBhdHRlcm5zIGZvciBhIGZhdC1hcnJvdyBmdW5jdGlvbiBiZWZvcmUgd2VcbiAgLy8gYWN0dWFsbHkgaGl0IHRoZSBhcnJvdyB0b2tlbi4gSXQgb25seSB3b3JrcyBpZiB0aGUgYXJyb3cgaXMgb25cbiAgLy8gdGhlIHNhbWUgbGluZSBhcyB0aGUgYXJndW1lbnRzIGFuZCB0aGVyZSdzIG5vIHN0cmFuZ2Ugbm9pc2VcbiAgLy8gKGNvbW1lbnRzKSBpbiBiZXR3ZWVuLiBGYWxsYmFjayBpcyB0byBvbmx5IG5vdGljZSB3aGVuIHdlIGhpdCB0aGVcbiAgLy8gYXJyb3csIGFuZCBub3QgZGVjbGFyZSB0aGUgYXJndW1lbnRzIGFzIGxvY2FscyBmb3IgdGhlIGFycm93XG4gIC8vIGJvZHkuXG4gIGZ1bmN0aW9uIGZpbmRGYXRBcnJvdyhzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmZhdEFycm93QXQpIHN0YXRlLmZhdEFycm93QXQgPSBudWxsO1xuICAgIHZhciBhcnJvdyA9IHN0cmVhbS5zdHJpbmcuaW5kZXhPZihcIj0+XCIsIHN0cmVhbS5zdGFydCk7XG4gICAgaWYgKGFycm93IDwgMCkgcmV0dXJuO1xuXG4gICAgdmFyIGRlcHRoID0gMCwgc2F3U29tZXRoaW5nID0gZmFsc2U7XG4gICAgZm9yICh2YXIgcG9zID0gYXJyb3cgLSAxOyBwb3MgPj0gMDsgLS1wb3MpIHtcbiAgICAgIHZhciBjaCA9IHN0cmVhbS5zdHJpbmcuY2hhckF0KHBvcyk7XG4gICAgICB2YXIgYnJhY2tldCA9IGJyYWNrZXRzLmluZGV4T2YoY2gpO1xuICAgICAgaWYgKGJyYWNrZXQgPj0gMCAmJiBicmFja2V0IDwgMykge1xuICAgICAgICBpZiAoIWRlcHRoKSB7ICsrcG9zOyBicmVhazsgfVxuICAgICAgICBpZiAoLS1kZXB0aCA9PSAwKSBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAoYnJhY2tldCA+PSAzICYmIGJyYWNrZXQgPCA2KSB7XG4gICAgICAgICsrZGVwdGg7XG4gICAgICB9IGVsc2UgaWYgKHdvcmRSRS50ZXN0KGNoKSkge1xuICAgICAgICBzYXdTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICgvW1wiJ1xcL10vLnRlc3QoY2gpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoc2F3U29tZXRoaW5nICYmICFkZXB0aCkge1xuICAgICAgICArK3BvcztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzYXdTb21ldGhpbmcgJiYgIWRlcHRoKSBzdGF0ZS5mYXRBcnJvd0F0ID0gcG9zO1xuICB9XG5cbiAgLy8gUGFyc2VyXG5cbiAgdmFyIGF0b21pY1R5cGVzID0ge1wiYXRvbVwiOiB0cnVlLCBcIm51bWJlclwiOiB0cnVlLCBcInZhcmlhYmxlXCI6IHRydWUsIFwic3RyaW5nXCI6IHRydWUsIFwicmVnZXhwXCI6IHRydWUsIFwidGhpc1wiOiB0cnVlLCBcImpzb25sZC1rZXl3b3JkXCI6IHRydWV9O1xuXG4gIGZ1bmN0aW9uIEpTTGV4aWNhbChpbmRlbnRlZCwgY29sdW1uLCB0eXBlLCBhbGlnbiwgcHJldiwgaW5mbykge1xuICAgIHRoaXMuaW5kZW50ZWQgPSBpbmRlbnRlZDtcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMucHJldiA9IHByZXY7XG4gICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICBpZiAoYWxpZ24gIT0gbnVsbCkgdGhpcy5hbGlnbiA9IGFsaWduO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5TY29wZShzdGF0ZSwgdmFybmFtZSkge1xuICAgIGZvciAodmFyIHYgPSBzdGF0ZS5sb2NhbFZhcnM7IHY7IHYgPSB2Lm5leHQpXG4gICAgICBpZiAodi5uYW1lID09IHZhcm5hbWUpIHJldHVybiB0cnVlO1xuICAgIGZvciAodmFyIGN4ID0gc3RhdGUuY29udGV4dDsgY3g7IGN4ID0gY3gucHJldikge1xuICAgICAgZm9yICh2YXIgdiA9IGN4LnZhcnM7IHY7IHYgPSB2Lm5leHQpXG4gICAgICAgIGlmICh2Lm5hbWUgPT0gdmFybmFtZSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VKUyhzdGF0ZSwgc3R5bGUsIHR5cGUsIGNvbnRlbnQsIHN0cmVhbSkge1xuICAgIHZhciBjYyA9IHN0YXRlLmNjO1xuICAgIC8vIENvbW11bmljYXRlIG91ciBjb250ZXh0IHRvIHRoZSBjb21iaW5hdG9ycy5cbiAgICAvLyAoTGVzcyB3YXN0ZWZ1bCB0aGFuIGNvbnNpbmcgdXAgYSBodW5kcmVkIGNsb3N1cmVzIG9uIGV2ZXJ5IGNhbGwuKVxuICAgIGN4LnN0YXRlID0gc3RhdGU7IGN4LnN0cmVhbSA9IHN0cmVhbTsgY3gubWFya2VkID0gbnVsbCwgY3guY2MgPSBjYzsgY3guc3R5bGUgPSBzdHlsZTtcblxuICAgIGlmICghc3RhdGUubGV4aWNhbC5oYXNPd25Qcm9wZXJ0eShcImFsaWduXCIpKVxuICAgICAgc3RhdGUubGV4aWNhbC5hbGlnbiA9IHRydWU7XG5cbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICB2YXIgY29tYmluYXRvciA9IGNjLmxlbmd0aCA/IGNjLnBvcCgpIDoganNvbk1vZGUgPyBleHByZXNzaW9uIDogc3RhdGVtZW50O1xuICAgICAgaWYgKGNvbWJpbmF0b3IodHlwZSwgY29udGVudCkpIHtcbiAgICAgICAgd2hpbGUoY2MubGVuZ3RoICYmIGNjW2NjLmxlbmd0aCAtIDFdLmxleClcbiAgICAgICAgICBjYy5wb3AoKSgpO1xuICAgICAgICBpZiAoY3gubWFya2VkKSByZXR1cm4gY3gubWFya2VkO1xuICAgICAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIgJiYgaW5TY29wZShzdGF0ZSwgY29udGVudCkpIHJldHVybiBcInZhcmlhYmxlLTJcIjtcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENvbWJpbmF0b3IgdXRpbHNcblxuICB2YXIgY3ggPSB7c3RhdGU6IG51bGwsIGNvbHVtbjogbnVsbCwgbWFya2VkOiBudWxsLCBjYzogbnVsbH07XG4gIGZ1bmN0aW9uIHBhc3MoKSB7XG4gICAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgY3guY2MucHVzaChhcmd1bWVudHNbaV0pO1xuICB9XG4gIGZ1bmN0aW9uIGNvbnQoKSB7XG4gICAgcGFzcy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyKHZhcm5hbWUpIHtcbiAgICBmdW5jdGlvbiBpbkxpc3QobGlzdCkge1xuICAgICAgZm9yICh2YXIgdiA9IGxpc3Q7IHY7IHYgPSB2Lm5leHQpXG4gICAgICAgIGlmICh2Lm5hbWUgPT0gdmFybmFtZSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBzdGF0ZSA9IGN4LnN0YXRlO1xuICAgIGN4Lm1hcmtlZCA9IFwiZGVmXCI7XG4gICAgaWYgKHN0YXRlLmNvbnRleHQpIHtcbiAgICAgIGlmIChpbkxpc3Qoc3RhdGUubG9jYWxWYXJzKSkgcmV0dXJuO1xuICAgICAgc3RhdGUubG9jYWxWYXJzID0ge25hbWU6IHZhcm5hbWUsIG5leHQ6IHN0YXRlLmxvY2FsVmFyc307XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbkxpc3Qoc3RhdGUuZ2xvYmFsVmFycykpIHJldHVybjtcbiAgICAgIGlmIChwYXJzZXJDb25maWcuZ2xvYmFsVmFycylcbiAgICAgICAgc3RhdGUuZ2xvYmFsVmFycyA9IHtuYW1lOiB2YXJuYW1lLCBuZXh0OiBzdGF0ZS5nbG9iYWxWYXJzfTtcbiAgICB9XG4gIH1cblxuICAvLyBDb21iaW5hdG9yc1xuXG4gIHZhciBkZWZhdWx0VmFycyA9IHtuYW1lOiBcInRoaXNcIiwgbmV4dDoge25hbWU6IFwiYXJndW1lbnRzXCJ9fTtcbiAgZnVuY3Rpb24gcHVzaGNvbnRleHQoKSB7XG4gICAgY3guc3RhdGUuY29udGV4dCA9IHtwcmV2OiBjeC5zdGF0ZS5jb250ZXh0LCB2YXJzOiBjeC5zdGF0ZS5sb2NhbFZhcnN9O1xuICAgIGN4LnN0YXRlLmxvY2FsVmFycyA9IGRlZmF1bHRWYXJzO1xuICB9XG4gIGZ1bmN0aW9uIHBvcGNvbnRleHQoKSB7XG4gICAgY3guc3RhdGUubG9jYWxWYXJzID0gY3guc3RhdGUuY29udGV4dC52YXJzO1xuICAgIGN4LnN0YXRlLmNvbnRleHQgPSBjeC5zdGF0ZS5jb250ZXh0LnByZXY7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaGxleCh0eXBlLCBpbmZvKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN0YXRlID0gY3guc3RhdGUsIGluZGVudCA9IHN0YXRlLmluZGVudGVkO1xuICAgICAgaWYgKHN0YXRlLmxleGljYWwudHlwZSA9PSBcInN0YXRcIikgaW5kZW50ID0gc3RhdGUubGV4aWNhbC5pbmRlbnRlZDtcbiAgICAgIGVsc2UgZm9yICh2YXIgb3V0ZXIgPSBzdGF0ZS5sZXhpY2FsOyBvdXRlciAmJiBvdXRlci50eXBlID09IFwiKVwiICYmIG91dGVyLmFsaWduOyBvdXRlciA9IG91dGVyLnByZXYpXG4gICAgICAgIGluZGVudCA9IG91dGVyLmluZGVudGVkO1xuICAgICAgc3RhdGUubGV4aWNhbCA9IG5ldyBKU0xleGljYWwoaW5kZW50LCBjeC5zdHJlYW0uY29sdW1uKCksIHR5cGUsIG51bGwsIHN0YXRlLmxleGljYWwsIGluZm8pO1xuICAgIH07XG4gICAgcmVzdWx0LmxleCA9IHRydWU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBwb3BsZXgoKSB7XG4gICAgdmFyIHN0YXRlID0gY3guc3RhdGU7XG4gICAgaWYgKHN0YXRlLmxleGljYWwucHJldikge1xuICAgICAgaWYgKHN0YXRlLmxleGljYWwudHlwZSA9PSBcIilcIilcbiAgICAgICAgc3RhdGUuaW5kZW50ZWQgPSBzdGF0ZS5sZXhpY2FsLmluZGVudGVkO1xuICAgICAgc3RhdGUubGV4aWNhbCA9IHN0YXRlLmxleGljYWwucHJldjtcbiAgICB9XG4gIH1cbiAgcG9wbGV4LmxleCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gZXhwZWN0KHdhbnRlZCkge1xuICAgIGZ1bmN0aW9uIGV4cCh0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PSB3YW50ZWQpIHJldHVybiBjb250KCk7XG4gICAgICBlbHNlIGlmICh3YW50ZWQgPT0gXCI7XCIpIHJldHVybiBwYXNzKCk7XG4gICAgICBlbHNlIHJldHVybiBjb250KGV4cCk7XG4gICAgfTtcbiAgICByZXR1cm4gZXhwO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhdGVtZW50KHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJcIikgcmV0dXJuIGNvbnQocHVzaGxleChcInZhcmRlZlwiLCB2YWx1ZS5sZW5ndGgpLCB2YXJkZWYsIGV4cGVjdChcIjtcIiksIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJrZXl3b3JkIGFcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIGV4cHJlc3Npb24sIHN0YXRlbWVudCwgcG9wbGV4KTtcbiAgICBpZiAodHlwZSA9PSBcImtleXdvcmQgYlwiKSByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgc3RhdGVtZW50LCBwb3BsZXgpO1xuICAgIGlmICh0eXBlID09IFwie1wiKSByZXR1cm4gY29udChwdXNobGV4KFwifVwiKSwgYmxvY2ssIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCI7XCIpIHJldHVybiBjb250KCk7XG4gICAgaWYgKHR5cGUgPT0gXCJpZlwiKSB7XG4gICAgICBpZiAoY3guc3RhdGUubGV4aWNhbC5pbmZvID09IFwiZWxzZVwiICYmIGN4LnN0YXRlLmNjW2N4LnN0YXRlLmNjLmxlbmd0aCAtIDFdID09IHBvcGxleClcbiAgICAgICAgY3guc3RhdGUuY2MucG9wKCkoKTtcbiAgICAgIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIpLCBleHByZXNzaW9uLCBzdGF0ZW1lbnQsIHBvcGxleCwgbWF5YmVlbHNlKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gY29udChmdW5jdGlvbmRlZik7XG4gICAgaWYgKHR5cGUgPT0gXCJmb3JcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIGZvcnNwZWMsIHN0YXRlbWVudCwgcG9wbGV4KTtcbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJzdGF0XCIpLCBtYXliZWxhYmVsKTtcbiAgICBpZiAodHlwZSA9PSBcInN3aXRjaFwiKSByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgZXhwcmVzc2lvbiwgcHVzaGxleChcIn1cIiwgXCJzd2l0Y2hcIiksIGV4cGVjdChcIntcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLCBwb3BsZXgsIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJjYXNlXCIpIHJldHVybiBjb250KGV4cHJlc3Npb24sIGV4cGVjdChcIjpcIikpO1xuICAgIGlmICh0eXBlID09IFwiZGVmYXVsdFwiKSByZXR1cm4gY29udChleHBlY3QoXCI6XCIpKTtcbiAgICBpZiAodHlwZSA9PSBcImNhdGNoXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIpLCBwdXNoY29udGV4dCwgZXhwZWN0KFwiKFwiKSwgZnVuYXJnLCBleHBlY3QoXCIpXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlbWVudCwgcG9wbGV4LCBwb3Bjb250ZXh0KTtcbiAgICBpZiAodHlwZSA9PSBcImNsYXNzXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIpLCBjbGFzc05hbWUsIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJleHBvcnRcIikgcmV0dXJuIGNvbnQocHVzaGxleChcInN0YXRcIiksIGFmdGVyRXhwb3J0LCBwb3BsZXgpO1xuICAgIGlmICh0eXBlID09IFwiaW1wb3J0XCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJzdGF0XCIpLCBhZnRlckltcG9ydCwgcG9wbGV4KTtcbiAgICBpZiAodHlwZSA9PSBcIm1vZHVsZVwiKSByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgcGF0dGVybiwgcHVzaGxleChcIn1cIiksIGV4cGVjdChcIntcIiksIGJsb2NrLCBwb3BsZXgsIHBvcGxleClcbiAgICBpZiAodHlwZSA9PSBcImFzeW5jXCIpIHJldHVybiBjb250KHN0YXRlbWVudClcbiAgICByZXR1cm4gcGFzcyhwdXNobGV4KFwic3RhdFwiKSwgZXhwcmVzc2lvbiwgZXhwZWN0KFwiO1wiKSwgcG9wbGV4KTtcbiAgfVxuICBmdW5jdGlvbiBleHByZXNzaW9uKHR5cGUpIHtcbiAgICByZXR1cm4gZXhwcmVzc2lvbklubmVyKHR5cGUsIGZhbHNlKTtcbiAgfVxuICBmdW5jdGlvbiBleHByZXNzaW9uTm9Db21tYSh0eXBlKSB7XG4gICAgcmV0dXJuIGV4cHJlc3Npb25Jbm5lcih0eXBlLCB0cnVlKTtcbiAgfVxuICBmdW5jdGlvbiBleHByZXNzaW9uSW5uZXIodHlwZSwgbm9Db21tYSkge1xuICAgIGlmIChjeC5zdGF0ZS5mYXRBcnJvd0F0ID09IGN4LnN0cmVhbS5zdGFydCkge1xuICAgICAgdmFyIGJvZHkgPSBub0NvbW1hID8gYXJyb3dCb2R5Tm9Db21tYSA6IGFycm93Qm9keTtcbiAgICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gY29udChwdXNoY29udGV4dCwgcHVzaGxleChcIilcIiksIGNvbW1hc2VwKHBhdHRlcm4sIFwiKVwiKSwgcG9wbGV4LCBleHBlY3QoXCI9PlwiKSwgYm9keSwgcG9wY29udGV4dCk7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwidmFyaWFibGVcIikgcmV0dXJuIHBhc3MocHVzaGNvbnRleHQsIHBhdHRlcm4sIGV4cGVjdChcIj0+XCIpLCBib2R5LCBwb3Bjb250ZXh0KTtcbiAgICB9XG5cbiAgICB2YXIgbWF5YmVvcCA9IG5vQ29tbWEgPyBtYXliZW9wZXJhdG9yTm9Db21tYSA6IG1heWJlb3BlcmF0b3JDb21tYTtcbiAgICBpZiAoYXRvbWljVHlwZXMuaGFzT3duUHJvcGVydHkodHlwZSkpIHJldHVybiBjb250KG1heWJlb3ApO1xuICAgIGlmICh0eXBlID09IFwiZnVuY3Rpb25cIikgcmV0dXJuIGNvbnQoZnVuY3Rpb25kZWYsIG1heWJlb3ApO1xuICAgIGlmICh0eXBlID09IFwia2V5d29yZCBjXCIpIHJldHVybiBjb250KG5vQ29tbWEgPyBtYXliZWV4cHJlc3Npb25Ob0NvbW1hIDogbWF5YmVleHByZXNzaW9uKTtcbiAgICBpZiAodHlwZSA9PSBcIihcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIilcIiksIG1heWJlZXhwcmVzc2lvbiwgY29tcHJlaGVuc2lvbiwgZXhwZWN0KFwiKVwiKSwgcG9wbGV4LCBtYXliZW9wKTtcbiAgICBpZiAodHlwZSA9PSBcIm9wZXJhdG9yXCIgfHwgdHlwZSA9PSBcInNwcmVhZFwiKSByZXR1cm4gY29udChub0NvbW1hID8gZXhwcmVzc2lvbk5vQ29tbWEgOiBleHByZXNzaW9uKTtcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIl1cIiksIGFycmF5TGl0ZXJhbCwgcG9wbGV4LCBtYXliZW9wKTtcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnRDb21tYXNlcChvYmpwcm9wLCBcIn1cIiwgbnVsbCwgbWF5YmVvcCk7XG4gICAgaWYgKHR5cGUgPT0gXCJxdWFzaVwiKSByZXR1cm4gcGFzcyhxdWFzaSwgbWF5YmVvcCk7XG4gICAgaWYgKHR5cGUgPT0gXCJuZXdcIikgcmV0dXJuIGNvbnQobWF5YmVUYXJnZXQobm9Db21tYSkpO1xuICAgIHJldHVybiBjb250KCk7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVleHByZXNzaW9uKHR5cGUpIHtcbiAgICBpZiAodHlwZS5tYXRjaCgvWztcXH1cXClcXF0sXS8pKSByZXR1cm4gcGFzcygpO1xuICAgIHJldHVybiBwYXNzKGV4cHJlc3Npb24pO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlZXhwcmVzc2lvbk5vQ29tbWEodHlwZSkge1xuICAgIGlmICh0eXBlLm1hdGNoKC9bO1xcfVxcKVxcXSxdLykpIHJldHVybiBwYXNzKCk7XG4gICAgcmV0dXJuIHBhc3MoZXhwcmVzc2lvbk5vQ29tbWEpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWF5YmVvcGVyYXRvckNvbW1hKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCIsXCIpIHJldHVybiBjb250KGV4cHJlc3Npb24pO1xuICAgIHJldHVybiBtYXliZW9wZXJhdG9yTm9Db21tYSh0eXBlLCB2YWx1ZSwgZmFsc2UpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlb3BlcmF0b3JOb0NvbW1hKHR5cGUsIHZhbHVlLCBub0NvbW1hKSB7XG4gICAgdmFyIG1lID0gbm9Db21tYSA9PSBmYWxzZSA/IG1heWJlb3BlcmF0b3JDb21tYSA6IG1heWJlb3BlcmF0b3JOb0NvbW1hO1xuICAgIHZhciBleHByID0gbm9Db21tYSA9PSBmYWxzZSA/IGV4cHJlc3Npb24gOiBleHByZXNzaW9uTm9Db21tYTtcbiAgICBpZiAodHlwZSA9PSBcIj0+XCIpIHJldHVybiBjb250KHB1c2hjb250ZXh0LCBub0NvbW1hID8gYXJyb3dCb2R5Tm9Db21tYSA6IGFycm93Qm9keSwgcG9wY29udGV4dCk7XG4gICAgaWYgKHR5cGUgPT0gXCJvcGVyYXRvclwiKSB7XG4gICAgICBpZiAoL1xcK1xcK3wtLS8udGVzdCh2YWx1ZSkpIHJldHVybiBjb250KG1lKTtcbiAgICAgIGlmICh2YWx1ZSA9PSBcIj9cIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgZXhwZWN0KFwiOlwiKSwgZXhwcik7XG4gICAgICByZXR1cm4gY29udChleHByKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJxdWFzaVwiKSB7IHJldHVybiBwYXNzKHF1YXNpLCBtZSk7IH1cbiAgICBpZiAodHlwZSA9PSBcIjtcIikgcmV0dXJuO1xuICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gY29udENvbW1hc2VwKGV4cHJlc3Npb25Ob0NvbW1hLCBcIilcIiwgXCJjYWxsXCIsIG1lKTtcbiAgICBpZiAodHlwZSA9PSBcIi5cIikgcmV0dXJuIGNvbnQocHJvcGVydHksIG1lKTtcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIl1cIiksIG1heWJlZXhwcmVzc2lvbiwgZXhwZWN0KFwiXVwiKSwgcG9wbGV4LCBtZSk7XG4gIH1cbiAgZnVuY3Rpb24gcXVhc2kodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSAhPSBcInF1YXNpXCIpIHJldHVybiBwYXNzKCk7XG4gICAgaWYgKHZhbHVlLnNsaWNlKHZhbHVlLmxlbmd0aCAtIDIpICE9IFwiJHtcIikgcmV0dXJuIGNvbnQocXVhc2kpO1xuICAgIHJldHVybiBjb250KGV4cHJlc3Npb24sIGNvbnRpbnVlUXVhc2kpO1xuICB9XG4gIGZ1bmN0aW9uIGNvbnRpbnVlUXVhc2kodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwifVwiKSB7XG4gICAgICBjeC5tYXJrZWQgPSBcInN0cmluZy0yXCI7XG4gICAgICBjeC5zdGF0ZS50b2tlbml6ZSA9IHRva2VuUXVhc2k7XG4gICAgICByZXR1cm4gY29udChxdWFzaSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFycm93Qm9keSh0eXBlKSB7XG4gICAgZmluZEZhdEFycm93KGN4LnN0cmVhbSwgY3guc3RhdGUpO1xuICAgIHJldHVybiBwYXNzKHR5cGUgPT0gXCJ7XCIgPyBzdGF0ZW1lbnQgOiBleHByZXNzaW9uKTtcbiAgfVxuICBmdW5jdGlvbiBhcnJvd0JvZHlOb0NvbW1hKHR5cGUpIHtcbiAgICBmaW5kRmF0QXJyb3coY3guc3RyZWFtLCBjeC5zdGF0ZSk7XG4gICAgcmV0dXJuIHBhc3ModHlwZSA9PSBcIntcIiA/IHN0YXRlbWVudCA6IGV4cHJlc3Npb25Ob0NvbW1hKTtcbiAgfVxuICBmdW5jdGlvbiBtYXliZVRhcmdldChub0NvbW1hKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09IFwiLlwiKSByZXR1cm4gY29udChub0NvbW1hID8gdGFyZ2V0Tm9Db21tYSA6IHRhcmdldCk7XG4gICAgICBlbHNlIHJldHVybiBwYXNzKG5vQ29tbWEgPyBleHByZXNzaW9uTm9Db21tYSA6IGV4cHJlc3Npb24pO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gdGFyZ2V0KF8sIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwidGFyZ2V0XCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KG1heWJlb3BlcmF0b3JDb21tYSk7IH1cbiAgfVxuICBmdW5jdGlvbiB0YXJnZXROb0NvbW1hKF8sIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwidGFyZ2V0XCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KG1heWJlb3BlcmF0b3JOb0NvbW1hKTsgfVxuICB9XG4gIGZ1bmN0aW9uIG1heWJlbGFiZWwodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiOlwiKSByZXR1cm4gY29udChwb3BsZXgsIHN0YXRlbWVudCk7XG4gICAgcmV0dXJuIHBhc3MobWF5YmVvcGVyYXRvckNvbW1hLCBleHBlY3QoXCI7XCIpLCBwb3BsZXgpO1xuICB9XG4gIGZ1bmN0aW9uIHByb3BlcnR5KHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHtjeC5tYXJrZWQgPSBcInByb3BlcnR5XCI7IHJldHVybiBjb250KCk7fVxuICB9XG4gIGZ1bmN0aW9uIG9ianByb3AodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIgfHwgY3guc3R5bGUgPT0gXCJrZXl3b3JkXCIpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwicHJvcGVydHlcIjtcbiAgICAgIGlmICh2YWx1ZSA9PSBcImdldFwiIHx8IHZhbHVlID09IFwic2V0XCIpIHJldHVybiBjb250KGdldHRlclNldHRlcik7XG4gICAgICByZXR1cm4gY29udChhZnRlcnByb3ApO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIm51bWJlclwiIHx8IHR5cGUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgY3gubWFya2VkID0ganNvbmxkTW9kZSA/IFwicHJvcGVydHlcIiA6IChjeC5zdHlsZSArIFwiIHByb3BlcnR5XCIpO1xuICAgICAgcmV0dXJuIGNvbnQoYWZ0ZXJwcm9wKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJqc29ubGQta2V5d29yZFwiKSB7XG4gICAgICByZXR1cm4gY29udChhZnRlcnByb3ApO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIm1vZGlmaWVyXCIpIHtcbiAgICAgIHJldHVybiBjb250KG9ianByb3ApXG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiW1wiKSB7XG4gICAgICByZXR1cm4gY29udChleHByZXNzaW9uLCBleHBlY3QoXCJdXCIpLCBhZnRlcnByb3ApO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcInNwcmVhZFwiKSB7XG4gICAgICByZXR1cm4gY29udChleHByZXNzaW9uKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0dGVyU2V0dGVyKHR5cGUpIHtcbiAgICBpZiAodHlwZSAhPSBcInZhcmlhYmxlXCIpIHJldHVybiBwYXNzKGFmdGVycHJvcCk7XG4gICAgY3gubWFya2VkID0gXCJwcm9wZXJ0eVwiO1xuICAgIHJldHVybiBjb250KGZ1bmN0aW9uZGVmKTtcbiAgfVxuICBmdW5jdGlvbiBhZnRlcnByb3AodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiOlwiKSByZXR1cm4gY29udChleHByZXNzaW9uTm9Db21tYSk7XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBwYXNzKGZ1bmN0aW9uZGVmKTtcbiAgfVxuICBmdW5jdGlvbiBjb21tYXNlcCh3aGF0LCBlbmQpIHtcbiAgICBmdW5jdGlvbiBwcm9jZWVkKHR5cGUsIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZSA9PSBcIixcIikge1xuICAgICAgICB2YXIgbGV4ID0gY3guc3RhdGUubGV4aWNhbDtcbiAgICAgICAgaWYgKGxleC5pbmZvID09IFwiY2FsbFwiKSBsZXgucG9zID0gKGxleC5wb3MgfHwgMCkgKyAxO1xuICAgICAgICByZXR1cm4gY29udCh3aGF0LCBwcm9jZWVkKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09IGVuZCB8fCB2YWx1ZSA9PSBlbmQpIHJldHVybiBjb250KCk7XG4gICAgICByZXR1cm4gY29udChleHBlY3QoZW5kKSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbih0eXBlLCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGUgPT0gZW5kIHx8IHZhbHVlID09IGVuZCkgcmV0dXJuIGNvbnQoKTtcbiAgICAgIHJldHVybiBwYXNzKHdoYXQsIHByb2NlZWQpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gY29udENvbW1hc2VwKHdoYXQsIGVuZCwgaW5mbykge1xuICAgIGZvciAodmFyIGkgPSAzOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgY3guY2MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIHJldHVybiBjb250KHB1c2hsZXgoZW5kLCBpbmZvKSwgY29tbWFzZXAod2hhdCwgZW5kKSwgcG9wbGV4KTtcbiAgfVxuICBmdW5jdGlvbiBibG9jayh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHJldHVybiBjb250KCk7XG4gICAgcmV0dXJuIHBhc3Moc3RhdGVtZW50LCBibG9jayk7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmV0eXBlKHR5cGUpIHtcbiAgICBpZiAoaXNUUyAmJiB0eXBlID09IFwiOlwiKSByZXR1cm4gY29udCh0eXBlZXhwcik7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVkZWZhdWx0KF8sIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiPVwiKSByZXR1cm4gY29udChleHByZXNzaW9uTm9Db21tYSk7XG4gIH1cbiAgZnVuY3Rpb24gdHlwZWV4cHIodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIikge2N4Lm1hcmtlZCA9IFwidmFyaWFibGUtM1wiOyByZXR1cm4gY29udChhZnRlclR5cGUpO31cbiAgfVxuICBmdW5jdGlvbiBhZnRlclR5cGUodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCI8XCIpIHJldHVybiBjb250KGNvbW1hc2VwKHR5cGVleHByLCBcIj5cIiksIGFmdGVyVHlwZSlcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnQoZXhwZWN0KFwiXVwiKSwgYWZ0ZXJUeXBlKVxuICB9XG4gIGZ1bmN0aW9uIHZhcmRlZigpIHtcbiAgICByZXR1cm4gcGFzcyhwYXR0ZXJuLCBtYXliZXR5cGUsIG1heWJlQXNzaWduLCB2YXJkZWZDb250KTtcbiAgfVxuICBmdW5jdGlvbiBwYXR0ZXJuKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJtb2RpZmllclwiKSByZXR1cm4gY29udChwYXR0ZXJuKVxuICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIikgeyByZWdpc3Rlcih2YWx1ZSk7IHJldHVybiBjb250KCk7IH1cbiAgICBpZiAodHlwZSA9PSBcInNwcmVhZFwiKSByZXR1cm4gY29udChwYXR0ZXJuKTtcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnRDb21tYXNlcChwYXR0ZXJuLCBcIl1cIik7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIpIHJldHVybiBjb250Q29tbWFzZXAocHJvcHBhdHRlcm4sIFwifVwiKTtcbiAgfVxuICBmdW5jdGlvbiBwcm9wcGF0dGVybih0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIiAmJiAhY3guc3RyZWFtLm1hdGNoKC9eXFxzKjovLCBmYWxzZSkpIHtcbiAgICAgIHJlZ2lzdGVyKHZhbHVlKTtcbiAgICAgIHJldHVybiBjb250KG1heWJlQXNzaWduKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSBjeC5tYXJrZWQgPSBcInByb3BlcnR5XCI7XG4gICAgaWYgKHR5cGUgPT0gXCJzcHJlYWRcIikgcmV0dXJuIGNvbnQocGF0dGVybik7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHJldHVybiBwYXNzKCk7XG4gICAgcmV0dXJuIGNvbnQoZXhwZWN0KFwiOlwiKSwgcGF0dGVybiwgbWF5YmVBc3NpZ24pO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlQXNzaWduKF90eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcIj1cIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbk5vQ29tbWEpO1xuICB9XG4gIGZ1bmN0aW9uIHZhcmRlZkNvbnQodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiLFwiKSByZXR1cm4gY29udCh2YXJkZWYpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlZWxzZSh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwia2V5d29yZCBiXCIgJiYgdmFsdWUgPT0gXCJlbHNlXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIsIFwiZWxzZVwiKSwgc3RhdGVtZW50LCBwb3BsZXgpO1xuICB9XG4gIGZ1bmN0aW9uIGZvcnNwZWModHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gY29udChwdXNobGV4KFwiKVwiKSwgZm9yc3BlYzEsIGV4cGVjdChcIilcIiksIHBvcGxleCk7XG4gIH1cbiAgZnVuY3Rpb24gZm9yc3BlYzEodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyXCIpIHJldHVybiBjb250KHZhcmRlZiwgZXhwZWN0KFwiO1wiKSwgZm9yc3BlYzIpO1xuICAgIGlmICh0eXBlID09IFwiO1wiKSByZXR1cm4gY29udChmb3JzcGVjMik7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSByZXR1cm4gY29udChmb3JtYXliZWlub2YpO1xuICAgIHJldHVybiBwYXNzKGV4cHJlc3Npb24sIGV4cGVjdChcIjtcIiksIGZvcnNwZWMyKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXliZWlub2YoX3R5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiaW5cIiB8fCB2YWx1ZSA9PSBcIm9mXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KGV4cHJlc3Npb24pOyB9XG4gICAgcmV0dXJuIGNvbnQobWF5YmVvcGVyYXRvckNvbW1hLCBmb3JzcGVjMik7XG4gIH1cbiAgZnVuY3Rpb24gZm9yc3BlYzIodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSA9PSBcIjtcIikgcmV0dXJuIGNvbnQoZm9yc3BlYzMpO1xuICAgIGlmICh2YWx1ZSA9PSBcImluXCIgfHwgdmFsdWUgPT0gXCJvZlwiKSB7IGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiOyByZXR1cm4gY29udChleHByZXNzaW9uKTsgfVxuICAgIHJldHVybiBwYXNzKGV4cHJlc3Npb24sIGV4cGVjdChcIjtcIiksIGZvcnNwZWMzKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JzcGVjMyh0eXBlKSB7XG4gICAgaWYgKHR5cGUgIT0gXCIpXCIpIGNvbnQoZXhwcmVzc2lvbik7XG4gIH1cbiAgZnVuY3Rpb24gZnVuY3Rpb25kZWYodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCIqXCIpIHtjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZnVuY3Rpb25kZWYpO31cbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHtyZWdpc3Rlcih2YWx1ZSk7IHJldHVybiBjb250KGZ1bmN0aW9uZGVmKTt9XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBjb250KHB1c2hjb250ZXh0LCBwdXNobGV4KFwiKVwiKSwgY29tbWFzZXAoZnVuYXJnLCBcIilcIiksIHBvcGxleCwgbWF5YmV0eXBlLCBzdGF0ZW1lbnQsIHBvcGNvbnRleHQpO1xuICB9XG4gIGZ1bmN0aW9uIGZ1bmFyZyh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJzcHJlYWRcIikgcmV0dXJuIGNvbnQoZnVuYXJnKTtcbiAgICByZXR1cm4gcGFzcyhwYXR0ZXJuLCBtYXliZXR5cGUsIG1heWJlZGVmYXVsdCk7XG4gIH1cbiAgZnVuY3Rpb24gY2xhc3NOYW1lKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSB7cmVnaXN0ZXIodmFsdWUpOyByZXR1cm4gY29udChjbGFzc05hbWVBZnRlcik7fVxuICB9XG4gIGZ1bmN0aW9uIGNsYXNzTmFtZUFmdGVyKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiZXh0ZW5kc1wiKSByZXR1cm4gY29udChleHByZXNzaW9uLCBjbGFzc05hbWVBZnRlcik7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJ9XCIpLCBjbGFzc0JvZHksIHBvcGxleCk7XG4gIH1cbiAgZnVuY3Rpb24gY2xhc3NCb2R5KHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiIHx8IGN4LnN0eWxlID09IFwia2V5d29yZFwiKSB7XG4gICAgICBpZiAodmFsdWUgPT0gXCJzdGF0aWNcIikge1xuICAgICAgICBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjtcbiAgICAgICAgcmV0dXJuIGNvbnQoY2xhc3NCb2R5KTtcbiAgICAgIH1cbiAgICAgIGN4Lm1hcmtlZCA9IFwicHJvcGVydHlcIjtcbiAgICAgIGlmICh2YWx1ZSA9PSBcImdldFwiIHx8IHZhbHVlID09IFwic2V0XCIpIHJldHVybiBjb250KGNsYXNzR2V0dGVyU2V0dGVyLCBmdW5jdGlvbmRlZiwgY2xhc3NCb2R5KTtcbiAgICAgIHJldHVybiBjb250KGZ1bmN0aW9uZGVmLCBjbGFzc0JvZHkpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT0gXCIqXCIpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiO1xuICAgICAgcmV0dXJuIGNvbnQoY2xhc3NCb2R5KTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCI7XCIpIHJldHVybiBjb250KGNsYXNzQm9keSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHJldHVybiBjb250KCk7XG4gIH1cbiAgZnVuY3Rpb24gY2xhc3NHZXR0ZXJTZXR0ZXIodHlwZSkge1xuICAgIGlmICh0eXBlICE9IFwidmFyaWFibGVcIikgcmV0dXJuIHBhc3MoKTtcbiAgICBjeC5tYXJrZWQgPSBcInByb3BlcnR5XCI7XG4gICAgcmV0dXJuIGNvbnQoKTtcbiAgfVxuICBmdW5jdGlvbiBhZnRlckV4cG9ydChfdHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCIqXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KG1heWJlRnJvbSwgZXhwZWN0KFwiO1wiKSk7IH1cbiAgICBpZiAodmFsdWUgPT0gXCJkZWZhdWx0XCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KGV4cHJlc3Npb24sIGV4cGVjdChcIjtcIikpOyB9XG4gICAgcmV0dXJuIHBhc3Moc3RhdGVtZW50KTtcbiAgfVxuICBmdW5jdGlvbiBhZnRlckltcG9ydCh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJzdHJpbmdcIikgcmV0dXJuIGNvbnQoKTtcbiAgICByZXR1cm4gcGFzcyhpbXBvcnRTcGVjLCBtYXliZUZyb20pO1xuICB9XG4gIGZ1bmN0aW9uIGltcG9ydFNwZWModHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnRDb21tYXNlcChpbXBvcnRTcGVjLCBcIn1cIik7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSByZWdpc3Rlcih2YWx1ZSk7XG4gICAgaWYgKHZhbHVlID09IFwiKlwiKSBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjtcbiAgICByZXR1cm4gY29udChtYXliZUFzKTtcbiAgfVxuICBmdW5jdGlvbiBtYXliZUFzKF90eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcImFzXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KGltcG9ydFNwZWMpOyB9XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVGcm9tKF90eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcImZyb21cIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbik7IH1cbiAgfVxuICBmdW5jdGlvbiBhcnJheUxpdGVyYWwodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiXVwiKSByZXR1cm4gY29udCgpO1xuICAgIHJldHVybiBwYXNzKGV4cHJlc3Npb25Ob0NvbW1hLCBtYXliZUFycmF5Q29tcHJlaGVuc2lvbik7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVBcnJheUNvbXByZWhlbnNpb24odHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiZm9yXCIpIHJldHVybiBwYXNzKGNvbXByZWhlbnNpb24sIGV4cGVjdChcIl1cIikpO1xuICAgIGlmICh0eXBlID09IFwiLFwiKSByZXR1cm4gY29udChjb21tYXNlcChtYXliZWV4cHJlc3Npb25Ob0NvbW1hLCBcIl1cIikpO1xuICAgIHJldHVybiBwYXNzKGNvbW1hc2VwKGV4cHJlc3Npb25Ob0NvbW1hLCBcIl1cIikpO1xuICB9XG4gIGZ1bmN0aW9uIGNvbXByZWhlbnNpb24odHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiZm9yXCIpIHJldHVybiBjb250KGZvcnNwZWMsIGNvbXByZWhlbnNpb24pO1xuICAgIGlmICh0eXBlID09IFwiaWZcIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgY29tcHJlaGVuc2lvbik7XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvbnRpbnVlZFN0YXRlbWVudChzdGF0ZSwgdGV4dEFmdGVyKSB7XG4gICAgcmV0dXJuIHN0YXRlLmxhc3RUeXBlID09IFwib3BlcmF0b3JcIiB8fCBzdGF0ZS5sYXN0VHlwZSA9PSBcIixcIiB8fFxuICAgICAgaXNPcGVyYXRvckNoYXIudGVzdCh0ZXh0QWZ0ZXIuY2hhckF0KDApKSB8fFxuICAgICAgL1ssLl0vLnRlc3QodGV4dEFmdGVyLmNoYXJBdCgwKSk7XG4gIH1cblxuICAvLyBJbnRlcmZhY2VcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0U3RhdGU6IGZ1bmN0aW9uKGJhc2Vjb2x1bW4pIHtcbiAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgdG9rZW5pemU6IHRva2VuQmFzZSxcbiAgICAgICAgbGFzdFR5cGU6IFwic29mXCIsXG4gICAgICAgIGNjOiBbXSxcbiAgICAgICAgbGV4aWNhbDogbmV3IEpTTGV4aWNhbCgoYmFzZWNvbHVtbiB8fCAwKSAtIGluZGVudFVuaXQsIDAsIFwiYmxvY2tcIiwgZmFsc2UpLFxuICAgICAgICBsb2NhbFZhcnM6IHBhcnNlckNvbmZpZy5sb2NhbFZhcnMsXG4gICAgICAgIGNvbnRleHQ6IHBhcnNlckNvbmZpZy5sb2NhbFZhcnMgJiYge3ZhcnM6IHBhcnNlckNvbmZpZy5sb2NhbFZhcnN9LFxuICAgICAgICBpbmRlbnRlZDogYmFzZWNvbHVtbiB8fCAwXG4gICAgICB9O1xuICAgICAgaWYgKHBhcnNlckNvbmZpZy5nbG9iYWxWYXJzICYmIHR5cGVvZiBwYXJzZXJDb25maWcuZ2xvYmFsVmFycyA9PSBcIm9iamVjdFwiKVxuICAgICAgICBzdGF0ZS5nbG9iYWxWYXJzID0gcGFyc2VyQ29uZmlnLmdsb2JhbFZhcnM7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSxcblxuICAgIHRva2VuOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICBpZiAoc3RyZWFtLnNvbCgpKSB7XG4gICAgICAgIGlmICghc3RhdGUubGV4aWNhbC5oYXNPd25Qcm9wZXJ0eShcImFsaWduXCIpKVxuICAgICAgICAgIHN0YXRlLmxleGljYWwuYWxpZ24gPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuaW5kZW50ZWQgPSBzdHJlYW0uaW5kZW50YXRpb24oKTtcbiAgICAgICAgZmluZEZhdEFycm93KHN0cmVhbSwgc3RhdGUpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLnRva2VuaXplICE9IHRva2VuQ29tbWVudCAmJiBzdHJlYW0uZWF0U3BhY2UoKSkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgc3R5bGUgPSBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgIGlmICh0eXBlID09IFwiY29tbWVudFwiKSByZXR1cm4gc3R5bGU7XG4gICAgICBzdGF0ZS5sYXN0VHlwZSA9IHR5cGUgPT0gXCJvcGVyYXRvclwiICYmIChjb250ZW50ID09IFwiKytcIiB8fCBjb250ZW50ID09IFwiLS1cIikgPyBcImluY2RlY1wiIDogdHlwZTtcbiAgICAgIHJldHVybiBwYXJzZUpTKHN0YXRlLCBzdHlsZSwgdHlwZSwgY29udGVudCwgc3RyZWFtKTtcbiAgICB9LFxuXG4gICAgaW5kZW50OiBmdW5jdGlvbihzdGF0ZSwgdGV4dEFmdGVyKSB7XG4gICAgICBpZiAoc3RhdGUudG9rZW5pemUgPT0gdG9rZW5Db21tZW50KSByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuICAgICAgaWYgKHN0YXRlLnRva2VuaXplICE9IHRva2VuQmFzZSkgcmV0dXJuIDA7XG4gICAgICB2YXIgZmlyc3RDaGFyID0gdGV4dEFmdGVyICYmIHRleHRBZnRlci5jaGFyQXQoMCksIGxleGljYWwgPSBzdGF0ZS5sZXhpY2FsO1xuICAgICAgLy8gS2x1ZGdlIHRvIHByZXZlbnQgJ21heWJlbHNlJyBmcm9tIGJsb2NraW5nIGxleGljYWwgc2NvcGUgcG9wc1xuICAgICAgaWYgKCEvXlxccyplbHNlXFxiLy50ZXN0KHRleHRBZnRlcikpIGZvciAodmFyIGkgPSBzdGF0ZS5jYy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgYyA9IHN0YXRlLmNjW2ldO1xuICAgICAgICBpZiAoYyA9PSBwb3BsZXgpIGxleGljYWwgPSBsZXhpY2FsLnByZXY7XG4gICAgICAgIGVsc2UgaWYgKGMgIT0gbWF5YmVlbHNlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChsZXhpY2FsLnR5cGUgPT0gXCJzdGF0XCIgJiYgZmlyc3RDaGFyID09IFwifVwiKSBsZXhpY2FsID0gbGV4aWNhbC5wcmV2O1xuICAgICAgaWYgKHN0YXRlbWVudEluZGVudCAmJiBsZXhpY2FsLnR5cGUgPT0gXCIpXCIgJiYgbGV4aWNhbC5wcmV2LnR5cGUgPT0gXCJzdGF0XCIpXG4gICAgICAgIGxleGljYWwgPSBsZXhpY2FsLnByZXY7XG4gICAgICB2YXIgdHlwZSA9IGxleGljYWwudHlwZSwgY2xvc2luZyA9IGZpcnN0Q2hhciA9PSB0eXBlO1xuXG4gICAgICBpZiAodHlwZSA9PSBcInZhcmRlZlwiKSByZXR1cm4gbGV4aWNhbC5pbmRlbnRlZCArIChzdGF0ZS5sYXN0VHlwZSA9PSBcIm9wZXJhdG9yXCIgfHwgc3RhdGUubGFzdFR5cGUgPT0gXCIsXCIgPyBsZXhpY2FsLmluZm8gKyAxIDogMCk7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwiZm9ybVwiICYmIGZpcnN0Q2hhciA9PSBcIntcIikgcmV0dXJuIGxleGljYWwuaW5kZW50ZWQ7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwiZm9ybVwiKSByZXR1cm4gbGV4aWNhbC5pbmRlbnRlZCArIGluZGVudFVuaXQ7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwic3RhdFwiKVxuICAgICAgICByZXR1cm4gbGV4aWNhbC5pbmRlbnRlZCArIChpc0NvbnRpbnVlZFN0YXRlbWVudChzdGF0ZSwgdGV4dEFmdGVyKSA/IHN0YXRlbWVudEluZGVudCB8fCBpbmRlbnRVbml0IDogMCk7XG4gICAgICBlbHNlIGlmIChsZXhpY2FsLmluZm8gPT0gXCJzd2l0Y2hcIiAmJiAhY2xvc2luZyAmJiBwYXJzZXJDb25maWcuZG91YmxlSW5kZW50U3dpdGNoICE9IGZhbHNlKVxuICAgICAgICByZXR1cm4gbGV4aWNhbC5pbmRlbnRlZCArICgvXig/OmNhc2V8ZGVmYXVsdClcXGIvLnRlc3QodGV4dEFmdGVyKSA/IGluZGVudFVuaXQgOiAyICogaW5kZW50VW5pdCk7XG4gICAgICBlbHNlIGlmIChsZXhpY2FsLmFsaWduKSByZXR1cm4gbGV4aWNhbC5jb2x1bW4gKyAoY2xvc2luZyA/IDAgOiAxKTtcbiAgICAgIGVsc2UgcmV0dXJuIGxleGljYWwuaW5kZW50ZWQgKyAoY2xvc2luZyA/IDAgOiBpbmRlbnRVbml0KTtcbiAgICB9LFxuXG4gICAgZWxlY3RyaWNJbnB1dDogL15cXHMqKD86Y2FzZSAuKj86fGRlZmF1bHQ6fFxce3xcXH0pJC8sXG4gICAgYmxvY2tDb21tZW50U3RhcnQ6IGpzb25Nb2RlID8gbnVsbCA6IFwiLypcIixcbiAgICBibG9ja0NvbW1lbnRFbmQ6IGpzb25Nb2RlID8gbnVsbCA6IFwiKi9cIixcbiAgICBsaW5lQ29tbWVudDoganNvbk1vZGUgPyBudWxsIDogXCIvL1wiLFxuICAgIGZvbGQ6IFwiYnJhY2VcIixcbiAgICBjbG9zZUJyYWNrZXRzOiBcIigpW117fScnXFxcIlxcXCJgYFwiLFxuXG4gICAgaGVscGVyVHlwZToganNvbk1vZGUgPyBcImpzb25cIiA6IFwiamF2YXNjcmlwdFwiLFxuICAgIGpzb25sZE1vZGU6IGpzb25sZE1vZGUsXG4gICAganNvbk1vZGU6IGpzb25Nb2RlLFxuXG4gICAgZXhwcmVzc2lvbkFsbG93ZWQ6IGV4cHJlc3Npb25BbGxvd2VkLFxuICAgIHNraXBFeHByZXNzaW9uOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgdmFyIHRvcCA9IHN0YXRlLmNjW3N0YXRlLmNjLmxlbmd0aCAtIDFdXG4gICAgICBpZiAodG9wID09IGV4cHJlc3Npb24gfHwgdG9wID09IGV4cHJlc3Npb25Ob0NvbW1hKSBzdGF0ZS5jYy5wb3AoKVxuICAgIH1cbiAgfTtcbn0pO1xuXG5Db2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwid29yZENoYXJzXCIsIFwiamF2YXNjcmlwdFwiLCAvW1xcdyRdLyk7XG5cbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQvamF2YXNjcmlwdFwiLCBcImphdmFzY3JpcHRcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L2VjbWFzY3JpcHRcIiwgXCJqYXZhc2NyaXB0XCIpO1xuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiLCBcImphdmFzY3JpcHRcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94LWphdmFzY3JpcHRcIiwgXCJqYXZhc2NyaXB0XCIpO1xuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdFwiLCBcImphdmFzY3JpcHRcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi9qc29uXCIsIHtuYW1lOiBcImphdmFzY3JpcHRcIiwganNvbjogdHJ1ZX0pO1xuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24veC1qc29uXCIsIHtuYW1lOiBcImphdmFzY3JpcHRcIiwganNvbjogdHJ1ZX0pO1xuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vbGQranNvblwiLCB7bmFtZTogXCJqYXZhc2NyaXB0XCIsIGpzb25sZDogdHJ1ZX0pO1xuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC90eXBlc2NyaXB0XCIsIHsgbmFtZTogXCJqYXZhc2NyaXB0XCIsIHR5cGVzY3JpcHQ6IHRydWUgfSk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi90eXBlc2NyaXB0XCIsIHsgbmFtZTogXCJqYXZhc2NyaXB0XCIsIHR5cGVzY3JpcHQ6IHRydWUgfSk7XG5cbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBodG1sQ29uZmlnID0ge1xuICBhdXRvU2VsZkNsb3NlcnM6IHsnYXJlYSc6IHRydWUsICdiYXNlJzogdHJ1ZSwgJ2JyJzogdHJ1ZSwgJ2NvbCc6IHRydWUsICdjb21tYW5kJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgJ2VtYmVkJzogdHJ1ZSwgJ2ZyYW1lJzogdHJ1ZSwgJ2hyJzogdHJ1ZSwgJ2ltZyc6IHRydWUsICdpbnB1dCc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICdrZXlnZW4nOiB0cnVlLCAnbGluayc6IHRydWUsICdtZXRhJzogdHJ1ZSwgJ3BhcmFtJzogdHJ1ZSwgJ3NvdXJjZSc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICd0cmFjayc6IHRydWUsICd3YnInOiB0cnVlLCAnbWVudWl0ZW0nOiB0cnVlfSxcbiAgaW1wbGljaXRseUNsb3NlZDogeydkZCc6IHRydWUsICdsaSc6IHRydWUsICdvcHRncm91cCc6IHRydWUsICdvcHRpb24nOiB0cnVlLCAncCc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAncnAnOiB0cnVlLCAncnQnOiB0cnVlLCAndGJvZHknOiB0cnVlLCAndGQnOiB0cnVlLCAndGZvb3QnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgJ3RoJzogdHJ1ZSwgJ3RyJzogdHJ1ZX0sXG4gIGNvbnRleHRHcmFiYmVyczoge1xuICAgICdkZCc6IHsnZGQnOiB0cnVlLCAnZHQnOiB0cnVlfSxcbiAgICAnZHQnOiB7J2RkJzogdHJ1ZSwgJ2R0JzogdHJ1ZX0sXG4gICAgJ2xpJzogeydsaSc6IHRydWV9LFxuICAgICdvcHRpb24nOiB7J29wdGlvbic6IHRydWUsICdvcHRncm91cCc6IHRydWV9LFxuICAgICdvcHRncm91cCc6IHsnb3B0Z3JvdXAnOiB0cnVlfSxcbiAgICAncCc6IHsnYWRkcmVzcyc6IHRydWUsICdhcnRpY2xlJzogdHJ1ZSwgJ2FzaWRlJzogdHJ1ZSwgJ2Jsb2NrcXVvdGUnOiB0cnVlLCAnZGlyJzogdHJ1ZSxcbiAgICAgICAgICAnZGl2JzogdHJ1ZSwgJ2RsJzogdHJ1ZSwgJ2ZpZWxkc2V0JzogdHJ1ZSwgJ2Zvb3Rlcic6IHRydWUsICdmb3JtJzogdHJ1ZSxcbiAgICAgICAgICAnaDEnOiB0cnVlLCAnaDInOiB0cnVlLCAnaDMnOiB0cnVlLCAnaDQnOiB0cnVlLCAnaDUnOiB0cnVlLCAnaDYnOiB0cnVlLFxuICAgICAgICAgICdoZWFkZXInOiB0cnVlLCAnaGdyb3VwJzogdHJ1ZSwgJ2hyJzogdHJ1ZSwgJ21lbnUnOiB0cnVlLCAnbmF2JzogdHJ1ZSwgJ29sJzogdHJ1ZSxcbiAgICAgICAgICAncCc6IHRydWUsICdwcmUnOiB0cnVlLCAnc2VjdGlvbic6IHRydWUsICd0YWJsZSc6IHRydWUsICd1bCc6IHRydWV9LFxuICAgICdycCc6IHsncnAnOiB0cnVlLCAncnQnOiB0cnVlfSxcbiAgICAncnQnOiB7J3JwJzogdHJ1ZSwgJ3J0JzogdHJ1ZX0sXG4gICAgJ3Rib2R5Jzogeyd0Ym9keSc6IHRydWUsICd0Zm9vdCc6IHRydWV9LFxuICAgICd0ZCc6IHsndGQnOiB0cnVlLCAndGgnOiB0cnVlfSxcbiAgICAndGZvb3QnOiB7J3Rib2R5JzogdHJ1ZX0sXG4gICAgJ3RoJzogeyd0ZCc6IHRydWUsICd0aCc6IHRydWV9LFxuICAgICd0aGVhZCc6IHsndGJvZHknOiB0cnVlLCAndGZvb3QnOiB0cnVlfSxcbiAgICAndHInOiB7J3RyJzogdHJ1ZX1cbiAgfSxcbiAgZG9Ob3RJbmRlbnQ6IHtcInByZVwiOiB0cnVlfSxcbiAgYWxsb3dVbnF1b3RlZDogdHJ1ZSxcbiAgYWxsb3dNaXNzaW5nOiB0cnVlLFxuICBjYXNlRm9sZDogdHJ1ZVxufVxuXG52YXIgeG1sQ29uZmlnID0ge1xuICBhdXRvU2VsZkNsb3NlcnM6IHt9LFxuICBpbXBsaWNpdGx5Q2xvc2VkOiB7fSxcbiAgY29udGV4dEdyYWJiZXJzOiB7fSxcbiAgZG9Ob3RJbmRlbnQ6IHt9LFxuICBhbGxvd1VucXVvdGVkOiBmYWxzZSxcbiAgYWxsb3dNaXNzaW5nOiBmYWxzZSxcbiAgY2FzZUZvbGQ6IGZhbHNlXG59XG5cbkNvZGVNaXJyb3IuZGVmaW5lTW9kZShcInhtbFwiLCBmdW5jdGlvbihlZGl0b3JDb25mLCBjb25maWdfKSB7XG4gIHZhciBpbmRlbnRVbml0ID0gZWRpdG9yQ29uZi5pbmRlbnRVbml0XG4gIHZhciBjb25maWcgPSB7fVxuICB2YXIgZGVmYXVsdHMgPSBjb25maWdfLmh0bWxNb2RlID8gaHRtbENvbmZpZyA6IHhtbENvbmZpZ1xuICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRzKSBjb25maWdbcHJvcF0gPSBkZWZhdWx0c1twcm9wXVxuICBmb3IgKHZhciBwcm9wIGluIGNvbmZpZ18pIGNvbmZpZ1twcm9wXSA9IGNvbmZpZ19bcHJvcF1cblxuICAvLyBSZXR1cm4gdmFyaWFibGVzIGZvciB0b2tlbml6ZXJzXG4gIHZhciB0eXBlLCBzZXRTdHlsZTtcblxuICBmdW5jdGlvbiBpblRleHQoc3RyZWFtLCBzdGF0ZSkge1xuICAgIGZ1bmN0aW9uIGNoYWluKHBhcnNlcikge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSBwYXJzZXI7XG4gICAgICByZXR1cm4gcGFyc2VyKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gICAgaWYgKGNoID09IFwiPFwiKSB7XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIiFcIikpIHtcbiAgICAgICAgaWYgKHN0cmVhbS5lYXQoXCJbXCIpKSB7XG4gICAgICAgICAgaWYgKHN0cmVhbS5tYXRjaChcIkNEQVRBW1wiKSkgcmV0dXJuIGNoYWluKGluQmxvY2soXCJhdG9tXCIsIFwiXV0+XCIpKTtcbiAgICAgICAgICBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaChcIi0tXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIGNoYWluKGluQmxvY2soXCJjb21tZW50XCIsIFwiLS0+XCIpKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goXCJET0NUWVBFXCIsIHRydWUsIHRydWUpKSB7XG4gICAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwuX1xcLV0vKTtcbiAgICAgICAgICByZXR1cm4gY2hhaW4oZG9jdHlwZSgxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLmVhdChcIj9cIikpIHtcbiAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwuX1xcLV0vKTtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpbkJsb2NrKFwibWV0YVwiLCBcIj8+XCIpO1xuICAgICAgICByZXR1cm4gXCJtZXRhXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlID0gc3RyZWFtLmVhdChcIi9cIikgPyBcImNsb3NlVGFnXCIgOiBcIm9wZW5UYWdcIjtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRhZztcbiAgICAgICAgcmV0dXJuIFwidGFnIGJyYWNrZXRcIjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNoID09IFwiJlwiKSB7XG4gICAgICB2YXIgb2s7XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIiNcIikpIHtcbiAgICAgICAgaWYgKHN0cmVhbS5lYXQoXCJ4XCIpKSB7XG4gICAgICAgICAgb2sgPSBzdHJlYW0uZWF0V2hpbGUoL1thLWZBLUZcXGRdLykgJiYgc3RyZWFtLmVhdChcIjtcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2sgPSBzdHJlYW0uZWF0V2hpbGUoL1tcXGRdLykgJiYgc3RyZWFtLmVhdChcIjtcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9rID0gc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwuXFwtOl0vKSAmJiBzdHJlYW0uZWF0KFwiO1wiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvayA/IFwiYXRvbVwiIDogXCJlcnJvclwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1teJjxdLyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgaW5UZXh0LmlzSW5UZXh0ID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBpblRhZyhzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTtcbiAgICBpZiAoY2ggPT0gXCI+XCIgfHwgKGNoID09IFwiL1wiICYmIHN0cmVhbS5lYXQoXCI+XCIpKSkge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRleHQ7XG4gICAgICB0eXBlID0gY2ggPT0gXCI+XCIgPyBcImVuZFRhZ1wiIDogXCJzZWxmY2xvc2VUYWdcIjtcbiAgICAgIHJldHVybiBcInRhZyBicmFja2V0XCI7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIj1cIikge1xuICAgICAgdHlwZSA9IFwiZXF1YWxzXCI7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiPFwiKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IGluVGV4dDtcbiAgICAgIHN0YXRlLnN0YXRlID0gYmFzZVN0YXRlO1xuICAgICAgc3RhdGUudGFnTmFtZSA9IHN0YXRlLnRhZ1N0YXJ0ID0gbnVsbDtcbiAgICAgIHZhciBuZXh0ID0gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICByZXR1cm4gbmV4dCA/IG5leHQgKyBcIiB0YWcgZXJyb3JcIiA6IFwidGFnIGVycm9yXCI7XG4gICAgfSBlbHNlIGlmICgvW1xcJ1xcXCJdLy50ZXN0KGNoKSkge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSBpbkF0dHJpYnV0ZShjaCk7XG4gICAgICBzdGF0ZS5zdHJpbmdTdGFydENvbCA9IHN0cmVhbS5jb2x1bW4oKTtcbiAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyZWFtLm1hdGNoKC9eW15cXHNcXHUwMGEwPTw+XFxcIlxcJ10qW15cXHNcXHUwMGEwPTw+XFxcIlxcJ1xcL10vKTtcbiAgICAgIHJldHVybiBcIndvcmRcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbkF0dHJpYnV0ZShxdW90ZSkge1xuICAgIHZhciBjbG9zdXJlID0gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgaWYgKHN0cmVhbS5uZXh0KCkgPT0gcXVvdGUpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGluVGFnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9O1xuICAgIGNsb3N1cmUuaXNJbkF0dHJpYnV0ZSA9IHRydWU7XG4gICAgcmV0dXJuIGNsb3N1cmU7XG4gIH1cblxuICBmdW5jdGlvbiBpbkJsb2NrKHN0eWxlLCB0ZXJtaW5hdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2godGVybWluYXRvcikpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGluVGV4dDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZG9jdHlwZShkZXB0aCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICB2YXIgY2g7XG4gICAgICB3aGlsZSAoKGNoID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkge1xuICAgICAgICBpZiAoY2ggPT0gXCI8XCIpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGRvY3R5cGUoZGVwdGggKyAxKTtcbiAgICAgICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCI+XCIpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPT0gMSkge1xuICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRleHQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBkb2N0eXBlKGRlcHRoIC0gMSk7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJtZXRhXCI7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQoc3RhdGUsIHRhZ05hbWUsIHN0YXJ0T2ZMaW5lKSB7XG4gICAgdGhpcy5wcmV2ID0gc3RhdGUuY29udGV4dDtcbiAgICB0aGlzLnRhZ05hbWUgPSB0YWdOYW1lO1xuICAgIHRoaXMuaW5kZW50ID0gc3RhdGUuaW5kZW50ZWQ7XG4gICAgdGhpcy5zdGFydE9mTGluZSA9IHN0YXJ0T2ZMaW5lO1xuICAgIGlmIChjb25maWcuZG9Ob3RJbmRlbnQuaGFzT3duUHJvcGVydHkodGFnTmFtZSkgfHwgKHN0YXRlLmNvbnRleHQgJiYgc3RhdGUuY29udGV4dC5ub0luZGVudCkpXG4gICAgICB0aGlzLm5vSW5kZW50ID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBwb3BDb250ZXh0KHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmNvbnRleHQpIHN0YXRlLmNvbnRleHQgPSBzdGF0ZS5jb250ZXh0LnByZXY7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVQb3BDb250ZXh0KHN0YXRlLCBuZXh0VGFnTmFtZSkge1xuICAgIHZhciBwYXJlbnRUYWdOYW1lO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoIXN0YXRlLmNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFyZW50VGFnTmFtZSA9IHN0YXRlLmNvbnRleHQudGFnTmFtZTtcbiAgICAgIGlmICghY29uZmlnLmNvbnRleHRHcmFiYmVycy5oYXNPd25Qcm9wZXJ0eShwYXJlbnRUYWdOYW1lKSB8fFxuICAgICAgICAgICFjb25maWcuY29udGV4dEdyYWJiZXJzW3BhcmVudFRhZ05hbWVdLmhhc093blByb3BlcnR5KG5leHRUYWdOYW1lKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwb3BDb250ZXh0KHN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBiYXNlU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwib3BlblRhZ1wiKSB7XG4gICAgICBzdGF0ZS50YWdTdGFydCA9IHN0cmVhbS5jb2x1bW4oKTtcbiAgICAgIHJldHVybiB0YWdOYW1lU3RhdGU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiY2xvc2VUYWdcIikge1xuICAgICAgcmV0dXJuIGNsb3NlVGFnTmFtZVN0YXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYmFzZVN0YXRlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0YWdOYW1lU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICBzdGF0ZS50YWdOYW1lID0gc3RyZWFtLmN1cnJlbnQoKTtcbiAgICAgIHNldFN0eWxlID0gXCJ0YWdcIjtcbiAgICAgIHJldHVybiBhdHRyU3RhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFN0eWxlID0gXCJlcnJvclwiO1xuICAgICAgcmV0dXJuIHRhZ05hbWVTdGF0ZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2xvc2VUYWdOYW1lU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICB2YXIgdGFnTmFtZSA9IHN0cmVhbS5jdXJyZW50KCk7XG4gICAgICBpZiAoc3RhdGUuY29udGV4dCAmJiBzdGF0ZS5jb250ZXh0LnRhZ05hbWUgIT0gdGFnTmFtZSAmJlxuICAgICAgICAgIGNvbmZpZy5pbXBsaWNpdGx5Q2xvc2VkLmhhc093blByb3BlcnR5KHN0YXRlLmNvbnRleHQudGFnTmFtZSkpXG4gICAgICAgIHBvcENvbnRleHQoc3RhdGUpO1xuICAgICAgaWYgKChzdGF0ZS5jb250ZXh0ICYmIHN0YXRlLmNvbnRleHQudGFnTmFtZSA9PSB0YWdOYW1lKSB8fCBjb25maWcubWF0Y2hDbG9zaW5nID09PSBmYWxzZSkge1xuICAgICAgICBzZXRTdHlsZSA9IFwidGFnXCI7XG4gICAgICAgIHJldHVybiBjbG9zZVN0YXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U3R5bGUgPSBcInRhZyBlcnJvclwiO1xuICAgICAgICByZXR1cm4gY2xvc2VTdGF0ZUVycjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U3R5bGUgPSBcImVycm9yXCI7XG4gICAgICByZXR1cm4gY2xvc2VTdGF0ZUVycjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVN0YXRlKHR5cGUsIF9zdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgIT0gXCJlbmRUYWdcIikge1xuICAgICAgc2V0U3R5bGUgPSBcImVycm9yXCI7XG4gICAgICByZXR1cm4gY2xvc2VTdGF0ZTtcbiAgICB9XG4gICAgcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgcmV0dXJuIGJhc2VTdGF0ZTtcbiAgfVxuICBmdW5jdGlvbiBjbG9zZVN0YXRlRXJyKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBzZXRTdHlsZSA9IFwiZXJyb3JcIjtcbiAgICByZXR1cm4gY2xvc2VTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dHJTdGF0ZSh0eXBlLCBfc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICBzZXRTdHlsZSA9IFwiYXR0cmlidXRlXCI7XG4gICAgICByZXR1cm4gYXR0ckVxU3RhdGU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiZW5kVGFnXCIgfHwgdHlwZSA9PSBcInNlbGZjbG9zZVRhZ1wiKSB7XG4gICAgICB2YXIgdGFnTmFtZSA9IHN0YXRlLnRhZ05hbWUsIHRhZ1N0YXJ0ID0gc3RhdGUudGFnU3RhcnQ7XG4gICAgICBzdGF0ZS50YWdOYW1lID0gc3RhdGUudGFnU3RhcnQgPSBudWxsO1xuICAgICAgaWYgKHR5cGUgPT0gXCJzZWxmY2xvc2VUYWdcIiB8fFxuICAgICAgICAgIGNvbmZpZy5hdXRvU2VsZkNsb3NlcnMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkpIHtcbiAgICAgICAgbWF5YmVQb3BDb250ZXh0KHN0YXRlLCB0YWdOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heWJlUG9wQ29udGV4dChzdGF0ZSwgdGFnTmFtZSk7XG4gICAgICAgIHN0YXRlLmNvbnRleHQgPSBuZXcgQ29udGV4dChzdGF0ZSwgdGFnTmFtZSwgdGFnU3RhcnQgPT0gc3RhdGUuaW5kZW50ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTdGF0ZTtcbiAgICB9XG4gICAgc2V0U3R5bGUgPSBcImVycm9yXCI7XG4gICAgcmV0dXJuIGF0dHJTdGF0ZTtcbiAgfVxuICBmdW5jdGlvbiBhdHRyRXFTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJlcXVhbHNcIikgcmV0dXJuIGF0dHJWYWx1ZVN0YXRlO1xuICAgIGlmICghY29uZmlnLmFsbG93TWlzc2luZykgc2V0U3R5bGUgPSBcImVycm9yXCI7XG4gICAgcmV0dXJuIGF0dHJTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxuICBmdW5jdGlvbiBhdHRyVmFsdWVTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJzdHJpbmdcIikgcmV0dXJuIGF0dHJDb250aW51ZWRTdGF0ZTtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIiAmJiBjb25maWcuYWxsb3dVbnF1b3RlZCkge3NldFN0eWxlID0gXCJzdHJpbmdcIjsgcmV0dXJuIGF0dHJTdGF0ZTt9XG4gICAgc2V0U3R5bGUgPSBcImVycm9yXCI7XG4gICAgcmV0dXJuIGF0dHJTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxuICBmdW5jdGlvbiBhdHRyQ29udGludWVkU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwic3RyaW5nXCIpIHJldHVybiBhdHRyQ29udGludWVkU3RhdGU7XG4gICAgcmV0dXJuIGF0dHJTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oYmFzZUluZGVudCkge1xuICAgICAgdmFyIHN0YXRlID0ge3Rva2VuaXplOiBpblRleHQsXG4gICAgICAgICAgICAgICAgICAgc3RhdGU6IGJhc2VTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICBpbmRlbnRlZDogYmFzZUluZGVudCB8fCAwLFxuICAgICAgICAgICAgICAgICAgIHRhZ05hbWU6IG51bGwsIHRhZ1N0YXJ0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IG51bGx9XG4gICAgICBpZiAoYmFzZUluZGVudCAhPSBudWxsKSBzdGF0ZS5iYXNlSW5kZW50ID0gYmFzZUluZGVudFxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfSxcblxuICAgIHRva2VuOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICBpZiAoIXN0YXRlLnRhZ05hbWUgJiYgc3RyZWFtLnNvbCgpKVxuICAgICAgICBzdGF0ZS5pbmRlbnRlZCA9IHN0cmVhbS5pbmRlbnRhdGlvbigpO1xuXG4gICAgICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHJldHVybiBudWxsO1xuICAgICAgdHlwZSA9IG51bGw7XG4gICAgICB2YXIgc3R5bGUgPSBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgIGlmICgoc3R5bGUgfHwgdHlwZSkgJiYgc3R5bGUgIT0gXCJjb21tZW50XCIpIHtcbiAgICAgICAgc2V0U3R5bGUgPSBudWxsO1xuICAgICAgICBzdGF0ZS5zdGF0ZSA9IHN0YXRlLnN0YXRlKHR5cGUgfHwgc3R5bGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICBpZiAoc2V0U3R5bGUpXG4gICAgICAgICAgc3R5bGUgPSBzZXRTdHlsZSA9PSBcImVycm9yXCIgPyBzdHlsZSArIFwiIGVycm9yXCIgOiBzZXRTdHlsZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9LFxuXG4gICAgaW5kZW50OiBmdW5jdGlvbihzdGF0ZSwgdGV4dEFmdGVyLCBmdWxsTGluZSkge1xuICAgICAgdmFyIGNvbnRleHQgPSBzdGF0ZS5jb250ZXh0O1xuICAgICAgLy8gSW5kZW50IG11bHRpLWxpbmUgc3RyaW5ncyAoZS5nLiBjc3MpLlxuICAgICAgaWYgKHN0YXRlLnRva2VuaXplLmlzSW5BdHRyaWJ1dGUpIHtcbiAgICAgICAgaWYgKHN0YXRlLnRhZ1N0YXJ0ID09IHN0YXRlLmluZGVudGVkKVxuICAgICAgICAgIHJldHVybiBzdGF0ZS5zdHJpbmdTdGFydENvbCArIDE7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gc3RhdGUuaW5kZW50ZWQgKyBpbmRlbnRVbml0O1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5ub0luZGVudCkgcmV0dXJuIENvZGVNaXJyb3IuUGFzcztcbiAgICAgIGlmIChzdGF0ZS50b2tlbml6ZSAhPSBpblRhZyAmJiBzdGF0ZS50b2tlbml6ZSAhPSBpblRleHQpXG4gICAgICAgIHJldHVybiBmdWxsTGluZSA/IGZ1bGxMaW5lLm1hdGNoKC9eKFxccyopLylbMF0ubGVuZ3RoIDogMDtcbiAgICAgIC8vIEluZGVudCB0aGUgc3RhcnRzIG9mIGF0dHJpYnV0ZSBuYW1lcy5cbiAgICAgIGlmIChzdGF0ZS50YWdOYW1lKSB7XG4gICAgICAgIGlmIChjb25maWcubXVsdGlsaW5lVGFnSW5kZW50UGFzdFRhZyAhPT0gZmFsc2UpXG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRhZ1N0YXJ0ICsgc3RhdGUudGFnTmFtZS5sZW5ndGggKyAyO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRhZ1N0YXJ0ICsgaW5kZW50VW5pdCAqIChjb25maWcubXVsdGlsaW5lVGFnSW5kZW50RmFjdG9yIHx8IDEpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5hbGlnbkNEQVRBICYmIC88IVxcW0NEQVRBXFxbLy50ZXN0KHRleHRBZnRlcikpIHJldHVybiAwO1xuICAgICAgdmFyIHRhZ0FmdGVyID0gdGV4dEFmdGVyICYmIC9ePChcXC8pPyhbXFx3XzpcXC4tXSopLy5leGVjKHRleHRBZnRlcik7XG4gICAgICBpZiAodGFnQWZ0ZXIgJiYgdGFnQWZ0ZXJbMV0pIHsgLy8gQ2xvc2luZyB0YWcgc3BvdHRlZFxuICAgICAgICB3aGlsZSAoY29udGV4dCkge1xuICAgICAgICAgIGlmIChjb250ZXh0LnRhZ05hbWUgPT0gdGFnQWZ0ZXJbMl0pIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnByZXY7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5pbXBsaWNpdGx5Q2xvc2VkLmhhc093blByb3BlcnR5KGNvbnRleHQudGFnTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnByZXY7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0YWdBZnRlcikgeyAvLyBPcGVuaW5nIHRhZyBzcG90dGVkXG4gICAgICAgIHdoaWxlIChjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIGdyYWJiZXJzID0gY29uZmlnLmNvbnRleHRHcmFiYmVyc1tjb250ZXh0LnRhZ05hbWVdO1xuICAgICAgICAgIGlmIChncmFiYmVycyAmJiBncmFiYmVycy5oYXNPd25Qcm9wZXJ0eSh0YWdBZnRlclsyXSkpXG4gICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dC5wcmV2O1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoY29udGV4dCAmJiBjb250ZXh0LnByZXYgJiYgIWNvbnRleHQuc3RhcnRPZkxpbmUpXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnByZXY7XG4gICAgICBpZiAoY29udGV4dCkgcmV0dXJuIGNvbnRleHQuaW5kZW50ICsgaW5kZW50VW5pdDtcbiAgICAgIGVsc2UgcmV0dXJuIHN0YXRlLmJhc2VJbmRlbnQgfHwgMDtcbiAgICB9LFxuXG4gICAgZWxlY3RyaWNJbnB1dDogLzxcXC9bXFxzXFx3Ol0rPiQvLFxuICAgIGJsb2NrQ29tbWVudFN0YXJ0OiBcIjwhLS1cIixcbiAgICBibG9ja0NvbW1lbnRFbmQ6IFwiLS0+XCIsXG5cbiAgICBjb25maWd1cmF0aW9uOiBjb25maWcuaHRtbE1vZGUgPyBcImh0bWxcIiA6IFwieG1sXCIsXG4gICAgaGVscGVyVHlwZTogY29uZmlnLmh0bWxNb2RlID8gXCJodG1sXCIgOiBcInhtbFwiLFxuXG4gICAgc2tpcEF0dHJpYnV0ZTogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgIGlmIChzdGF0ZS5zdGF0ZSA9PSBhdHRyVmFsdWVTdGF0ZSlcbiAgICAgICAgc3RhdGUuc3RhdGUgPSBhdHRyU3RhdGVcbiAgICB9XG4gIH07XG59KTtcblxuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC94bWxcIiwgXCJ4bWxcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94bWxcIiwgXCJ4bWxcIik7XG5pZiAoIUNvZGVNaXJyb3IubWltZU1vZGVzLmhhc093blByb3BlcnR5KFwidGV4dC9odG1sXCIpKVxuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L2h0bWxcIiwge25hbWU6IFwieG1sXCIsIGh0bWxNb2RlOiB0cnVlfSk7XG5cbn0pO1xuIiwiY29uc3QgY29tcGlsZSA9IHJlcXVpcmUoJy4vY29tcGlsZScpO1xuXG53aW5kb3cubWFuaWxhID0gd2luZG93Lm1hbmlsYSB8fCB7fTtcblxud2luZG93Lm1hbmlsYS5oYW5kbGVycyA9IHt9O1xuXG5sZXQgY29tcG9uZW50cyA9IHt9LFxuXHRcblx0c2VsZWN0aW9uO1xuXG5mdW5jdGlvbiBjb21wb25lbnQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50KSB7XG5cblx0bGV0IHZtID0gd2luZG93Lm1hbmlsYS5kYXRhW2NvbXBvbmVudE5hbWVdIHx8IHt9LFxuXG5cdFx0ZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb21wb25lbnQ9XCIke2NvbXBvbmVudE5hbWV9XCJdYCk7XG5cblx0Y29tcGlsZShgIyR7Y29tcG9uZW50TmFtZX0tdGVtcGxhdGVgKS50aGVuKHJlbmRlciA9PiB7XG5cblx0XHRmdW5jdGlvbiByZXNvbHZlKGRhdGEpIHtcblxuXHRcdFx0bGV0IGluZGV4ID0gMDtcblxuXHRcdFx0d2luZG93Lm1hbmlsYS5oYW5kbGVyc1tjb21wb25lbnROYW1lXSA9IFtdO1xuXG5cdFx0XHRkYXRhLm9uID0gKGV2ZW50LCBoYW5kbGVyLCAuLi5hcmdzKSA9PiB7XG5cblx0XHRcdFx0bGV0IGV2ZW50U3RyaW5nO1xuXG5cdFx0XHRcdHdpbmRvdy5tYW5pbGEuaGFuZGxlcnNbY29tcG9uZW50TmFtZV1baW5kZXhdID0gZSA9PiB7XG5cblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGFyZ3MucHVzaChlKTtcblxuXHRcdFx0XHRcdGhhbmRsZXIuYXBwbHkoZGF0YSwgYXJncyk7XG5cblx0XHRcdFx0XHRpZiAoZS50YXJnZXQudGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiBcblx0XHRcdFx0XHRcdCBlLnRhcmdldC50YWdOYW1lICE9PSAnVEVYVEFSRUEnKSB7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdHJlc29sdmUoZGF0YSk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fTtcblxuXHRcdFx0XHRldmVudFN0cmluZyA9IGBvbiR7ZXZlbnR9PW1hbmlsYS5oYW5kbGVycy4ke2NvbXBvbmVudE5hbWV9WyR7aW5kZXh9XShldmVudClgO1xuXG5cdFx0XHRcdGluZGV4Kys7XG5cblx0XHRcdFx0cmV0dXJuIGV2ZW50U3RyaW5nO1xuXG5cdFx0XHR9O1xuXG5cdFx0XHRlbC5pbm5lckhUTUwgPSByZW5kZXIoZGF0YSk7XG5cblx0XHR9XG5cblx0XHR2bS5yZW5kZXIgPSAoKSA9PiB7XG5cblx0XHRcdHJlc29sdmUodm0pO1xuXHRcdFx0XG5cdFx0fTtcblxuXHRcdGxldCBtZXRob2RzID0gY29tcG9uZW50KHZtKTtcblxuXHRcdGlmIChtZXRob2RzKSB7XG5cblx0XHRcdGNvbXBvbmVudHNbY29tcG9uZW50TmFtZV0gPSB7fTtcblxuXHRcdFx0T2JqZWN0LmtleXMobWV0aG9kcykuZm9yRWFjaChrZXkgPT4ge1xuXG5cdFx0XHRcdGNvbXBvbmVudHNbY29tcG9uZW50TmFtZV1ba2V5XSA9ICguLi5hcmdzKSA9PiB7XG5cblx0XHRcdFx0XHRsZXQgcmVzdWx0ID0gbWV0aG9kc1trZXldLmFwcGx5KHZtLCBhcmdzKTtcblxuXHRcdFx0XHRcdHJlc29sdmUodm0pO1xuXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblxuXHRcdFx0XHR9O1xuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHRcdHJlc29sdmUodm0pO1xuXG5cdH0pO1xuXG5cdHJldHVybiB3aW5kb3cubWFuaWxhO1xuXG59XG5cbndpbmRvdy5tYW5pbGEuY29tcG9uZW50ID0gY29tcG9uZW50O1xud2luZG93Lm1hbmlsYS5jb21wb25lbnRzID0gY29tcG9uZW50cztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGNvbXBvbmVudDogY29tcG9uZW50LFxuXHRjb21wb25lbnRzOiBjb21wb25lbnRzXG59O1xuIiwiY29uc3QgbWFuaWxhID0gcmVxdWlyZSgnbWFuaWxhL3BhcnNlJyk7XG5cbmxldCBjYWNoZSA9IHt9LFxuXG5cdGVzY2FwZU1hcCA9IHtcbiAgICAgICAgJzwnOiAnJmx0OycsXG4gICAgICAgICc+JzogJyZndDsnLFxuICAgICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgICAgJ1xcJyc6ICcmYXBvczsnXG4gICAgfTtcblxuZnVuY3Rpb24gaHRtbEVzY2FwZShzdHIpIHtcblxuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWyY8PidcIl0vZywgYyA9PiB7XG5cbiAgICAgICAgcmV0dXJuIGVzY2FwZU1hcFtjXTtcblxuICAgIH0pO1xuXG59XG5cbndpbmRvdy5tYW5pbGEgPSB3aW5kb3cubWFuaWxhIHx8IHt9O1xuXG53aW5kb3cubWFuaWxhLmUgPSBmdW5jdGlvbih2YWwpIHtcblxuICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IGh0bWxFc2NhcGUodmFsKSA6IHZhbDtcbiAgICBcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tcGlsZShzZWxlY3Rvcikge1xuXG5cdHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcblxuXHRcdGlmICghc2VsZWN0b3IpIHtcblxuXHRcdFx0cmVzb2x2ZSggKCk9Pnt9ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRpZiAoY2FjaGVbc2VsZWN0b3JdKSB7XG5cblx0XHRcdFx0cmVzb2x2ZShjYWNoZVtzZWxlY3Rvcl0pO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNhY2hlW3NlbGVjdG9yXSA9IG1hbmlsYShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKS5pbm5lckhUTUwpO1xuXG5cdFx0XHRyZXNvbHZlKGNhY2hlW3NlbGVjdG9yXSk7XG5cblx0XHR9XG5cblx0fSk7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGVtcGxhdGUpIHtcblxuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ2NvbnRleHQnLFxuXG4gICAgICAgIFwidmFyIHA9W107d2l0aChjb250ZXh0KXtwLnB1c2goYFwiICtcbiAgICAgICBcbiAgICAgICAgdGVtcGxhdGVcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9gL2csIFwiXFxcXGBcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC88OjooPyFcXHMqfS4qPzo6PikoPyEuKntcXHMqOjo+KSguKj8pOjo+L2csIFwiYCk7dHJ5e3AucHVzaCgkMSl9Y2F0Y2goZSl7fXAucHVzaChgXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvPDo6Pyg/IVxccyp9Lio/Ojo/PikoPyEuKntcXHMqOjo/PikoLio/KTo6Pz4vZywgXCJgKTt0cnl7cC5wdXNoKG1hbmlsYS5lKCQxKSl9Y2F0Y2goZSl7fXAucHVzaChgXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvPDo6PyguKj8pOjo/Pi9nLCBcImApOyQxXFxucC5wdXNoKGBcIilcblxuICAgICAgKyBcImApO31yZXR1cm4gcC5qb2luKCcnKTtcIik7XG59OyJdfQ==
