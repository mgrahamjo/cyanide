!function e(t,n,r){function o(i,c){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!c&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[i]={exports:{}};t[i][0].call(s.exports,function(e){var n=t[i][1][e];return o(n?n:e)},s,s.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("./src/addKeyboardShortcuts"),a=(r(o),e("./src/resize")),i=(r(a),e("./components/nav")),c=(r(i),e("./components/editor")),u=(r(c),e("./components/tabs")),l=(r(u),e("./components/contextMenu")),s=(r(l),e("./components/search"));r(s)},{"./components/contextMenu":2,"./components/editor":3,"./components/nav":4,"./components/search":5,"./components/tabs":6,"./src/addKeyboardShortcuts":7,"./src/resize":11}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("mnla/client"),a=r(o),i=e("../src/ajax"),c=r(i),u=e("../src/fileManager"),l=r(u),s=void 0;a.default.component("contextMenu",function(e){function t(t,n){n.preventDefault(),s=t,e.left=n.clientX,e.top=n.clientY,e.visible=!0}return e.file=!0,document.addEventListener("click",function(){e.visible&&(e.visible=!1,e.render())}),e.rename=function(){e.visible=!1,e.render();var t=prompt("New name:");t&&c.default.post("/rename?path="+s.path,{name:t},function(n){n.error?(alert(n.error),console.error(n.error)):(e.render(),l.default.close(s),s.name=t,s.path=n.data,l.default.open(s))})},e.deletePath=function(){e.visible=!1,c.default.post("/delete?path="+s.path,function(t){t.error?(alert(t.error),console.error(t.error)):(e.file&&l.default.close(s),s.deleted=!0,a.default.components.nav.render())})},e.newFile=function(){e.visible=!1,e.render();var t=prompt("File name:");c.default.post("/new-file?path="+s.path,{name:t},function(e){if(e.error)alert(e.error),console.error(e.error);else{var n={name:t,path:e.data};s.children=s.children||{files:[]},s.children.files.push(n),l.default.open(n)}})},e.newDir=function(){e.visible=!1,e.render();var t=prompt("Folder name:");c.default.post("/new-dir?path="+s.path,{name:t},function(e){e.error?(alert(e.error),console.error(e.error)):(s.children=s.children||{dirs:[]},s.children.dirs.push({name:t,path:e.data}),a.default.components.nav.render())})},{rightClickDir:function(n,r){e.file=!1,e.parent=n.parent,t(n,r)},rightClickFile:function(n,r){e.file=!0,e.parent=!1,t(n,r)}}})},{"../src/ajax":8,"../src/fileManager":10,"mnla/client":13}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=document.querySelector(".text"),n=document.querySelector(".numbers"),r=void 0;if(t.style.height="",r=t.scrollHeight,n.style.height="",n.clientHeight<r)for(;n.clientHeight<r;)n.innerHTML+='<div class="num"></div>';n.style.height=r+"px",t.style.height=r+"px"}var a=e("../src/ajax"),i=r(a),c=e("mnla/client"),u=r(c);u.default.component("editor",function(e){function t(t){e.text=t,e.loading=!1,e.render()}return e.resetHeight=o,e.loading=!1,setTimeout(o),{update:function(n){t(""),n?(e.loading=!0,e.disabled=!1,i.default.get("/open?file="+n,function(n){t(n.data),e.resetHeight()})):(e.disabled=!0,t(""),e.resetHeight())}}})},{"../src/ajax":8,"mnla/client":13}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("../src/fileManager"),a=r(o),i=e("../src/ajax"),c=r(i),u=e("mnla/client"),l=r(u);l.default.component("nav",function(e){var t=e.dir;return e.open={},e.clickDir=function(t,n){t.open=!t.open,t.children||(e.loading=!0,c.default.get("/nav?path="+t.path,function(n){t.children=n.dir,delete e.loading,e.render()}))},e.clickFile=function(e){a.default.open(e)},e.rightClickDir=function(e,t){l.default.components.contextMenu.rightClickDir(e,t)},e.rightClickFile=function(e,t){l.default.components.contextMenu.rightClickFile(e,t)},{update:function(t,n){n?(e.open[t]=t,e.active=t):(delete e.open[t],delete e.active)},getActiveFile:function(){return e.active},render:function(){e.render()},showSearchResults:function(t){e.dir=t},hideSearchResults:function(){e.dir=t}}})},{"../src/ajax":8,"../src/fileManager":10,"mnla/client":13}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("../src/ajax"),a=r(o),i=e("mnla/client"),c=r(i),u=e("../src/debounce");c.default.component("search",function(e){function t(e){document.querySelector(".search-loader").classList.add("visible"),a.default.get("/search?term="+e.target.value,function(e){c.default.components.nav.showSearchResults(e),document.querySelector(".search-loader").classList.remove("visible")})}e.search=(0,u.debounce)(t,250),e.close=function(e){e.target.value="",c.default.components.nav.hideSearchResults()}})},{"../src/ajax":8,"../src/debounce":9,"mnla/client":13}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("../src/fileManager"),a=r(o),i=e("mnla/client"),c=r(i),u=e("../src/save");c.default.component("tabs",function(e){return e.tabs={},e.close=function(t){delete e.tabs[t],a.default.close({path:t,name:e.tabs[t]})},e.open=function(t){a.default.open({path:t,name:e.tabs[t]})},e.save=u.save,{update:function(t,n){n?(e.active=t.path,e.tabs[t.path]=t.name):delete e.tabs[t.path]}}})},{"../src/fileManager":10,"../src/save":12,"mnla/client":13}],7:[function(e,t,n){"use strict";function r(e){var t=e.keyCode||e.which,n=i[t];n&&(c[t]=!0,c[n.pair]&&(e.preventDefault(),n.callback(),delete c[t],delete c[n.pair]))}function o(e){delete c[e.keyCode||e.which]}var a=e("./save"),i={91:{callback:a.save,pair:83},83:{callback:a.save,pair:91}},c={};document.addEventListener("keydown",r),document.addEventListener("keyup",o)},{"./save":12}],8:[function(e,t,n){"use strict";function r(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function o(e,t,n){"function"==typeof t&&(n=t);var o=new XMLHttpRequest;"function"==typeof t&&(n=t,t={}),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=void 0;try{e=JSON.parse(o.responseText)}catch(t){e=o.responseText}n(e)}},o.open("GET",e),o.send(r(t))}function a(e,t,n){"function"==typeof t&&(n=t);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=JSON.parse(o.responseText);n(e?e:o.responseText)}},o.open("POST",e),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(r(t))}t.exports={get:o,post:a}},{}],9:[function(e,t,n){"use strict";function r(e,t){var n=void 0,r=void 0,o=void 0;return function(){r=[].slice.call(arguments,0),o=new Date;var a=function a(){var i=new Date-o;t>i?n=setTimeout(a,t-i):(n=null,e.apply(void 0,r))};n||(n=setTimeout(a,t))}}Object.defineProperty(n,"__esModule",{value:!0}),n.debounce=r},{}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){c.default.components.editor.update(e.path),c.default.components.nav.update(e.path,!0),c.default.components.tabs.update(e,!0),u[e.path]=e}function a(e){var t=void 0;c.default.components.editor.update(""),c.default.components.nav.update(e.path,!1),c.default.components.tabs.update(e,!1),delete u[e.path],t=Object.keys(u),t.length&&o(u[t[t.length-1]])}Object.defineProperty(n,"__esModule",{value:!0});var i=e("mnla/client"),c=r(i),u={};n.default={open:o,close:a}},{"mnla/client":13}],11:[function(e,t,n){"use strict";var r=void 0;document.querySelector(".resize").addEventListener("mousedown",function(e){r=!0,document.querySelector("body").classList.add("dragging")}),window.addEventListener("mouseup",function(e){r=!1,document.querySelector("body").classList.remove("dragging")}),window.addEventListener("mousemove",function(e){if(r){var t="calc(100% - "+e.clientX+"px)";document.querySelector(".background").style.left=e.clientX+"px",document.querySelector(".search-component").style.width=e.clientX-5+"px",document.querySelector(".background").style.width=t,document.querySelector(".tabs-component").style.width=t}})},{}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=i.default.components.nav.getActiveFile();e&&(l.classList.add("blur"),u.default.post("/save?file="+e,{data:document.querySelector(".text").value},function(e){e.error?(alert(e.error),console.error(e.error)):l.classList.remove("blur")}))}Object.defineProperty(n,"__esModule",{value:!0}),n.save=o;var a=e("mnla/client"),i=r(a),c=e("../src/ajax"),u=r(c),l=document.querySelector(".background")},{"../src/ajax":8,"mnla/client":13}],13:[function(e,t,n){"use strict";function r(e,t){var n=window.manila.data[e]||{},r=document.querySelector('[data-component="'+e+'"]');return o("#"+e+"-template").then(function(o){function i(t){var n=0;window.manila.handlers[e]=[],t.on=function(r,o){for(var a=arguments.length,c=Array(a>2?a-2:0),u=2;a>u;u++)c[u-2]=arguments[u];var l=void 0;return window.manila.handlers[e][n]=function(e){e.stopPropagation(),c.push(e),o.apply(t,c),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&i(t)},l="on"+r+"=manila.handlers."+e+"["+n+"](event)",n++,l},r.innerHTML=o(t)}n.render=function(){i(n)};var c=t(n);c&&(a[e]={},Object.keys(c).forEach(function(t){a[e][t]=function(){for(var e=arguments.length,r=Array(e),o=0;e>o;o++)r[o]=arguments[o];var a=c[t].apply(n,r);return i(n),a}})),i(n)}),window.manila}var o=e("./compile");window.manila=window.manila||{},window.manila.handlers={};var a={};window.manila.component=r,window.manila.components=a,t.exports={component:r,components:a}},{"./compile":14}],14:[function(e,t,n){"use strict";function r(e){return e.replace(/[&<>'"]/g,function(e){return i[e]})}var o=e("manila/parse"),a={},i={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};window.manila=window.manila||{},window.manila.e=function(e){return"string"==typeof e?r(e):e},t.exports=function(e){return new Promise(function(t){e?(a[e]&&t(a[e]),a[e]=o(document.querySelector(e).innerHTML),t(a[e])):t(function(){})})}},{"manila/parse":15}],15:[function(e,t,n){"use strict";t.exports=function(e){return new Function("context","var p=[];with(context){p.push(`"+e.replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/<::(?!\s*}.*?::>)(?!.*{\s*::>)(.*?)::>/g,"`);try{p.push($1)}catch(e){}p.push(`").replace(/<::?(?!\s*}.*?::?>)(?!.*{\s*::?>)(.*?)::?>/g,"`);try{p.push(manila.e($1))}catch(e){}p.push(`").replace(/<::?(.*?)::?>/g,"`);$1\np.push(`")+"`);}return p.join('');")}},{}]},{},[1]);